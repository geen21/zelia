const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Niveau11-CPHQV73m.js","assets/NiveauPlaceholder-DqunFpe-.js","assets/Niveau12-DkyryiPD.js","assets/Niveau13-DjAaBPS6.js","assets/Niveau14-Dfs68DBX.js","assets/Niveau15-BzmAJl8R.js","assets/Niveau16-BvXMDjXk.js","assets/Niveau17-cGsN6VQL.js","assets/Niveau18-Bitjc2pW.js","assets/Niveau19-DcZmjHex.js","assets/Niveau20-BPQJ1bNP.js","assets/Niveau21-BgLqTt4e.js","assets/Niveau22-BzHYnRCd.js","assets/Niveau23-zxc7PT7I.js","assets/Niveau24-IKl-9mzf.js","assets/Niveau25-CXx0Pjaa.js","assets/Niveau26-DZJulpCJ.js","assets/Niveau27-B1HcflGh.js","assets/Niveau28-DauOjFt4.js","assets/Niveau29-rOiz_cn5.js","assets/Niveau30-BhI9QZKg.js","assets/Niveau31-ClaruEMy.js","assets/Niveau32-CVCd9Ur7.js","assets/Niveau33-DvGCsNGa.js","assets/Niveau34-Djw3dyHb.js","assets/Niveau35-aUnOfdno.js","assets/Niveau36-DQ6raEJM.js","assets/Niveau37-PnGh32bk.js","assets/Niveau38-zgv9ffHk.js","assets/Niveau39-8T2ivCcp.js","assets/Niveau40-B0fMFSZC.js","assets/Niveau41-CpG1XEkv.js","assets/Niveau42-CHaJWJaV.js","assets/Niveau43-C7PmorqB.js","assets/Niveau44-DsBCV8Gm.js","assets/Niveau45-CRvPZHdA.js","assets/Niveau46-BJfKhQQB.js","assets/Niveau47-C0MHC0tm.js","assets/Niveau48-CnxyznXf.js","assets/Niveau49-DY7isFoN.js","assets/Niveau50-BDTk_0em.js"])))=>i.map(i=>d[i]);
function Mw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Dw="modulepreload",Bw=function(e){return"/"+e},v1={},dt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Bw(l),l in v1)return;v1[l]=!0;const h=l.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Dw,h||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),h)return new Promise((b,v)=>{m.addEventListener("load",b),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var B2={exports:{}},Df={},U2={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=Symbol.for("react.element"),qw=Symbol.for("react.portal"),$w=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),Hw=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),Xw=Symbol.for("react.lazy"),y1=Symbol.iterator;function Qw(e){return e===null||typeof e!="object"?null:(e=y1&&e[y1]||e["@@iterator"],typeof e=="function"?e:null)}var z2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q2=Object.assign,$2={};function uu(e,t,n){this.props=e,this.context=t,this.refs=$2,this.updater=n||z2}uu.prototype.isReactComponent={};uu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function W2(){}W2.prototype=uu.prototype;function Yg(e,t,n){this.props=e,this.context=t,this.refs=$2,this.updater=n||z2}var Xg=Yg.prototype=new W2;Xg.constructor=Yg;q2(Xg,uu.prototype);Xg.isPureReactComponent=!0;var b1=Array.isArray,H2=Object.prototype.hasOwnProperty,Qg={current:null},V2={key:!0,ref:!0,__self:!0,__source:!0};function G2(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)H2.call(t,r)&&!V2.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),h=0;h<o;h++)l[h]=arguments[h+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Dd,type:e,key:i,ref:a,props:s,_owner:Qg.current}}function Zw(e,t){return{$$typeof:Dd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dd}function ex(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var w1=/\/+/g;function Cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ex(""+e.key):t.toString(36)}function Uh(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Dd:case qw:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Cp(a,0):r,b1(s)?(n="",e!=null&&(n=e.replace(w1,"$&/")+"/"),Uh(s,t,n,"",function(h){return h})):s!=null&&(Zg(s)&&(s=Zw(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(w1,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",b1(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Cp(i,o);a+=Uh(i,t,n,l,s)}else if(l=Qw(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Cp(i,o++),a+=Uh(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function mh(e,t,n){if(e==null)return e;var r=[],s=0;return Uh(e,r,"","",function(i){return t.call(n,i,s++)}),r}function tx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qr={current:null},zh={transition:null},nx={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:zh,ReactCurrentOwner:Qg};function J2(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:mh,forEach:function(e,t,n){mh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mh(e,function(){t++}),t},toArray:function(e){return mh(e,function(t){return t})||[]},only:function(e){if(!Zg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mt.Component=uu;Mt.Fragment=$w;Mt.Profiler=Hw;Mt.PureComponent=Yg;Mt.StrictMode=Ww;Mt.Suspense=Kw;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nx;Mt.act=J2;Mt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=q2({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Qg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)H2.call(t,l)&&!V2.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var h=0;h<l;h++)o[h]=arguments[h+2];r.children=o}return{$$typeof:Dd,type:e.type,key:s,ref:i,props:r,_owner:a}};Mt.createContext=function(e){return e={$$typeof:Gw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vw,_context:e},e.Consumer=e};Mt.createElement=G2;Mt.createFactory=function(e){var t=G2.bind(null,e);return t.type=e,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(e){return{$$typeof:Jw,render:e}};Mt.isValidElement=Zg;Mt.lazy=function(e){return{$$typeof:Xw,_payload:{_status:-1,_result:e},_init:tx}};Mt.memo=function(e,t){return{$$typeof:Yw,type:e,compare:t===void 0?null:t}};Mt.startTransition=function(e){var t=zh.transition;zh.transition={};try{e()}finally{zh.transition=t}};Mt.unstable_act=J2;Mt.useCallback=function(e,t){return qr.current.useCallback(e,t)};Mt.useContext=function(e){return qr.current.useContext(e)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(e){return qr.current.useDeferredValue(e)};Mt.useEffect=function(e,t){return qr.current.useEffect(e,t)};Mt.useId=function(){return qr.current.useId()};Mt.useImperativeHandle=function(e,t,n){return qr.current.useImperativeHandle(e,t,n)};Mt.useInsertionEffect=function(e,t){return qr.current.useInsertionEffect(e,t)};Mt.useLayoutEffect=function(e,t){return qr.current.useLayoutEffect(e,t)};Mt.useMemo=function(e,t){return qr.current.useMemo(e,t)};Mt.useReducer=function(e,t,n){return qr.current.useReducer(e,t,n)};Mt.useRef=function(e){return qr.current.useRef(e)};Mt.useState=function(e){return qr.current.useState(e)};Mt.useSyncExternalStore=function(e,t,n){return qr.current.useSyncExternalStore(e,t,n)};Mt.useTransition=function(){return qr.current.useTransition()};Mt.version="18.3.1";U2.exports=Mt;var B=U2.exports;const e0=Uw(B),rx=Mw({__proto__:null,default:e0},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=B,ix=Symbol.for("react.element"),ax=Symbol.for("react.fragment"),ox=Object.prototype.hasOwnProperty,lx=sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cx={key:!0,ref:!0,__self:!0,__source:!0};function K2(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ox.call(t,r)&&!cx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ix,type:e,key:i,ref:a,props:s,_owner:lx.current}}Df.Fragment=ax;Df.jsx=K2;Df.jsxs=K2;B2.exports=Df;var u=B2.exports,Y2={exports:{}},ks={},X2={exports:{}},Q2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,ue){var Y=se.length;se.push(ue);e:for(;0<Y;){var K=Y-1>>>1,E=se[K];if(0<s(E,ue))se[K]=ue,se[Y]=E,Y=K;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ue=se[0],Y=se.pop();if(Y!==ue){se[0]=Y;e:for(var K=0,E=se.length,J=E>>>1;K<J;){var X=2*(K+1)-1,oe=se[X],he=X+1,ne=se[he];if(0>s(oe,Y))he<E&&0>s(ne,oe)?(se[K]=ne,se[he]=Y,K=he):(se[K]=oe,se[X]=Y,K=X);else if(he<E&&0>s(ne,Y))se[K]=ne,se[he]=Y,K=he;else break e}}return ue}function s(se,ue){var Y=se.sortIndex-ue.sortIndex;return Y!==0?Y:se.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],h=[],p=1,m=null,b=3,v=!1,k=!1,A=!1,L=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(se){for(var ue=n(h);ue!==null;){if(ue.callback===null)r(h);else if(ue.startTime<=se)r(h),ue.sortIndex=ue.expirationTime,t(l,ue);else break;ue=n(h)}}function C(se){if(A=!1,_(se),!k)if(n(l)!==null)k=!0,de(q);else{var ue=n(h);ue!==null&&be(C,ue.startTime-se)}}function q(se,ue){k=!1,A&&(A=!1,x($),$=-1),v=!0;var Y=b;try{for(_(ue),m=n(l);m!==null&&(!(m.expirationTime>ue)||se&&!O());){var K=m.callback;if(typeof K=="function"){m.callback=null,b=m.priorityLevel;var E=K(m.expirationTime<=ue);ue=e.unstable_now(),typeof E=="function"?m.callback=E:m===n(l)&&r(l),_(ue)}else r(l);m=n(l)}if(m!==null)var J=!0;else{var X=n(h);X!==null&&be(C,X.startTime-ue),J=!1}return J}finally{m=null,b=Y,v=!1}}var G=!1,H=null,$=-1,ie=5,Z=-1;function O(){return!(e.unstable_now()-Z<ie)}function U(){if(H!==null){var se=e.unstable_now();Z=se;var ue=!0;try{ue=H(!0,se)}finally{ue?ee():(G=!1,H=null)}}else G=!1}var ee;if(typeof N=="function")ee=function(){N(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ve=V.port2;V.port1.onmessage=U,ee=function(){ve.postMessage(null)}}else ee=function(){L(U,0)};function de(se){H=se,G||(G=!0,ee())}function be(se,ue){$=L(function(){se(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,de(q))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(se){switch(b){case 1:case 2:case 3:var ue=3;break;default:ue=b}var Y=b;b=ue;try{return se()}finally{b=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Y=b;b=se;try{return ue()}finally{b=Y}},e.unstable_scheduleCallback=function(se,ue,Y){var K=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,se){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Y+E,se={id:p++,callback:ue,priorityLevel:se,startTime:Y,expirationTime:E,sortIndex:-1},Y>K?(se.sortIndex=Y,t(h,se),n(l)===null&&se===n(h)&&(A?(x($),$=-1):A=!0,be(C,Y-K))):(se.sortIndex=E,t(l,se),k||v||(k=!0,de(q))),se},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(se){var ue=b;return function(){var Y=b;b=ue;try{return se.apply(this,arguments)}finally{b=Y}}}})(Q2);X2.exports=Q2;var ux=X2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx=B,js=ux;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z2=new Set,gd={};function ql(e,t){eu(e,t),eu(e+"Capture",t)}function eu(e,t){for(gd[e]=t,e=0;e<t.length;e++)Z2.add(t[e])}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x1={},_1={};function fx(e){return km.call(_1,e)?!0:km.call(x1,e)?!1:hx.test(e)?_1[e]=!0:(x1[e]=!0,!1)}function px(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mx(e,t,n,r){if(t===null||typeof t>"u"||px(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $r(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ur[e]=new $r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ur[t]=new $r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ur[e]=new $r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ur[e]=new $r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ur[e]=new $r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ur[e]=new $r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ur[e]=new $r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ur[e]=new $r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ur[e]=new $r(e,5,!1,e.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function n0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t0,n0);ur[t]=new $r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t0,n0);ur[t]=new $r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t0,n0);ur[t]=new $r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ur[e]=new $r(e,1,!1,e.toLowerCase(),null,!1,!1)});ur.xlinkHref=new $r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ur[e]=new $r(e,1,!1,e.toLowerCase(),null,!0,!0)});function r0(e,t,n,r){var s=ur.hasOwnProperty(t)?ur[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mx(t,n,s,r)&&(n=null),r||s===null?fx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Na=dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),Cc=Symbol.for("react.portal"),Tc=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),ey=Symbol.for("react.provider"),ty=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),a0=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),ny=Symbol.for("react.offscreen"),N1=Symbol.iterator;function Mu(e){return e===null||typeof e!="object"?null:(e=N1&&e[N1]||e["@@iterator"],typeof e=="function"?e:null)}var wn=Object.assign,Tp;function Yu(e){if(Tp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tp=t&&t[1]||""}return`
`+Tp+e}var Ip=!1;function Op(e,t){if(!e||Ip)return"";Ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ip=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yu(e):""}function gx(e){switch(e.tag){case 5:return Yu(e.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 2:case 15:return e=Op(e.type,!1),e;case 11:return e=Op(e.type.render,!1),e;case 1:return e=Op(e.type,!0),e;default:return""}}function Pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tc:return"Fragment";case Cc:return"Portal";case Am:return"Profiler";case s0:return"StrictMode";case Lm:return"Suspense";case Em:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ty:return(e.displayName||"Context")+".Consumer";case ey:return(e._context.displayName||"Context")+".Provider";case i0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a0:return t=e.displayName||null,t!==null?t:Pm(e.type)||"Memo";case mo:t=e._payload,e=e._init;try{return Pm(e(t))}catch{}}return null}function vx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(t);case 8:return t===s0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ry(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yx(e){var t=ry(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vh(e){e._valueTracker||(e._valueTracker=yx(e))}function sy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ry(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function of(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cm(e,t){var n=t.checked;return wn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function S1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Io(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&r0(e,"checked",t,!1)}function Tm(e,t){iy(e,t);var n=Io(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Im(e,t.type,n):t.hasOwnProperty("defaultValue")&&Im(e,t.type,Io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Im(e,t,n){(t!=="number"||of(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xu=Array.isArray;function Wc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Io(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Om(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return wn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function k1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(Xu(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Io(n)}}function ay(e,t){var n=Io(t.value),r=Io(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function A1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yh,ly=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bx=["Webkit","ms","Moz","O"];Object.keys(nd).forEach(function(e){bx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nd[t]=nd[e]})});function cy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nd.hasOwnProperty(e)&&nd[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var wx=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fm(e,t){if(t){if(wx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function Mm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function o0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bm=null,Hc=null,Vc=null;function L1(e){if(e=zd(e)){if(typeof Bm!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=$f(t),Bm(e.stateNode,e.type,t))}}function dy(e){Hc?Vc?Vc.push(e):Vc=[e]:Hc=e}function hy(){if(Hc){var e=Hc,t=Vc;if(Vc=Hc=null,L1(e),t)for(e=0;e<t.length;e++)L1(t[e])}}function fy(e,t){return e(t)}function py(){}var Rp=!1;function my(e,t,n){if(Rp)return e(t,n);Rp=!0;try{return fy(e,t,n)}finally{Rp=!1,(Hc!==null||Vc!==null)&&(py(),hy())}}function yd(e,t){var n=e.stateNode;if(n===null)return null;var r=$f(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var Um=!1;if(ba)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){Um=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Um=!1}function xx(e,t,n,r,s,i,a,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var rd=!1,lf=null,cf=!1,zm=null,_x={onError:function(e){rd=!0,lf=e}};function Nx(e,t,n,r,s,i,a,o,l){rd=!1,lf=null,xx.apply(_x,arguments)}function Sx(e,t,n,r,s,i,a,o,l){if(Nx.apply(this,arguments),rd){if(rd){var h=lf;rd=!1,lf=null}else throw Error(ze(198));cf||(cf=!0,zm=h)}}function $l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E1(e){if($l(e)!==e)throw Error(ze(188))}function jx(e){var t=e.alternate;if(!t){if(t=$l(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return E1(s),e;if(i===r)return E1(s),t;i=i.sibling}throw Error(ze(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function vy(e){return e=jx(e),e!==null?yy(e):null}function yy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yy(e);if(t!==null)return t;e=e.sibling}return null}var by=js.unstable_scheduleCallback,P1=js.unstable_cancelCallback,kx=js.unstable_shouldYield,Ax=js.unstable_requestPaint,En=js.unstable_now,Lx=js.unstable_getCurrentPriorityLevel,l0=js.unstable_ImmediatePriority,wy=js.unstable_UserBlockingPriority,uf=js.unstable_NormalPriority,Ex=js.unstable_LowPriority,xy=js.unstable_IdlePriority,Bf=null,qi=null;function Px(e){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(Bf,e,void 0,(e.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:Ix,Cx=Math.log,Tx=Math.LN2;function Ix(e){return e>>>=0,e===0?32:31-(Cx(e)/Tx|0)|0}var bh=64,wh=4194304;function Qu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function df(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Qu(o):(i&=a,i!==0&&(r=Qu(i)))}else a=n&~s,a!==0?r=Qu(a):i!==0&&(r=Qu(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hi(t),s=1<<n,r|=e[n],t&=~s;return r}function Ox(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-hi(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Ox(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function qm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _y(){var e=bh;return bh<<=1,!(bh&4194240)&&(bh=64),e}function Fp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hi(t),e[t]=n}function Fx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-hi(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function c0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hi(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Kt=0;function Ny(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sy,u0,jy,ky,Ay,$m=!1,xh=[],So=null,jo=null,ko=null,bd=new Map,wd=new Map,vo=[],Mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(e,t){switch(e){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":bd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(t.pointerId)}}function Bu(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zd(t),t!==null&&u0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dx(e,t,n,r,s){switch(t){case"focusin":return So=Bu(So,e,t,n,r,s),!0;case"dragenter":return jo=Bu(jo,e,t,n,r,s),!0;case"mouseover":return ko=Bu(ko,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return bd.set(i,Bu(bd.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wd.set(i,Bu(wd.get(i)||null,e,t,n,r,s)),!0}return!1}function Ly(e){var t=Ll(e.target);if(t!==null){var n=$l(t);if(n!==null){if(t=n.tag,t===13){if(t=gy(n),t!==null){e.blockedOn=t,Ay(e.priority,function(){jy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return t=zd(n),t!==null&&u0(t),e.blockedOn=n,!1;t.shift()}return!0}function T1(e,t,n){qh(e)&&n.delete(t)}function Bx(){$m=!1,So!==null&&qh(So)&&(So=null),jo!==null&&qh(jo)&&(jo=null),ko!==null&&qh(ko)&&(ko=null),bd.forEach(T1),wd.forEach(T1)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,$m||($m=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,Bx)))}function xd(e){function t(s){return Uu(s,e)}if(0<xh.length){Uu(xh[0],e);for(var n=1;n<xh.length;n++){var r=xh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(So!==null&&Uu(So,e),jo!==null&&Uu(jo,e),ko!==null&&Uu(ko,e),bd.forEach(t),wd.forEach(t),n=0;n<vo.length;n++)r=vo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vo.length&&(n=vo[0],n.blockedOn===null);)Ly(n),n.blockedOn===null&&vo.shift()}var Gc=Na.ReactCurrentBatchConfig,hf=!0;function Ux(e,t,n,r){var s=Kt,i=Gc.transition;Gc.transition=null;try{Kt=1,d0(e,t,n,r)}finally{Kt=s,Gc.transition=i}}function zx(e,t,n,r){var s=Kt,i=Gc.transition;Gc.transition=null;try{Kt=4,d0(e,t,n,r)}finally{Kt=s,Gc.transition=i}}function d0(e,t,n,r){if(hf){var s=Wm(e,t,n,r);if(s===null)Vp(e,t,r,ff,n),C1(e,r);else if(Dx(s,e,t,n,r))r.stopPropagation();else if(C1(e,r),t&4&&-1<Mx.indexOf(e)){for(;s!==null;){var i=zd(s);if(i!==null&&Sy(i),i=Wm(e,t,n,r),i===null&&Vp(e,t,r,ff,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vp(e,t,r,null,n)}}var ff=null;function Wm(e,t,n,r){if(ff=null,e=o0(r),e=Ll(e),e!==null)if(t=$l(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ff=e,null}function Ey(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lx()){case l0:return 1;case wy:return 4;case uf:case Ex:return 16;case xy:return 536870912;default:return 16}default:return 16}}var wo=null,h0=null,$h=null;function Py(){if($h)return $h;var e,t=h0,n=t.length,r,s="value"in wo?wo.value:wo.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return $h=s.slice(e,1<r?1-r:void 0)}function Wh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _h(){return!0}function I1(){return!1}function As(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_h:I1,this.isPropagationStopped=I1,this}return wn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),t}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=As(du),Ud=wn({},du,{view:0,detail:0}),qx=As(Ud),Mp,Dp,zu,Uf=wn({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zu&&(zu&&e.type==="mousemove"?(Mp=e.screenX-zu.screenX,Dp=e.screenY-zu.screenY):Dp=Mp=0,zu=e),Mp)},movementY:function(e){return"movementY"in e?e.movementY:Dp}}),O1=As(Uf),$x=wn({},Uf,{dataTransfer:0}),Wx=As($x),Hx=wn({},Ud,{relatedTarget:0}),Bp=As(Hx),Vx=wn({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),Gx=As(Vx),Jx=wn({},du,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kx=As(Jx),Yx=wn({},du,{data:0}),R1=As(Yx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zx[e])?!!t[e]:!1}function p0(){return e_}var t_=wn({},Ud,{key:function(e){if(e.key){var t=Xx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(e){return e.type==="keypress"?Wh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n_=As(t_),r_=wn({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=As(r_),s_=wn({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),i_=As(s_),a_=wn({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),o_=As(a_),l_=wn({},Uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c_=As(l_),u_=[9,13,27,32],m0=ba&&"CompositionEvent"in window,sd=null;ba&&"documentMode"in document&&(sd=document.documentMode);var d_=ba&&"TextEvent"in window&&!sd,Cy=ba&&(!m0||sd&&8<sd&&11>=sd),M1=" ",D1=!1;function Ty(e,t){switch(e){case"keyup":return u_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ic=!1;function h_(e,t){switch(e){case"compositionend":return Iy(t);case"keypress":return t.which!==32?null:(D1=!0,M1);case"textInput":return e=t.data,e===M1&&D1?null:e;default:return null}}function f_(e,t){if(Ic)return e==="compositionend"||!m0&&Ty(e,t)?(e=Py(),$h=h0=wo=null,Ic=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cy&&t.locale!=="ko"?null:t.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p_[e.type]:t==="textarea"}function Oy(e,t,n,r){dy(r),t=pf(t,"onChange"),0<t.length&&(n=new f0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var id=null,_d=null;function m_(e){Hy(e,0)}function zf(e){var t=Fc(e);if(sy(t))return e}function g_(e,t){if(e==="change")return t}var Ry=!1;if(ba){var Up;if(ba){var zp="oninput"in document;if(!zp){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),zp=typeof U1.oninput=="function"}Up=zp}else Up=!1;Ry=Up&&(!document.documentMode||9<document.documentMode)}function z1(){id&&(id.detachEvent("onpropertychange",Fy),_d=id=null)}function Fy(e){if(e.propertyName==="value"&&zf(_d)){var t=[];Oy(t,_d,e,o0(e)),my(m_,t)}}function v_(e,t,n){e==="focusin"?(z1(),id=t,_d=n,id.attachEvent("onpropertychange",Fy)):e==="focusout"&&z1()}function y_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zf(_d)}function b_(e,t){if(e==="click")return zf(t)}function w_(e,t){if(e==="input"||e==="change")return zf(t)}function x_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pi=typeof Object.is=="function"?Object.is:x_;function Nd(e,t){if(pi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!km.call(t,s)||!pi(e[s],t[s]))return!1}return!0}function q1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $1(e,t){var n=q1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q1(n)}}function My(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?My(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dy(){for(var e=window,t=of();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=of(e.document)}return t}function g0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function __(e){var t=Dy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&My(n.ownerDocument.documentElement,n)){if(r!==null&&g0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=$1(n,i);var a=$1(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N_=ba&&"documentMode"in document&&11>=document.documentMode,Oc=null,Hm=null,ad=null,Vm=!1;function W1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vm||Oc==null||Oc!==of(r)||(r=Oc,"selectionStart"in r&&g0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ad&&Nd(ad,r)||(ad=r,r=pf(Hm,"onSelect"),0<r.length&&(t=new f0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oc)))}function Nh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rc={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},qp={},By={};ba&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function qf(e){if(qp[e])return qp[e];if(!Rc[e])return e;var t=Rc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in By)return qp[e]=t[n];return e}var Uy=qf("animationend"),zy=qf("animationiteration"),qy=qf("animationstart"),$y=qf("transitionend"),Wy=new Map,H1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(e,t){Wy.set(e,t),ql(t,[e])}for(var $p=0;$p<H1.length;$p++){var Wp=H1[$p],S_=Wp.toLowerCase(),j_=Wp[0].toUpperCase()+Wp.slice(1);Mo(S_,"on"+j_)}Mo(Uy,"onAnimationEnd");Mo(zy,"onAnimationIteration");Mo(qy,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo($y,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function V1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sx(r,t,void 0,e),e.currentTarget=null}function Hy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;V1(s,o,h),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,h=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;V1(s,o,h),i=l}}}if(cf)throw e=zm,cf=!1,zm=null,e}function on(e,t){var n=t[Xm];n===void 0&&(n=t[Xm]=new Set);var r=e+"__bubble";n.has(r)||(Vy(t,e,2,!1),n.add(r))}function Hp(e,t,n){var r=0;t&&(r|=4),Vy(n,e,r,t)}var Sh="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[Sh]){e[Sh]=!0,Z2.forEach(function(n){n!=="selectionchange"&&(k_.has(n)||Hp(n,!1,e),Hp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sh]||(t[Sh]=!0,Hp("selectionchange",!1,t))}}function Vy(e,t,n,r){switch(Ey(t)){case 1:var s=Ux;break;case 4:s=zx;break;default:s=d0}n=s.bind(null,t,n,e),s=void 0,!Um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ll(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}my(function(){var h=i,p=o0(n),m=[];e:{var b=Wy.get(e);if(b!==void 0){var v=f0,k=e;switch(e){case"keypress":if(Wh(n)===0)break e;case"keydown":case"keyup":v=n_;break;case"focusin":k="focus",v=Bp;break;case"focusout":k="blur",v=Bp;break;case"beforeblur":case"afterblur":v=Bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=O1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=i_;break;case Uy:case zy:case qy:v=Gx;break;case $y:v=o_;break;case"scroll":v=qx;break;case"wheel":v=c_;break;case"copy":case"cut":case"paste":v=Kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=F1}var A=(t&4)!==0,L=!A&&e==="scroll",x=A?b!==null?b+"Capture":null:b;A=[];for(var N=h,_;N!==null;){_=N;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,x!==null&&(C=yd(N,x),C!=null&&A.push(jd(N,C,_)))),L)break;N=N.return}0<A.length&&(b=new v(b,k,null,n,p),m.push({event:b,listeners:A}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",b&&n!==Dm&&(k=n.relatedTarget||n.fromElement)&&(Ll(k)||k[wa]))break e;if((v||b)&&(b=p.window===p?p:(b=p.ownerDocument)?b.defaultView||b.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=h,k=k?Ll(k):null,k!==null&&(L=$l(k),k!==L||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=h),v!==k)){if(A=O1,C="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(A=F1,C="onPointerLeave",x="onPointerEnter",N="pointer"),L=v==null?b:Fc(v),_=k==null?b:Fc(k),b=new A(C,N+"leave",v,n,p),b.target=L,b.relatedTarget=_,C=null,Ll(p)===h&&(A=new A(x,N+"enter",k,n,p),A.target=_,A.relatedTarget=L,C=A),L=C,v&&k)t:{for(A=v,x=k,N=0,_=A;_;_=bc(_))N++;for(_=0,C=x;C;C=bc(C))_++;for(;0<N-_;)A=bc(A),N--;for(;0<_-N;)x=bc(x),_--;for(;N--;){if(A===x||x!==null&&A===x.alternate)break t;A=bc(A),x=bc(x)}A=null}else A=null;v!==null&&G1(m,b,v,A,!1),k!==null&&L!==null&&G1(m,L,k,A,!0)}}e:{if(b=h?Fc(h):window,v=b.nodeName&&b.nodeName.toLowerCase(),v==="select"||v==="input"&&b.type==="file")var q=g_;else if(B1(b))if(Ry)q=w_;else{q=y_;var G=v_}else(v=b.nodeName)&&v.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(q=b_);if(q&&(q=q(e,h))){Oy(m,q,n,p);break e}G&&G(e,b,h),e==="focusout"&&(G=b._wrapperState)&&G.controlled&&b.type==="number"&&Im(b,"number",b.value)}switch(G=h?Fc(h):window,e){case"focusin":(B1(G)||G.contentEditable==="true")&&(Oc=G,Hm=h,ad=null);break;case"focusout":ad=Hm=Oc=null;break;case"mousedown":Vm=!0;break;case"contextmenu":case"mouseup":case"dragend":Vm=!1,W1(m,n,p);break;case"selectionchange":if(N_)break;case"keydown":case"keyup":W1(m,n,p)}var H;if(m0)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ic?Ty(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Cy&&n.locale!=="ko"&&(Ic||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ic&&(H=Py()):(wo=p,h0="value"in wo?wo.value:wo.textContent,Ic=!0)),G=pf(h,$),0<G.length&&($=new R1($,e,null,n,p),m.push({event:$,listeners:G}),H?$.data=H:(H=Iy(n),H!==null&&($.data=H)))),(H=d_?h_(e,n):f_(e,n))&&(h=pf(h,"onBeforeInput"),0<h.length&&(p=new R1("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=H))}Hy(m,t)})}function jd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pf(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yd(e,n),i!=null&&r.unshift(jd(e,i,s)),i=yd(e,t),i!=null&&r.push(jd(e,i,s))),e=e.return}return r}function bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function G1(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,h=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&h!==null&&(o=h,s?(l=yd(n,i),l!=null&&a.unshift(jd(n,l,o))):s||(l=yd(n,i),l!=null&&a.push(jd(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var A_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function J1(e){return(typeof e=="string"?e:""+e).replace(A_,`
`).replace(L_,"")}function jh(e,t,n){if(t=J1(t),J1(e)!==t&&n)throw Error(ze(425))}function mf(){}var Gm=null,Jm=null;function Km(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(e){return K1.resolve(null).then(e).catch(C_)}:Ym;function C_(e){setTimeout(function(){throw e})}function Gp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),xd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xd(t)}function Ao(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Y1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Ui="__reactFiber$"+hu,kd="__reactProps$"+hu,wa="__reactContainer$"+hu,Xm="__reactEvents$"+hu,T_="__reactListeners$"+hu,I_="__reactHandles$"+hu;function Ll(e){var t=e[Ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wa]||n[Ui]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Y1(e);e!==null;){if(n=e[Ui])return n;e=Y1(e)}return t}e=n,n=e.parentNode}return null}function zd(e){return e=e[Ui]||e[wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function $f(e){return e[kd]||null}var Qm=[],Mc=-1;function Do(e){return{current:e}}function cn(e){0>Mc||(e.current=Qm[Mc],Qm[Mc]=null,Mc--)}function rn(e,t){Mc++,Qm[Mc]=e.current,e.current=t}var Oo={},Er=Do(Oo),rs=Do(!1),Fl=Oo;function tu(e,t){var n=e.type.contextTypes;if(!n)return Oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ss(e){return e=e.childContextTypes,e!=null}function gf(){cn(rs),cn(Er)}function X1(e,t,n){if(Er.current!==Oo)throw Error(ze(168));rn(Er,t),rn(rs,n)}function Gy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ze(108,vx(e)||"Unknown",s));return wn({},n,r)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,Fl=Er.current,rn(Er,e),rn(rs,rs.current),!0}function Q1(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=Gy(e,t,Fl),r.__reactInternalMemoizedMergedChildContext=e,cn(rs),cn(Er),rn(Er,e)):cn(rs),rn(rs,n)}var ma=null,Wf=!1,Jp=!1;function Jy(e){ma===null?ma=[e]:ma.push(e)}function O_(e){Wf=!0,Jy(e)}function Bo(){if(!Jp&&ma!==null){Jp=!0;var e=0,t=Kt;try{var n=ma;for(Kt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ma=null,Wf=!1}catch(s){throw ma!==null&&(ma=ma.slice(e+1)),by(l0,Bo),s}finally{Kt=t,Jp=!1}}return null}var Dc=[],Bc=0,yf=null,bf=0,Rs=[],Fs=0,Ml=null,ga=1,va="";function _l(e,t){Dc[Bc++]=bf,Dc[Bc++]=yf,yf=e,bf=t}function Ky(e,t,n){Rs[Fs++]=ga,Rs[Fs++]=va,Rs[Fs++]=Ml,Ml=e;var r=ga;e=va;var s=32-hi(r)-1;r&=~(1<<s),n+=1;var i=32-hi(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ga=1<<32-hi(t)+s|n<<s|r,va=i+e}else ga=1<<i|n<<s|r,va=e}function v0(e){e.return!==null&&(_l(e,1),Ky(e,1,0))}function y0(e){for(;e===yf;)yf=Dc[--Bc],Dc[Bc]=null,bf=Dc[--Bc],Dc[Bc]=null;for(;e===Ml;)Ml=Rs[--Fs],Rs[Fs]=null,va=Rs[--Fs],Rs[Fs]=null,ga=Rs[--Fs],Rs[Fs]=null}var Ns=null,xs=null,fn=!1,di=null;function Yy(e,t){var n=Ms(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Z1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ns=e,xs=Ao(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ns=e,xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ml!==null?{id:ga,overflow:va}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ms(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ns=e,xs=null,!0):!1;default:return!1}}function Zm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eg(e){if(fn){var t=xs;if(t){var n=t;if(!Z1(e,t)){if(Zm(e))throw Error(ze(418));t=Ao(n.nextSibling);var r=Ns;t&&Z1(e,t)?Yy(r,n):(e.flags=e.flags&-4097|2,fn=!1,Ns=e)}}else{if(Zm(e))throw Error(ze(418));e.flags=e.flags&-4097|2,fn=!1,Ns=e}}}function ev(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ns=e}function kh(e){if(e!==Ns)return!1;if(!fn)return ev(e),fn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Km(e.type,e.memoizedProps)),t&&(t=xs)){if(Zm(e))throw Xy(),Error(ze(418));for(;t;)Yy(e,t),t=Ao(t.nextSibling)}if(ev(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xs=Ao(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xs=null}}else xs=Ns?Ao(e.stateNode.nextSibling):null;return!0}function Xy(){for(var e=xs;e;)e=Ao(e.nextSibling)}function nu(){xs=Ns=null,fn=!1}function b0(e){di===null?di=[e]:di.push(e)}var R_=Na.ReactCurrentBatchConfig;function qu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function Ah(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tv(e){var t=e._init;return t(e._payload)}function Qy(e){function t(x,N){if(e){var _=x.deletions;_===null?(x.deletions=[N],x.flags|=16):_.push(N)}}function n(x,N){if(!e)return null;for(;N!==null;)t(x,N),N=N.sibling;return null}function r(x,N){for(x=new Map;N!==null;)N.key!==null?x.set(N.key,N):x.set(N.index,N),N=N.sibling;return x}function s(x,N){return x=Co(x,N),x.index=0,x.sibling=null,x}function i(x,N,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<N?(x.flags|=2,N):_):(x.flags|=2,N)):(x.flags|=1048576,N)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,N,_,C){return N===null||N.tag!==6?(N=tm(_,x.mode,C),N.return=x,N):(N=s(N,_),N.return=x,N)}function l(x,N,_,C){var q=_.type;return q===Tc?p(x,N,_.props.children,C,_.key):N!==null&&(N.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===mo&&tv(q)===N.type)?(C=s(N,_.props),C.ref=qu(x,N,_),C.return=x,C):(C=Xh(_.type,_.key,_.props,null,x.mode,C),C.ref=qu(x,N,_),C.return=x,C)}function h(x,N,_,C){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=nm(_,x.mode,C),N.return=x,N):(N=s(N,_.children||[]),N.return=x,N)}function p(x,N,_,C,q){return N===null||N.tag!==7?(N=Il(_,x.mode,C,q),N.return=x,N):(N=s(N,_),N.return=x,N)}function m(x,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=tm(""+N,x.mode,_),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case gh:return _=Xh(N.type,N.key,N.props,null,x.mode,_),_.ref=qu(x,null,N),_.return=x,_;case Cc:return N=nm(N,x.mode,_),N.return=x,N;case mo:var C=N._init;return m(x,C(N._payload),_)}if(Xu(N)||Mu(N))return N=Il(N,x.mode,_,null),N.return=x,N;Ah(x,N)}return null}function b(x,N,_,C){var q=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return q!==null?null:o(x,N,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gh:return _.key===q?l(x,N,_,C):null;case Cc:return _.key===q?h(x,N,_,C):null;case mo:return q=_._init,b(x,N,q(_._payload),C)}if(Xu(_)||Mu(_))return q!==null?null:p(x,N,_,C,null);Ah(x,_)}return null}function v(x,N,_,C,q){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(_)||null,o(N,x,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gh:return x=x.get(C.key===null?_:C.key)||null,l(N,x,C,q);case Cc:return x=x.get(C.key===null?_:C.key)||null,h(N,x,C,q);case mo:var G=C._init;return v(x,N,_,G(C._payload),q)}if(Xu(C)||Mu(C))return x=x.get(_)||null,p(N,x,C,q,null);Ah(N,C)}return null}function k(x,N,_,C){for(var q=null,G=null,H=N,$=N=0,ie=null;H!==null&&$<_.length;$++){H.index>$?(ie=H,H=null):ie=H.sibling;var Z=b(x,H,_[$],C);if(Z===null){H===null&&(H=ie);break}e&&H&&Z.alternate===null&&t(x,H),N=i(Z,N,$),G===null?q=Z:G.sibling=Z,G=Z,H=ie}if($===_.length)return n(x,H),fn&&_l(x,$),q;if(H===null){for(;$<_.length;$++)H=m(x,_[$],C),H!==null&&(N=i(H,N,$),G===null?q=H:G.sibling=H,G=H);return fn&&_l(x,$),q}for(H=r(x,H);$<_.length;$++)ie=v(H,x,$,_[$],C),ie!==null&&(e&&ie.alternate!==null&&H.delete(ie.key===null?$:ie.key),N=i(ie,N,$),G===null?q=ie:G.sibling=ie,G=ie);return e&&H.forEach(function(O){return t(x,O)}),fn&&_l(x,$),q}function A(x,N,_,C){var q=Mu(_);if(typeof q!="function")throw Error(ze(150));if(_=q.call(_),_==null)throw Error(ze(151));for(var G=q=null,H=N,$=N=0,ie=null,Z=_.next();H!==null&&!Z.done;$++,Z=_.next()){H.index>$?(ie=H,H=null):ie=H.sibling;var O=b(x,H,Z.value,C);if(O===null){H===null&&(H=ie);break}e&&H&&O.alternate===null&&t(x,H),N=i(O,N,$),G===null?q=O:G.sibling=O,G=O,H=ie}if(Z.done)return n(x,H),fn&&_l(x,$),q;if(H===null){for(;!Z.done;$++,Z=_.next())Z=m(x,Z.value,C),Z!==null&&(N=i(Z,N,$),G===null?q=Z:G.sibling=Z,G=Z);return fn&&_l(x,$),q}for(H=r(x,H);!Z.done;$++,Z=_.next())Z=v(H,x,$,Z.value,C),Z!==null&&(e&&Z.alternate!==null&&H.delete(Z.key===null?$:Z.key),N=i(Z,N,$),G===null?q=Z:G.sibling=Z,G=Z);return e&&H.forEach(function(U){return t(x,U)}),fn&&_l(x,$),q}function L(x,N,_,C){if(typeof _=="object"&&_!==null&&_.type===Tc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case gh:e:{for(var q=_.key,G=N;G!==null;){if(G.key===q){if(q=_.type,q===Tc){if(G.tag===7){n(x,G.sibling),N=s(G,_.props.children),N.return=x,x=N;break e}}else if(G.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===mo&&tv(q)===G.type){n(x,G.sibling),N=s(G,_.props),N.ref=qu(x,G,_),N.return=x,x=N;break e}n(x,G);break}else t(x,G);G=G.sibling}_.type===Tc?(N=Il(_.props.children,x.mode,C,_.key),N.return=x,x=N):(C=Xh(_.type,_.key,_.props,null,x.mode,C),C.ref=qu(x,N,_),C.return=x,x=C)}return a(x);case Cc:e:{for(G=_.key;N!==null;){if(N.key===G)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){n(x,N.sibling),N=s(N,_.children||[]),N.return=x,x=N;break e}else{n(x,N);break}else t(x,N);N=N.sibling}N=nm(_,x.mode,C),N.return=x,x=N}return a(x);case mo:return G=_._init,L(x,N,G(_._payload),C)}if(Xu(_))return k(x,N,_,C);if(Mu(_))return A(x,N,_,C);Ah(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(n(x,N.sibling),N=s(N,_),N.return=x,x=N):(n(x,N),N=tm(_,x.mode,C),N.return=x,x=N),a(x)):n(x,N)}return L}var ru=Qy(!0),Zy=Qy(!1),wf=Do(null),xf=null,Uc=null,w0=null;function x0(){w0=Uc=xf=null}function _0(e){var t=wf.current;cn(wf),e._currentValue=t}function tg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jc(e,t){xf=e,w0=Uc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ns=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(w0!==e)if(e={context:e,memoizedValue:t,next:null},Uc===null){if(xf===null)throw Error(ze(308));Uc=e,xf.dependencies={lanes:0,firstContext:e}}else Uc=Uc.next=e;return t}var El=null;function N0(e){El===null?El=[e]:El.push(e)}function e5(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,N0(t)):(n.next=s.next,s.next=n),t.interleaved=n,xa(e,r)}function xa(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var go=!1;function S0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ya(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ut&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xa(e,n)}return s=r.interleaved,s===null?(t.next=t,N0(r)):(t.next=s.next,s.next=t),r.interleaved=t,xa(e,n)}function Hh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c0(e,n)}}function nv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _f(e,t,n,r){var s=e.updateQueue;go=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,h=l.next;l.next=null,a===null?i=h:a.next=h,a=l;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=h:o.next=h,p.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;a=0,p=h=l=null,o=i;do{var b=o.lane,v=o.eventTime;if((r&b)===b){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var k=e,A=o;switch(b=t,v=n,A.tag){case 1:if(k=A.payload,typeof k=="function"){m=k.call(v,m,b);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=A.payload,b=typeof k=="function"?k.call(v,m,b):k,b==null)break e;m=wn({},m,b);break e;case 2:go=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[o]:b.push(o))}else v={eventTime:v,lane:b,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(h=p=v,l=m):p=p.next=v,a|=b;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;b=o,o=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(p===null&&(l=m),s.baseState=l,s.firstBaseUpdate=h,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bl|=a,e.lanes=a,e.memoizedState=m}}function rv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ze(191,s));s.call(r)}}}var qd={},$i=Do(qd),Ad=Do(qd),Ld=Do(qd);function Pl(e){if(e===qd)throw Error(ze(174));return e}function j0(e,t){switch(rn(Ld,t),rn(Ad,e),rn($i,qd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rm(t,e)}cn($i),rn($i,t)}function su(){cn($i),cn(Ad),cn(Ld)}function n5(e){Pl(Ld.current);var t=Pl($i.current),n=Rm(t,e.type);t!==n&&(rn(Ad,e),rn($i,n))}function k0(e){Ad.current===e&&(cn($i),cn(Ad))}var yn=Do(0);function Nf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kp=[];function A0(){for(var e=0;e<Kp.length;e++)Kp[e]._workInProgressVersionPrimary=null;Kp.length=0}var Vh=Na.ReactCurrentDispatcher,Yp=Na.ReactCurrentBatchConfig,Dl=0,bn=null,Vn=null,Qn=null,Sf=!1,od=!1,Ed=0,F_=0;function wr(){throw Error(ze(321))}function L0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pi(e[n],t[n]))return!1;return!0}function E0(e,t,n,r,s,i){if(Dl=i,bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vh.current=e===null||e.memoizedState===null?U_:z_,e=n(r,s),od){i=0;do{if(od=!1,Ed=0,25<=i)throw Error(ze(301));i+=1,Qn=Vn=null,t.updateQueue=null,Vh.current=q_,e=n(r,s)}while(od)}if(Vh.current=jf,t=Vn!==null&&Vn.next!==null,Dl=0,Qn=Vn=bn=null,Sf=!1,t)throw Error(ze(300));return e}function P0(){var e=Ed!==0;return Ed=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?bn.memoizedState=Qn=e:Qn=Qn.next=e,Qn}function Us(){if(Vn===null){var e=bn.alternate;e=e!==null?e.memoizedState:null}else e=Vn.next;var t=Qn===null?bn.memoizedState:Qn.next;if(t!==null)Qn=t,Vn=e;else{if(e===null)throw Error(ze(310));Vn=e,e={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Qn===null?bn.memoizedState=Qn=e:Qn=Qn.next=e}return Qn}function Pd(e,t){return typeof t=="function"?t(e):t}function Xp(e){var t=Us(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=Vn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,h=i;do{var p=h.lane;if((Dl&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,bn.lanes|=p,Bl|=p}h=h.next}while(h!==null&&h!==i);l===null?a=r:l.next=o,pi(r,t.memoizedState)||(ns=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,bn.lanes|=i,Bl|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qp(e){var t=Us(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);pi(i,t.memoizedState)||(ns=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function r5(){}function s5(e,t){var n=bn,r=Us(),s=t(),i=!pi(r.memoizedState,s);if(i&&(r.memoizedState=s,ns=!0),r=r.queue,C0(o5.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,Cd(9,a5.bind(null,n,r,s,t),void 0,null),er===null)throw Error(ze(349));Dl&30||i5(n,t,s)}return s}function i5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bn.updateQueue,t===null?(t={lastEffect:null,stores:null},bn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a5(e,t,n,r){t.value=n,t.getSnapshot=r,l5(t)&&c5(e)}function o5(e,t,n){return n(function(){l5(t)&&c5(e)})}function l5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pi(e,n)}catch{return!0}}function c5(e){var t=xa(e,1);t!==null&&fi(t,e,1,-1)}function sv(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:e},t.queue=e,e=e.dispatch=B_.bind(null,bn,e),[t.memoizedState,e]}function Cd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bn.updateQueue,t===null?(t={lastEffect:null,stores:null},bn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function u5(){return Us().memoizedState}function Gh(e,t,n,r){var s=Di();bn.flags|=e,s.memoizedState=Cd(1|t,n,void 0,r===void 0?null:r)}function Hf(e,t,n,r){var s=Us();r=r===void 0?null:r;var i=void 0;if(Vn!==null){var a=Vn.memoizedState;if(i=a.destroy,r!==null&&L0(r,a.deps)){s.memoizedState=Cd(t,n,i,r);return}}bn.flags|=e,s.memoizedState=Cd(1|t,n,i,r)}function iv(e,t){return Gh(8390656,8,e,t)}function C0(e,t){return Hf(2048,8,e,t)}function d5(e,t){return Hf(4,2,e,t)}function h5(e,t){return Hf(4,4,e,t)}function f5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p5(e,t,n){return n=n!=null?n.concat([e]):null,Hf(4,4,f5.bind(null,t,e),n)}function T0(){}function m5(e,t){var n=Us();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&L0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g5(e,t){var n=Us();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&L0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function v5(e,t,n){return Dl&21?(pi(n,t)||(n=_y(),bn.lanes|=n,Bl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ns=!0),e.memoizedState=n)}function M_(e,t){var n=Kt;Kt=n!==0&&4>n?n:4,e(!0);var r=Yp.transition;Yp.transition={};try{e(!1),t()}finally{Kt=n,Yp.transition=r}}function y5(){return Us().memoizedState}function D_(e,t,n){var r=Po(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b5(e))w5(t,n);else if(n=e5(e,t,n,r),n!==null){var s=zr();fi(n,e,r,s),x5(n,t,r)}}function B_(e,t,n){var r=Po(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b5(e))w5(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,pi(o,a)){var l=t.interleaved;l===null?(s.next=s,N0(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=e5(e,t,s,r),n!==null&&(s=zr(),fi(n,e,r,s),x5(n,t,r))}}function b5(e){var t=e.alternate;return e===bn||t!==null&&t===bn}function w5(e,t){od=Sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function x5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,c0(e,n)}}var jf={readContext:Bs,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},U_={readContext:Bs,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:iv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gh(4194308,4,f5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gh(4,2,e,t)},useMemo:function(e,t){var n=Di();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Di();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D_.bind(null,bn,e),[r.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:sv,useDebugValue:T0,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=sv(!1),t=e[0];return e=M_.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bn,s=Di();if(fn){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),er===null)throw Error(ze(349));Dl&30||i5(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,iv(o5.bind(null,r,i,e),[e]),r.flags|=2048,Cd(9,a5.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Di(),t=er.identifierPrefix;if(fn){var n=va,r=ga;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ed++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=F_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z_={readContext:Bs,useCallback:m5,useContext:Bs,useEffect:C0,useImperativeHandle:p5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:Xp,useRef:u5,useState:function(){return Xp(Pd)},useDebugValue:T0,useDeferredValue:function(e){var t=Us();return v5(t,Vn.memoizedState,e)},useTransition:function(){var e=Xp(Pd)[0],t=Us().memoizedState;return[e,t]},useMutableSource:r5,useSyncExternalStore:s5,useId:y5,unstable_isNewReconciler:!1},q_={readContext:Bs,useCallback:m5,useContext:Bs,useEffect:C0,useImperativeHandle:p5,useInsertionEffect:d5,useLayoutEffect:h5,useMemo:g5,useReducer:Qp,useRef:u5,useState:function(){return Qp(Pd)},useDebugValue:T0,useDeferredValue:function(e){var t=Us();return Vn===null?t.memoizedState=e:v5(t,Vn.memoizedState,e)},useTransition:function(){var e=Qp(Pd)[0],t=Us().memoizedState;return[e,t]},useMutableSource:r5,useSyncExternalStore:s5,useId:y5,unstable_isNewReconciler:!1};function oi(e,t){if(e&&e.defaultProps){t=wn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ng(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:wn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vf={isMounted:function(e){return(e=e._reactInternals)?$l(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zr(),s=Po(e),i=ya(r,s);i.payload=t,n!=null&&(i.callback=n),t=Lo(e,i,s),t!==null&&(fi(t,e,s,r),Hh(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zr(),s=Po(e),i=ya(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Lo(e,i,s),t!==null&&(fi(t,e,s,r),Hh(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zr(),r=Po(e),s=ya(n,r);s.tag=2,t!=null&&(s.callback=t),t=Lo(e,s,r),t!==null&&(fi(t,e,r,n),Hh(t,e,r))}};function av(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Nd(n,r)||!Nd(s,i):!0}function _5(e,t,n){var r=!1,s=Oo,i=t.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(s=ss(t)?Fl:Er.current,r=t.contextTypes,i=(r=r!=null)?tu(e,s):Oo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ov(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vf.enqueueReplaceState(t,t.state,null)}function rg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},S0(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Bs(i):(i=ss(t)?Fl:Er.current,s.context=tu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ng(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vf.enqueueReplaceState(s,s.state,null),_f(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function iu(e,t){try{var n="",r=t;do n+=gx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Zp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function N5(e,t,n){n=ya(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Af||(Af=!0,pg=r),sg(e,t)},n}function S5(e,t,n){n=ya(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){sg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sg(e,t),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function lv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=r4.bind(null,e,t,n),t.then(e,e))}function cv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ya(-1,1),t.tag=2,Lo(n,t,1))),n.lanes|=1),e)}var W_=Na.ReactCurrentOwner,ns=!1;function Ur(e,t,n,r){t.child=e===null?Zy(t,null,n,r):ru(t,e.child,n,r)}function dv(e,t,n,r,s){n=n.render;var i=t.ref;return Jc(t,s),r=E0(e,t,n,r,i,s),n=P0(),e!==null&&!ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_a(e,t,s)):(fn&&n&&v0(t),t.flags|=1,Ur(e,t,r,s),t.child)}function hv(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!U0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,j5(e,t,i,r,s)):(e=Xh(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nd,n(a,r)&&e.ref===t.ref)return _a(e,t,s)}return t.flags|=1,e=Co(i,r),e.ref=t.ref,e.return=t,t.child=e}function j5(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Nd(i,r)&&e.ref===t.ref)if(ns=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ns=!0);else return t.lanes=e.lanes,_a(e,t,s)}return ig(e,t,n,r,s)}function k5(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(qc,ws),ws|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rn(qc,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,rn(qc,ws),ws|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,rn(qc,ws),ws|=r;return Ur(e,t,s,n),t.child}function A5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ig(e,t,n,r,s){var i=ss(n)?Fl:Er.current;return i=tu(t,i),Jc(t,s),n=E0(e,t,n,r,i,s),r=P0(),e!==null&&!ns?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_a(e,t,s)):(fn&&r&&v0(t),t.flags|=1,Ur(e,t,n,s),t.child)}function fv(e,t,n,r,s){if(ss(n)){var i=!0;vf(t)}else i=!1;if(Jc(t,s),t.stateNode===null)Jh(e,t),_5(t,n,r),rg(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Bs(h):(h=ss(n)?Fl:Er.current,h=tu(t,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==h)&&ov(t,a,r,h),go=!1;var b=t.memoizedState;a.state=b,_f(t,r,a,s),l=t.memoizedState,o!==r||b!==l||rs.current||go?(typeof p=="function"&&(ng(t,n,p,r),l=t.memoizedState),(o=go||av(t,n,o,r,b,l,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=h,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,t5(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:oi(t.type,o),a.props=h,m=t.pendingProps,b=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bs(l):(l=ss(n)?Fl:Er.current,l=tu(t,l));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||b!==l)&&ov(t,a,r,l),go=!1,b=t.memoizedState,a.state=b,_f(t,r,a,s);var k=t.memoizedState;o!==m||b!==k||rs.current||go?(typeof v=="function"&&(ng(t,n,v,r),k=t.memoizedState),(h=go||av(t,n,h,r,b,k,l)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=l,r=h):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return ag(e,t,n,r,i,s)}function ag(e,t,n,r,s,i){A5(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Q1(t,n,!1),_a(e,t,i);r=t.stateNode,W_.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ru(t,e.child,null,i),t.child=ru(t,null,o,i)):Ur(e,t,o,i),t.memoizedState=r.state,s&&Q1(t,n,!0),t.child}function L5(e){var t=e.stateNode;t.pendingContext?X1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&X1(e,t.context,!1),j0(e,t.containerInfo)}function pv(e,t,n,r,s){return nu(),b0(s),t.flags|=256,Ur(e,t,n,r),t.child}var og={dehydrated:null,treeContext:null,retryLane:0};function lg(e){return{baseLanes:e,cachePool:null,transitions:null}}function E5(e,t,n){var r=t.pendingProps,s=yn.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rn(yn,s&1),e===null)return eg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Kf(a,r,0,null),e=Il(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lg(n),t.memoizedState=og,e):I0(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return H_(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Co(o,i):(i=Il(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?lg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=og,r}return i=e.child,e=i.sibling,r=Co(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function I0(e,t){return t=Kf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lh(e,t,n,r){return r!==null&&b0(r),ru(t,e.child,null,n),e=I0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H_(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Zp(Error(ze(422))),Lh(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Kf({mode:"visible",children:r.children},s,0,null),i=Il(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ru(t,e.child,null,a),t.child.memoizedState=lg(a),t.memoizedState=og,i);if(!(t.mode&1))return Lh(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(ze(419)),r=Zp(i,r,void 0),Lh(e,t,a,r)}if(o=(a&e.childLanes)!==0,ns||o){if(r=er,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xa(e,s),fi(r,e,s,-1))}return B0(),r=Zp(Error(ze(421))),Lh(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=s4.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,xs=Ao(s.nextSibling),Ns=t,fn=!0,di=null,e!==null&&(Rs[Fs++]=ga,Rs[Fs++]=va,Rs[Fs++]=Ml,ga=e.id,va=e.overflow,Ml=t),t=I0(t,r.children),t.flags|=4096,t)}function mv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tg(e.return,t,n)}function em(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function P5(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ur(e,t,r.children,n),r=yn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mv(e,n,t);else if(e.tag===19)mv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rn(yn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Nf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),em(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Nf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}em(t,!0,n,null,i);break;case"together":em(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _a(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=Co(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Co(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V_(e,t,n){switch(t.tag){case 3:L5(t),nu();break;case 5:n5(t);break;case 1:ss(t.type)&&vf(t);break;case 4:j0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;rn(wf,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rn(yn,yn.current&1),t.flags|=128,null):n&t.child.childLanes?E5(e,t,n):(rn(yn,yn.current&1),e=_a(e,t,n),e!==null?e.sibling:null);rn(yn,yn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return P5(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rn(yn,yn.current),r)break;return null;case 22:case 23:return t.lanes=0,k5(e,t,n)}return _a(e,t,n)}var C5,cg,T5,I5;C5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cg=function(){};T5=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Pl($i.current);var i=null;switch(n){case"input":s=Cm(e,s),r=Cm(e,r),i=[];break;case"select":s=wn({},s,{value:void 0}),r=wn({},r,{value:void 0}),i=[];break;case"textarea":s=Om(e,s),r=Om(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mf)}Fm(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var o=s[h];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(gd.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var l=r[h];if(o=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&l!==o&&(l!=null||o!=null))if(h==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(gd.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&on("scroll",e),i||o===l||(i=[])):(i=i||[]).push(h,l))}n&&(i=i||[]).push("style",n);var h=i;(t.updateQueue=h)&&(t.flags|=4)}};I5=function(e,t,n,r){n!==r&&(t.flags|=4)};function $u(e,t){if(!fn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G_(e,t,n){var r=t.pendingProps;switch(y0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(t),null;case 1:return ss(t.type)&&gf(),xr(t),null;case 3:return r=t.stateNode,su(),cn(rs),cn(Er),A0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,di!==null&&(vg(di),di=null))),cg(e,t),xr(t),null;case 5:k0(t);var s=Pl(Ld.current);if(n=t.type,e!==null&&t.stateNode!=null)T5(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return xr(t),null}if(e=Pl($i.current),kh(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ui]=t,r[kd]=i,e=(t.mode&1)!==0,n){case"dialog":on("cancel",r),on("close",r);break;case"iframe":case"object":case"embed":on("load",r);break;case"video":case"audio":for(s=0;s<Zu.length;s++)on(Zu[s],r);break;case"source":on("error",r);break;case"img":case"image":case"link":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"input":S1(r,i),on("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},on("invalid",r);break;case"textarea":k1(r,i),on("invalid",r)}Fm(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&jh(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&jh(r.textContent,o,e),s=["children",""+o]):gd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&on("scroll",r)}switch(n){case"input":vh(r),j1(r,i,!0);break;case"textarea":vh(r),A1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mf)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ui]=t,e[kd]=r,C5(e,t,!1,!1),t.stateNode=e;e:{switch(a=Mm(n,r),n){case"dialog":on("cancel",e),on("close",e),s=r;break;case"iframe":case"object":case"embed":on("load",e),s=r;break;case"video":case"audio":for(s=0;s<Zu.length;s++)on(Zu[s],e);s=r;break;case"source":on("error",e),s=r;break;case"img":case"image":case"link":on("error",e),on("load",e),s=r;break;case"details":on("toggle",e),s=r;break;case"input":S1(e,r),s=Cm(e,r),on("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=wn({},r,{value:void 0}),on("invalid",e);break;case"textarea":k1(e,r),s=Om(e,r),on("invalid",e);break;default:s=r}Fm(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?uy(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ly(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vd(e,l):typeof l=="number"&&vd(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&on("scroll",e):l!=null&&r0(e,i,l,a))}switch(n){case"input":vh(e),j1(e,r,!1);break;case"textarea":vh(e),A1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Io(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wc(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xr(t),null;case 6:if(e&&t.stateNode!=null)I5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=Pl(Ld.current),Pl($i.current),kh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ui]=t,(i=r.nodeValue!==n)&&(e=Ns,e!==null))switch(e.tag){case 3:jh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ui]=t,t.stateNode=r}return xr(t),null;case 13:if(cn(yn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fn&&xs!==null&&t.mode&1&&!(t.flags&128))Xy(),nu(),t.flags|=98560,i=!1;else if(i=kh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ze(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[Ui]=t}else nu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xr(t),i=!1}else di!==null&&(vg(di),di=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||yn.current&1?Gn===0&&(Gn=3):B0())),t.updateQueue!==null&&(t.flags|=4),xr(t),null);case 4:return su(),cg(e,t),e===null&&Sd(t.stateNode.containerInfo),xr(t),null;case 10:return _0(t.type._context),xr(t),null;case 17:return ss(t.type)&&gf(),xr(t),null;case 19:if(cn(yn),i=t.memoizedState,i===null)return xr(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)$u(i,!1);else{if(Gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Nf(e),a!==null){for(t.flags|=128,$u(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rn(yn,yn.current&1|2),t.child}e=e.sibling}i.tail!==null&&En()>au&&(t.flags|=128,r=!0,$u(i,!1),t.lanes=4194304)}else{if(!r)if(e=Nf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$u(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fn)return xr(t),null}else 2*En()-i.renderingStartTime>au&&n!==1073741824&&(t.flags|=128,r=!0,$u(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=En(),t.sibling=null,n=yn.current,rn(yn,r?n&1|2:n&1),t):(xr(t),null);case 22:case 23:return D0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ws&1073741824&&(xr(t),t.subtreeFlags&6&&(t.flags|=8192)):xr(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function J_(e,t){switch(y0(t),t.tag){case 1:return ss(t.type)&&gf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return su(),cn(rs),cn(Er),A0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return k0(t),null;case 13:if(cn(yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));nu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cn(yn),null;case 4:return su(),null;case 10:return _0(t.type._context),null;case 22:case 23:return D0(),null;case 24:return null;default:return null}}var Eh=!1,kr=!1,K_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function zc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jn(e,t,r)}else n.current=null}function ug(e,t,n){try{n()}catch(r){jn(e,t,r)}}var gv=!1;function Y_(e,t){if(Gm=hf,e=Dy(),g0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,h=0,p=0,m=e,b=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(o=a+s),m!==i||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)b=m,m=v;for(;;){if(m===e)break t;if(b===n&&++h===s&&(o=a),b===i&&++p===r&&(l=a),(v=m.nextSibling)!==null)break;m=b,b=m.parentNode}m=v}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jm={focusedElem:e,selectionRange:n},hf=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var A=k.memoizedProps,L=k.memoizedState,x=t.stateNode,N=x.getSnapshotBeforeUpdate(t.elementType===t.type?A:oi(t.type,A),L);x.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(C){jn(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return k=gv,gv=!1,k}function ld(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ug(t,n,i)}s=s.next}while(s!==r)}}function Gf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function O5(e){var t=e.alternate;t!==null&&(e.alternate=null,O5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ui],delete t[kd],delete t[Xm],delete t[T_],delete t[I_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R5(e){return e.tag===5||e.tag===3||e.tag===4}function vv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mf));else if(r!==4&&(e=e.child,e!==null))for(hg(e,t,n),e=e.sibling;e!==null;)hg(e,t,n),e=e.sibling}function fg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fg(e,t,n),e=e.sibling;e!==null;)fg(e,t,n),e=e.sibling}var or=null,ci=!1;function co(e,t,n){for(n=n.child;n!==null;)F5(e,t,n),n=n.sibling}function F5(e,t,n){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:kr||zc(n,t);case 6:var r=or,s=ci;or=null,co(e,t,n),or=r,ci=s,or!==null&&(ci?(e=or,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):or.removeChild(n.stateNode));break;case 18:or!==null&&(ci?(e=or,n=n.stateNode,e.nodeType===8?Gp(e.parentNode,n):e.nodeType===1&&Gp(e,n),xd(e)):Gp(or,n.stateNode));break;case 4:r=or,s=ci,or=n.stateNode.containerInfo,ci=!0,co(e,t,n),or=r,ci=s;break;case 0:case 11:case 14:case 15:if(!kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ug(n,t,a),s=s.next}while(s!==r)}co(e,t,n);break;case 1:if(!kr&&(zc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jn(n,t,o)}co(e,t,n);break;case 21:co(e,t,n);break;case 22:n.mode&1?(kr=(r=kr)||n.memoizedState!==null,co(e,t,n),kr=r):co(e,t,n);break;default:co(e,t,n)}}function yv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K_),t.forEach(function(r){var s=i4.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ri(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:or=o.stateNode,ci=!1;break e;case 3:or=o.stateNode.containerInfo,ci=!0;break e;case 4:or=o.stateNode.containerInfo,ci=!0;break e}o=o.return}if(or===null)throw Error(ze(160));F5(i,a,s),or=null,ci=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(h){jn(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M5(t,e),t=t.sibling}function M5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ri(t,e),Ri(e),r&4){try{ld(3,e,e.return),Gf(3,e)}catch(A){jn(e,e.return,A)}try{ld(5,e,e.return)}catch(A){jn(e,e.return,A)}}break;case 1:ri(t,e),Ri(e),r&512&&n!==null&&zc(n,n.return);break;case 5:if(ri(t,e),Ri(e),r&512&&n!==null&&zc(n,n.return),e.flags&32){var s=e.stateNode;try{vd(s,"")}catch(A){jn(e,e.return,A)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&iy(s,i),Mm(o,a);var h=Mm(o,i);for(a=0;a<l.length;a+=2){var p=l[a],m=l[a+1];p==="style"?uy(s,m):p==="dangerouslySetInnerHTML"?ly(s,m):p==="children"?vd(s,m):r0(s,p,m,h)}switch(o){case"input":Tm(s,i);break;case"textarea":ay(s,i);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wc(s,!!i.multiple,v,!1):b!==!!i.multiple&&(i.defaultValue!=null?Wc(s,!!i.multiple,i.defaultValue,!0):Wc(s,!!i.multiple,i.multiple?[]:"",!1))}s[kd]=i}catch(A){jn(e,e.return,A)}}break;case 6:if(ri(t,e),Ri(e),r&4){if(e.stateNode===null)throw Error(ze(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(A){jn(e,e.return,A)}}break;case 3:if(ri(t,e),Ri(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xd(t.containerInfo)}catch(A){jn(e,e.return,A)}break;case 4:ri(t,e),Ri(e);break;case 13:ri(t,e),Ri(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(F0=En())),r&4&&yv(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(kr=(h=kr)||p,ri(t,e),kr=h):ri(t,e),Ri(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(tt=e,p=e.child;p!==null;){for(m=tt=p;tt!==null;){switch(b=tt,v=b.child,b.tag){case 0:case 11:case 14:case 15:ld(4,b,b.return);break;case 1:zc(b,b.return);var k=b.stateNode;if(typeof k.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(A){jn(r,n,A)}}break;case 5:zc(b,b.return);break;case 22:if(b.memoizedState!==null){wv(m);continue}}v!==null?(v.return=b,tt=v):wv(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=cy("display",a))}catch(A){jn(e,e.return,A)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(A){jn(e,e.return,A)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ri(t,e),Ri(e),r&4&&yv(e);break;case 21:break;default:ri(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(R5(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vd(s,""),r.flags&=-33);var i=vv(e);fg(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=vv(e);hg(e,o,a);break;default:throw Error(ze(161))}}catch(l){jn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X_(e,t,n){tt=e,D5(e)}function D5(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var s=tt,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Eh;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||kr;o=Eh;var h=kr;if(Eh=a,(kr=l)&&!h)for(tt=s;tt!==null;)a=tt,l=a.child,a.tag===22&&a.memoizedState!==null?xv(s):l!==null?(l.return=a,tt=l):xv(s);for(;i!==null;)tt=i,D5(i),i=i.sibling;tt=s,Eh=o,kr=h}bv(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,tt=i):bv(e)}}function bv(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||Gf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:oi(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rv(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rv(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&xd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}kr||t.flags&512&&dg(t)}catch(b){jn(t,t.return,b)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function wv(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function xv(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gf(4,t)}catch(l){jn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){jn(t,s,l)}}var i=t.return;try{dg(t)}catch(l){jn(t,i,l)}break;case 5:var a=t.return;try{dg(t)}catch(l){jn(t,a,l)}}}catch(l){jn(t,t.return,l)}if(t===e){tt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,tt=o;break}tt=t.return}}var Q_=Math.ceil,kf=Na.ReactCurrentDispatcher,O0=Na.ReactCurrentOwner,Ds=Na.ReactCurrentBatchConfig,Ut=0,er=null,qn=null,cr=0,ws=0,qc=Do(0),Gn=0,Td=null,Bl=0,Jf=0,R0=0,cd=null,es=null,F0=0,au=1/0,fa=null,Af=!1,pg=null,Eo=null,Ph=!1,xo=null,Lf=0,ud=0,mg=null,Kh=-1,Yh=0;function zr(){return Ut&6?En():Kh!==-1?Kh:Kh=En()}function Po(e){return e.mode&1?Ut&2&&cr!==0?cr&-cr:R_.transition!==null?(Yh===0&&(Yh=_y()),Yh):(e=Kt,e!==0||(e=window.event,e=e===void 0?16:Ey(e.type)),e):1}function fi(e,t,n,r){if(50<ud)throw ud=0,mg=null,Error(ze(185));Bd(e,n,r),(!(Ut&2)||e!==er)&&(e===er&&(!(Ut&2)&&(Jf|=n),Gn===4&&yo(e,cr)),is(e,r),n===1&&Ut===0&&!(t.mode&1)&&(au=En()+500,Wf&&Bo()))}function is(e,t){var n=e.callbackNode;Rx(e,t);var r=df(e,e===er?cr:0);if(r===0)n!==null&&P1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&P1(n),t===1)e.tag===0?O_(_v.bind(null,e)):Jy(_v.bind(null,e)),P_(function(){!(Ut&6)&&Bo()}),n=null;else{switch(Ny(r)){case 1:n=l0;break;case 4:n=wy;break;case 16:n=uf;break;case 536870912:n=xy;break;default:n=uf}n=V5(n,B5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B5(e,t){if(Kh=-1,Yh=0,Ut&6)throw Error(ze(327));var n=e.callbackNode;if(Kc()&&e.callbackNode!==n)return null;var r=df(e,e===er?cr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ef(e,r);else{t=r;var s=Ut;Ut|=2;var i=z5();(er!==e||cr!==t)&&(fa=null,au=En()+500,Tl(e,t));do try{t4();break}catch(o){U5(e,o)}while(!0);x0(),kf.current=i,Ut=s,qn!==null?t=0:(er=null,cr=0,t=Gn)}if(t!==0){if(t===2&&(s=qm(e),s!==0&&(r=s,t=gg(e,s))),t===1)throw n=Td,Tl(e,0),yo(e,r),is(e,En()),n;if(t===6)yo(e,r);else{if(s=e.current.alternate,!(r&30)&&!Z_(s)&&(t=Ef(e,r),t===2&&(i=qm(e),i!==0&&(r=i,t=gg(e,i))),t===1))throw n=Td,Tl(e,0),yo(e,r),is(e,En()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Nl(e,es,fa);break;case 3:if(yo(e,r),(r&130023424)===r&&(t=F0+500-En(),10<t)){if(df(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){zr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ym(Nl.bind(null,e,es,fa),t);break}Nl(e,es,fa);break;case 4:if(yo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-hi(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q_(r/1960))-r,10<r){e.timeoutHandle=Ym(Nl.bind(null,e,es,fa),r);break}Nl(e,es,fa);break;case 5:Nl(e,es,fa);break;default:throw Error(ze(329))}}}return is(e,En()),e.callbackNode===n?B5.bind(null,e):null}function gg(e,t){var n=cd;return e.current.memoizedState.isDehydrated&&(Tl(e,t).flags|=256),e=Ef(e,t),e!==2&&(t=es,es=n,t!==null&&vg(t)),e}function vg(e){es===null?es=e:es.push.apply(es,e)}function Z_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pi(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yo(e,t){for(t&=~R0,t&=~Jf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hi(t),r=1<<n;e[n]=-1,t&=~r}}function _v(e){if(Ut&6)throw Error(ze(327));Kc();var t=df(e,0);if(!(t&1))return is(e,En()),null;var n=Ef(e,t);if(e.tag!==0&&n===2){var r=qm(e);r!==0&&(t=r,n=gg(e,r))}if(n===1)throw n=Td,Tl(e,0),yo(e,t),is(e,En()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e,es,fa),is(e,En()),null}function M0(e,t){var n=Ut;Ut|=1;try{return e(t)}finally{Ut=n,Ut===0&&(au=En()+500,Wf&&Bo())}}function Ul(e){xo!==null&&xo.tag===0&&!(Ut&6)&&Kc();var t=Ut;Ut|=1;var n=Ds.transition,r=Kt;try{if(Ds.transition=null,Kt=1,e)return e()}finally{Kt=r,Ds.transition=n,Ut=t,!(Ut&6)&&Bo()}}function D0(){ws=qc.current,cn(qc)}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E_(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch(y0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gf();break;case 3:su(),cn(rs),cn(Er),A0();break;case 5:k0(r);break;case 4:su();break;case 13:cn(yn);break;case 19:cn(yn);break;case 10:_0(r.type._context);break;case 22:case 23:D0()}n=n.return}if(er=e,qn=e=Co(e.current,null),cr=ws=t,Gn=0,Td=null,R0=Jf=Bl=0,es=cd=null,El!==null){for(t=0;t<El.length;t++)if(n=El[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}El=null}return e}function U5(e,t){do{var n=qn;try{if(x0(),Vh.current=jf,Sf){for(var r=bn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sf=!1}if(Dl=0,Qn=Vn=bn=null,od=!1,Ed=0,O0.current=null,n===null||n.return===null){Gn=1,Td=t,qn=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=cr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=o,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var b=p.alternate;b?(p.updateQueue=b.updateQueue,p.memoizedState=b.memoizedState,p.lanes=b.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=cv(a);if(v!==null){v.flags&=-257,uv(v,a,o,i,t),v.mode&1&&lv(i,h,t),t=v,l=h;var k=t.updateQueue;if(k===null){var A=new Set;A.add(l),t.updateQueue=A}else k.add(l);break e}else{if(!(t&1)){lv(i,h,t),B0();break e}l=Error(ze(426))}}else if(fn&&o.mode&1){var L=cv(a);if(L!==null){!(L.flags&65536)&&(L.flags|=256),uv(L,a,o,i,t),b0(iu(l,o));break e}}i=l=iu(l,o),Gn!==4&&(Gn=2),cd===null?cd=[i]:cd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=N5(i,l,t);nv(i,x);break e;case 1:o=l;var N=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Eo===null||!Eo.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=S5(i,o,t);nv(i,C);break e}}i=i.return}while(i!==null)}$5(n)}catch(q){t=q,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(!0)}function z5(){var e=kf.current;return kf.current=jf,e===null?jf:e}function B0(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),er===null||!(Bl&268435455)&&!(Jf&268435455)||yo(er,cr)}function Ef(e,t){var n=Ut;Ut|=2;var r=z5();(er!==e||cr!==t)&&(fa=null,Tl(e,t));do try{e4();break}catch(s){U5(e,s)}while(!0);if(x0(),Ut=n,kf.current=r,qn!==null)throw Error(ze(261));return er=null,cr=0,Gn}function e4(){for(;qn!==null;)q5(qn)}function t4(){for(;qn!==null&&!kx();)q5(qn)}function q5(e){var t=H5(e.alternate,e,ws);e.memoizedProps=e.pendingProps,t===null?$5(e):qn=t,O0.current=null}function $5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=J_(n,t),n!==null){n.flags&=32767,qn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gn=6,qn=null;return}}else if(n=G_(n,t,ws),n!==null){qn=n;return}if(t=t.sibling,t!==null){qn=t;return}qn=t=e}while(t!==null);Gn===0&&(Gn=5)}function Nl(e,t,n){var r=Kt,s=Ds.transition;try{Ds.transition=null,Kt=1,n4(e,t,n,r)}finally{Ds.transition=s,Kt=r}return null}function n4(e,t,n,r){do Kc();while(xo!==null);if(Ut&6)throw Error(ze(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fx(e,i),e===er&&(qn=er=null,cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,V5(uf,function(){return Kc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ds.transition,Ds.transition=null;var a=Kt;Kt=1;var o=Ut;Ut|=4,O0.current=null,Y_(e,n),M5(n,e),__(Jm),hf=!!Gm,Jm=Gm=null,e.current=n,X_(n),Ax(),Ut=o,Kt=a,Ds.transition=i}else e.current=n;if(Ph&&(Ph=!1,xo=e,Lf=s),i=e.pendingLanes,i===0&&(Eo=null),Px(n.stateNode),is(e,En()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Af)throw Af=!1,e=pg,pg=null,e;return Lf&1&&e.tag!==0&&Kc(),i=e.pendingLanes,i&1?e===mg?ud++:(ud=0,mg=e):ud=0,Bo(),null}function Kc(){if(xo!==null){var e=Ny(Lf),t=Ds.transition,n=Kt;try{if(Ds.transition=null,Kt=16>e?16:e,xo===null)var r=!1;else{if(e=xo,xo=null,Lf=0,Ut&6)throw Error(ze(331));var s=Ut;for(Ut|=4,tt=e.current;tt!==null;){var i=tt,a=i.child;if(tt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var h=o[l];for(tt=h;tt!==null;){var p=tt;switch(p.tag){case 0:case 11:case 15:ld(8,p,i)}var m=p.child;if(m!==null)m.return=p,tt=m;else for(;tt!==null;){p=tt;var b=p.sibling,v=p.return;if(O5(p),p===h){tt=null;break}if(b!==null){b.return=v,tt=b;break}tt=v}}}var k=i.alternate;if(k!==null){var A=k.child;if(A!==null){k.child=null;do{var L=A.sibling;A.sibling=null,A=L}while(A!==null)}}tt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,tt=a;else e:for(;tt!==null;){if(i=tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ld(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,tt=x;break e}tt=i.return}}var N=e.current;for(tt=N;tt!==null;){a=tt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,tt=_;else e:for(a=N;tt!==null;){if(o=tt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gf(9,o)}}catch(q){jn(o,o.return,q)}if(o===a){tt=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,tt=C;break e}tt=o.return}}if(Ut=s,Bo(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(Bf,e)}catch{}r=!0}return r}finally{Kt=n,Ds.transition=t}}return!1}function Nv(e,t,n){t=iu(n,t),t=N5(e,t,1),e=Lo(e,t,1),t=zr(),e!==null&&(Bd(e,1,t),is(e,t))}function jn(e,t,n){if(e.tag===3)Nv(e,e,n);else for(;t!==null;){if(t.tag===3){Nv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){e=iu(n,e),e=S5(t,e,1),t=Lo(t,e,1),e=zr(),t!==null&&(Bd(t,1,e),is(t,e));break}}t=t.return}}function r4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&n,er===e&&(cr&n)===n&&(Gn===4||Gn===3&&(cr&130023424)===cr&&500>En()-F0?Tl(e,0):R0|=n),is(e,t)}function W5(e,t){t===0&&(e.mode&1?(t=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):t=1);var n=zr();e=xa(e,t),e!==null&&(Bd(e,t,n),is(e,n))}function s4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),W5(e,n)}function i4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),W5(e,n)}var H5;H5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rs.current)ns=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ns=!1,V_(e,t,n);ns=!!(e.flags&131072)}else ns=!1,fn&&t.flags&1048576&&Ky(t,bf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jh(e,t),e=t.pendingProps;var s=tu(t,Er.current);Jc(t,n),s=E0(null,t,r,e,s,n);var i=P0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ss(r)?(i=!0,vf(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,S0(t),s.updater=Vf,t.stateNode=s,s._reactInternals=t,rg(t,r,e,n),t=ag(null,t,r,!0,i,n)):(t.tag=0,fn&&i&&v0(t),Ur(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jh(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=o4(r),e=oi(r,e),s){case 0:t=ig(null,t,r,e,n);break e;case 1:t=fv(null,t,r,e,n);break e;case 11:t=dv(null,t,r,e,n);break e;case 14:t=hv(null,t,r,oi(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oi(r,s),ig(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oi(r,s),fv(e,t,r,s,n);case 3:e:{if(L5(t),e===null)throw Error(ze(387));r=t.pendingProps,i=t.memoizedState,s=i.element,t5(e,t),_f(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=iu(Error(ze(423)),t),t=pv(e,t,r,n,s);break e}else if(r!==s){s=iu(Error(ze(424)),t),t=pv(e,t,r,n,s);break e}else for(xs=Ao(t.stateNode.containerInfo.firstChild),Ns=t,fn=!0,di=null,n=Zy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nu(),r===s){t=_a(e,t,n);break e}Ur(e,t,r,n)}t=t.child}return t;case 5:return n5(t),e===null&&eg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Km(r,s)?a=null:i!==null&&Km(r,i)&&(t.flags|=32),A5(e,t),Ur(e,t,a,n),t.child;case 6:return e===null&&eg(t),null;case 13:return E5(e,t,n);case 4:return j0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ru(t,null,r,n):Ur(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oi(r,s),dv(e,t,r,s,n);case 7:return Ur(e,t,t.pendingProps,n),t.child;case 8:return Ur(e,t,t.pendingProps.children,n),t.child;case 12:return Ur(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,rn(wf,r._currentValue),r._currentValue=a,i!==null)if(pi(i.value,a)){if(i.children===s.children&&!rs.current){t=_a(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ya(-1,n&-n),l.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tg(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ze(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),tg(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ur(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Jc(t,n),s=Bs(s),r=r(s),t.flags|=1,Ur(e,t,r,n),t.child;case 14:return r=t.type,s=oi(r,t.pendingProps),s=oi(r.type,s),hv(e,t,r,s,n);case 15:return j5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:oi(r,s),Jh(e,t),t.tag=1,ss(r)?(e=!0,vf(t)):e=!1,Jc(t,n),_5(t,r,s),rg(t,r,s,n),ag(null,t,r,!0,e,n);case 19:return P5(e,t,n);case 22:return k5(e,t,n)}throw Error(ze(156,t.tag))};function V5(e,t){return by(e,t)}function a4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,n,r){return new a4(e,t,n,r)}function U0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o4(e){if(typeof e=="function")return U0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i0)return 11;if(e===a0)return 14}return 2}function Co(e,t){var n=e.alternate;return n===null?(n=Ms(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xh(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")U0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Tc:return Il(n.children,s,i,t);case s0:a=8,s|=8;break;case Am:return e=Ms(12,n,t,s|2),e.elementType=Am,e.lanes=i,e;case Lm:return e=Ms(13,n,t,s),e.elementType=Lm,e.lanes=i,e;case Em:return e=Ms(19,n,t,s),e.elementType=Em,e.lanes=i,e;case ny:return Kf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ey:a=10;break e;case ty:a=9;break e;case i0:a=11;break e;case a0:a=14;break e;case mo:a=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Ms(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Il(e,t,n,r){return e=Ms(7,e,r,t),e.lanes=n,e}function Kf(e,t,n,r){return e=Ms(22,e,r,t),e.elementType=ny,e.lanes=n,e.stateNode={isHidden:!1},e}function tm(e,t,n){return e=Ms(6,e,null,t),e.lanes=n,e}function nm(e,t,n){return t=Ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l4(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fp(0),this.expirationTimes=Fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function z0(e,t,n,r,s,i,a,o,l){return e=new l4(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ms(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S0(i),e}function c4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function G5(e){if(!e)return Oo;e=e._reactInternals;e:{if($l(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(ss(n))return Gy(e,n,t)}return t}function J5(e,t,n,r,s,i,a,o,l){return e=z0(n,r,!0,e,s,i,a,o,l),e.context=G5(null),n=e.current,r=zr(),s=Po(n),i=ya(r,s),i.callback=t??null,Lo(n,i,s),e.current.lanes=s,Bd(e,s,r),is(e,r),e}function Yf(e,t,n,r){var s=t.current,i=zr(),a=Po(s);return n=G5(n),t.context===null?t.context=n:t.pendingContext=n,t=ya(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lo(s,t,a),e!==null&&(fi(e,s,a,i),Hh(e,s,a)),a}function Pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function q0(e,t){Sv(e,t),(e=e.alternate)&&Sv(e,t)}function u4(){return null}var K5=typeof reportError=="function"?reportError:function(e){console.error(e)};function $0(e){this._internalRoot=e}Xf.prototype.render=$0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));Yf(e,t,null,null)};Xf.prototype.unmount=$0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ul(function(){Yf(null,e,null,null)}),t[wa]=null}};function Xf(e){this._internalRoot=e}Xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=ky();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vo.length&&t!==0&&t<vo[n].priority;n++);vo.splice(n,0,e),n===0&&Ly(e)}};function W0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jv(){}function d4(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=Pf(a);i.call(h)}}var a=J5(t,r,e,0,null,!1,!1,"",jv);return e._reactRootContainer=a,e[wa]=a.current,Sd(e.nodeType===8?e.parentNode:e),Ul(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var h=Pf(l);o.call(h)}}var l=z0(e,0,!1,null,null,!1,!1,"",jv);return e._reactRootContainer=l,e[wa]=l.current,Sd(e.nodeType===8?e.parentNode:e),Ul(function(){Yf(t,l,n,r)}),l}function Zf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Pf(a);o.call(l)}}Yf(t,a,e,s)}else a=d4(n,t,e,s,r);return Pf(a)}Sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qu(t.pendingLanes);n!==0&&(c0(t,n|1),is(t,En()),!(Ut&6)&&(au=En()+500,Bo()))}break;case 13:Ul(function(){var r=xa(e,1);if(r!==null){var s=zr();fi(r,e,1,s)}}),q0(e,1)}};u0=function(e){if(e.tag===13){var t=xa(e,134217728);if(t!==null){var n=zr();fi(t,e,134217728,n)}q0(e,134217728)}};jy=function(e){if(e.tag===13){var t=Po(e),n=xa(e,t);if(n!==null){var r=zr();fi(n,e,t,r)}q0(e,t)}};ky=function(){return Kt};Ay=function(e,t){var n=Kt;try{return Kt=e,t()}finally{Kt=n}};Bm=function(e,t,n){switch(t){case"input":if(Tm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$f(r);if(!s)throw Error(ze(90));sy(r),Tm(r,s)}}}break;case"textarea":ay(e,n);break;case"select":t=n.value,t!=null&&Wc(e,!!n.multiple,t,!1)}};fy=M0;py=Ul;var h4={usingClientEntryPoint:!1,Events:[zd,Fc,$f,dy,hy,M0]},Wu={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f4={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Na.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vy(e),e===null?null:e.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||u4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Bf=Ch.inject(f4),qi=Ch}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h4;ks.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(t))throw Error(ze(200));return c4(e,t,null,n)};ks.createRoot=function(e,t){if(!W0(e))throw Error(ze(299));var n=!1,r="",s=K5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=z0(e,1,!1,null,null,n,!1,r,s),e[wa]=t.current,Sd(e.nodeType===8?e.parentNode:e),new $0(t)};ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=vy(t),e=e===null?null:e.stateNode,e};ks.flushSync=function(e){return Ul(e)};ks.hydrate=function(e,t,n){if(!Qf(t))throw Error(ze(200));return Zf(null,e,t,!0,n)};ks.hydrateRoot=function(e,t,n){if(!W0(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=K5;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=J5(t,null,e,1,n??null,s,!1,i,a),e[wa]=t.current,Sd(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xf(t)};ks.render=function(e,t,n){if(!Qf(t))throw Error(ze(200));return Zf(null,e,t,!1,n)};ks.unmountComponentAtNode=function(e){if(!Qf(e))throw Error(ze(40));return e._reactRootContainer?(Ul(function(){Zf(null,null,e,!1,function(){e._reactRootContainer=null,e[wa]=null})}),!0):!1};ks.unstable_batchedUpdates=M0;ks.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qf(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return Zf(e,t,n,!1,r)};ks.version="18.3.1-next-f1338f8080-20240426";function Y5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y5)}catch(e){console.error(e)}}Y5(),Y2.exports=ks;var p4=Y2.exports,X5,kv=p4;X5=kv.createRoot,kv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}var _o;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_o||(_o={}));const Av="popstate";function m4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:o}=r.location;return yg("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cf(s)}return v4(t,n,null,e)}function In(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g4(){return Math.random().toString(36).substr(2,8)}function Lv(e,t){return{usr:e.state,key:e.key,idx:t}}function yg(e,t,n,r){return n===void 0&&(n=null),Id({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fu(t):t,{state:n,key:t&&t.key||r||g4()})}function Cf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=_o.Pop,l=null,h=p();h==null&&(h=0,a.replaceState(Id({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function m(){o=_o.Pop;let L=p(),x=L==null?null:L-h;h=L,l&&l({action:o,location:A.location,delta:x})}function b(L,x){o=_o.Push;let N=yg(A.location,L,x);h=p()+1;let _=Lv(N,h),C=A.createHref(N);try{a.pushState(_,"",C)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(C)}i&&l&&l({action:o,location:A.location,delta:1})}function v(L,x){o=_o.Replace;let N=yg(A.location,L,x);h=p();let _=Lv(N,h),C=A.createHref(N);a.replaceState(_,"",C),i&&l&&l({action:o,location:A.location,delta:0})}function k(L){let x=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof L=="string"?L:Cf(L);return N=N.replace(/ $/,"%20"),In(x,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,x)}let A={get action(){return o},get location(){return e(s,a)},listen(L){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Av,m),l=L,()=>{s.removeEventListener(Av,m),l=null}},createHref(L){return t(s,L)},createURL:k,encodeLocation(L){let x=k(L);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:v,go(L){return a.go(L)}};return A}var Ev;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ev||(Ev={}));function y4(e,t,n){return n===void 0&&(n="/"),b4(e,t,n)}function b4(e,t,n,r){let s=typeof t=="string"?fu(t):t,i=H0(s.pathname||"/",n);if(i==null)return null;let a=Z5(e);w4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let h=T4(i);o=E4(a[l],h)}return o}function Z5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(In(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let h=To([r,l.relativePath]),p=n.concat(l);i.children&&i.children.length>0&&(In(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Z5(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:A4(h,i.index),routesMeta:p})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of eb(i.path))s(i,a,l)}),t}function eb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=eb(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function w4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:L4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x4=/^:[\w-]+$/,_4=3,N4=2,S4=1,j4=10,k4=-2,Pv=e=>e==="*";function A4(e,t){let n=e.split("/"),r=n.length;return n.some(Pv)&&(r+=k4),t&&(r+=N4),n.filter(s=>!Pv(s)).reduce((s,i)=>s+(x4.test(i)?_4:i===""?S4:j4),r)}function L4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function E4(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],h=o===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=P4({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},p),b=l.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:To([i,m.pathname]),pathnameBase:F4(To([i,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(i=To([i,m.pathnameBase]))}return a}function P4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:b,isOptional:v}=p;if(b==="*"){let A=o[m]||"";a=i.slice(0,i.length-A.length).replace(/(.)\/+$/,"$1")}const k=o[m];return v&&!k?h[b]=void 0:h[b]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:e}}function C4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Q5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function T4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function H0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function I4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?fu(e):e;return{pathname:n?n.startsWith("/")?n:O4(n,t):t,search:M4(r),hash:D4(s)}}function O4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function V0(e,t){let n=R4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function G0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=fu(e):(s=Id({},e),In(!s.pathname||!s.pathname.includes("?"),rm("?","pathname","search",s)),In(!s.pathname||!s.pathname.includes("#"),rm("#","pathname","hash",s)),In(!s.search||!s.search.includes("#"),rm("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),m-=1;s.pathname=b.join("/")}o=m>=0?t[m]:"/"}let l=I4(s,o),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||p)&&(l.pathname+="/"),l}const To=e=>e.join("/").replace(/\/\/+/g,"/"),F4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tb=["post","put","patch","delete"];new Set(tb);const U4=["get",...tb];new Set(U4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Od.apply(this,arguments)}const J0=B.createContext(null),z4=B.createContext(null),Uo=B.createContext(null),ep=B.createContext(null),Sa=B.createContext({outlet:null,matches:[],isDataRoute:!1}),nb=B.createContext(null);function q4(e,t){let{relative:n}=t===void 0?{}:t;pu()||In(!1);let{basename:r,navigator:s}=B.useContext(Uo),{hash:i,pathname:a,search:o}=sb(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:To([r,a])),s.createHref({pathname:l,search:o,hash:i})}function pu(){return B.useContext(ep)!=null}function ja(){return pu()||In(!1),B.useContext(ep).location}function rb(e){B.useContext(Uo).static||B.useLayoutEffect(e)}function Wr(){let{isDataRoute:e}=B.useContext(Sa);return e?r3():$4()}function $4(){pu()||In(!1);let e=B.useContext(J0),{basename:t,future:n,navigator:r}=B.useContext(Uo),{matches:s}=B.useContext(Sa),{pathname:i}=ja(),a=JSON.stringify(V0(s,n.v7_relativeSplatPath)),o=B.useRef(!1);return rb(()=>{o.current=!0}),B.useCallback(function(h,p){if(p===void 0&&(p={}),!o.current)return;if(typeof h=="number"){r.go(h);return}let m=G0(h,JSON.parse(a),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:To([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,a,i,e])}const W4=B.createContext(null);function H4(e){let t=B.useContext(Sa).outlet;return t&&B.createElement(W4.Provider,{value:e},t)}function sb(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=B.useContext(Uo),{matches:s}=B.useContext(Sa),{pathname:i}=ja(),a=JSON.stringify(V0(s,r.v7_relativeSplatPath));return B.useMemo(()=>G0(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function V4(e,t){return G4(e,t)}function G4(e,t,n,r){pu()||In(!1);let{navigator:s}=B.useContext(Uo),{matches:i}=B.useContext(Sa),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let h=ja(),p;if(t){var m;let L=typeof t=="string"?fu(t):t;l==="/"||(m=L.pathname)!=null&&m.startsWith(l)||In(!1),p=L}else p=h;let b=p.pathname||"/",v=b;if(l!=="/"){let L=l.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=y4(e,{pathname:v}),A=Q4(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},o,L.params),pathname:To([l,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?l:To([l,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),i,n,r);return t&&A?B.createElement(ep.Provider,{value:{location:Od({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:_o.Pop}},A):A}function J4(){let e=n3(),t=B4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:s},n):null,null)}const K4=B.createElement(J4,null);class Y4 extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?B.createElement(Sa.Provider,{value:this.props.routeContext},B.createElement(nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X4(e){let{routeContext:t,match:n,children:r}=e,s=B.useContext(J0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Sa.Provider,{value:t},r)}function Q4(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let p=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);p>=0||In(!1),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:b,errors:v}=n,k=m.route.loader&&b[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||k){l=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,m,b)=>{let v,k=!1,A=null,L=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,A=m.route.errorElement||K4,l&&(h<0&&b===0?(s3("route-fallback"),k=!0,L=null):h===b&&(k=!0,L=m.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,b+1)),N=()=>{let _;return v?_=A:k?_=L:m.route.Component?_=B.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=p,B.createElement(X4,{match:m,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?B.createElement(Y4,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}var ib=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ib||{}),ab=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ab||{});function Z4(e){let t=B.useContext(J0);return t||In(!1),t}function e3(e){let t=B.useContext(z4);return t||In(!1),t}function t3(e){let t=B.useContext(Sa);return t||In(!1),t}function ob(e){let t=t3(),n=t.matches[t.matches.length-1];return n.route.id||In(!1),n.route.id}function n3(){var e;let t=B.useContext(nb),n=e3(),r=ob();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function r3(){let{router:e}=Z4(ib.UseNavigateStable),t=ob(ab.UseNavigateStable),n=B.useRef(!1);return rb(()=>{n.current=!0}),B.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Od({fromRouteId:t},i)))},[e,t])}const Cv={};function s3(e,t,n){Cv[e]||(Cv[e]=!0)}function i3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lb(e){let{to:t,replace:n,state:r,relative:s}=e;pu()||In(!1);let{future:i,static:a}=B.useContext(Uo),{matches:o}=B.useContext(Sa),{pathname:l}=ja(),h=Wr(),p=G0(t,V0(o,i.v7_relativeSplatPath),l,s==="path"),m=JSON.stringify(p);return B.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:s}),[h,m,s,n,r]),null}function a3(e){return H4(e.context)}function vn(e){In(!1)}function o3(e){let{basename:t="/",children:n=null,location:r,navigationType:s=_o.Pop,navigator:i,static:a=!1,future:o}=e;pu()&&In(!1);let l=t.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:l,navigator:i,static:a,future:Od({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=fu(r));let{pathname:p="/",search:m="",hash:b="",state:v=null,key:k="default"}=r,A=B.useMemo(()=>{let L=H0(p,l);return L==null?null:{location:{pathname:L,search:m,hash:b,state:v,key:k},navigationType:s}},[l,p,m,b,v,k,s]);return A==null?null:B.createElement(Uo.Provider,{value:h},B.createElement(ep.Provider,{children:n,value:A}))}function l3(e){let{children:t,location:n}=e;return V4(bg(t),n)}new Promise(()=>{});function bg(e,t){t===void 0&&(t=[]);let n=[];return B.Children.forEach(e,(r,s)=>{if(!B.isValidElement(r))return;let i=[...t,s];if(r.type===B.Fragment){n.push.apply(n,bg(r.props.children,i));return}r.type!==vn&&In(!1),!r.props.index||!r.props.children||In(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bg(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}function c3(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function u3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d3(e,t){return e.button===0&&(!t||t==="_self")&&!u3(e)}function xg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function h3(e,t){let n=xg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const f3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p3="6";try{window.__reactRouterVersion=p3}catch{}const m3="startTransition",Tv=rx[m3];function g3(e){let{basename:t,children:n,future:r,window:s}=e,i=B.useRef();i.current==null&&(i.current=m4({window:s,v5Compat:!0}));let a=i.current,[o,l]=B.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=B.useCallback(m=>{h&&Tv?Tv(()=>l(m)):l(m)},[l,h]);return B.useLayoutEffect(()=>a.listen(p),[a,p]),B.useEffect(()=>i3(r),[r]),B.createElement(o3,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const v3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ou=B.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:h,preventScrollReset:p,viewTransition:m}=t,b=c3(t,f3),{basename:v}=B.useContext(Uo),k,A=!1;if(typeof h=="string"&&y3.test(h)&&(k=h,v3))try{let _=new URL(window.location.href),C=h.startsWith("//")?new URL(_.protocol+h):new URL(h),q=H0(C.pathname,v);C.origin===_.origin&&q!=null?h=q+C.search+C.hash:A=!0}catch{}let L=q4(h,{relative:s}),x=b3(h,{replace:a,state:o,target:l,preventScrollReset:p,relative:s,viewTransition:m});function N(_){r&&r(_),_.defaultPrevented||x(_)}return B.createElement("a",wg({},b,{href:k||L,onClick:A||i?r:N,ref:n,target:l}))});var Iv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Iv||(Iv={}));var Ov;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ov||(Ov={}));function b3(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=Wr(),h=ja(),p=sb(e,{relative:a});return B.useCallback(m=>{if(d3(m,n)){m.preventDefault();let b=r!==void 0?r:Cf(h)===Cf(p);l(e,{replace:b,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[h,l,p,r,s,n,e,i,a,o])}function fA(e){let t=B.useRef(xg(e)),n=B.useRef(!1),r=ja(),s=B.useMemo(()=>h3(r.search,n.current?null:t.current),[r.search]),i=Wr(),a=B.useCallback((o,l)=>{const h=xg(typeof o=="function"?o(s):o);n.current=!0,i("?"+h,l)},[i,s]);return[s,a]}var w3={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(n,r){e.exports=r()})(Ss,function(){const n=new Map,r={set(S,d,w){n.has(S)||n.set(S,new Map);const P=n.get(S);P.has(d)||P.size===0?P.set(d,w):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(P.keys())[0]}.`)},get:(S,d)=>n.has(S)&&n.get(S).get(d)||null,remove(S,d){if(!n.has(S))return;const w=n.get(S);w.delete(d),w.size===0&&n.delete(S)}},s="transitionend",i=S=>(S&&window.CSS&&window.CSS.escape&&(S=S.replace(/#([^\s"#']+)/g,(d,w)=>`#${CSS.escape(w)}`)),S),a=S=>S==null?`${S}`:Object.prototype.toString.call(S).match(/\s([a-z]+)/i)[1].toLowerCase(),o=S=>{S.dispatchEvent(new Event(s))},l=S=>!(!S||typeof S!="object")&&(S.jquery!==void 0&&(S=S[0]),S.nodeType!==void 0),h=S=>l(S)?S.jquery?S[0]:S:typeof S=="string"&&S.length>0?document.querySelector(i(S)):null,p=S=>{if(!l(S)||S.getClientRects().length===0)return!1;const d=getComputedStyle(S).getPropertyValue("visibility")==="visible",w=S.closest("details:not([open])");if(!w)return d;if(w!==S){const P=S.closest("summary");if(P&&P.parentNode!==w||P===null)return!1}return d},m=S=>!S||S.nodeType!==Node.ELEMENT_NODE||!!S.classList.contains("disabled")||(S.disabled!==void 0?S.disabled:S.hasAttribute("disabled")&&S.getAttribute("disabled")!=="false"),b=S=>{if(!document.documentElement.attachShadow)return null;if(typeof S.getRootNode=="function"){const d=S.getRootNode();return d instanceof ShadowRoot?d:null}return S instanceof ShadowRoot?S:S.parentNode?b(S.parentNode):null},v=()=>{},k=S=>{S.offsetHeight},A=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,L=[],x=()=>document.documentElement.dir==="rtl",N=S=>{var d;d=()=>{const w=A();if(w){const P=S.NAME,R=w.fn[P];w.fn[P]=S.jQueryInterface,w.fn[P].Constructor=S,w.fn[P].noConflict=()=>(w.fn[P]=R,S.jQueryInterface)}},document.readyState==="loading"?(L.length||document.addEventListener("DOMContentLoaded",()=>{for(const w of L)w()}),L.push(d)):d()},_=(S,d=[],w=S)=>typeof S=="function"?S.call(...d):w,C=(S,d,w=!0)=>{if(!w)return void _(S);const P=(le=>{if(!le)return 0;let{transitionDuration:pe,transitionDelay:ye}=window.getComputedStyle(le);const Ae=Number.parseFloat(pe),je=Number.parseFloat(ye);return Ae||je?(pe=pe.split(",")[0],ye=ye.split(",")[0],1e3*(Number.parseFloat(pe)+Number.parseFloat(ye))):0})(d)+5;let R=!1;const D=({target:le})=>{le===d&&(R=!0,d.removeEventListener(s,D),_(S))};d.addEventListener(s,D),setTimeout(()=>{R||o(d)},P)},q=(S,d,w,P)=>{const R=S.length;let D=S.indexOf(d);return D===-1?!w&&P?S[R-1]:S[0]:(D+=w?1:-1,P&&(D=(D+R)%R),S[Math.max(0,Math.min(D,R-1))])},G=/[^.]*(?=\..*)\.|.*/,H=/\..*/,$=/::\d+$/,ie={};let Z=1;const O={mouseenter:"mouseover",mouseleave:"mouseout"},U=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ee(S,d){return d&&`${d}::${Z++}`||S.uidEvent||Z++}function V(S){const d=ee(S);return S.uidEvent=d,ie[d]=ie[d]||{},ie[d]}function ve(S,d,w=null){return Object.values(S).find(P=>P.callable===d&&P.delegationSelector===w)}function de(S,d,w){const P=typeof d=="string",R=P?w:d||w;let D=Y(S);return U.has(D)||(D=S),[P,R,D]}function be(S,d,w,P,R){if(typeof d!="string"||!S)return;let[D,le,pe]=de(d,w,P);d in O&&(le=(Qe=>function(Ke){if(!Ke.relatedTarget||Ke.relatedTarget!==Ke.delegateTarget&&!Ke.delegateTarget.contains(Ke.relatedTarget))return Qe.call(this,Ke)})(le));const ye=V(S),Ae=ye[pe]||(ye[pe]={}),je=ve(Ae,le,D?w:null);if(je)return void(je.oneOff=je.oneOff&&R);const Ie=ee(le,d.replace(G,"")),Oe=D?function(He,Qe,Ke){return function Ve(at){const ct=He.querySelectorAll(Qe);for(let{target:Ge}=at;Ge&&Ge!==this;Ge=Ge.parentNode)for(const mt of ct)if(mt===Ge)return E(at,{delegateTarget:Ge}),Ve.oneOff&&K.off(He,at.type,Qe,Ke),Ke.apply(Ge,[at])}}(S,w,le):function(He,Qe){return function Ke(Ve){return E(Ve,{delegateTarget:He}),Ke.oneOff&&K.off(He,Ve.type,Qe),Qe.apply(He,[Ve])}}(S,le);Oe.delegationSelector=D?w:null,Oe.callable=le,Oe.oneOff=R,Oe.uidEvent=Ie,Ae[Ie]=Oe,S.addEventListener(pe,Oe,D)}function se(S,d,w,P,R){const D=ve(d[w],P,R);D&&(S.removeEventListener(w,D,!!R),delete d[w][D.uidEvent])}function ue(S,d,w,P){const R=d[w]||{};for(const[D,le]of Object.entries(R))D.includes(P)&&se(S,d,w,le.callable,le.delegationSelector)}function Y(S){return S=S.replace(H,""),O[S]||S}const K={on(S,d,w,P){be(S,d,w,P,!1)},one(S,d,w,P){be(S,d,w,P,!0)},off(S,d,w,P){if(typeof d!="string"||!S)return;const[R,D,le]=de(d,w,P),pe=le!==d,ye=V(S),Ae=ye[le]||{},je=d.startsWith(".");if(D===void 0){if(je)for(const Ie of Object.keys(ye))ue(S,ye,Ie,d.slice(1));for(const[Ie,Oe]of Object.entries(Ae)){const He=Ie.replace($,"");pe&&!d.includes(He)||se(S,ye,le,Oe.callable,Oe.delegationSelector)}}else{if(!Object.keys(Ae).length)return;se(S,ye,le,D,R?w:null)}},trigger(S,d,w){if(typeof d!="string"||!S)return null;const P=A();let R=null,D=!0,le=!0,pe=!1;d!==Y(d)&&P&&(R=P.Event(d,w),P(S).trigger(R),D=!R.isPropagationStopped(),le=!R.isImmediatePropagationStopped(),pe=R.isDefaultPrevented());const ye=E(new Event(d,{bubbles:D,cancelable:!0}),w);return pe&&ye.preventDefault(),le&&S.dispatchEvent(ye),ye.defaultPrevented&&R&&R.preventDefault(),ye}};function E(S,d={}){for(const[w,P]of Object.entries(d))try{S[w]=P}catch{Object.defineProperty(S,w,{configurable:!0,get:()=>P})}return S}function J(S){if(S==="true")return!0;if(S==="false")return!1;if(S===Number(S).toString())return Number(S);if(S===""||S==="null")return null;if(typeof S!="string")return S;try{return JSON.parse(decodeURIComponent(S))}catch{return S}}function X(S){return S.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const oe={setDataAttribute(S,d,w){S.setAttribute(`data-bs-${X(d)}`,w)},removeDataAttribute(S,d){S.removeAttribute(`data-bs-${X(d)}`)},getDataAttributes(S){if(!S)return{};const d={},w=Object.keys(S.dataset).filter(P=>P.startsWith("bs")&&!P.startsWith("bsConfig"));for(const P of w){let R=P.replace(/^bs/,"");R=R.charAt(0).toLowerCase()+R.slice(1),d[R]=J(S.dataset[P])}return d},getDataAttribute:(S,d)=>J(S.getAttribute(`data-bs-${X(d)}`))};class he{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,w){const P=l(w)?oe.getDataAttribute(w,"config"):{};return{...this.constructor.Default,...typeof P=="object"?P:{},...l(w)?oe.getDataAttributes(w):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,w=this.constructor.DefaultType){for(const[P,R]of Object.entries(w)){const D=d[P],le=l(D)?"element":a(D);if(!new RegExp(R).test(le))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${P}" provided type "${le}" but expected type "${R}".`)}}}class ne extends he{constructor(d,w){super(),(d=h(d))&&(this._element=d,this._config=this._getConfig(w),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),K.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,w,P=!0){C(d,w,P)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return r.get(h(d),this.DATA_KEY)}static getOrCreateInstance(d,w={}){return this.getInstance(d)||new this(d,typeof w=="object"?w:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const ce=S=>{let d=S.getAttribute("data-bs-target");if(!d||d==="#"){let w=S.getAttribute("href");if(!w||!w.includes("#")&&!w.startsWith("."))return null;w.includes("#")&&!w.startsWith("#")&&(w=`#${w.split("#")[1]}`),d=w&&w!=="#"?w.trim():null}return d?d.split(",").map(w=>i(w)).join(","):null},ae={find:(S,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,S)),findOne:(S,d=document.documentElement)=>Element.prototype.querySelector.call(d,S),children:(S,d)=>[].concat(...S.children).filter(w=>w.matches(d)),parents(S,d){const w=[];let P=S.parentNode.closest(d);for(;P;)w.push(P),P=P.parentNode.closest(d);return w},prev(S,d){let w=S.previousElementSibling;for(;w;){if(w.matches(d))return[w];w=w.previousElementSibling}return[]},next(S,d){let w=S.nextElementSibling;for(;w;){if(w.matches(d))return[w];w=w.nextElementSibling}return[]},focusableChildren(S){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(w=>`${w}:not([tabindex^="-"])`).join(",");return this.find(d,S).filter(w=>!m(w)&&p(w))},getSelectorFromElement(S){const d=ce(S);return d&&ae.findOne(d)?d:null},getElementFromSelector(S){const d=ce(S);return d?ae.findOne(d):null},getMultipleElementsFromSelector(S){const d=ce(S);return d?ae.find(d):[]}},me=(S,d="hide")=>{const w=`click.dismiss${S.EVENT_KEY}`,P=S.NAME;K.on(document,w,`[data-bs-dismiss="${P}"]`,function(R){if(["A","AREA"].includes(this.tagName)&&R.preventDefault(),m(this))return;const D=ae.getElementFromSelector(this)||this.closest(`.${P}`);S.getOrCreateInstance(D)[d]()})},xe=".bs.alert",Ce=`close${xe}`,Te=`closed${xe}`;class Me extends ne{static get NAME(){return"alert"}close(){if(K.trigger(this._element,Ce).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),K.trigger(this._element,Te),this.dispose()}static jQueryInterface(d){return this.each(function(){const w=Me.getOrCreateInstance(this);if(typeof d=="string"){if(w[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);w[d](this)}})}}me(Me,"close"),N(Me);const _e='[data-bs-toggle="button"]';class te extends ne{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const w=te.getOrCreateInstance(this);d==="toggle"&&w[d]()})}}K.on(document,"click.bs.button.data-api",_e,S=>{S.preventDefault();const d=S.target.closest(_e);te.getOrCreateInstance(d).toggle()}),N(te);const $e=".bs.swipe",We=`touchstart${$e}`,Ee=`touchmove${$e}`,Fe=`touchend${$e}`,Ue=`pointerdown${$e}`,qe=`pointerup${$e}`,et={endCallback:null,leftCallback:null,rightCallback:null},ft={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class gt extends he{constructor(d,w){super(),this._element=d,d&&gt.isSupported()&&(this._config=this._getConfig(w),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return et}static get DefaultType(){return ft}static get NAME(){return"swipe"}dispose(){K.off(this._element,$e)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const w=d/this._deltaX;this._deltaX=0,w&&_(w>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(K.on(this._element,Ue,d=>this._start(d)),K.on(this._element,qe,d=>this._end(d)),this._element.classList.add("pointer-event")):(K.on(this._element,We,d=>this._start(d)),K.on(this._element,Ee,d=>this._move(d)),K.on(this._element,Fe,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const lt=".bs.carousel",Se=".data-api",Be="ArrowLeft",De="ArrowRight",Je="next",ke="prev",Rt="left",_t="right",On=`slide${lt}`,St=`slid${lt}`,Et=`keydown${lt}`,Yt=`mouseenter${lt}`,kt=`mouseleave${lt}`,Rn=`dragstart${lt}`,qt=`load${lt}${Se}`,Ye=`click${lt}${Se}`,Nt="carousel",ht="active",Ze=".active",jt=".carousel-item",Fn=Ze+jt,Ht={[Be]:_t,[De]:Rt},Pr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Hr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class st extends ne{constructor(d,w){super(d,w),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ae.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Nt&&this.cycle()}static get Default(){return Pr}static get DefaultType(){return Hr}static get NAME(){return"carousel"}next(){this._slide(Je)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(ke)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?K.one(this._element,St,()=>this.cycle()):this.cycle())}to(d){const w=this._getItems();if(d>w.length-1||d<0)return;if(this._isSliding)return void K.one(this._element,St,()=>this.to(d));const P=this._getItemIndex(this._getActive());if(P===d)return;const R=d>P?Je:ke;this._slide(R,w[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&K.on(this._element,Et,d=>this._keydown(d)),this._config.pause==="hover"&&(K.on(this._element,Yt,()=>this.pause()),K.on(this._element,kt,()=>this._maybeEnableCycle())),this._config.touch&&gt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const w of ae.find(".carousel-item img",this._element))K.on(w,Rn,P=>P.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Rt)),rightCallback:()=>this._slide(this._directionToOrder(_t)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new gt(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const w=Ht[d.key];w&&(d.preventDefault(),this._slide(this._directionToOrder(w)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const w=ae.findOne(Ze,this._indicatorsElement);w.classList.remove(ht),w.removeAttribute("aria-current");const P=ae.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);P&&(P.classList.add(ht),P.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const w=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=w||this._config.defaultInterval}_slide(d,w=null){if(this._isSliding)return;const P=this._getActive(),R=d===Je,D=w||q(this._getItems(),P,R,this._config.wrap);if(D===P)return;const le=this._getItemIndex(D),pe=Ie=>K.trigger(this._element,Ie,{relatedTarget:D,direction:this._orderToDirection(d),from:this._getItemIndex(P),to:le});if(pe(On).defaultPrevented||!P||!D)return;const ye=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(le),this._activeElement=D;const Ae=R?"carousel-item-start":"carousel-item-end",je=R?"carousel-item-next":"carousel-item-prev";D.classList.add(je),k(D),P.classList.add(Ae),D.classList.add(Ae),this._queueCallback(()=>{D.classList.remove(Ae,je),D.classList.add(ht),P.classList.remove(ht,je,Ae),this._isSliding=!1,pe(St)},P,this._isAnimated()),ye&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ae.findOne(Fn,this._element)}_getItems(){return ae.find(jt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return x()?d===Rt?ke:Je:d===Rt?Je:ke}_orderToDirection(d){return x()?d===ke?Rt:_t:d===ke?_t:Rt}static jQueryInterface(d){return this.each(function(){const w=st.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(w[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);w[d]()}}else w.to(d)})}}K.on(document,Ye,"[data-bs-slide], [data-bs-slide-to]",function(S){const d=ae.getElementFromSelector(this);if(!d||!d.classList.contains(Nt))return;S.preventDefault();const w=st.getOrCreateInstance(d),P=this.getAttribute("data-bs-slide-to");return P?(w.to(P),void w._maybeEnableCycle()):oe.getDataAttribute(this,"slide")==="next"?(w.next(),void w._maybeEnableCycle()):(w.prev(),void w._maybeEnableCycle())}),K.on(window,qt,()=>{const S=ae.find('[data-bs-ride="carousel"]');for(const d of S)st.getOrCreateInstance(d)}),N(st);const tr=".bs.collapse",Ls=`show${tr}`,dr=`shown${tr}`,kn=`hide${tr}`,xn=`hidden${tr}`,Cr=`click${tr}.data-api`,yi="show",hr="collapse",fr="collapsing",cs=`:scope .${hr} .${hr}`,Tr='[data-bs-toggle="collapse"]',Es={parent:null,toggle:!0},Vr={parent:"(null|element)",toggle:"boolean"};class nr extends ne{constructor(d,w){super(d,w),this._isTransitioning=!1,this._triggerArray=[];const P=ae.find(Tr);for(const R of P){const D=ae.getSelectorFromElement(R),le=ae.find(D).filter(pe=>pe===this._element);D!==null&&le.length&&this._triggerArray.push(R)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Es}static get DefaultType(){return Vr}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(R=>R!==this._element).map(R=>nr.getOrCreateInstance(R,{toggle:!1}))),d.length&&d[0]._isTransitioning||K.trigger(this._element,Ls).defaultPrevented)return;for(const R of d)R.hide();const w=this._getDimension();this._element.classList.remove(hr),this._element.classList.add(fr),this._element.style[w]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const P=`scroll${w[0].toUpperCase()+w.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(hr,yi),this._element.style[w]="",K.trigger(this._element,dr)},this._element,!0),this._element.style[w]=`${this._element[P]}px`}hide(){if(this._isTransitioning||!this._isShown()||K.trigger(this._element,kn).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,k(this._element),this._element.classList.add(fr),this._element.classList.remove(hr,yi);for(const w of this._triggerArray){const P=ae.getElementFromSelector(w);P&&!this._isShown(P)&&this._addAriaAndCollapsedClass([w],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(hr),K.trigger(this._element,xn)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(yi)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=h(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Tr);for(const w of d){const P=ae.getElementFromSelector(w);P&&this._addAriaAndCollapsedClass([w],this._isShown(P))}}_getFirstLevelChildren(d){const w=ae.find(cs,this._config.parent);return ae.find(d,this._config.parent).filter(P=>!w.includes(P))}_addAriaAndCollapsedClass(d,w){if(d.length)for(const P of d)P.classList.toggle("collapsed",!w),P.setAttribute("aria-expanded",w)}static jQueryInterface(d){const w={};return typeof d=="string"&&/show|hide/.test(d)&&(w.toggle=!1),this.each(function(){const P=nr.getOrCreateInstance(this,w);if(typeof d=="string"){if(P[d]===void 0)throw new TypeError(`No method named "${d}"`);P[d]()}})}}K.on(document,Cr,Tr,function(S){(S.target.tagName==="A"||S.delegateTarget&&S.delegateTarget.tagName==="A")&&S.preventDefault();for(const d of ae.getMultipleElementsFromSelector(this))nr.getOrCreateInstance(d,{toggle:!1}).toggle()}),N(nr);var pn="top",Mn="bottom",Dn="right",_n="left",zs="auto",qs=[pn,Mn,Dn,_n],$s="start",bi="end",Gi="clippingParents",ka="viewport",wi="popper",Aa="reference",qo=qs.reduce(function(S,d){return S.concat([d+"-"+$s,d+"-"+bi])},[]),La=[].concat(qs,[zs]).reduce(function(S,d){return S.concat([d,d+"-"+$s,d+"-"+bi])},[]),Vl="beforeRead",Ji="read",Gl="afterRead",un="beforeMain",$o="main",Wo="afterMain",Ho="beforeWrite",Ea="write",Jl="afterWrite",Gr=[Vl,Ji,Gl,un,$o,Wo,Ho,Ea,Jl];function rr(S){return S?(S.nodeName||"").toLowerCase():null}function Xt(S){if(S==null)return window;if(S.toString()!=="[object Window]"){var d=S.ownerDocument;return d&&d.defaultView||window}return S}function us(S){return S instanceof Xt(S).Element||S instanceof Element}function sr(S){return S instanceof Xt(S).HTMLElement||S instanceof HTMLElement}function Vo(S){return typeof ShadowRoot<"u"&&(S instanceof Xt(S).ShadowRoot||S instanceof ShadowRoot)}const Pa={name:"applyStyles",enabled:!0,phase:"write",fn:function(S){var d=S.state;Object.keys(d.elements).forEach(function(w){var P=d.styles[w]||{},R=d.attributes[w]||{},D=d.elements[w];sr(D)&&rr(D)&&(Object.assign(D.style,P),Object.keys(R).forEach(function(le){var pe=R[le];pe===!1?D.removeAttribute(le):D.setAttribute(le,pe===!0?"":pe)}))})},effect:function(S){var d=S.state,w={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,w.popper),d.styles=w,d.elements.arrow&&Object.assign(d.elements.arrow.style,w.arrow),function(){Object.keys(d.elements).forEach(function(P){var R=d.elements[P],D=d.attributes[P]||{},le=Object.keys(d.styles.hasOwnProperty(P)?d.styles[P]:w[P]).reduce(function(pe,ye){return pe[ye]="",pe},{});sr(R)&&rr(R)&&(Object.assign(R.style,le),Object.keys(D).forEach(function(pe){R.removeAttribute(pe)}))})}},requires:["computeStyles"]};function Jr(S){return S.split("-")[0]}var Ps=Math.max,Ca=Math.min,Cs=Math.round;function Go(){var S=navigator.userAgentData;return S!=null&&S.brands&&Array.isArray(S.brands)?S.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Kl(){return!/^((?!chrome|android).)*safari/i.test(Go())}function xi(S,d,w){d===void 0&&(d=!1),w===void 0&&(w=!1);var P=S.getBoundingClientRect(),R=1,D=1;d&&sr(S)&&(R=S.offsetWidth>0&&Cs(P.width)/S.offsetWidth||1,D=S.offsetHeight>0&&Cs(P.height)/S.offsetHeight||1);var le=(us(S)?Xt(S):window).visualViewport,pe=!Kl()&&w,ye=(P.left+(pe&&le?le.offsetLeft:0))/R,Ae=(P.top+(pe&&le?le.offsetTop:0))/D,je=P.width/R,Ie=P.height/D;return{width:je,height:Ie,top:Ae,right:ye+je,bottom:Ae+Ie,left:ye,x:ye,y:Ae}}function ds(S){var d=xi(S),w=S.offsetWidth,P=S.offsetHeight;return Math.abs(d.width-w)<=1&&(w=d.width),Math.abs(d.height-P)<=1&&(P=d.height),{x:S.offsetLeft,y:S.offsetTop,width:w,height:P}}function Ki(S,d){var w=d.getRootNode&&d.getRootNode();if(S.contains(d))return!0;if(w&&Vo(w)){var P=d;do{if(P&&S.isSameNode(P))return!0;P=P.parentNode||P.host}while(P)}return!1}function pr(S){return Xt(S).getComputedStyle(S)}function Yl(S){return["table","td","th"].indexOf(rr(S))>=0}function sn(S){return((us(S)?S.ownerDocument:S.document)||window.document).documentElement}function Ta(S){return rr(S)==="html"?S:S.assignedSlot||S.parentNode||(Vo(S)?S.host:null)||sn(S)}function Jo(S){return sr(S)&&pr(S).position!=="fixed"?S.offsetParent:null}function vt(S){for(var d=Xt(S),w=Jo(S);w&&Yl(w)&&pr(w).position==="static";)w=Jo(w);return w&&(rr(w)==="html"||rr(w)==="body"&&pr(w).position==="static")?d:w||function(P){var R=/firefox/i.test(Go());if(/Trident/i.test(Go())&&sr(P)&&pr(P).position==="fixed")return null;var D=Ta(P);for(Vo(D)&&(D=D.host);sr(D)&&["html","body"].indexOf(rr(D))<0;){var le=pr(D);if(le.transform!=="none"||le.perspective!=="none"||le.contain==="paint"||["transform","perspective"].indexOf(le.willChange)!==-1||R&&le.willChange==="filter"||R&&le.filter&&le.filter!=="none")return D;D=D.parentNode}return null}(S)||d}function Ko(S){return["top","bottom"].indexOf(S)>=0?"x":"y"}function Yi(S,d,w){return Ps(S,Ca(d,w))}function hs(S){return Object.assign({},{top:0,right:0,bottom:0,left:0},S)}function Yo(S,d){return d.reduce(function(w,P){return w[P]=S,w},{})}const Xo={name:"arrow",enabled:!0,phase:"main",fn:function(S){var d,w=S.state,P=S.name,R=S.options,D=w.elements.arrow,le=w.modifiersData.popperOffsets,pe=Jr(w.placement),ye=Ko(pe),Ae=[_n,Dn].indexOf(pe)>=0?"height":"width";if(D&&le){var je=function(rt,Pt){return hs(typeof(rt=typeof rt=="function"?rt(Object.assign({},Pt.rects,{placement:Pt.placement})):rt)!="number"?rt:Yo(rt,qs))}(R.padding,w),Ie=ds(D),Oe=ye==="y"?pn:_n,He=ye==="y"?Mn:Dn,Qe=w.rects.reference[Ae]+w.rects.reference[ye]-le[ye]-w.rects.popper[Ae],Ke=le[ye]-w.rects.reference[ye],Ve=vt(D),at=Ve?ye==="y"?Ve.clientHeight||0:Ve.clientWidth||0:0,ct=Qe/2-Ke/2,Ge=je[Oe],mt=at-Ie[Ae]-je[He],ut=at/2-Ie[Ae]/2+ct,ot=Yi(Ge,ut,mt),At=ye;w.modifiersData[P]=((d={})[At]=ot,d.centerOffset=ot-ut,d)}},effect:function(S){var d=S.state,w=S.options.element,P=w===void 0?"[data-popper-arrow]":w;P!=null&&(typeof P!="string"||(P=d.elements.popper.querySelector(P)))&&Ki(d.elements.popper,P)&&(d.elements.arrow=P)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fs(S){return S.split("-")[1]}var Qo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xl(S){var d,w=S.popper,P=S.popperRect,R=S.placement,D=S.variation,le=S.offsets,pe=S.position,ye=S.gpuAcceleration,Ae=S.adaptive,je=S.roundOffsets,Ie=S.isFixed,Oe=le.x,He=Oe===void 0?0:Oe,Qe=le.y,Ke=Qe===void 0?0:Qe,Ve=typeof je=="function"?je({x:He,y:Ke}):{x:He,y:Ke};He=Ve.x,Ke=Ve.y;var at=le.hasOwnProperty("x"),ct=le.hasOwnProperty("y"),Ge=_n,mt=pn,ut=window;if(Ae){var ot=vt(w),At="clientHeight",rt="clientWidth";ot===Xt(w)&&pr(ot=sn(w)).position!=="static"&&pe==="absolute"&&(At="scrollHeight",rt="scrollWidth"),(R===pn||(R===_n||R===Dn)&&D===bi)&&(mt=Mn,Ke-=(Ie&&ot===ut&&ut.visualViewport?ut.visualViewport.height:ot[At])-P.height,Ke*=ye?1:-1),R!==_n&&(R!==pn&&R!==Mn||D!==bi)||(Ge=Dn,He-=(Ie&&ot===ut&&ut.visualViewport?ut.visualViewport.width:ot[rt])-P.width,He*=ye?1:-1)}var Pt,Bt=Object.assign({position:pe},Ae&&Qo),zt=je===!0?function(Gt,$t){var an=Gt.x,gn=Gt.y,It=$t.devicePixelRatio||1;return{x:Cs(an*It)/It||0,y:Cs(gn*It)/It||0}}({x:He,y:Ke},Xt(w)):{x:He,y:Ke};return He=zt.x,Ke=zt.y,ye?Object.assign({},Bt,((Pt={})[mt]=ct?"0":"",Pt[Ge]=at?"0":"",Pt.transform=(ut.devicePixelRatio||1)<=1?"translate("+He+"px, "+Ke+"px)":"translate3d("+He+"px, "+Ke+"px, 0)",Pt)):Object.assign({},Bt,((d={})[mt]=ct?Ke+"px":"",d[Ge]=at?He+"px":"",d.transform="",d))}const Zo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(S){var d=S.state,w=S.options,P=w.gpuAcceleration,R=P===void 0||P,D=w.adaptive,le=D===void 0||D,pe=w.roundOffsets,ye=pe===void 0||pe,Ae={placement:Jr(d.placement),variation:fs(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:R,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Xl(Object.assign({},Ae,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:le,roundOffsets:ye})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Xl(Object.assign({},Ae,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ye})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var Ia={passive:!0};const Xi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(S){var d=S.state,w=S.instance,P=S.options,R=P.scroll,D=R===void 0||R,le=P.resize,pe=le===void 0||le,ye=Xt(d.elements.popper),Ae=[].concat(d.scrollParents.reference,d.scrollParents.popper);return D&&Ae.forEach(function(je){je.addEventListener("scroll",w.update,Ia)}),pe&&ye.addEventListener("resize",w.update,Ia),function(){D&&Ae.forEach(function(je){je.removeEventListener("scroll",w.update,Ia)}),pe&&ye.removeEventListener("resize",w.update,Ia)}},data:{}};var Qi={left:"right",right:"left",bottom:"top",top:"bottom"};function ps(S){return S.replace(/left|right|bottom|top/g,function(d){return Qi[d]})}var bu={start:"end",end:"start"};function _i(S){return S.replace(/start|end/g,function(d){return bu[d]})}function Zi(S){var d=Xt(S);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Ni(S){return xi(sn(S)).left+Zi(S).scrollLeft}function Oa(S){var d=pr(S),w=d.overflow,P=d.overflowX,R=d.overflowY;return/auto|scroll|overlay|hidden/.test(w+R+P)}function el(S){return["html","body","#document"].indexOf(rr(S))>=0?S.ownerDocument.body:sr(S)&&Oa(S)?S:el(Ta(S))}function Si(S,d){var w;d===void 0&&(d=[]);var P=el(S),R=P===((w=S.ownerDocument)==null?void 0:w.body),D=Xt(P),le=R?[D].concat(D.visualViewport||[],Oa(P)?P:[]):P,pe=d.concat(le);return R?pe:pe.concat(Si(Ta(le)))}function Ra(S){return Object.assign({},S,{left:S.x,top:S.y,right:S.x+S.width,bottom:S.y+S.height})}function ms(S,d,w){return d===ka?Ra(function(P,R){var D=Xt(P),le=sn(P),pe=D.visualViewport,ye=le.clientWidth,Ae=le.clientHeight,je=0,Ie=0;if(pe){ye=pe.width,Ae=pe.height;var Oe=Kl();(Oe||!Oe&&R==="fixed")&&(je=pe.offsetLeft,Ie=pe.offsetTop)}return{width:ye,height:Ae,x:je+Ni(P),y:Ie}}(S,w)):us(d)?function(P,R){var D=xi(P,!1,R==="fixed");return D.top=D.top+P.clientTop,D.left=D.left+P.clientLeft,D.bottom=D.top+P.clientHeight,D.right=D.left+P.clientWidth,D.width=P.clientWidth,D.height=P.clientHeight,D.x=D.left,D.y=D.top,D}(d,w):Ra(function(P){var R,D=sn(P),le=Zi(P),pe=(R=P.ownerDocument)==null?void 0:R.body,ye=Ps(D.scrollWidth,D.clientWidth,pe?pe.scrollWidth:0,pe?pe.clientWidth:0),Ae=Ps(D.scrollHeight,D.clientHeight,pe?pe.scrollHeight:0,pe?pe.clientHeight:0),je=-le.scrollLeft+Ni(P),Ie=-le.scrollTop;return pr(pe||D).direction==="rtl"&&(je+=Ps(D.clientWidth,pe?pe.clientWidth:0)-ye),{width:ye,height:Ae,x:je,y:Ie}}(sn(S)))}function Ts(S){var d,w=S.reference,P=S.element,R=S.placement,D=R?Jr(R):null,le=R?fs(R):null,pe=w.x+w.width/2-P.width/2,ye=w.y+w.height/2-P.height/2;switch(D){case pn:d={x:pe,y:w.y-P.height};break;case Mn:d={x:pe,y:w.y+w.height};break;case Dn:d={x:w.x+w.width,y:ye};break;case _n:d={x:w.x-P.width,y:ye};break;default:d={x:w.x,y:w.y}}var Ae=D?Ko(D):null;if(Ae!=null){var je=Ae==="y"?"height":"width";switch(le){case $s:d[Ae]=d[Ae]-(w[je]/2-P[je]/2);break;case bi:d[Ae]=d[Ae]+(w[je]/2-P[je]/2)}}return d}function ji(S,d){d===void 0&&(d={});var w=d,P=w.placement,R=P===void 0?S.placement:P,D=w.strategy,le=D===void 0?S.strategy:D,pe=w.boundary,ye=pe===void 0?Gi:pe,Ae=w.rootBoundary,je=Ae===void 0?ka:Ae,Ie=w.elementContext,Oe=Ie===void 0?wi:Ie,He=w.altBoundary,Qe=He!==void 0&&He,Ke=w.padding,Ve=Ke===void 0?0:Ke,at=hs(typeof Ve!="number"?Ve:Yo(Ve,qs)),ct=Oe===wi?Aa:wi,Ge=S.rects.popper,mt=S.elements[Qe?ct:Oe],ut=function($t,an,gn,It){var zn=an==="clippingParents"?function(wt){var $n=Si(Ta(wt)),Dr=["absolute","fixed"].indexOf(pr(wt).position)>=0&&sr(wt)?vt(wt):wt;return us(Dr)?$n.filter(function(ti){return us(ti)&&Ki(ti,Dr)&&rr(ti)!=="body"}):[]}($t):[].concat(an),Xn=[].concat(zn,[gn]),bs=Xn[0],en=Xn.reduce(function(wt,$n){var Dr=ms($t,$n,It);return wt.top=Ps(Dr.top,wt.top),wt.right=Ca(Dr.right,wt.right),wt.bottom=Ca(Dr.bottom,wt.bottom),wt.left=Ps(Dr.left,wt.left),wt},ms($t,bs,It));return en.width=en.right-en.left,en.height=en.bottom-en.top,en.x=en.left,en.y=en.top,en}(us(mt)?mt:mt.contextElement||sn(S.elements.popper),ye,je,le),ot=xi(S.elements.reference),At=Ts({reference:ot,element:Ge,placement:R}),rt=Ra(Object.assign({},Ge,At)),Pt=Oe===wi?rt:ot,Bt={top:ut.top-Pt.top+at.top,bottom:Pt.bottom-ut.bottom+at.bottom,left:ut.left-Pt.left+at.left,right:Pt.right-ut.right+at.right},zt=S.modifiersData.offset;if(Oe===wi&&zt){var Gt=zt[R];Object.keys(Bt).forEach(function($t){var an=[Dn,Mn].indexOf($t)>=0?1:-1,gn=[pn,Mn].indexOf($t)>=0?"y":"x";Bt[$t]+=Gt[gn]*an})}return Bt}function ki(S,d){d===void 0&&(d={});var w=d,P=w.placement,R=w.boundary,D=w.rootBoundary,le=w.padding,pe=w.flipVariations,ye=w.allowedAutoPlacements,Ae=ye===void 0?La:ye,je=fs(P),Ie=je?pe?qo:qo.filter(function(Qe){return fs(Qe)===je}):qs,Oe=Ie.filter(function(Qe){return Ae.indexOf(Qe)>=0});Oe.length===0&&(Oe=Ie);var He=Oe.reduce(function(Qe,Ke){return Qe[Ke]=ji(S,{placement:Ke,boundary:R,rootBoundary:D,padding:le})[Jr(Ke)],Qe},{});return Object.keys(He).sort(function(Qe,Ke){return He[Qe]-He[Ke]})}const Kr={name:"flip",enabled:!0,phase:"main",fn:function(S){var d=S.state,w=S.options,P=S.name;if(!d.modifiersData[P]._skip){for(var R=w.mainAxis,D=R===void 0||R,le=w.altAxis,pe=le===void 0||le,ye=w.fallbackPlacements,Ae=w.padding,je=w.boundary,Ie=w.rootBoundary,Oe=w.altBoundary,He=w.flipVariations,Qe=He===void 0||He,Ke=w.allowedAutoPlacements,Ve=d.options.placement,at=Jr(Ve),ct=ye||(at!==Ve&&Qe?function(wt){if(Jr(wt)===zs)return[];var $n=ps(wt);return[_i(wt),$n,_i($n)]}(Ve):[ps(Ve)]),Ge=[Ve].concat(ct).reduce(function(wt,$n){return wt.concat(Jr($n)===zs?ki(d,{placement:$n,boundary:je,rootBoundary:Ie,padding:Ae,flipVariations:Qe,allowedAutoPlacements:Ke}):$n)},[]),mt=d.rects.reference,ut=d.rects.popper,ot=new Map,At=!0,rt=Ge[0],Pt=0;Pt<Ge.length;Pt++){var Bt=Ge[Pt],zt=Jr(Bt),Gt=fs(Bt)===$s,$t=[pn,Mn].indexOf(zt)>=0,an=$t?"width":"height",gn=ji(d,{placement:Bt,boundary:je,rootBoundary:Ie,altBoundary:Oe,padding:Ae}),It=$t?Gt?Dn:_n:Gt?Mn:pn;mt[an]>ut[an]&&(It=ps(It));var zn=ps(It),Xn=[];if(D&&Xn.push(gn[zt]<=0),pe&&Xn.push(gn[It]<=0,gn[zn]<=0),Xn.every(function(wt){return wt})){rt=Bt,At=!1;break}ot.set(Bt,Xn)}if(At)for(var bs=function(wt){var $n=Ge.find(function(Dr){var ti=ot.get(Dr);if(ti)return ti.slice(0,wt).every(function(la){return la})});if($n)return rt=$n,"break"},en=Qe?3:1;en>0&&bs(en)!=="break";en--);d.placement!==rt&&(d.modifiersData[P]._skip=!0,d.placement=rt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Fa(S,d,w){return w===void 0&&(w={x:0,y:0}),{top:S.top-d.height-w.y,right:S.right-d.width+w.x,bottom:S.bottom-d.height+w.y,left:S.left-d.width-w.x}}function Ai(S){return[pn,Dn,Mn,_n].some(function(d){return S[d]>=0})}const Ql={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(S){var d=S.state,w=S.name,P=d.rects.reference,R=d.rects.popper,D=d.modifiersData.preventOverflow,le=ji(d,{elementContext:"reference"}),pe=ji(d,{altBoundary:!0}),ye=Fa(le,P),Ae=Fa(pe,R,D),je=Ai(ye),Ie=Ai(Ae);d.modifiersData[w]={referenceClippingOffsets:ye,popperEscapeOffsets:Ae,isReferenceHidden:je,hasPopperEscaped:Ie},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":je,"data-popper-escaped":Ie})}},ea={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(S){var d=S.state,w=S.options,P=S.name,R=w.offset,D=R===void 0?[0,0]:R,le=La.reduce(function(je,Ie){return je[Ie]=function(Oe,He,Qe){var Ke=Jr(Oe),Ve=[_n,pn].indexOf(Ke)>=0?-1:1,at=typeof Qe=="function"?Qe(Object.assign({},He,{placement:Oe})):Qe,ct=at[0],Ge=at[1];return ct=ct||0,Ge=(Ge||0)*Ve,[_n,Dn].indexOf(Ke)>=0?{x:Ge,y:ct}:{x:ct,y:Ge}}(Ie,d.rects,D),je},{}),pe=le[d.placement],ye=pe.x,Ae=pe.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=ye,d.modifiersData.popperOffsets.y+=Ae),d.modifiersData[P]=le}},tl={name:"popperOffsets",enabled:!0,phase:"read",fn:function(S){var d=S.state,w=S.name;d.modifiersData[w]=Ts({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Ma={name:"preventOverflow",enabled:!0,phase:"main",fn:function(S){var d=S.state,w=S.options,P=S.name,R=w.mainAxis,D=R===void 0||R,le=w.altAxis,pe=le!==void 0&&le,ye=w.boundary,Ae=w.rootBoundary,je=w.altBoundary,Ie=w.padding,Oe=w.tether,He=Oe===void 0||Oe,Qe=w.tetherOffset,Ke=Qe===void 0?0:Qe,Ve=ji(d,{boundary:ye,rootBoundary:Ae,padding:Ie,altBoundary:je}),at=Jr(d.placement),ct=fs(d.placement),Ge=!ct,mt=Ko(at),ut=mt==="x"?"y":"x",ot=d.modifiersData.popperOffsets,At=d.rects.reference,rt=d.rects.popper,Pt=typeof Ke=="function"?Ke(Object.assign({},d.rects,{placement:d.placement})):Ke,Bt=typeof Pt=="number"?{mainAxis:Pt,altAxis:Pt}:Object.assign({mainAxis:0,altAxis:0},Pt),zt=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Gt={x:0,y:0};if(ot){if(D){var $t,an=mt==="y"?pn:_n,gn=mt==="y"?Mn:Dn,It=mt==="y"?"height":"width",zn=ot[mt],Xn=zn+Ve[an],bs=zn-Ve[gn],en=He?-rt[It]/2:0,wt=ct===$s?At[It]:rt[It],$n=ct===$s?-rt[It]:-At[It],Dr=d.elements.arrow,ti=He&&Dr?ds(Dr):{width:0,height:0},la=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},to=la[an],ml=la[gn],br=Yi(0,At[It],ti[It]),no=Ge?At[It]/2-en-br-to-Bt.mainAxis:wt-br-to-Bt.mainAxis,ro=Ge?-At[It]/2+en+br+ml+Bt.mainAxis:$n+br+ml+Bt.mainAxis,fc=d.elements.arrow&&vt(d.elements.arrow),pc=fc?mt==="y"?fc.clientTop||0:fc.clientLeft||0:0,Tu=($t=zt==null?void 0:zt[mt])!=null?$t:0,mc=zn+ro-Tu,gc=Yi(He?Ca(Xn,zn+no-Tu-pc):Xn,zn,He?Ps(bs,mc):bs);ot[mt]=gc,Gt[mt]=gc-zn}if(pe){var gl,vl=mt==="x"?pn:_n,jp=mt==="x"?Mn:Dn,ca=ot[ut],so=ut==="y"?"height":"width",ni=ca+Ve[vl],ch=ca-Ve[jp],Iu=[pn,_n].indexOf(at)!==-1,uh=(gl=zt==null?void 0:zt[ut])!=null?gl:0,Ou=Iu?ni:ca-At[so]-rt[so]-uh+Bt.altAxis,yl=Iu?ca+At[so]+rt[so]-uh-Bt.altAxis:ch,Ru=He&&Iu?function(dh,vc,bl){var io=Yi(dh,vc,bl);return io>bl?bl:io}(Ou,ca,yl):Yi(He?Ou:ni,ca,He?yl:ch);ot[ut]=Ru,Gt[ut]=Ru-ca}d.modifiersData[P]=Gt}},requiresIfExists:["offset"]};function nl(S,d,w){w===void 0&&(w=!1);var P,R,D=sr(d),le=sr(d)&&function(Ie){var Oe=Ie.getBoundingClientRect(),He=Cs(Oe.width)/Ie.offsetWidth||1,Qe=Cs(Oe.height)/Ie.offsetHeight||1;return He!==1||Qe!==1}(d),pe=sn(d),ye=xi(S,le,w),Ae={scrollLeft:0,scrollTop:0},je={x:0,y:0};return(D||!D&&!w)&&((rr(d)!=="body"||Oa(pe))&&(Ae=(P=d)!==Xt(P)&&sr(P)?{scrollLeft:(R=P).scrollLeft,scrollTop:R.scrollTop}:Zi(P)),sr(d)?((je=xi(d,!0)).x+=d.clientLeft,je.y+=d.clientTop):pe&&(je.x=Ni(pe))),{x:ye.left+Ae.scrollLeft-je.x,y:ye.top+Ae.scrollTop-je.y,width:ye.width,height:ye.height}}function Zl(S){var d=new Map,w=new Set,P=[];function R(D){w.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(le){if(!w.has(le)){var pe=d.get(le);pe&&R(pe)}}),P.push(D)}return S.forEach(function(D){d.set(D.name,D)}),S.forEach(function(D){w.has(D.name)||R(D)}),P}var ta={placement:"bottom",modifiers:[],strategy:"absolute"};function Da(){for(var S=arguments.length,d=new Array(S),w=0;w<S;w++)d[w]=arguments[w];return!d.some(function(P){return!(P&&typeof P.getBoundingClientRect=="function")})}function Li(S){S===void 0&&(S={});var d=S,w=d.defaultModifiers,P=w===void 0?[]:w,R=d.defaultOptions,D=R===void 0?ta:R;return function(le,pe,ye){ye===void 0&&(ye=D);var Ae,je,Ie={placement:"bottom",orderedModifiers:[],options:Object.assign({},ta,D),modifiersData:{},elements:{reference:le,popper:pe},attributes:{},styles:{}},Oe=[],He=!1,Qe={state:Ie,setOptions:function(Ve){var at=typeof Ve=="function"?Ve(Ie.options):Ve;Ke(),Ie.options=Object.assign({},D,Ie.options,at),Ie.scrollParents={reference:us(le)?Si(le):le.contextElement?Si(le.contextElement):[],popper:Si(pe)};var ct,Ge,mt=function(ut){var ot=Zl(ut);return Gr.reduce(function(At,rt){return At.concat(ot.filter(function(Pt){return Pt.phase===rt}))},[])}((ct=[].concat(P,Ie.options.modifiers),Ge=ct.reduce(function(ut,ot){var At=ut[ot.name];return ut[ot.name]=At?Object.assign({},At,ot,{options:Object.assign({},At.options,ot.options),data:Object.assign({},At.data,ot.data)}):ot,ut},{}),Object.keys(Ge).map(function(ut){return Ge[ut]})));return Ie.orderedModifiers=mt.filter(function(ut){return ut.enabled}),Ie.orderedModifiers.forEach(function(ut){var ot=ut.name,At=ut.options,rt=At===void 0?{}:At,Pt=ut.effect;if(typeof Pt=="function"){var Bt=Pt({state:Ie,name:ot,instance:Qe,options:rt});Oe.push(Bt||function(){})}}),Qe.update()},forceUpdate:function(){if(!He){var Ve=Ie.elements,at=Ve.reference,ct=Ve.popper;if(Da(at,ct)){Ie.rects={reference:nl(at,vt(ct),Ie.options.strategy==="fixed"),popper:ds(ct)},Ie.reset=!1,Ie.placement=Ie.options.placement,Ie.orderedModifiers.forEach(function(Pt){return Ie.modifiersData[Pt.name]=Object.assign({},Pt.data)});for(var Ge=0;Ge<Ie.orderedModifiers.length;Ge++)if(Ie.reset!==!0){var mt=Ie.orderedModifiers[Ge],ut=mt.fn,ot=mt.options,At=ot===void 0?{}:ot,rt=mt.name;typeof ut=="function"&&(Ie=ut({state:Ie,options:At,name:rt,instance:Qe})||Ie)}else Ie.reset=!1,Ge=-1}}},update:(Ae=function(){return new Promise(function(Ve){Qe.forceUpdate(),Ve(Ie)})},function(){return je||(je=new Promise(function(Ve){Promise.resolve().then(function(){je=void 0,Ve(Ae())})})),je}),destroy:function(){Ke(),He=!0}};if(!Da(le,pe))return Qe;function Ke(){Oe.forEach(function(Ve){return Ve()}),Oe=[]}return Qe.setOptions(ye).then(function(Ve){!He&&ye.onFirstUpdate&&ye.onFirstUpdate(Ve)}),Qe}}var ec=Li(),wu=Li({defaultModifiers:[Xi,tl,Zo,Pa]}),Ei=Li({defaultModifiers:[Xi,tl,Zo,Pa,ea,Kr,Ma,Xo,Ql]});const Pi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Wo,afterRead:Gl,afterWrite:Jl,applyStyles:Pa,arrow:Xo,auto:zs,basePlacements:qs,beforeMain:un,beforeRead:Vl,beforeWrite:Ho,bottom:Mn,clippingParents:Gi,computeStyles:Zo,createPopper:Ei,createPopperBase:ec,createPopperLite:wu,detectOverflow:ji,end:bi,eventListeners:Xi,flip:Kr,hide:Ql,left:_n,main:$o,modifierPhases:Gr,offset:ea,placements:La,popper:wi,popperGenerator:Li,popperOffsets:tl,preventOverflow:Ma,read:Ji,reference:Aa,right:Dn,start:$s,top:pn,variationPlacements:qo,viewport:ka,write:Ea},Symbol.toStringTag,{value:"Module"})),Ba="dropdown",mr=".bs.dropdown",na=".data-api",g="ArrowUp",I="ArrowDown",re=`hide${mr}`,fe=`hidden${mr}`,we=`show${mr}`,Pe=`shown${mr}`,Re=`click${mr}${na}`,Xe=`keydown${mr}${na}`,it=`keyup${mr}${na}`,bt="show",pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Dt=`${pt}.${bt}`,Qt=".dropdown-menu",dn=x()?"top-end":"top-start",Nn=x()?"top-start":"top-end",Jn=x()?"bottom-end":"bottom-start",Bn=x()?"bottom-start":"bottom-end",gs=x()?"left-start":"right-start",Ir=x()?"right-start":"left-start",Is={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},tc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ir extends ne{constructor(d,w){super(d,w),this._popper=null,this._parent=this._element.parentNode,this._menu=ae.next(this._element,Qt)[0]||ae.prev(this._element,Qt)[0]||ae.findOne(Qt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Is}static get DefaultType(){return tc}static get NAME(){return Ba}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!K.trigger(this._element,we,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const w of[].concat(...document.body.children))K.on(w,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(bt),this._element.classList.add(bt),K.trigger(this._element,Pe,d)}}hide(){if(m(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!K.trigger(this._element,re,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const w of[].concat(...document.body.children))K.off(w,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(bt),this._element.classList.remove(bt),this._element.setAttribute("aria-expanded","false"),oe.removeDataAttribute(this._menu,"popper"),K.trigger(this._element,fe,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!l(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Ba.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(Pi===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let d=this._element;this._config.reference==="parent"?d=this._parent:l(this._config.reference)?d=h(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const w=this._getPopperConfig();this._popper=Ei(d,this._menu,w)}_isShown(){return this._menu.classList.contains(bt)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return gs;if(d.classList.contains("dropstart"))return Ir;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const w=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?w?Nn:dn:w?Bn:Jn}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(w=>Number.parseInt(w,10)):typeof d=="function"?w=>d(w,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(oe.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,..._(this._config.popperConfig,[void 0,d])}}_selectMenuItem({key:d,target:w}){const P=ae.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(R=>p(R));P.length&&q(P,w,d===I,!P.includes(w)).focus()}static jQueryInterface(d){return this.each(function(){const w=ir.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0)throw new TypeError(`No method named "${d}"`);w[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const w=ae.find(Dt);for(const P of w){const R=ir.getInstance(P);if(!R||R._config.autoClose===!1)continue;const D=d.composedPath(),le=D.includes(R._menu);if(D.includes(R._element)||R._config.autoClose==="inside"&&!le||R._config.autoClose==="outside"&&le||R._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const pe={relatedTarget:R._element};d.type==="click"&&(pe.clickEvent=d),R._completeHide(pe)}}static dataApiKeydownHandler(d){const w=/input|textarea/i.test(d.target.tagName),P=d.key==="Escape",R=[g,I].includes(d.key);if(!R&&!P||w&&!P)return;d.preventDefault();const D=this.matches(pt)?this:ae.prev(this,pt)[0]||ae.next(this,pt)[0]||ae.findOne(pt,d.delegateTarget.parentNode),le=ir.getOrCreateInstance(D);if(R)return d.stopPropagation(),le.show(),void le._selectMenuItem(d);le._isShown()&&(d.stopPropagation(),le.hide(),D.focus())}}K.on(document,Xe,pt,ir.dataApiKeydownHandler),K.on(document,Xe,Qt,ir.dataApiKeydownHandler),K.on(document,Re,ir.clearMenus),K.on(document,it,ir.clearMenus),K.on(document,Re,pt,function(S){S.preventDefault(),ir.getOrCreateInstance(this).toggle()}),N(ir);const Ua="backdrop",ra="show",za=`mousedown.bs.${Ua}`,rl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},qa={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Un extends he{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return rl}static get DefaultType(){return qa}static get NAME(){return Ua}show(d){if(!this._config.isVisible)return void _(d);this._append();const w=this._getElement();this._config.isAnimated&&k(w),w.classList.add(ra),this._emulateAnimation(()=>{_(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(ra),this._emulateAnimation(()=>{this.dispose(),_(d)})):_(d)}dispose(){this._isAppended&&(K.off(this._element,za),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=h(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),K.on(d,za,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){C(d,this._getElement(),this._config.isAnimated)}}const Ws=".bs.focustrap",$a=`focusin${Ws}`,Wa=`keydown.tab${Ws}`,Ha="backward",gr={autofocus:!0,trapElement:null},xu={autofocus:"boolean",trapElement:"element"};class Va extends he{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return gr}static get DefaultType(){return xu}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),K.off(document,Ws),K.on(document,$a,d=>this._handleFocusin(d)),K.on(document,Wa,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,K.off(document,Ws))}_handleFocusin(d){const{trapElement:w}=this._config;if(d.target===document||d.target===w||w.contains(d.target))return;const P=ae.focusableChildren(w);P.length===0?w.focus():this._lastTabNavDirection===Ha?P[P.length-1].focus():P[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Ha:"forward")}}const sl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Or=".sticky-top",Hs="padding-right",il="margin-right";class Ga{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Hs,w=>w+d),this._setElementAttributes(sl,Hs,w=>w+d),this._setElementAttributes(Or,il,w=>w-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Hs),this._resetElementAttributes(sl,Hs),this._resetElementAttributes(Or,il)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,w,P){const R=this.getWidth();this._applyManipulationCallback(d,D=>{if(D!==this._element&&window.innerWidth>D.clientWidth+R)return;this._saveInitialAttribute(D,w);const le=window.getComputedStyle(D).getPropertyValue(w);D.style.setProperty(w,`${P(Number.parseFloat(le))}px`)})}_saveInitialAttribute(d,w){const P=d.style.getPropertyValue(w);P&&oe.setDataAttribute(d,w,P)}_resetElementAttributes(d,w){this._applyManipulationCallback(d,P=>{const R=oe.getDataAttribute(P,w);R!==null?(oe.removeDataAttribute(P,w),P.style.setProperty(w,R)):P.style.removeProperty(w)})}_applyManipulationCallback(d,w){if(l(d))w(d);else for(const P of ae.find(d,this._element))w(P)}}const An=".bs.modal",sa=`hide${An}`,vr=`hidePrevented${An}`,Kn=`hidden${An}`,Vs=`show${An}`,Gs=`shown${An}`,Js=`resize${An}`,Ja=`click.dismiss${An}`,Ks=`mousedown.dismiss${An}`,mn=`keydown.dismiss${An}`,al=`click${An}.data-api`,Yn="modal-open",Rr="show",Ci="modal-static",nc={backdrop:!0,focus:!0,keyboard:!0},ol={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Fr extends ne{constructor(d,w){super(d,w),this._dialog=ae.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ga,this._addEventListeners()}static get Default(){return nc}static get DefaultType(){return ol}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||K.trigger(this._element,Vs,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Yn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(K.trigger(this._element,sa).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Rr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){K.off(window,An),K.off(this._dialog,An),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Un({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Va({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const w=ae.findOne(".modal-body",this._dialog);w&&(w.scrollTop=0),k(this._element),this._element.classList.add(Rr),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,K.trigger(this._element,Gs,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){K.on(this._element,mn,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),K.on(window,Js,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),K.on(this._element,Ks,d=>{K.one(this._element,Ja,w=>{this._element===d.target&&this._element===w.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yn),this._resetAdjustments(),this._scrollBar.reset(),K.trigger(this._element,Kn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(K.trigger(this._element,vr).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,w=this._element.style.overflowY;w==="hidden"||this._element.classList.contains(Ci)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Ci),this._queueCallback(()=>{this._element.classList.remove(Ci),this._queueCallback(()=>{this._element.style.overflowY=w},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,w=this._scrollBar.getWidth(),P=w>0;if(P&&!d){const R=x()?"paddingLeft":"paddingRight";this._element.style[R]=`${w}px`}if(!P&&d){const R=x()?"paddingRight":"paddingLeft";this._element.style[R]=`${w}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,w){return this.each(function(){const P=Fr.getOrCreateInstance(this,d);if(typeof d=="string"){if(P[d]===void 0)throw new TypeError(`No method named "${d}"`);P[d](w)}})}}K.on(document,al,'[data-bs-toggle="modal"]',function(S){const d=ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&S.preventDefault(),K.one(d,Vs,P=>{P.defaultPrevented||K.one(d,Kn,()=>{p(this)&&this.focus()})});const w=ae.findOne(".modal.show");w&&Fr.getInstance(w).hide(),Fr.getOrCreateInstance(d).toggle(this)}),me(Fr),N(Fr);const ar=".bs.offcanvas",Ys=".data-api",ia=`load${ar}${Ys}`,aa="show",Ti="showing",Xs="hiding",Ka=".offcanvas.show",Yr=`show${ar}`,Xr=`shown${ar}`,Zt=`hide${ar}`,Vt=`hidePrevented${ar}`,hn=`hidden${ar}`,Ln=`resize${ar}`,Qs=`click${ar}${Ys}`,ll=`keydown.dismiss${ar}`,Ya={backdrop:!0,keyboard:!0,scroll:!1},rc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vs extends ne{constructor(d,w){super(d,w),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ya}static get DefaultType(){return rc}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||K.trigger(this._element,Yr,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ga().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ti),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(aa),this._element.classList.remove(Ti),K.trigger(this._element,Xr,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(K.trigger(this._element,Zt).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xs),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(aa,Xs),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ga().reset(),K.trigger(this._element,hn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new Un({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():K.trigger(this._element,Vt)}:null})}_initializeFocusTrap(){return new Va({trapElement:this._element})}_addEventListeners(){K.on(this._element,ll,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():K.trigger(this._element,Vt))})}static jQueryInterface(d){return this.each(function(){const w=vs.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);w[d](this)}})}}K.on(document,Qs,'[data-bs-toggle="offcanvas"]',function(S){const d=ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&S.preventDefault(),m(this))return;K.one(d,hn,()=>{p(this)&&this.focus()});const w=ae.findOne(Ka);w&&w!==d&&vs.getInstance(w).hide(),vs.getOrCreateInstance(d).toggle(this)}),K.on(window,ia,()=>{for(const S of ae.find(Ka))vs.getOrCreateInstance(S).show()}),K.on(window,Ln,()=>{for(const S of ae.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(S).position!=="fixed"&&vs.getOrCreateInstance(S).hide()}),me(vs),N(vs);const cl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Mr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,sc=(S,d)=>{const w=S.nodeName.toLowerCase();return d.includes(w)?!Mr.has(w)||!!Qr.test(S.nodeValue):d.filter(P=>P instanceof RegExp).some(P=>P.test(w))},ic={allowList:cl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ac={entry:"(string|element|function|null)",selector:"(string|element)"};class oc extends he{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return ic}static get DefaultType(){return Yd}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[R,D]of Object.entries(this._config.content))this._setContent(d,D,R);const w=d.children[0],P=this._resolvePossibleFunction(this._config.extraClass);return P&&w.classList.add(...P.split(" ")),w}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[w,P]of Object.entries(d))super._typeCheckConfig({selector:w,entry:P},ac)}_setContent(d,w,P){const R=ae.findOne(P,d);R&&((w=this._resolvePossibleFunction(w))?l(w)?this._putElementInTemplate(h(w),R):this._config.html?R.innerHTML=this._maybeSanitize(w):R.textContent=w:R.remove())}_maybeSanitize(d){return this._config.sanitize?function(w,P,R){if(!w.length)return w;if(R&&typeof R=="function")return R(w);const D=new window.DOMParser().parseFromString(w,"text/html"),le=[].concat(...D.body.querySelectorAll("*"));for(const pe of le){const ye=pe.nodeName.toLowerCase();if(!Object.keys(P).includes(ye)){pe.remove();continue}const Ae=[].concat(...pe.attributes),je=[].concat(P["*"]||[],P[ye]||[]);for(const Ie of Ae)sc(Ie,je)||pe.removeAttribute(Ie.nodeName)}return D.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return _(d,[void 0,this])}_putElementInTemplate(d,w){if(this._config.html)return w.innerHTML="",void w.append(d);w.textContent=d.textContent}}const _u=new Set(["sanitize","allowList","sanitizeFn"]),lc="fade",Xa="show",Nu=".tooltip-inner",ul=".modal",cc="hide.bs.modal",dl="hover",Su="focus",uc="click",mp={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},gp={allowList:cl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},vp={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class oa extends ne{constructor(d,w){if(Pi===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(d,w),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return gp}static get DefaultType(){return vp}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),K.off(this._element.closest(ul),cc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=K.trigger(this._element,this.constructor.eventName("show")),w=(b(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!w)return;this._disposePopper();const P=this._getTipElement();this._element.setAttribute("aria-describedby",P.getAttribute("id"));const{container:R}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(R.append(P),K.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(P),P.classList.add(Xa),"ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))K.on(D,"mouseover",v);this._queueCallback(()=>{K.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!K.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Xa),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))K.off(d,"mouseover",v);this._activeTrigger[uc]=!1,this._activeTrigger[Su]=!1,this._activeTrigger[dl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),K.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const w=this._getTemplateFactory(d).toHtml();if(!w)return null;w.classList.remove(lc,Xa),w.classList.add(`bs-${this.constructor.NAME}-auto`);const P=(R=>{do R+=Math.floor(1e6*Math.random());while(document.getElementById(R));return R})(this.constructor.NAME).toString();return w.setAttribute("id",P),this._isAnimated()&&w.classList.add(lc),w}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new oc({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Nu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(lc)}_isShown(){return this.tip&&this.tip.classList.contains(Xa)}_createPopper(d){const w=_(this._config.placement,[this,d,this._element]),P=mp[w.toUpperCase()];return Ei(this._element,d,this._getPopperConfig(P))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(w=>Number.parseInt(w,10)):typeof d=="function"?w=>d(w,this._element):d}_resolvePossibleFunction(d){return _(d,[this._element,this._element])}_getPopperConfig(d){const w={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:P=>{this._getTipElement().setAttribute("data-popper-placement",P.state.placement)}}]};return{...w,..._(this._config.popperConfig,[void 0,w])}}_setListeners(){const d=this._config.trigger.split(" ");for(const w of d)if(w==="click")K.on(this._element,this.constructor.eventName("click"),this._config.selector,P=>{const R=this._initializeOnDelegatedTarget(P);R._activeTrigger[uc]=!(R._isShown()&&R._activeTrigger[uc]),R.toggle()});else if(w!=="manual"){const P=w===dl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),R=w===dl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");K.on(this._element,P,this._config.selector,D=>{const le=this._initializeOnDelegatedTarget(D);le._activeTrigger[D.type==="focusin"?Su:dl]=!0,le._enter()}),K.on(this._element,R,this._config.selector,D=>{const le=this._initializeOnDelegatedTarget(D);le._activeTrigger[D.type==="focusout"?Su:dl]=le._element.contains(D.relatedTarget),le._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},K.on(this._element.closest(ul),cc,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,w){clearTimeout(this._timeout),this._timeout=setTimeout(d,w)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const w=oe.getDataAttributes(this._element);for(const P of Object.keys(w))_u.has(P)&&delete w[P];return d={...w,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:h(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[w,P]of Object.entries(this._config))this.constructor.Default[w]!==P&&(d[w]=P);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const w=oa.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0)throw new TypeError(`No method named "${d}"`);w[d]()}})}}N(oa);const yp=".popover-header",ju=".popover-body",ku={...oa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},hl={...oa.DefaultType,content:"(null|string|element|function)"};class dc extends oa{static get Default(){return ku}static get DefaultType(){return hl}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[yp]:this._getTitle(),[ju]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const w=dc.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0)throw new TypeError(`No method named "${d}"`);w[d]()}})}}N(dc);const Au=".bs.scrollspy",Xd=`activate${Au}`,Qd=`click${Au}`,bp=`load${Au}.data-api`,Qa="active",Lu="[href]",Zs=".nav-link",ys=`${Zs}, .nav-item > ${Zs}, .list-group-item`,ei={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wp={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Za extends ne{constructor(d,w){super(d,w),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ei}static get DefaultType(){return wp}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=h(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(w=>Number.parseFloat(w))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(K.off(this._config.target,Qd),K.on(this._config.target,Qd,Lu,d=>{const w=this._observableSections.get(d.target.hash);if(w){d.preventDefault();const P=this._rootElement||window,R=w.offsetTop-this._element.offsetTop;if(P.scrollTo)return void P.scrollTo({top:R,behavior:"smooth"});P.scrollTop=R}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(w=>this._observerCallback(w),d)}_observerCallback(d){const w=le=>this._targetLinks.get(`#${le.target.id}`),P=le=>{this._previousScrollData.visibleEntryTop=le.target.offsetTop,this._process(w(le))},R=(this._rootElement||document.documentElement).scrollTop,D=R>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=R;for(const le of d){if(!le.isIntersecting){this._activeTarget=null,this._clearActiveClass(w(le));continue}const pe=le.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(D&&pe){if(P(le),!R)return}else D||pe||P(le)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ae.find(Lu,this._config.target);for(const w of d){if(!w.hash||m(w))continue;const P=ae.findOne(decodeURI(w.hash),this._element);p(P)&&(this._targetLinks.set(decodeURI(w.hash),w),this._observableSections.set(w.hash,P))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Qa),this._activateParents(d),K.trigger(this._element,Xd,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ae.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Qa);else for(const w of ae.parents(d,".nav, .list-group"))for(const P of ae.prev(w,ys))P.classList.add(Qa)}_clearActiveClass(d){d.classList.remove(Qa);const w=ae.find(`${Lu}.${Qa}`,d);for(const P of w)P.classList.remove(Qa)}static jQueryInterface(d){return this.each(function(){const w=Za.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);w[d]()}})}}K.on(window,bp,()=>{for(const S of ae.find('[data-bs-spy="scroll"]'))Za.getOrCreateInstance(S)}),N(Za);const yr=".bs.tab",Zr=`hide${yr}`,xp=`hidden${yr}`,_p=`show${yr}`,Zd=`shown${yr}`,eh=`click${yr}`,th=`keydown${yr}`,nh=`load${yr}`,Np="ArrowLeft",fl="ArrowRight",hc="ArrowUp",eo="ArrowDown",pl="Home",rh="End",Ii="active",sh="fade",Eu="show",ih=".dropdown-toggle",Pu=`:not(${ih})`,ah='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Cu=`.nav-link${Pu}, .list-group-item${Pu}, [role="tab"]${Pu}, ${ah}`,oh=`.${Ii}[data-bs-toggle="tab"], .${Ii}[data-bs-toggle="pill"], .${Ii}[data-bs-toggle="list"]`;class Os extends ne{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),K.on(this._element,th,w=>this._keydown(w)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const w=this._getActiveElem(),P=w?K.trigger(w,Zr,{relatedTarget:d}):null;K.trigger(d,_p,{relatedTarget:w}).defaultPrevented||P&&P.defaultPrevented||(this._deactivate(w,d),this._activate(d,w))}_activate(d,w){d&&(d.classList.add(Ii),this._activate(ae.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),K.trigger(d,Zd,{relatedTarget:w})):d.classList.add(Eu)},d,d.classList.contains(sh)))}_deactivate(d,w){d&&(d.classList.remove(Ii),d.blur(),this._deactivate(ae.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),K.trigger(d,xp,{relatedTarget:w})):d.classList.remove(Eu)},d,d.classList.contains(sh)))}_keydown(d){if(![Np,fl,hc,eo,pl,rh].includes(d.key))return;d.stopPropagation(),d.preventDefault();const w=this._getChildren().filter(R=>!m(R));let P;if([pl,rh].includes(d.key))P=w[d.key===pl?0:w.length-1];else{const R=[fl,eo].includes(d.key);P=q(w,d.target,R,!0)}P&&(P.focus({preventScroll:!0}),Os.getOrCreateInstance(P).show())}_getChildren(){return ae.find(Cu,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,w){this._setAttributeIfNotExists(d,"role","tablist");for(const P of w)this._setInitialAttributesOnChild(P)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const w=this._elemIsActive(d),P=this._getOuterElement(d);d.setAttribute("aria-selected",w),P!==d&&this._setAttributeIfNotExists(P,"role","presentation"),w||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const w=ae.getElementFromSelector(d);w&&(this._setAttributeIfNotExists(w,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(w,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,w){const P=this._getOuterElement(d);if(!P.classList.contains("dropdown"))return;const R=(D,le)=>{const pe=ae.findOne(D,P);pe&&pe.classList.toggle(le,w)};R(ih,Ii),R(".dropdown-menu",Eu),P.setAttribute("aria-expanded",w)}_setAttributeIfNotExists(d,w,P){d.hasAttribute(w)||d.setAttribute(w,P)}_elemIsActive(d){return d.classList.contains(Ii)}_getInnerElement(d){return d.matches(Cu)?d:ae.findOne(Cu,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const w=Os.getOrCreateInstance(this);if(typeof d=="string"){if(w[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);w[d]()}})}}K.on(document,eh,ah,function(S){["A","AREA"].includes(this.tagName)&&S.preventDefault(),m(this)||Os.getOrCreateInstance(this).show()}),K.on(window,nh,()=>{for(const S of ae.find(oh))Os.getOrCreateInstance(S)}),N(Os);const Oi=".bs.toast",Sp=`mouseover${Oi}`,lh=`mouseout${Oi}`,c=`focusin${Oi}`,f=`focusout${Oi}`,y=`hide${Oi}`,j=`hidden${Oi}`,T=`show${Oi}`,F=`shown${Oi}`,M="hide",z="show",W="showing",Q={animation:"boolean",autohide:"boolean",delay:"number"},ge={animation:!0,autohide:!0,delay:5e3};class Ne extends ne{constructor(d,w){super(d,w),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ge}static get DefaultType(){return Q}static get NAME(){return"toast"}show(){K.trigger(this._element,T).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(M),k(this._element),this._element.classList.add(z,W),this._queueCallback(()=>{this._element.classList.remove(W),K.trigger(this._element,F),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(K.trigger(this._element,y).defaultPrevented||(this._element.classList.add(W),this._queueCallback(()=>{this._element.classList.add(M),this._element.classList.remove(W,z),K.trigger(this._element,j)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(z),super.dispose()}isShown(){return this._element.classList.contains(z)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,w){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=w;break;case"focusin":case"focusout":this._hasKeyboardInteraction=w}if(w)return void this._clearTimeout();const P=d.relatedTarget;this._element===P||this._element.contains(P)||this._maybeScheduleHide()}_setListeners(){K.on(this._element,Sp,d=>this._onInteraction(d,!0)),K.on(this._element,lh,d=>this._onInteraction(d,!1)),K.on(this._element,c,d=>this._onInteraction(d,!0)),K.on(this._element,f,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const w=Ne.getOrCreateInstance(this,d);if(typeof d=="string"){if(w[d]===void 0)throw new TypeError(`No method named "${d}"`);w[d](this)}})}}return me(Ne),N(Ne),{Alert:Me,Button:te,Carousel:st,Collapse:nr,Dropdown:ir,Modal:Fr,Offcanvas:vs,Popover:dc,ScrollSpy:Za,Tab:Os,Toast:Ne,Tooltip:oa}})})(w3);function cb(e,t){return function(){return e.apply(t,arguments)}}const{toString:x3}=Object.prototype,{getPrototypeOf:K0}=Object,{iterator:tp,toStringTag:ub}=Symbol,np=(e=>t=>{const n=x3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mi=e=>(e=e.toLowerCase(),t=>np(t)===e),rp=e=>t=>typeof t===e,{isArray:mu}=Array,Rd=rp("undefined");function $d(e){return e!==null&&!Rd(e)&&e.constructor!==null&&!Rd(e.constructor)&&as(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const db=mi("ArrayBuffer");function _3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&db(e.buffer),t}const N3=rp("string"),as=rp("function"),hb=rp("number"),Wd=e=>e!==null&&typeof e=="object",S3=e=>e===!0||e===!1,Qh=e=>{if(np(e)!=="object")return!1;const t=K0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ub in e)&&!(tp in e)},j3=e=>{if(!Wd(e)||$d(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},k3=mi("Date"),A3=mi("File"),L3=mi("Blob"),E3=mi("FileList"),P3=e=>Wd(e)&&as(e.pipe),C3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||as(e.append)&&((t=np(e))==="formdata"||t==="object"&&as(e.toString)&&e.toString()==="[object FormData]"))},T3=mi("URLSearchParams"),[I3,O3,R3,F3]=["ReadableStream","Request","Response","Headers"].map(mi),M3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),mu(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if($d(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(r=0;r<a;r++)o=i[r],t.call(null,e[o],o,e)}}function fb(e,t){if($d(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pb=e=>!Rd(e)&&e!==Cl;function _g(){const{caseless:e}=pb(this)&&this||{},t={},n=(r,s)=>{const i=e&&fb(t,s)||s;Qh(t[i])&&Qh(r)?t[i]=_g(t[i],r):Qh(r)?t[i]=_g({},r):mu(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Hd(arguments[r],n);return t}const D3=(e,t,n,{allOwnKeys:r}={})=>(Hd(t,(s,i)=>{n&&as(s)?e[i]=cb(s,n):e[i]=s},{allOwnKeys:r}),e),B3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),U3=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},z3=(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=n!==!1&&K0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},q3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},$3=e=>{if(!e)return null;if(mu(e))return e;let t=e.length;if(!hb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},W3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&K0(Uint8Array)),H3=(e,t)=>{const r=(e&&e[tp]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},V3=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},G3=mi("HTMLFormElement"),J3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Rv=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),K3=mi("RegExp"),mb=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Hd(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},Y3=e=>{mb(e,(t,n)=>{if(as(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(as(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},X3=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return mu(e)?r(e):r(String(e).split(t)),n},Q3=()=>{},Z3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function eN(e){return!!(e&&as(e.append)&&e[ub]==="FormData"&&e[tp])}const tN=e=>{const t=new Array(10),n=(r,s)=>{if(Wd(r)){if(t.indexOf(r)>=0)return;if($d(r))return r;if(!("toJSON"in r)){t[s]=r;const i=mu(r)?[]:{};return Hd(r,(a,o)=>{const l=n(a,s+1);!Rd(l)&&(i[o]=l)}),t[s]=void 0,i}}return r};return n(e,0)},nN=mi("AsyncFunction"),rN=e=>e&&(Wd(e)||as(e))&&as(e.then)&&as(e.catch),gb=((e,t)=>e?setImmediate:t?((n,r)=>(Cl.addEventListener("message",({source:s,data:i})=>{s===Cl&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Cl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",as(Cl.postMessage)),sN=typeof queueMicrotask<"u"?queueMicrotask.bind(Cl):typeof process<"u"&&process.nextTick||gb,iN=e=>e!=null&&as(e[tp]),Le={isArray:mu,isArrayBuffer:db,isBuffer:$d,isFormData:C3,isArrayBufferView:_3,isString:N3,isNumber:hb,isBoolean:S3,isObject:Wd,isPlainObject:Qh,isEmptyObject:j3,isReadableStream:I3,isRequest:O3,isResponse:R3,isHeaders:F3,isUndefined:Rd,isDate:k3,isFile:A3,isBlob:L3,isRegExp:K3,isFunction:as,isStream:P3,isURLSearchParams:T3,isTypedArray:W3,isFileList:E3,forEach:Hd,merge:_g,extend:D3,trim:M3,stripBOM:B3,inherits:U3,toFlatObject:z3,kindOf:np,kindOfTest:mi,endsWith:q3,toArray:$3,forEachEntry:H3,matchAll:V3,isHTMLForm:G3,hasOwnProperty:Rv,hasOwnProp:Rv,reduceDescriptors:mb,freezeMethods:Y3,toObjectSet:X3,toCamelCase:J3,noop:Q3,toFiniteNumber:Z3,findKey:fb,global:Cl,isContextDefined:pb,isSpecCompliantForm:eN,toJSONObject:tN,isAsyncFn:nN,isThenable:rN,setImmediate:gb,asap:sN,isIterable:iN};function Tt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Le.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const vb=Tt.prototype,yb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yb[e]={value:e}});Object.defineProperties(Tt,yb);Object.defineProperty(vb,"isAxiosError",{value:!0});Tt.from=(e,t,n,r,s,i)=>{const a=Object.create(vb);return Le.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Tt.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const aN=null;function Ng(e){return Le.isPlainObject(e)||Le.isArray(e)}function bb(e){return Le.endsWith(e,"[]")?e.slice(0,-2):e}function Fv(e,t,n){return e?e.concat(t).map(function(s,i){return s=bb(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function oN(e){return Le.isArray(e)&&!e.some(Ng)}const lN=Le.toFlatObject(Le,{},null,function(t){return/^is[A-Z]/.test(t)});function sp(e,t,n){if(!Le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,L){return!Le.isUndefined(L[A])});const r=n.metaTokens,s=n.visitor||p,i=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(t);if(!Le.isFunction(s))throw new TypeError("visitor must be a function");function h(k){if(k===null)return"";if(Le.isDate(k))return k.toISOString();if(Le.isBoolean(k))return k.toString();if(!l&&Le.isBlob(k))throw new Tt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(k)||Le.isTypedArray(k)?l&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function p(k,A,L){let x=k;if(k&&!L&&typeof k=="object"){if(Le.endsWith(A,"{}"))A=r?A:A.slice(0,-2),k=JSON.stringify(k);else if(Le.isArray(k)&&oN(k)||(Le.isFileList(k)||Le.endsWith(A,"[]"))&&(x=Le.toArray(k)))return A=bb(A),x.forEach(function(_,C){!(Le.isUndefined(_)||_===null)&&t.append(a===!0?Fv([A],C,i):a===null?A:A+"[]",h(_))}),!1}return Ng(k)?!0:(t.append(Fv(L,A,i),h(k)),!1)}const m=[],b=Object.assign(lN,{defaultVisitor:p,convertValue:h,isVisitable:Ng});function v(k,A){if(!Le.isUndefined(k)){if(m.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));m.push(k),Le.forEach(k,function(x,N){(!(Le.isUndefined(x)||x===null)&&s.call(t,x,Le.isString(N)?N.trim():N,A,b))===!0&&v(x,A?A.concat(N):[N])}),m.pop()}}if(!Le.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Mv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Y0(e,t){this._pairs=[],e&&sp(e,this,t)}const wb=Y0.prototype;wb.append=function(t,n){this._pairs.push([t,n])};wb.toString=function(t){const n=t?function(r){return t.call(this,r,Mv)}:Mv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xb(e,t,n){if(!t)return e;const r=n&&n.encode||cN;Le.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=Le.isURLSearchParams(t)?t.toString():new Y0(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Dv{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Le.forEach(this.handlers,function(r){r!==null&&t(r)})}}const _b={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uN=typeof URLSearchParams<"u"?URLSearchParams:Y0,dN=typeof FormData<"u"?FormData:null,hN=typeof Blob<"u"?Blob:null,fN={isBrowser:!0,classes:{URLSearchParams:uN,FormData:dN,Blob:hN},protocols:["http","https","file","blob","url","data"]},X0=typeof window<"u"&&typeof document<"u",Sg=typeof navigator=="object"&&navigator||void 0,pN=X0&&(!Sg||["ReactNative","NativeScript","NS"].indexOf(Sg.product)<0),mN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gN=X0&&window.location.href||"http://localhost",vN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:X0,hasStandardBrowserEnv:pN,hasStandardBrowserWebWorkerEnv:mN,navigator:Sg,origin:gN},Symbol.toStringTag,{value:"Module"})),Ar={...vN,...fN};function yN(e,t){return sp(e,new Ar.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ar.isNode&&Le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function bN(e){return Le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wN(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Nb(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=n.length;return a=!a&&Le.isArray(s)?s.length:a,l?(Le.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!o):((!s[a]||!Le.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&Le.isArray(s[a])&&(s[a]=wN(s[a])),!o)}if(Le.isFormData(e)&&Le.isFunction(e.entries)){const n={};return Le.forEachEntry(e,(r,s)=>{t(bN(r),s,n,0)}),n}return null}function xN(e,t,n){if(Le.isString(e))try{return(t||JSON.parse)(e),Le.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Vd={transitional:_b,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Le.isObject(t);if(i&&Le.isHTMLForm(t)&&(t=new FormData(t)),Le.isFormData(t))return s?JSON.stringify(Nb(t)):t;if(Le.isArrayBuffer(t)||Le.isBuffer(t)||Le.isStream(t)||Le.isFile(t)||Le.isBlob(t)||Le.isReadableStream(t))return t;if(Le.isArrayBufferView(t))return t.buffer;if(Le.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yN(t,this.formSerializer).toString();if((o=Le.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sp(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),xN(t)):t}],transformResponse:[function(t){const n=this.transitional||Vd.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Le.isResponse(t)||Le.isReadableStream(t))return t;if(t&&Le.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Tt.from(o,Tt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ar.classes.FormData,Blob:Ar.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],e=>{Vd.headers[e]={}});const _N=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NN=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&_N[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Bv=Symbol("internals");function Hu(e){return e&&String(e).trim().toLowerCase()}function Zh(e){return e===!1||e==null?e:Le.isArray(e)?e.map(Zh):String(e)}function SN(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const jN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sm(e,t,n,r,s){if(Le.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!Le.isString(t)){if(Le.isString(r))return t.indexOf(r)!==-1;if(Le.isRegExp(r))return r.test(t)}}function kN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function AN(e,t){const n=Le.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let os=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(o,l,h){const p=Hu(l);if(!p)throw new Error("header name must be a non-empty string");const m=Le.findKey(s,p);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||l]=Zh(o))}const a=(o,l)=>Le.forEach(o,(h,p)=>i(h,p,l));if(Le.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(Le.isString(t)&&(t=t.trim())&&!jN(t))a(NN(t),n);else if(Le.isObject(t)&&Le.isIterable(t)){let o={},l,h;for(const p of t){if(!Le.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[h=p[0]]=(l=o[h])?Le.isArray(l)?[...l,p[1]]:[l,p[1]]:p[1]}a(o,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Hu(t),t){const r=Le.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return SN(s);if(Le.isFunction(n))return n.call(this,s,r);if(Le.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Hu(t),t){const r=Le.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||sm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=Hu(a),a){const o=Le.findKey(r,a);o&&(!n||sm(r,r[o],o,n))&&(delete r[o],s=!0)}}return Le.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||sm(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return Le.forEach(this,(s,i)=>{const a=Le.findKey(r,i);if(a){n[a]=Zh(s),delete n[i];return}const o=t?kN(i):String(i).trim();o!==i&&delete n[i],n[o]=Zh(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Le.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&Le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Bv]=this[Bv]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Hu(a);r[o]||(AN(s,a),r[o]=!0)}return Le.isArray(t)?t.forEach(i):i(t),this}};os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(os.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Le.freezeMethods(os);function im(e,t){const n=this||Vd,r=t||n,s=os.from(r.headers);let i=r.data;return Le.forEach(e,function(o){i=o.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Sb(e){return!!(e&&e.__CANCEL__)}function gu(e,t,n){Tt.call(this,e??"canceled",Tt.ERR_CANCELED,t,n),this.name="CanceledError"}Le.inherits(gu,Tt,{__CANCEL__:!0});function jb(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Tt("Request failed with status code "+n.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function EN(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),p=r[i];a||(a=h),n[s]=l,r[s]=h;let m=i,b=0;for(;m!==s;)b+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),h-a<t)return;const v=p&&h-p;return v?Math.round(b*1e3/v):void 0}}function PN(e,t){let n=0,r=1e3/t,s,i;const a=(h,p=Date.now())=>{n=p,s=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=r?a(h,p):(s=h,i||(i=setTimeout(()=>{i=null,a(s)},r-m)))},()=>s&&a(s)]}const Tf=(e,t,n=3)=>{let r=0;const s=EN(50,250);return PN(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-r,h=s(l),p=a<=o;r=a;const m={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:h||void 0,estimated:h&&o&&p?(o-a)/h:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},n)},Uv=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},zv=e=>(...t)=>Le.asap(()=>e(...t)),CN=Ar.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ar.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ar.origin),Ar.navigator&&/(msie|trident)/i.test(Ar.navigator.userAgent)):()=>!0,TN=Ar.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];Le.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Le.isString(r)&&a.push("path="+r),Le.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ON(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kb(e,t,n){let r=!IN(t);return e&&(r||n==!1)?ON(e,t):t}const qv=e=>e instanceof os?{...e}:e;function zl(e,t){t=t||{};const n={};function r(h,p,m,b){return Le.isPlainObject(h)&&Le.isPlainObject(p)?Le.merge.call({caseless:b},h,p):Le.isPlainObject(p)?Le.merge({},p):Le.isArray(p)?p.slice():p}function s(h,p,m,b){if(Le.isUndefined(p)){if(!Le.isUndefined(h))return r(void 0,h,m,b)}else return r(h,p,m,b)}function i(h,p){if(!Le.isUndefined(p))return r(void 0,p)}function a(h,p){if(Le.isUndefined(p)){if(!Le.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function o(h,p,m){if(m in t)return r(h,p);if(m in e)return r(void 0,h)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(h,p,m)=>s(qv(h),qv(p),m,!0)};return Le.forEach(Object.keys({...e,...t}),function(p){const m=l[p]||s,b=m(e[p],t[p],p);Le.isUndefined(b)&&m!==o||(n[p]=b)}),n}const Ab=e=>{const t=zl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;t.headers=a=os.from(a),t.url=xb(kb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(Le.isFormData(n)){if(Ar.hasStandardBrowserEnv||Ar.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[h,...p]=l?l.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Ar.hasStandardBrowserEnv&&(r&&Le.isFunction(r)&&(r=r(t)),r||r!==!1&&CN(t.url))){const h=s&&i&&TN.read(i);h&&a.set(s,h)}return t},RN=typeof XMLHttpRequest<"u",FN=RN&&function(e){return new Promise(function(n,r){const s=Ab(e);let i=s.data;const a=os.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:h}=s,p,m,b,v,k;function A(){v&&v(),k&&k(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let L=new XMLHttpRequest;L.open(s.method.toUpperCase(),s.url,!0),L.timeout=s.timeout;function x(){if(!L)return;const _=os.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),q={data:!o||o==="text"||o==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:_,config:e,request:L};jb(function(H){n(H),A()},function(H){r(H),A()},q),L=null}"onloadend"in L?L.onloadend=x:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(x)},L.onabort=function(){L&&(r(new Tt("Request aborted",Tt.ECONNABORTED,e,L)),L=null)},L.onerror=function(){r(new Tt("Network Error",Tt.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const q=s.transitional||_b;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new Tt(C,q.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,e,L)),L=null},i===void 0&&a.setContentType(null),"setRequestHeader"in L&&Le.forEach(a.toJSON(),function(C,q){L.setRequestHeader(q,C)}),Le.isUndefined(s.withCredentials)||(L.withCredentials=!!s.withCredentials),o&&o!=="json"&&(L.responseType=s.responseType),h&&([b,k]=Tf(h,!0),L.addEventListener("progress",b)),l&&L.upload&&([m,v]=Tf(l),L.upload.addEventListener("progress",m),L.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(p=_=>{L&&(r(!_||_.type?new gu(null,e,L):_),L.abort(),L=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const N=LN(s.url);if(N&&Ar.protocols.indexOf(N)===-1){r(new Tt("Unsupported protocol "+N+":",Tt.ERR_BAD_REQUEST,e));return}L.send(i||null)})},MN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,o();const p=h instanceof Error?h:this.reason;r.abort(p instanceof Tt?p:new gu(p instanceof Error?p.message:p))}};let a=t&&setTimeout(()=>{a=null,i(new Tt(`timeout ${t} of ms exceeded`,Tt.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>Le.asap(o),l}},DN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},BN=async function*(e,t){for await(const n of UN(e))yield*DN(n,t)},UN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},$v=(e,t,n,r)=>{const s=BN(e,t);let i=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:h,value:p}=await s.next();if(h){o(),l.close();return}let m=p.byteLength;if(n){let b=i+=m;n(b)}l.enqueue(new Uint8Array(p))}catch(h){throw o(h),h}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},ip=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lb=ip&&typeof ReadableStream=="function",zN=ip&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Eb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qN=Lb&&Eb(()=>{let e=!1;const t=new Request(Ar.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Wv=64*1024,jg=Lb&&Eb(()=>Le.isReadableStream(new Response("").body)),If={stream:jg&&(e=>e.body)};ip&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!If[t]&&(If[t]=Le.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Tt(`Response type '${t}' is not supported`,Tt.ERR_NOT_SUPPORT,r)})})})(new Response);const $N=async e=>{if(e==null)return 0;if(Le.isBlob(e))return e.size;if(Le.isSpecCompliantForm(e))return(await new Request(Ar.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(e)||Le.isArrayBuffer(e))return e.byteLength;if(Le.isURLSearchParams(e)&&(e=e+""),Le.isString(e))return(await zN(e)).byteLength},WN=async(e,t)=>{const n=Le.toFiniteNumber(e.getContentLength());return n??$N(t)},HN=ip&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:b}=Ab(e);h=h?(h+"").toLowerCase():"text";let v=MN([s,i&&i.toAbortSignal()],a),k;const A=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let L;try{if(l&&qN&&n!=="get"&&n!=="head"&&(L=await WN(p,r))!==0){let q=new Request(t,{method:"POST",body:r,duplex:"half"}),G;if(Le.isFormData(r)&&(G=q.headers.get("content-type"))&&p.setContentType(G),q.body){const[H,$]=Uv(L,Tf(zv(l)));r=$v(q.body,Wv,H,$)}}Le.isString(m)||(m=m?"include":"omit");const x="credentials"in Request.prototype;k=new Request(t,{...b,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:x?m:void 0});let N=await fetch(k,b);const _=jg&&(h==="stream"||h==="response");if(jg&&(o||_&&A)){const q={};["status","statusText","headers"].forEach(ie=>{q[ie]=N[ie]});const G=Le.toFiniteNumber(N.headers.get("content-length")),[H,$]=o&&Uv(G,Tf(zv(o),!0))||[];N=new Response($v(N.body,Wv,H,()=>{$&&$(),A&&A()}),q)}h=h||"text";let C=await If[Le.findKey(If,h)||"text"](N,e);return!_&&A&&A(),await new Promise((q,G)=>{jb(q,G,{data:C,headers:os.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:k})})}catch(x){throw A&&A(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,e,k),{cause:x.cause||x}):Tt.from(x,x&&x.code,e,k)}}),kg={http:aN,xhr:FN,fetch:HN};Le.forEach(kg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Hv=e=>`- ${e}`,VN=e=>Le.isFunction(e)||e===null||e===!1,Pb={getAdapter:e=>{e=Le.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let a;if(r=n,!VN(n)&&(r=kg[(a=String(n)).toLowerCase()],r===void 0))throw new Tt(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(Hv).join(`
`):" "+Hv(i[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:kg};function am(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gu(null,e)}function Vv(e){return am(e),e.headers=os.from(e.headers),e.data=im.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Pb.getAdapter(e.adapter||Vd.adapter)(e).then(function(r){return am(e),r.data=im.call(e,e.transformResponse,r),r.headers=os.from(r.headers),r},function(r){return Sb(r)||(am(e),r&&r.response&&(r.response.data=im.call(e,e.transformResponse,r.response),r.response.headers=os.from(r.response.headers))),Promise.reject(r)})}const Cb="1.11.0",ap={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ap[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Gv={};ap.transitional=function(t,n,r){function s(i,a){return"[Axios v"+Cb+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,o)=>{if(t===!1)throw new Tt(s(a," has been removed"+(n?" in "+n:"")),Tt.ERR_DEPRECATED);return n&&!Gv[a]&&(Gv[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,o):!0}};ap.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function GN(e,t,n){if(typeof e!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const o=e[i],l=o===void 0||a(o,i,e);if(l!==!0)throw new Tt("option "+i+" must be "+l,Tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Tt("Unknown option "+i,Tt.ERR_BAD_OPTION)}}const ef={assertOptions:GN,validators:ap},Fi=ef.validators;let Ol=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Dv,response:new Dv}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&ef.assertOptions(r,{silentJSONParsing:Fi.transitional(Fi.boolean),forcedJSONParsing:Fi.transitional(Fi.boolean),clarifyTimeoutError:Fi.transitional(Fi.boolean)},!1),s!=null&&(Le.isFunction(s)?n.paramsSerializer={serialize:s}:ef.assertOptions(s,{encode:Fi.function,serialize:Fi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ef.assertOptions(n,{baseUrl:Fi.spelling("baseURL"),withXsrfToken:Fi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&Le.merge(i.common,i[n.method]);i&&Le.forEach(["delete","get","head","post","put","patch","common"],k=>{delete i[k]}),n.headers=os.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(l=l&&A.synchronous,o.unshift(A.fulfilled,A.rejected))});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let p,m=0,b;if(!l){const k=[Vv.bind(this),void 0];for(k.unshift(...o),k.push(...h),b=k.length,p=Promise.resolve(n);m<b;)p=p.then(k[m++],k[m++]);return p}b=o.length;let v=n;for(m=0;m<b;){const k=o[m++],A=o[m++];try{v=k(v)}catch(L){A.call(this,L);break}}try{p=Vv.call(this,v)}catch(k){return Promise.reject(k)}for(m=0,b=h.length;m<b;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=zl(this.defaults,t);const n=kb(t.baseURL,t.url,t.allowAbsoluteUrls);return xb(n,t.params,t.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(t){Ol.prototype[t]=function(n,r){return this.request(zl(r||{},{method:t,url:n,data:(r||{}).data}))}});Le.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,o){return this.request(zl(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Ol.prototype[t]=n(),Ol.prototype[t+"Form"]=n(!0)});let JN=class Tb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{r.subscribe(o),i=o}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,o){r.reason||(r.reason=new gu(i,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Tb(function(s){t=s}),cancel:t}}};function KN(e){return function(n){return e.apply(null,n)}}function YN(e){return Le.isObject(e)&&e.isAxiosError===!0}const Ag={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ag).forEach(([e,t])=>{Ag[t]=e});function Ib(e){const t=new Ol(e),n=cb(Ol.prototype.request,t);return Le.extend(n,Ol.prototype,t,{allOwnKeys:!0}),Le.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Ib(zl(e,s))},n}const Wt=Ib(Vd);Wt.Axios=Ol;Wt.CanceledError=gu;Wt.CancelToken=JN;Wt.isCancel=Sb;Wt.VERSION=Cb;Wt.toFormData=sp;Wt.AxiosError=Tt;Wt.Cancel=Wt.CanceledError;Wt.all=function(t){return Promise.all(t)};Wt.spread=KN;Wt.isAxiosError=YN;Wt.mergeConfig=zl;Wt.AxiosHeaders=os;Wt.formToJSON=e=>Nb(Le.isHTMLForm(e)?new FormData(e):e);Wt.getAdapter=Pb.getAdapter;Wt.HttpStatusCode=Ag;Wt.default=Wt;const{Axios:gA,AxiosError:vA,CanceledError:yA,isCancel:bA,CancelToken:wA,VERSION:xA,all:_A,Cancel:NA,isAxiosError:SA,spread:jA,toFormData:kA,AxiosHeaders:AA,HttpStatusCode:LA,formToJSON:EA,getAdapter:PA,mergeConfig:CA}=Wt,XN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dt(async()=>{const{default:r}=await Promise.resolve().then(()=>vu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Q0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class QN extends Q0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jv extends Q0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Kv extends Q0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lg||(Lg={}));var ZN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};class eS{constructor(t,{headers:n={},customFetch:r,region:s=Lg.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=XN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return ZN(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region);const h=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,h.searchParams.set("forceFunctionRegion",l));let p;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(o["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(o["Content-Type"]="application/json",p=JSON.stringify(a)));const m=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:p}).catch(A=>{throw new QN(A)}),b=m.headers.get("x-relay-error");if(b&&b==="true")throw new Jv(m);if(!m.ok)throw new Kv(m);let v=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),k;return v==="application/json"?k=yield m.json():v==="application/octet-stream"?k=yield m.blob():v==="text/event-stream"?k=m:v==="multipart/form-data"?k=yield m.formData():k=yield m.text(),{data:k,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof Kv||s instanceof Jv?s.context:void 0}}})}}var ts={},Z0={},op={},Gd={},lp={},cp={},tS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},lu=tS();const nS=lu.fetch,Ob=lu.fetch.bind(lu),Rb=lu.Headers,rS=lu.Request,sS=lu.Response,vu=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rb,Request:rS,Response:sS,default:Ob,fetch:nS},Symbol.toStringTag,{value:"Module"})),iS=zw(vu);var up={};Object.defineProperty(up,"__esModule",{value:!0});let aS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};up.default=aS;var Fb=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cp,"__esModule",{value:!0});const oS=Fb(iS),lS=Fb(up);let cS=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l,h;let p=null,m=null,b=null,v=i.status,k=i.statusText;if(i.ok){if(this.method!=="HEAD"){const N=await i.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?m=N:m=JSON.parse(N))}const L=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");L&&x&&x.length>1&&(b=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,b=null,v=406,k="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const L=await i.text();try{p=JSON.parse(L),Array.isArray(p)&&i.status===404&&(m=[],p=null,v=200,k="OK")}catch{i.status===404&&L===""?(v=204,k="No Content"):p={message:L}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,k="OK"),p&&this.shouldThrowOnError)throw new lS.default(p)}return{error:p,data:m,count:b,status:v,statusText:k}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};cp.default=cS;var uS=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lp,"__esModule",{value:!0});const dS=uS(cp);let hS=class extends dS.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),h=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${h}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};lp.default=hS;var fS=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gd,"__esModule",{value:!0});const pS=fS(lp);let mS=class extends pS.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Gd.default=mS;var gS=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(op,"__esModule",{value:!0});const Vu=gS(Gd);let vS=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Vu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Vu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(l.length>0){const h=[...new Set(l)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Vu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Vu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Vu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};op.default=vS;var Mb=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Z0,"__esModule",{value:!0});const yS=Mb(op),bS=Mb(Gd);let wS=class Db{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new yS.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Db(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let h;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(o="POST",h=n);const p=new Headers(this.headers);return i&&p.set("Prefer",`count=${i}`),new bS.default({method:o,url:l,headers:p,schema:this.schemaName,body:h,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Z0.default=wS;var yu=Ss&&Ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ts,"__esModule",{value:!0});ts.PostgrestError=ts.PostgrestBuilder=ts.PostgrestTransformBuilder=ts.PostgrestFilterBuilder=ts.PostgrestQueryBuilder=ts.PostgrestClient=void 0;const Bb=yu(Z0);ts.PostgrestClient=Bb.default;const Ub=yu(op);ts.PostgrestQueryBuilder=Ub.default;const zb=yu(Gd);ts.PostgrestFilterBuilder=zb.default;const qb=yu(lp);ts.PostgrestTransformBuilder=qb.default;const $b=yu(cp);ts.PostgrestBuilder=$b.default;const Wb=yu(up);ts.PostgrestError=Wb.default;var xS=ts.default={PostgrestClient:Bb.default,PostgrestQueryBuilder:Ub.default,PostgrestFilterBuilder:zb.default,PostgrestTransformBuilder:qb.default,PostgrestBuilder:$b.default,PostgrestError:Wb.default};const{PostgrestClient:_S,PostgrestQueryBuilder:MA,PostgrestFilterBuilder:DA,PostgrestTransformBuilder:BA,PostgrestBuilder:UA,PostgrestError:zA}=xS;class NS{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SS="2.15.1",jS=`realtime-js/${SS}`,kS="1.0.0",Eg=1e4,AS=1e3,LS=100;var dd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dd||(dd={}));var Wn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wn||(Wn={}));var ui;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ui||(ui={}));var Pg;(function(e){e.websocket="websocket"})(Pg||(Pg={}));var kl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kl||(kl={}));class ES{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+s));a=a+s;const l=r.decode(t.slice(a,a+i));a=a+i;const h=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:h}}}class Hb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nn||(nn={}));const Yv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=PS(a,e,t,s),i),{})},PS=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?Vb(i,a):Cg(a)},Vb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return OS(t,n)}switch(e){case nn.bool:return CS(t);case nn.float4:case nn.float8:case nn.int2:case nn.int4:case nn.int8:case nn.numeric:case nn.oid:return TS(t);case nn.json:case nn.jsonb:return IS(t);case nn.timestamp:return RS(t);case nn.abstime:case nn.date:case nn.daterange:case nn.int4range:case nn.int8range:case nn.money:case nn.reltime:case nn.text:case nn.time:case nn.timestamptz:case nn.timetz:case nn.tsrange:case nn.tstzrange:return Cg(t);default:return Cg(t)}},Cg=e=>e,CS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Vb(t,o))}return e},RS=e=>typeof e=="string"?e.replace(" ","T"):e,Gb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class om{constructor(t,n,r={},s=Eg){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xv||(Xv={}));class hd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hd.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=hd.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hd.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(i,(h,p)=>{a[h]||(l[h]=p)}),this.map(a,(h,p)=>{const m=i[h];if(m){const b=p.map(L=>L.presence_ref),v=m.map(L=>L.presence_ref),k=p.filter(L=>v.indexOf(L.presence_ref)<0),A=m.filter(L=>b.indexOf(L.presence_ref)<0);k.length>0&&(o[h]=k),A.length>0&&(l[h]=A)}else o[h]=p}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var h;const p=(h=t[o])!==null&&h!==void 0?h:[];if(t[o]=this.cloneDeep(l),p.length>0){const m=t[o].map(v=>v.presence_ref),b=p.filter(v=>m.indexOf(v.presence_ref)<0);t[o].unshift(...b)}r(o,p,l)}),this.map(a,(o,l)=>{let h=t[o];if(!h)return;const p=l.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[o]=h,s(o,h,l),h.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qv||(Qv={}));var fd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fd||(fd={}));var pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pa||(pa={}));class e1{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Wn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new om(this,ui.join,this.params,this.timeout),this.rejoinTimer=new Hb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Wn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new hd(this),this.broadcastEndpointURL=Gb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wn.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[fd.PRESENCE]&&this.bindings[fd.PRESENCE].length>0,p={},m={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(pa.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(pa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var v;if(this.socket.setAuth(),b===void 0){t==null||t(pa.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,A=(v=k==null?void 0:k.length)!==null&&v!==void 0?v:0,L=[];for(let x=0;x<A;x++){const N=k[x],{filter:{event:_,schema:C,table:q,filter:G}}=N,H=b&&b[x];if(H&&H.event===_&&H.schema===C&&H.table===q&&H.filter===G)L.push(Object.assign(Object.assign({},N),{id:H.id}));else{this.unsubscribe(),this.state=Wn.errored,t==null||t(pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,t&&t(pa.SUBSCRIBED);return}}).receive("error",b=>{this.state=Wn.errored,t==null||t(pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Wn.joined&&t===fd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new om(this,ui.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new om(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:h,join:p}=ui;if(r&&[o,l,h,p].indexOf(a)>=0&&r!==this._joinRef())return;let b=this._onMessage(a,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var k,A,L;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((L=(A=v.filter)===null||A===void 0?void 0:A.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===a}).map(v=>v.callback(b,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var k,A,L,x,N,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const C=v.id,q=(k=v.filter)===null||k===void 0?void 0:k.event;return C&&((A=n.ids)===null||A===void 0?void 0:A.includes(C))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((L=n.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const C=(N=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:A,table:L,commit_timestamp:x,type:N,errors:_}=k;b=Object.assign(Object.assign({},{schema:A,table:L,commit_timestamp:x,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(k))}v.callback(b,r)})}_isClosed(){return this.state===Wn.closed}_isJoined(){return this.state===Wn.joined}_isJoining(){return this.state===Wn.joining}_isLeaving(){return this.state===Wn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e1.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ui.close,{},t)}_onError(t){this._on(ui.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yv(t.columns,t.old_record)),n}}const Zv=()=>{},Th={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FS=[1e3,2e3,5e3,1e4],MS=1e4,DS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BS{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eg,this.transport=null,this.heartbeatIntervalMs=Th.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zv,this.ref=0,this.reconnectTimer=null,this.logger=Zv,this.conn=null,this.sendBuffer=[],this.serializer=new ES,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>dt(async()=>{const{default:o}=await Promise.resolve().then(()=>vu);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Pg.websocket}`,this.httpEndpoint=Gb(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kS}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dd.connecting:return kl.Connecting;case dd.open:return kl.Open;case dd.closing:return kl.Closing;default:return kl.Closed}}isConnected(){return this.connectionState()===kl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new e1(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Th.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ui.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([DS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:jS};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ui.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Hb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Th.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,o,l,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Eg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Th.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:p=>FS[p-1]||MS,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(p,m)=>m(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class t1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Hn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class US extends t1{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tg extends t1{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var zS=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};const Jb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dt(async()=>{const{default:r}=await Promise.resolve().then(()=>vu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qS=()=>zS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dt(()=>Promise.resolve().then(()=>vu),void 0)).Response:Response}),Ig=e=>{if(Array.isArray(e))return e.map(n=>Ig(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ig(r)}),t},$S=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Wl=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};const lm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WS=(e,t,n)=>Wl(void 0,void 0,void 0,function*(){const r=yield qS();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new US(lm(s),i,a))}).catch(s=>{t(new Tg(lm(s),s))}):t(new Tg(lm(e),e))}),HS=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:($S(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Jd(e,t,n,r,s,i){return Wl(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,HS(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>WS(l,o,r))})})}function Of(e,t,n,r){return Wl(this,void 0,void 0,function*(){return Jd(e,"GET",t,n,r)})}function Bi(e,t,n,r,s){return Wl(this,void 0,void 0,function*(){return Jd(e,"POST",t,r,s,n)})}function Og(e,t,n,r,s){return Wl(this,void 0,void 0,function*(){return Jd(e,"PUT",t,r,s,n)})}function VS(e,t,n,r){return Wl(this,void 0,void 0,function*(){return Jd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kb(e,t,n,r,s){return Wl(this,void 0,void 0,function*(){return Jd(e,"DELETE",t,r,s,n)})}var Br=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};const GS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JS{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Jb(s)}uploadOrUpdate(t,n,r,s){return Br(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},e2),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),m=yield(t=="PUT"?Og:Bi)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(Hn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Br(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const h=Object.assign({upsert:e2.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",h.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",h.cacheControl)):(l=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield Og(this.fetch,o.toString(),l,{headers:p});return{data:{path:i,fullPath:m.Key},error:null}}catch(l){if(Hn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Br(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Bi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new t1("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}update(t,n,r){return Br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Br(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Br(this,void 0,void 0,function*(){try{return{data:{path:(yield Bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Br(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Bi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Br(this,void 0,void 0,function*(){try{const s=yield Bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}download(t,n){return Br(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Of(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Hn(o))return{data:null,error:o};throw o}})}info(t){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Of(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ig(r),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}exists(t){return Br(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield VS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Hn(r)&&r instanceof Tg){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${h}`)}}}remove(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Kb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}list(t,n,r){return Br(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},GS),n),{prefix:t||""});return{data:yield Bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Hn(s))return{data:null,error:s};throw s}})}listV2(t,n){return Br(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Bi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const KS="2.11.0",YS={"X-Client-Info":`storage-js/${KS}`};var wc=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};class XS{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},YS),n),this.fetch=Jb(r)}listBuckets(){return wc(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Hn(t))return{data:null,error:t};throw t}})}getBucket(t){return wc(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wc(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wc(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wc(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wc(this,void 0,void 0,function*(){try{return{data:yield Kb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Hn(n))return{data:null,error:n};throw n}})}}class QS extends XS{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new JS(this.url,this.headers,t,this.fetch)}}const ZS="2.56.0";let ed="";typeof Deno<"u"?ed="deno":typeof document<"u"?ed="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ed="react-native":ed="node";const ej={"X-Client-Info":`supabase-js-${ed}/${ZS}`},tj={headers:ej},nj={schema:"public"},rj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sj={};var ij=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};const aj=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ob:t=fetch,(...n)=>t(...n)},oj=()=>typeof Headers>"u"?Rb:Headers,lj=(e,t,n)=>{const r=aj(n),s=oj();return(i,a)=>ij(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let h=new s(a==null?void 0:a.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:h}))})};var cj=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};function uj(e){return e.endsWith("/")?e:e+"/"}function dj(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:h,realtime:p,global:m}=t,b={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>cj(this,void 0,void 0,function*(){return""})};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}const Yb="2.71.1",Ac=30*1e3,Rg=3,cm=Rg*Ac,hj="http://localhost:9999",fj="supabase.auth.token",pj={"X-Client-Info":`gotrue-js/${Yb}`},Fg="X-Supabase-Api-Version",Xb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gj=10*60*1e3;class n1 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ct(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vj extends n1{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yj(e){return Ct(e)&&e.name==="AuthApiError"}class Qb extends n1{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class zo extends n1{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class po extends zo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bj(e){return Ct(e)&&e.name==="AuthSessionMissingError"}class Ih extends zo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oh extends zo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rh extends zo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wj(e){return Ct(e)&&e.name==="AuthImplicitGrantRedirectError"}class t2 extends zo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mg extends zo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function um(e){return Ct(e)&&e.name==="AuthRetryableFetchError"}class n2 extends zo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dg extends zo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r2=` 	
\r=`.split(""),xj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r2.length;t+=1)e[r2[t].charCodeAt(0)]=-2;for(let t=0;t<Rf.length;t+=1)e[Rf[t].charCodeAt(0)]=t;return e})();function s2(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rf[r]),t.queuedBits-=6}}function Zb(e,t,n){const r=xj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function i2(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Sj(a,r,n)};for(let a=0;a<e.length;a+=1)Zb(e.charCodeAt(a),s,i);return t.join("")}function _j(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Nj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}_j(r,t)}}function Sj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function jj(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Zb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function kj(e){const t=[];return Nj(e,n=>t.push(n)),new Uint8Array(t)}function Aj(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>s2(s,n,r)),s2(null,n,r),t.join("")}function Lj(e){return Math.round(Date.now()/1e3)+e}function Ej(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ai=()=>typeof window<"u"&&typeof document<"u",wl={tested:!1,writable:!1},ew=()=>{if(!ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wl.tested)return wl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wl.tested=!0,wl.writable=!0}catch{wl.tested=!0,wl.writable=!1}return wl.writable};function Pj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const tw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dt(async()=>{const{default:r}=await Promise.resolve().then(()=>vu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Cj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},uo=async(e,t)=>{await e.removeItem(t)};class dp{constructor(){this.promise=new dp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dp.promiseConstructor=Promise;function dm(e){const t=e.split(".");if(t.length!==3)throw new Dg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mj.test(t[r]))throw new Dg("JWT not in base64url format");return{header:JSON.parse(i2(t[0])),payload:JSON.parse(i2(t[1])),signature:jj(t[2]),raw:{header:t[0],payload:t[1]}}}async function Tj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ij(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Oj(e){return("0"+e.toString(16)).substr(-2)}function Rj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Oj).join("")}async function Fj(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Mj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Fj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xc(e,t,n=!1){const r=Rj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Lc(e,`${t}-code-verifier`,s);const i=await Mj(r);return[i,r===i?"plain":"s256"]}const Dj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bj(e){const t=e.headers.get(Fg);if(!t||!t.match(Dj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _c(e){if(!qj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function a2(e){return JSON.parse(JSON.stringify(e))}var $j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Sl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wj=[502,503,504];async function o2(e){var t;if(!Cj(e))throw new Mg(Sl(e),0);if(Wj.includes(e.status))throw new Mg(Sl(e),e.status);let n;try{n=await e.json()}catch(i){throw new Qb(Sl(i),i)}let r;const s=Bj(e);if(s&&s.getTime()>=Xb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new n2(Sl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new po}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new n2(Sl(n),e.status,n.weak_password.reasons);throw new vj(Sl(n),e.status||500,r)}const Hj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ft(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Fg]||(i[Fg]=Xb["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Vj(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Vj(e,t,n,r,s,i){const a=Hj(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new Mg(Sl(l),0)}if(o.ok||await o2(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await o2(l)}}function ha(e){var t;let n=null;Yj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Lj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function l2(e){const t=ha(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gj(e){return{data:e,error:null}}function Jj(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=$j(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Kj(e){return e}function Yj(e){return e.access_token&&e.refresh_token&&e.expires_in}const fm=["global","local","others"];var Xj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Qj{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=fm[0]){if(fm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fm.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bo})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Xj(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Jj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bo})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,l;try{const h={nextPage:null,lastPage:0,total:0},p=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Kj});if(p.error)throw p.error;const m=await p.json(),b=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=p.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(k=>{const A=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(k.split(";")[1].split("=")[1]);h[`${L}Page`]=A}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ct(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){_c(t);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bo})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){_c(t);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:bo})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){_c(t);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:bo})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){_c(t.userId);try{const{data:n,error:r}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(t){_c(t.userId),_c(t.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function c2(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Zj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nc={debug:!!(globalThis&&ew()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ek extends nw{}async function tk(e,t,n){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ek(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Zj();const nk={url:hj,storageKey:fj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function u2(e,t,n){return await n()}const Sc={};class Fd{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fd.nextInstanceID,Fd.nextInstanceID+=1,this.instanceID>0&&ai()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},nk),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Qj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tw(s.fetch),this.lock=s.lock||u2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ai()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tk:this.lock=u2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ew()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=c2(this.memoryStorage)),ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Sc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Sc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Yb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Pj(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ai()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wj(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?{error:n}:{error:new Qb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ha}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:p,password:m,options:b}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await xc(this.storage,this.storageKey)),i=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:p,password:m,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:v,code_challenge_method:k},xform:ha})}else if("phone"in t){const{phone:p,password:m,options:b}=t;i=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(s=b==null?void 0:b.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ha})}else throw new Oh("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,h=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:l2})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:l2})}else throw new Oh("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ih}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,a,o,l,h,p,m,b,v;let k,A;if("message"in t)k=t.message,A=t.signature;else{const{chain:L,wallet:x,statement:N,options:_}=t;let C;if(ai())if(typeof x=="object")C=x;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))C=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=x}const q=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const G=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),N?{statement:N}:null));let H;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")H=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)H=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)k=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),A=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${q.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(s=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((h=_==null?void 0:_.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(p=_==null?void 0:_.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const G=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=G}}try{const{data:L,error:x}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Aj(A)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ha});if(x)throw x;return!L||!L.session||!L.user?{data:{user:null,session:null},error:new Ih}:(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),{data:Object.assign({},L),error:x})}catch(L){if(Ct(L))return{data:{user:null,session:null},error:L};throw L}}async _exchangeCodeForSession(t){const n=await xl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ha});if(await uo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ih}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Ct(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ha}),{data:l,error:h}=o;return h?{data:{user:null,session:null},error:h}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ih}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:h})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await xc(this.storage,this.storageKey));const{error:m}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:o,options:l}=t,{data:h,error:p}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Oh("You must provide either an email or phone number.")}catch(o){if(Ct(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ha});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,h=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await xc(this.storage,this.storageKey)),await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Gj})}catch(i){if(Ct(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new po;const{error:s}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ct(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Oh("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<cm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await xl(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=hm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,h,p)=>(!a&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,h,p))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bo}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new po}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bo})})}catch(n){if(Ct(n))return bj(n)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new po;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await xc(this.storage,this.storageKey));const{data:h,error:p}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:bo});if(p)throw p;return a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new po;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=dm(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new po;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ai())throw new Rh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new t2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t2("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:h}=t;if(!i||!o||!a||!h)throw new Rh("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(o);let b=p+m;l&&(b=parseInt(l));const v=b-p;v*1e3<=Ac&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const k=b-m;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,p);const{data:A,error:L}=await this._getUser(i);if(L)throw L;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:b,refresh_token:a,token_type:h,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(Ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(yj(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Ej(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await xc(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ct(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,h,p;const{data:m,error:b}=i;if(b)throw b;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return ai()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ct(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ij(async s=>(s>0&&await Tj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ha})),(s,i)=>{const a=200*Math.pow(2,s);return i&&um(i)&&Date.now()+a-r<Ac})}catch(r){if(this._debug(n,"error",r),Ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ai()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xl(this.storage,this.storageKey);if(s&&this.userStorage){let a=await xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Lc(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:hm()}else if(s&&!s.user&&!s.user){const a=await xl(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await uo(this.storage,this.storageKey+"-user"),await Lc(this.storage,this.storageKey,s)):s.user=hm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${cm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),um(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new po;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new dp;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new po;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Ct(i)){const a={session:null,error:i};return um(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lc(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=a2(s);await Lc(this.storage,this.storageKey,i)}else{const s=a2(n);await Lc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await uo(this.storage,this.storageKey+"-code-verifier"),await uo(this.storage,this.storageKey+"-user"),this.userStorage&&await uo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ac);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ac);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ac}ms, refresh threshold is ${Rg} ticks`),s<=Rg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await xc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ft(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:h}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ft(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=dm(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const p=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+gj>s)return r;const{data:i,error:a}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=dm(r);n!=null&&n.allowExpired||Uj(i.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const p=zj(s.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,kj(`${o}.${l}`)))throw new Dg("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}}Fd.nextInstanceID=0;const rk=Fd;class sk extends rk{constructor(t){super(t)}}var ik=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(p){try{h(r.next(p))}catch(m){a(m)}}function l(p){try{h(r.throw(p))}catch(m){a(m)}}function h(p){p.done?i(p.value):s(p.value).then(o,l)}h((r=r.apply(e,t||[])).next())})};class ak{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=uj(t),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const h=`sb-${l.hostname.split(".")[0]}-auth-token`,p={db:nj,realtime:sj,auth:Object.assign(Object.assign({},rj),{storageKey:h}),global:tj},m=dj(r??{},p);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=lj(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new _S(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new QS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new eS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return ik(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},h,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sk({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new BS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ok=(e,t,n)=>new ak(e,t,n);function lk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}lk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ck="https://ofhklmyaioxznrqiolad.supabase.co",uk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maGtsbXlhaW94em5ycWlvbGFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMTY4NjYsImV4cCI6MjA3MjU5Mjg2Nn0.idw8ArFNe8wgM2iELJkVLxjrW1yPDJ81tiqvXzo6JM8",lr=ok(ck,uk),dk="https://zelia.io/api",Ot=Wt.create({baseURL:dk,headers:{"Content-Type":"application/json"}});Ot.interceptors.request.use(async e=>{var t;try{const{data:n}=await lr.auth.getSession(),r=(t=n==null?void 0:n.session)==null?void 0:t.access_token,s=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),i=r||s;i&&(e.headers=e.headers||{},e.headers.Authorization||(e.headers.Authorization=`Bearer ${i}`))}catch{const n=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");n&&(e.headers=e.headers||{},e.headers.Authorization||(e.headers.Authorization=`Bearer ${n}`))}return e},e=>Promise.reject(e));Ot.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&localStorage.removeItem("supabase_auth_token"),Promise.reject(e)});const Wi={getProfile:()=>Ot.get("/users/profile"),updateProfile:e=>Ot.put("/users/profile",e),getCurrentUser:()=>Ot.get("/users/me"),saveExtraInfo:e=>Ot.post("/users/profile/extra-info",{entries:e})},qA={getAll:(e={})=>Ot.get("/formations",{params:e}),getById:e=>Ot.get(`/formations/${e}`),create:e=>Ot.post("/formations",e),update:(e,t)=>Ot.put(`/formations/${e}`,t),delete:e=>Ot.delete(`/formations/${e}`)},pd={getMyResults:()=>Ot.get("/analysis/my-results"),evaluateJob:({job:e})=>Ot.post("/analysis/level9/evaluate-job",{job:e}),saveShareImage:({dataUrl:e,questionnaireType:t="mbti",metadata:n})=>Ot.post("/analysis/share-image",{image:e,questionnaireType:t,metadata:n})},hk={aiChat:({mode:e,persona:t,message:n,history:r})=>Ot.post("/chat/ai",{mode:e,persona:t,message:n,history:r})},d2={suggest:({q:e,type:t})=>Ot.get("/letter/suggest",{params:{q:e,type:t}}),generate:({selection:e,style:t,emploi_selection:n,formation_selection:r})=>Ot.post("/letter/generate",{selection:e,style:t,emploi_selection:n,formation_selection:r})},r1={get:async()=>{var n;const{data:e}=await lr.auth.getUser(),t=(n=e==null?void 0:e.user)==null?void 0:n.id;if(!t)throw new Error("No user");return Ot.get(`/progression/${t}`)},update:async({level:e,xp:t,quests:n,perks:r})=>{var a;const{data:s}=await lr.auth.getUser(),i=(a=s==null?void 0:s.user)==null?void 0:a.id;if(!i)throw new Error("No user");return Ot.post(`/progression/${i}`,{level:e,xp:t,quests:n,perks:r})}},$A={getConfig:()=>Ot.get("/payments/config"),createCheckout:(e={})=>Ot.post("/payments/checkout",e),verifySession:e=>Ot.post("/payments/verify",{sessionId:e})},WA={sendResults:(e={})=>Ot.post("/share/results",e)};function fk(){const[e,t]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState("student"),[a,o]=B.useState(""),[l,h]=B.useState(!1),p=Wr();async function m(b){var v,k,A;b.preventDefault(),o(""),h(!0);try{const{data:L,error:x}=await lr.auth.signInWithPassword({email:e,password:n});if(x)throw x;if((v=L.session)!=null&&v.access_token&&localStorage.setItem("supabase_auth_token",L.session.access_token),s)try{const{data:_}=await lr.from("profiles").upsert({id:L.user.id,profile_type:s,updated_at:new Date().toISOString()})}catch(_){console.warn("Profile update failed:",_)}if(localStorage.getItem("answers_cache"))try{localStorage.removeItem("answers_cache"),p("/app/results");return}catch(_){console.warn("Failed to submit cached answers:",_)}p("/app")}catch(L){const x=(L==null?void 0:L.message)||(L==null?void 0:L.error_description)||((A=(k=L==null?void 0:L.response)==null?void 0:k.data)==null?void 0:A.error)||"chec de connexion";o(x)}finally{h(!1)}}return u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-xl",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Se connecter"}),u.jsx("p",{className:"text-text-secondary",children:"Slectionnez votre profil et connectez-vous pour continuer."})]}),u.jsxs("form",{onSubmit:m,className:"bg-surface border border-line rounded-xl shadow-card p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"email",placeholder:"Email",value:e,onChange:b=>t(b.target.value),required:!0}),u.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"password",placeholder:"Mot de passe",value:n,onChange:b=>r(b.target.value),required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="student"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("student"),children:"tudiant"}),u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="company"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("company"),children:"Entreprise"})]}),a&&u.jsx("div",{className:"text-red-600 text-sm",children:a}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-black text-white rounded-lg h-11 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Connexion...":"Se connecter"})})]}),u.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Pas de compte ? ",u.jsx(ou,{to:"/avatar",className:"underline",children:"S'inscrire"})]})]})})}function pk(){const[e,t]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState(""),[a,o]=B.useState(""),[l,h]=B.useState("18"),[p,m]=B.useState(""),[b,v]=B.useState(""),[k,A]=B.useState(""),[L,x]=B.useState(""),[N,_]=B.useState(""),[C,q]=B.useState(""),[G,H]=B.useState(!1);Wr();const $=B.useMemo(()=>[{code:"01",name:"Ain"},{code:"02",name:"Aisne"},{code:"03",name:"Allier"},{code:"04",name:"Alpes-de-Haute-Provence"},{code:"05",name:"Hautes-Alpes"},{code:"06",name:"Alpes-Maritimes"},{code:"07",name:"Ardche"},{code:"08",name:"Ardennes"},{code:"09",name:"Arige"},{code:"10",name:"Aube"},{code:"11",name:"Aude"},{code:"12",name:"Aveyron"},{code:"13",name:"Bouches-du-Rhne"},{code:"14",name:"Calvados"},{code:"15",name:"Cantal"},{code:"16",name:"Charente"},{code:"17",name:"Charente-Maritime"},{code:"18",name:"Cher"},{code:"19",name:"Corrze"},{code:"2A",name:"Corse-du-Sud"},{code:"2B",name:"Haute-Corse"},{code:"21",name:"Cte-dOr"},{code:"22",name:"Ctes-dArmor"},{code:"23",name:"Creuse"},{code:"24",name:"Dordogne"},{code:"25",name:"Doubs"},{code:"26",name:"Drme"},{code:"27",name:"Eure"},{code:"28",name:"Eure-et-Loir"},{code:"29",name:"Finistre"},{code:"30",name:"Gard"},{code:"31",name:"Haute-Garonne"},{code:"32",name:"Gers"},{code:"33",name:"Gironde"},{code:"34",name:"Hrault"},{code:"35",name:"Ille-et-Vilaine"},{code:"36",name:"Indre"},{code:"37",name:"Indre-et-Loire"},{code:"38",name:"Isre"},{code:"39",name:"Jura"},{code:"40",name:"Landes"},{code:"41",name:"Loir-et-Cher"},{code:"42",name:"Loire"},{code:"43",name:"Haute-Loire"},{code:"44",name:"Loire-Atlantique"},{code:"45",name:"Loiret"},{code:"46",name:"Lot"},{code:"47",name:"Lot-et-Garonne"},{code:"48",name:"Lozre"},{code:"49",name:"Maine-et-Loire"},{code:"50",name:"Manche"},{code:"51",name:"Marne"},{code:"52",name:"Haute-Marne"},{code:"53",name:"Mayenne"},{code:"54",name:"Meurthe-et-Moselle"},{code:"55",name:"Meuse"},{code:"56",name:"Morbihan"},{code:"57",name:"Moselle"},{code:"58",name:"Nivre"},{code:"59",name:"Nord"},{code:"60",name:"Oise"},{code:"61",name:"Orne"},{code:"62",name:"Pas-de-Calais"},{code:"63",name:"Puy-de-Dme"},{code:"64",name:"Pyrnes-Atlantiques"},{code:"65",name:"Hautes-Pyrnes"},{code:"66",name:"Pyrnes-Orientales"},{code:"67",name:"Bas-Rhin"},{code:"68",name:"Haut-Rhin"},{code:"69",name:"Rhne"},{code:"70",name:"Haute-Sane"},{code:"71",name:"Sane-et-Loire"},{code:"72",name:"Sarthe"},{code:"73",name:"Savoie"},{code:"74",name:"Haute-Savoie"},{code:"75",name:"Paris"},{code:"76",name:"Seine-Maritime"},{code:"77",name:"Seine-et-Marne"},{code:"78",name:"Yvelines"},{code:"79",name:"Deux-Svres"},{code:"80",name:"Somme"},{code:"81",name:"Tarn"},{code:"82",name:"Tarn-et-Garonne"},{code:"83",name:"Var"},{code:"84",name:"Vaucluse"},{code:"85",name:"Vende"},{code:"86",name:"Vienne"},{code:"87",name:"Haute-Vienne"},{code:"88",name:"Vosges"},{code:"89",name:"Yonne"},{code:"90",name:"Territoire de Belfort"},{code:"91",name:"Essonne"},{code:"92",name:"Hauts-de-Seine"},{code:"93",name:"Seine-Saint-Denis"},{code:"94",name:"Val-de-Marne"},{code:"95",name:"Val-dOise"},{code:"971",name:"Guadeloupe"},{code:"972",name:"Martinique"},{code:"973",name:"Guyane"},{code:"974",name:"La Runion"},{code:"976",name:"Mayotte"}],[]);async function ie(Z){var O,U;Z.preventDefault(),_("");try{if(n!==C){_("Les mots de passe ne correspondent pas");return}const ee=localStorage.getItem("avatar_cfg"),V=localStorage.getItem("avatar_url"),ve=localStorage.getItem("answers_cache");let de=null,be=null;if(ee&&V)try{de={...JSON.parse(ee),url:V,provider:"dicebear/lorelei"}}catch(Y){console.warn("Failed to parse avatar config:",Y)}if(ve)try{const Y=JSON.parse(ve);be=Y.answers||Y.responses||[]}catch(Y){console.warn("Failed to parse questionnaire cache:",Y)}const se={profile_type:"student",nom:s,prenom:a,age:Number(l),genre:p,departement:b,ecole:k,numeroTelephone:L,first_name:a,last_name:s,gender:p,department:b,school:k,phone_number:L},ue=await Wt.post("/api/auth/register",{email:e,password:n,userData:se,avatarData:de,questionnaireResponses:be});H(!0),de&&(localStorage.removeItem("avatar_cfg"),localStorage.removeItem("avatar_url")),be&&(localStorage.removeItem("answers_cache"),localStorage.removeItem("answers_progress"))}catch(ee){const V=((U=(O=ee==null?void 0:ee.response)==null?void 0:O.data)==null?void 0:U.error)||(ee==null?void 0:ee.message)||(ee==null?void 0:ee.error_description)||"chec d'inscription";_(V)}}return u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-5xl py-10",children:[u.jsx("style",{children:`
        /* Helper to remove outlines / rings / transitions */
        .no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
        .no-outline::-moz-focus-inner { border: 0 !important; }
        `}),G?u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 7.89a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Email de confirmation envoy !"}),u.jsxs("p",{className:"text-text-secondary mb-4",children:["Nous avons envoy un email de confirmation  ",u.jsx("strong",{children:e})]}),u.jsx("p",{className:"text-text-secondary",children:"Veuillez cliquer sur le lien dans l'email pour valider votre compte et accder  votre tableau de bord."})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-sm font-medium",children:"Vrifiez votre bote de rception"})]}),u.jsx("p",{className:"text-sm text-text-secondary",children:"L'email peut prendre quelques minutes  arriver. Pensez  vrifier votre dossier spam si vous ne le recevez pas."})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Crer un compte"}),u.jsx("p",{className:"text-text-secondary",children:"Choisissez votre type de profil pour une exprience personnalise."})]}),u.jsx("div",{className:"mb-4 flex gap-2",children:u.jsx("button",{type:"button",className:"h-11 px-4 rounded-none border border-line bg-white text-sm text-text-primary cursor-default",disabled:!0,children:"tudiant"})}),u.jsx("form",{onSubmit:ie,className:"bg-surface border border-line rounded-xl shadow-card p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Prnom *"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Votre prnom",value:a,onChange:Z=>o(Z.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom *"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Votre nom",value:s,onChange:Z=>i(Z.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"ge *"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"number",min:"10",max:"100",placeholder:"Votre ge",value:l,onChange:Z=>h(Z.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Dpartement *"}),u.jsxs("select",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:b,onChange:Z=>v(Z.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Slectionnez votre dpartement"}),$.map(Z=>u.jsxs("option",{value:`${Z.code} - ${Z.name}`,children:[Z.code," - ",Z.name]},Z.code))]})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Genre *"}),u.jsxs("select",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:p,onChange:Z=>m(Z.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Slectionnez un genre"}),u.jsx("option",{value:"Homme",children:"Homme"}),u.jsx("option",{value:"Femme",children:"Femme"}),u.jsx("option",{value:"Autre",children:"Autre"})]})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"cole/Formation"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Nom de votre cole...",value:k,onChange:Z=>A(Z.target.value)}),u.jsx("small",{className:"text-text-secondary",children:"Facultatif - Saisissez le nom de votre cole"})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Numro de tlphone"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"tel",placeholder:"ex: 06 12 34 56 78",value:L,onChange:Z=>x(Z.target.value)}),u.jsx("small",{className:"text-text-secondary",children:"Facultatif"})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse Email *"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"email",placeholder:"Entrez votre adresse email",value:e,onChange:Z=>t(Z.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Mot de passe *"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"password",placeholder:"Entrez votre mot de passe",value:n,onChange:Z=>r(Z.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Confirmer le mot de passe *"}),u.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"password",placeholder:"Confirmez votre mot de passe",value:C,onChange:Z=>q(Z.target.value),required:!0})]}),N&&u.jsx("div",{className:"md:col-span-12 text-red-600 text-sm",children:N}),u.jsx("div",{className:"md:col-span-12",children:u.jsx("button",{type:"submit",className:"w-full bg-black text-white rounded-none h-11",children:"S'inscrire"})})]})}),u.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Vous avez dj un compte ? ",u.jsx(ou,{to:"/login",className:"underline",children:"Se connecter"})]})]})]})})}function mk({size:e=90}){const[t,n]=B.useState(()=>localStorage.getItem("avatar_url")||null);return B.useEffect(()=>{if(!t)try{const r=localStorage.getItem("avatar_cfg");if(r){const s=JSON.parse(r),i=gk(s,256);n(i),localStorage.setItem("avatar_url",i)}}catch{}},[t]),t?u.jsx("img",{src:t,alt:"avatar",width:e,height:e,style:{borderRadius:8,background:"#fff",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"}}):u.jsx("div",{style:{width:e,height:e,borderRadius:8,background:"#f5f5f5",display:"grid",placeItems:"center",color:"#999",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"},children:""})}function pm(e){return(e||"").replace("#","")}function gk(e,t){const n="https://api.dicebear.com/9.x/lorelei/svg",r=new URLSearchParams;return r.set("seed",e.seed||"zelia"),r.set("size",String(t)),r.set("radius",String(e.radius??30)),e.bg&&(r.set("backgroundType","solid"),r.set("backgroundColor",pm(e.bg))),e.skin&&r.set("skinColor",pm(e.skin)),e.hair&&r.set("hairColor",pm(e.hair)),e.glasses===!0?(r.set("accessories","glasses"),r.set("accessoriesProbability","100")):r.set("accessoriesProbability","0"),`${n}?${r.toString()}`}function vk(){const[e,t]=B.useState([]),[n,r]=B.useState(0),[s,i]=B.useState(()=>{try{return JSON.parse(localStorage.getItem("answers_progress")||"{}")}catch{return{}}}),[a,o]=B.useState(!0),[l,h]=B.useState(""),p=Wr();B.useEffect(()=>{(async()=>{try{const{data:N}=await Wt.get("/api/questionnaire/questions");t(N)}catch{h("Impossible de charger les questions")}finally{o(!1)}})()},[]);const m=e[n],b=B.useMemo(()=>{const N=m==null?void 0:m.contenu;if(typeof N!="string")return N;if(N.startsWith("(")){const _=N.indexOf('"'),C=N.indexOf('"',_+1);if(_!==-1&&C!==-1)return N.slice(_+1,C)}return N},[m]),v=B.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]);async function k(){const N={answers:Object.entries(s).map(([q,G])=>({question_id:Number(q),answer:G}))},_=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");let C=!1;if(_)try{const q={Authorization:`Bearer ${_}`};await Wt.get("/api/users/me",{headers:q}),C=!0}catch{localStorage.removeItem("supabase_auth_token"),localStorage.removeItem("token"),C=!1}if(C)try{const q={Authorization:`Bearer ${_}`};await Wt.post("/api/questionnaire/submit",N,{headers:q}),await Wt.post("/api/results/generate",{},{headers:q}),localStorage.setItem("answers_cache",JSON.stringify(N)),p("/app/results");return}catch(q){console.warn("Failed to submit authenticated questionnaire:",q)}localStorage.setItem("answers_cache",JSON.stringify(N)),p("/register?after=results")}function A(N){const _=m==null?void 0:m.id;if(!_)return;const C=n+1,q={...s,[_]:N};i(q),localStorage.setItem("answers_progress",JSON.stringify(q)),C<e.length&&r(C)}const L=e.length?Math.round((n+1)/e.length*100):0,x=m?s[m.id]!=null:!1;return a?u.jsx("div",{className:"min-h-screen grid place-items-center text-text-secondary",children:"Chargement"}):l?u.jsx("div",{className:"min-h-screen grid place-items-center text-red-600",children:l}):u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-3xl py-10",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Questionnaire"}),u.jsx("p",{className:"text-text-secondary",children:"Rpondez pour affiner votre profil et vos recommandations."})]}),u.jsx("div",{className:"hidden sm:block",children:u.jsx(mk,{size:72})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"w-full bg-line h-2 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-black",style:{width:`${L}%`}})}),u.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-text-secondary",children:[u.jsxs("span",{children:[Math.min(n+1,e.length)," / ",e.length]}),u.jsxs("span",{children:[L,"%"]})]})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-3",children:b}),u.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((N,_)=>u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s[m==null?void 0:m.id]===N?"border-black bg-black text-white":"border-line"}`,onClick:()=>A(N),children:N},_))}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>r(N=>Math.max(0,N-1)),disabled:n===0,children:"Prcdent"}),n<e.length-1?u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>r(N=>Math.min(e.length-1,N+1)),disabled:!x,children:"Suivant"}):u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:k,disabled:!x,children:"Terminer"})]})]})]})})}function yk(e,t){const[n,r]=B.useState(""),[s,i]=B.useState(!1),a=B.useRef(0);B.useEffect(()=>{if(r(""),i(!1),!e)return;const l=Math.max(1,Math.floor(t/30));let h=0;const p=()=>{h++;const m=Math.min(e.length,Math.floor(h/l*e.length));if(r(e.slice(0,m)),m>=e.length){i(!0);return}a.current=requestAnimationFrame(p)};return a.current=requestAnimationFrame(p),()=>cancelAnimationFrame(a.current)},[e,t]);const o=B.useCallback(()=>{r(e||""),i(!0)},[e]);return{text:n,done:s,skip:o}}function bk(e="zelia"){return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"320",radius:"15"}).toString()}`}function h2(e,t={}){try{const n=new URL(e);return Object.entries(t).forEach(([r,s])=>{s===null?n.searchParams.delete(r):Array.isArray(s)?(n.searchParams.delete(r),s.forEach(i=>n.searchParams.append(r,i))):n.searchParams.set(r,String(s))}),n.toString()}catch{return e}}function wk(){const e=Wr(),t=ja(),n=B.useRef(null),r=B.useRef(!1);B.useEffect(()=>{if(localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")){e("/app",{replace:!0});return}const C=new URLSearchParams(t.hash.substring(1)),q=C.get("access_token");C.get("type")==="signup"&&q&&e(`/email-confirmation#${t.hash.substring(1)}`,{replace:!0})},[t,e]),B.useEffect(()=>{const _=window.matchMedia("(prefers-reduced-motion: reduce)").matches;r.current=_;const C=n.current;if(!C||_)return;let q=0;const G={x:0,y:0},H={x:0,y:0},$=Z=>{const O=C.getBoundingClientRect(),U=O.left+O.width/2,ee=O.top+O.height/2;G.x=(Z.clientX-U)/O.width,G.y=(Z.clientY-ee)/O.height},ie=()=>{H.x+=(G.x-H.x)*.06,H.y+=(G.y-H.y)*.06,C.querySelectorAll("[data-depth]").forEach(O=>{const U=parseFloat(O.getAttribute("data-depth")||"0"),ee=H.x*U*30,V=H.y*U*30;O.style.transform=`translate3d(${ee}px, ${V}px, 0)`}),q=requestAnimationFrame(ie)};return C.addEventListener("mousemove",$),q=requestAnimationFrame(ie),()=>{cancelAnimationFrame(q),C.removeEventListener("mousemove",$)}},[]);const s=B.useMemo(()=>[{text:"Salut, je suis Zlia.",durationMs:1200},{text:"On va explorer tes intrts et tes forces pour t'clairer sur des mtiers et des tudes.",durationMs:3800},{text:"Tu es prt ? C'est simple et a ne prend que quelques minutes.",durationMs:2600}],[]),[i,a]=B.useState(0),o=s[i]||{text:"",durationMs:1e3},{text:l,done:h,skip:p}=yk(o.text,o.durationMs),m=h&&i<s.length-1,b=h&&i===s.length-1,v=()=>a(_=>Math.min(_+1,s.length-1)),k=()=>e("/avatar"),[A,L]=B.useState(!1),x=!h;B.useEffect(()=>{if(!x)return;const _=setInterval(()=>L(C=>!C),280);return()=>clearInterval(_)},[x]);const N=B.useMemo(()=>{const _=bk("zelia");return x?h2(_,{mouth:A?"happy05":"happy08"}):h2(_,{mouth:"happy05"})},[x,A]);return B.useEffect(()=>{const _=Array.from(document.querySelectorAll(".reveal"));if(!_.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){_.forEach(G=>G.classList.add("show"));return}const q=new IntersectionObserver(G=>{G.forEach(H=>{H.isIntersecting&&H.target.classList.add("show")})},{threshold:.15});return _.forEach(G=>q.observe(G)),()=>q.disconnect()},[]),u.jsxs("div",{className:"aximo-all-section landing-lock",style:{background:"#fffbf7",color:"#000"},children:[u.jsxs("section",{className:"landing-hero parallax-hero fullscreen",ref:n,children:[u.jsxs("div",{className:"parallax-scene","aria-hidden":"true",children:[u.jsx("div",{className:"layer layer-sky","data-depth":"0.05"}),u.jsx("div",{className:"layer layer-hill-1","data-depth":"0.18"}),u.jsx("div",{className:"layer layer-hill-2","data-depth":"0.26"}),u.jsx("div",{className:"layer layer-dots","data-depth":"0.35"})]}),u.jsx("nav",{className:"hero-overlay-nav modern-nav",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"nav-content",children:[u.jsx(ou,{to:"/",className:"brand-logo","aria-label":"Accueil",children:u.jsx("img",{src:"/assets/images/logo-dark.png",alt:"Zlia",className:"logo-image"})}),u.jsxs("div",{className:"nav-actions",children:[u.jsxs("button",{className:"nav-link-btn",onClick:()=>e("/avatar"),children:[u.jsx("span",{children:"Questionnaire"}),u.jsx("div",{className:"btn-highlight"})]}),u.jsx("button",{className:"nav-cta-btn",onClick:()=>e("/login"),children:u.jsx("span",{children:"Se connecter"})})]})]})})}),u.jsx("div",{className:"container position-relative hero-center",style:{zIndex:2},children:u.jsxs("div",{className:"row align-items-center justify-content-between g-5 hero-two-col",children:[u.jsx("div",{className:"col-lg-6",children:u.jsxs("div",{className:"chat-section reveal",children:[u.jsxs("div",{className:"chat-container",children:[u.jsx("div",{className:"chat-header",children:u.jsxs("div",{className:"chat-status",children:[u.jsx("span",{className:"status-dot active"}),u.jsx("span",{className:"status-text",children:"Zlia est en ligne"})]})}),u.jsx("div",{className:"chat-messages",children:u.jsxs("div",{className:`message-bubble ${h?"complete":"typing"}`,children:[u.jsx("div",{className:"message-content",children:u.jsxs("p",{className:"message-text",children:[l,u.jsx("span",{className:`typing-cursor ${h?"hide":""}`,children:""})]})}),u.jsxs("div",{className:"message-actions",children:[m&&u.jsxs("button",{className:"action-btn secondary",onClick:v,children:[u.jsx("span",{children:"Suivant"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:u.jsx("path",{d:"M9 18l6-6-6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!m&&!b&&u.jsx("button",{className:"action-btn ghost",onClick:p,children:u.jsx("span",{children:"Passer"})}),b&&u.jsxs("button",{className:"action-btn primary",onClick:k,children:[u.jsx("span",{children:"Commencer maintenant"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:u.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),u.jsx("div",{className:"conversation-progress",children:s.map((_,C)=>u.jsx("div",{className:`progress-dot ${C<=i?"active":""}`},C))})]})})]}),u.jsx("div",{className:"avatar-container",children:u.jsxs("div",{className:`avatar-frame modern ${h?"idle":"speaking"}`,children:[u.jsx("div",{className:"avatar-image",children:u.jsx("img",{src:N,alt:"Avatar Zlia",loading:"eager"})}),u.jsx("div",{className:"avatar-ring"})]})})]})}),u.jsx("div",{className:"col-lg-5",children:u.jsx("div",{className:"brand-section reveal",children:u.jsxs("div",{className:"brand-content",children:[u.jsxs("h1",{className:"brand-title",children:["z",u.jsx("span",{className:"accent-text",children:"li"}),"a"]}),u.jsxs("div",{className:"brand-tagline",children:[u.jsx("div",{className:"tagline-icon",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:u.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",fill:"currentColor"})})}),u.jsx("span",{className:"tagline-text",children:"LA COPILOTE DE L'AVENIR PROFESSIONNEL"})]}),u.jsx("div",{className:"brand-stats",children:u.jsxs("div",{className:"stat-item",children:[u.jsx("div",{className:"stat-number",children:"98%"}),u.jsx("div",{className:"stat-label",children:"des utilisateurs ont appris quelque chose sur eux-mmes"})]})}),u.jsxs("div",{className:"brand-features",children:[u.jsx("div",{className:"feature-item",children:u.jsx("span",{children:"Jeu d'orientation intelligent"})}),u.jsx("div",{className:"feature-item",children:u.jsx("span",{children:"Orientation ultra personnalise"})}),u.jsx("div",{className:"feature-item",children:u.jsx("span",{children:"Accompagnement continu"})})]})]})})})]})})]}),u.jsx("section",{className:"levels-section",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"levels-content",children:[u.jsx("div",{className:"levels-grid",children:[{levels:"1-5",title:"Exploration",emoji:"",description:"Dcouvre tes premiers intrts",current:!0},{levels:"6-10",title:"Intrts & Forces",emoji:"",description:"Identifie tes points forts"},{levels:"11-15",title:"Recherche Mtiers",emoji:"",description:"Explore les mtiers qui te correspondent"},{levels:"16-20",title:"Immersions",emoji:"",description:"Rencontre des professionnels"},{levels:"21-25",title:"Comptences",emoji:"",description:"Dveloppe tes soft skills"},{levels:"26-30",title:"CV & LM",emoji:"",description:"Cre tes premiers documents"},{levels:"31-35",title:"Parcoursup",emoji:"",description:"Prpare ton dossier d'excellence"},{levels:"36-40",title:"Oraux",emoji:"",description:"Matrise tes entretiens"}].map((_,C)=>u.jsxs("div",{className:`level-card ${_.current?"current":""}`,children:[u.jsx("div",{className:"level-emoji",children:_.emoji}),u.jsxs("div",{className:"level-info",children:[u.jsxs("div",{className:"level-range",children:["Niveaux ",_.levels]}),u.jsx("div",{className:"level-title",children:_.title}),u.jsx("div",{className:"level-description",children:_.description})]}),_.current&&u.jsx("div",{className:"current-badge",children:u.jsx("span",{children:"En cours"})})]},C))}),u.jsxs("div",{className:"levels-cta",children:[u.jsx("p",{className:"levels-cta-text",children:"Prt(e)  commencer ton parcours d'orientation personnalis ?"}),u.jsx("button",{onClick:()=>e("/app/questionnaire"),className:"levels-cta-btn",children:"Dbuter le Niveau 1"})]})]})})})]})}function mm(e){return(e||"").replace("#","")}function f2(e,t){const n="https://api.dicebear.com/9.x/lorelei/svg",r=new URLSearchParams;return r.set("seed",e.seed||"zelia"),r.set("size",String(t)),r.set("radius",String(e.radius??30)),e.bg&&(r.set("backgroundType","solid"),r.set("backgroundColor",mm(e.bg))),e.skin&&r.set("skinColor",mm(e.skin)),e.hair&&r.set("hairColor",mm(e.hair)),e.glasses===!0?(r.set("accessories","glasses"),r.set("accessoriesProbability","100")):r.set("accessoriesProbability","0"),`${n}?${r.toString()}`}const xk=["#F2F4F7","#E3F2FD","#FFF7E6","#FDE7E9","#EAF7F0","#F3E8FF","#FFFFFF"],_k=["#f9d7b8","#f1c89e","#d9a275","#c68642","#8d5524","#6d3b1f"],Nk=["#2f2f2f","#3b2c2a","#6b4423","#a55728","#b58143","#e6c28b"];function Sk(){const e=Wr(),[t,n]=B.useState({seed:"zelia",bg:"#F2F4F7",skin:"#f7c9a9",hair:"#3b2c2a",glasses:!1,radius:30}),[r,s]=B.useState(!1);localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");const i=B.useMemo(()=>f2(t,360),[t]);function a(p){n(m=>({...m,...p}))}function o(p){return p[Math.floor(Math.random()*p.length)]}function l(){n(p=>({...p,seed:Math.random().toString(36).slice(2,10),bg:o(xk),skin:o(_k),hair:o(Nk),glasses:Math.random()>.6}))}async function h(){s(!0);const p=f2(t,256);localStorage.setItem("avatar_cfg",JSON.stringify(t)),localStorage.setItem("avatar_url",p);try{await Wt.post("/api/results/avatar/temp",{...t,url:p,provider:"dicebear/lorelei"})}catch(m){console.warn("Failed to store avatar temporarily:",m)}finally{e("/questionnaire"),s(!1)}}return u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-5xl py-10",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Cre ton avatar"}),u.jsx("p",{className:"text-text-secondary",children:"Personnalise ton avatar, il te suivra tout au long de l'exprience."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[u.jsx("div",{className:"md:col-span-5",children:u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6 grid place-items-center",children:u.jsx("img",{src:i,alt:"avatar",className:"max-w-full"})})}),u.jsxs("div",{className:"md:col-span-7",children:[u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom (seed)"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",value:t.seed,onChange:p=>a({seed:p.target.value})})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Rayon"}),u.jsx("input",{className:"w-full",type:"range",min:"0",max:"50",value:t.radius,onChange:p=>a({radius:Number(p.target.value)})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Fond"}),u.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.bg,onChange:p=>a({bg:p.target.value})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Peau"}),u.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.skin,onChange:p=>a({skin:p.target.value})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cheveux"}),u.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.hair,onChange:p=>a({hair:p.target.value})})]}),u.jsxs("div",{className:"md:col-span-6 flex items-center gap-2 mt-2",children:[u.jsx("input",{id:"glasses",type:"checkbox",className:"h-4 w-4",checked:t.glasses,onChange:p=>a({glasses:p.target.checked})}),u.jsx("label",{htmlFor:"glasses",className:"text-sm text-text-secondary",children:"Lunettes"})]})]})}),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{className:"h-10 px-4 rounded-lg border border-line",onClick:l,children:"Au hasard"}),u.jsx("button",{className:"h-10 px-4 rounded-lg bg-black text-white",onClick:h,disabled:r,children:"Enregistrer"})]})]})]})]})})}class td extends Error{}td.prototype.name="InvalidTokenError";function jk(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function kk(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return jk(t)}catch{return atob(t)}}function rw(e,t){if(typeof e!="string")throw new td("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new td(`Invalid token specified: missing part #${n+1}`);let s;try{s=kk(r)}catch(i){throw new td(`Invalid token specified: invalid base64 for part #${n+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new td(`Invalid token specified: invalid json for part #${n+1} (${i.message})`)}}function Ak(){const[e,t]=B.useState(null),[n,r]=B.useState(!0),[s,i]=B.useState(""),[a,o]=B.useState({type:"",analysis:"",skills:"",jobs:"",studies:""}),[l,h]=B.useState("orientation"),[p,m]=B.useState(null),b=()=>{const C=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!C)return null;try{const q=rw(C);return q.sub||q.user_id||q.id}catch(q){return console.error("Error decoding token:",q),null}};B.useEffect(()=>{A(),v()},[]);const v=async()=>{var C,q,G;try{const H=await r1.get().catch(()=>null),$=((C=H==null?void 0:H.data)==null?void 0:C.level)||((G=(q=H==null?void 0:H.data)==null?void 0:q.progression)==null?void 0:G.level)||null;$&&m($)}catch(H){console.warn("Progression load failed (non-blocking):",H)}},k=(C,q,{seed:G,eyes:H,mouth:$}={})=>{let ie=typeof C=="string"&&C.startsWith("http")?C:"https://api.dicebear.com/7.x/adventurer/svg";try{const Z=new URL(ie);return G&&!Z.searchParams.has("seed")&&Z.searchParams.set("seed",String(G)),H&&Z.searchParams.set("eyes",H),$&&Z.searchParams.set("mouth",$),Z.toString()}catch{return`https://api.dicebear.com/7.x/adventurer/svg?seed=${encodeURIComponent(G||"user")}`}};B.useEffect(()=>{if(!e)return;const C=b()||"user",q=e.avatarUrlBase||"",G=e.avatarConfig||null,H=Array.from({length:24},(O,U)=>`variant${String(U+1).padStart(2,"0")}`),$=["happy01","happy02","happy03"],ie=O=>O[Math.floor(Math.random()*O.length)],Z=(O={})=>k(q,G,{seed:C,...O});o({type:Z({eyes:ie(H)}),analysis:Z({mouth:ie($)}),skills:Z({eyes:ie(H),mouth:ie($)}),jobs:Z({eyes:ie(H)}),studies:Z({mouth:ie($)})})},[e]);const A=async()=>{var C,q,G,H,$,ie,Z;r(!0),i("");try{const O=await Ot.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});t(O.data.results)}catch(O){if(((C=O.response)==null?void 0:C.status)===404){const U=b();if(U)try{await Ot.post("/analysis/generate-analysis",{userId:U});const ee=await Ot.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});t(ee.data.results);return}catch{try{await Ot.post("/results/generate");const V=await Ot.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});if((q=V==null?void 0:V.data)!=null&&q.results&&(V.data.results.personalityAnalysis||V.data.results.skillsAssessment||(V.data.results.jobRecommendations??[]).length>0||(V.data.results.studyRecommendations??[]).length>0)){t(V.data.results);return}const ve=await Ot.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),de=(H=(G=ve==null?void 0:ve.data)==null?void 0:G.results)==null?void 0:H.analysis;if(de){const be=L(de);t(be);return}}catch(V){console.error("Fallback analysis failed:",V)}}t(null)}else(($=O.response)==null?void 0:$.status)===401?i("Utilisateur non authentifi"):(console.error("Error loading results:",O),i(((Z=(ie=O.response)==null?void 0:ie.data)==null?void 0:Z.error)||"Erreur lors du chargement des rsultats"))}finally{r(!1)}},L=C=>{var q,G,H;return{personalityType:C.personality_type||"Profil non dtermin",personalityAnalysis:[(q=C.strengths)!=null&&q.length?`Forces cls: ${C.strengths.join(", ")}`:null,(G=C.recommendations)!=null&&G.length?`Recommandations: ${C.recommendations.join(`
- `)}`:null].filter(Boolean).join(`

`),skillsAssessment:(H=C.strengths)!=null&&H.length?`Comptences mises en avant: ${C.strengths.join(", ")}`:"",jobRecommendations:(C.career_matches||[]).map($=>({title:$.title,skills:[]})),studyRecommendations:[],avatarUrlBase:null,avatarConfig:null,createdAt:C.completion_date,updatedAt:C.completion_date}};if(n)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de votre questionnaire"})]}),_(),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement..."})]})]});if(s)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de votre questionnaire"})]}),_(),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Erreur"}),u.jsx("p",{className:"text-text-secondary",children:s})]})]});if(!e)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de votre questionnaire"})]}),_(),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun rsultat disponible"}),u.jsx("p",{className:"text-text-secondary",children:"Vous n'avez pas encore de rsultats enregistrs. Une fois le questionnaire complt et l'analyse effectue, vos rsultats apparatront ici."})]})]});const x=()=>{const C=e.inscriptionResults||e;return C?u.jsxs("div",{className:"space-y-6",children:[C.personalityType&&u.jsxs("div",{className:"relative bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Profil d'orientation"})]}),u.jsx("p",{className:"text-gray-800 font-semibold text-lg",children:C.personalityType})]}),C.personalityAnalysis&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Analyse d'orientation"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:C.personalityAnalysis})})]}),C.skillsAssessment&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Comptences cls"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:C.skillsAssessment})})]}),C.jobRecommendations&&C.jobRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Ides de mtiers"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.jobRecommendations.map((q,G)=>u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:q.title}),(q.skills||[]).length>0&&u.jsx("ul",{className:"text-sm text-orange-700 list-disc list-inside",children:q.skills.map((H,$)=>u.jsx("li",{children:H},$))})]},G))})]}),C.studyRecommendations&&C.studyRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Pistes d'tudes"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.studyRecommendations.map((q,G)=>u.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:q.degree}),u.jsx("p",{className:"text-sm text-teal-700",children:q.type})]},G))})]})]}):null},N=()=>(p||0)<4?u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center shadow-card",children:[u.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Analyse de personnalit"}),u.jsx("p",{className:"text-yellow-700",children:"Sera disponible au niveau 4."}),p!==null&&u.jsxs("p",{className:"mt-2 text-sm text-yellow-600",children:["Niveau actuel : ",p]})]}):u.jsxs("div",{className:"space-y-6",children:[e.personalityType&&u.jsxs("div",{className:"relative bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-card p-6",children:[a.type&&u.jsx("img",{src:a.type,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),u.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"Type de personnalit"})]}),u.jsx("p",{className:"text-blue-800 font-semibold text-lg",children:e.personalityType})]}),e.personalityAnalysis&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.analysis&&u.jsx("img",{src:a.analysis,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Analyse de personnalit"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:e.personalityAnalysis})})]}),e.skillsAssessment&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.skills&&u.jsx("img",{src:a.skills,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"valuation des comptences"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:e.skillsAssessment})})]}),e.jobRecommendations&&e.jobRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jobs&&u.jsx("img",{src:a.jobs,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jobRecommendations.map((C,q)=>u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:C.title}),u.jsxs("div",{className:"text-sm text-orange-700",children:[u.jsx("span",{className:"font-medium",children:"Comptences requises:"}),u.jsx("ul",{className:"mt-1 list-disc list-inside",children:(C.skills||[]).map((G,H)=>u.jsx("li",{children:G},H))})]})]},q))})]}),e.studyRecommendations&&e.studyRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.studies&&u.jsx("img",{src:a.studies,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'tudes"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.studyRecommendations.map((C,q)=>u.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:C.degree}),u.jsx("p",{className:"text-sm text-teal-700",children:C.type})]},q))})]})]});function _(){return u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border transition ${l==="orientation"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,onClick:()=>h("orientation"),children:"Rsultats d'orientation"}),u.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border transition ${l==="personality"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,onClick:()=>h("personality"),children:"Analyse de personnalit"})]})}return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise base sur vos rponses"}),_()]}),l==="orientation"?x():N()]})}function sw(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")try{const r=new URL(e.avatar);return r.searchParams.has("seed")||r.searchParams.set("seed",String(t)),r.searchParams.has("size")||r.searchParams.set("size","300"),r.toString()}catch{}if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function Lk(e,t="zelia"){if(!e)return"";try{if(e.avatarUrlBase&&typeof e.avatarUrlBase=="string")try{const n=new URL(e.avatarUrlBase);return n.searchParams.has("seed")||n.searchParams.set("seed",String(t)),n.searchParams.has("size")||n.searchParams.set("size","300"),n.toString()}catch{}if(e.avatarConfig){let n=e.avatarConfig;if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const s=new URL(n.url);return s.searchParams.has("seed")||s.searchParams.set("seed",String(t)),s.searchParams.has("size")||s.searchParams.set("size","300"),s.toString()}catch{}const r=new URLSearchParams;return r.set("seed",String(t)),Object.entries(n).forEach(([s,i])=>{i!=null&&i!==""&&r.set(s,String(i))}),r.has("size")||r.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${r.toString()}`}}}catch{}return""}function Ek({profile:e,analysis:t,seed:n="zelia"}){const r=Lk(t,n);return r||sw(e,n)}const cu=50,iw=10,Pk=[{id:"complete_test",label:"Test d'orientation"},{id:"explore_interests",label:"Explorer mes centres d'intrt"},{id:"watch_intro",label:"Vido d'introduction"},{id:"strengths_quiz",label:"Quiz sur mes forces"},{id:"personality_test",label:"Test de personnalit"},{id:"values_exploration",label:"Dfinir mes valeurs"},{id:"job_research",label:"Rechercher des mtiers"},{id:"salary_analysis",label:"Analyser les salaires"},{id:"job_videos",label:"Vidos mtiers"},{id:"schedule_meeting",label:"Planifier un entretien"},{id:"prepare_questions",label:"Prparer des questions"},{id:"company_visit",label:"Visite d'entreprise virtuelle"},{id:"soft_skills_assessment",label:"val. des soft skills"},{id:"star_method",label:"Mthode STAR"},{id:"leadership_test",label:"Test de leadership"},{id:"cv_builder",label:"Gnrateur de CV"},{id:"cover_letter",label:"Lettre de motivation"},{id:"cv_review",label:"Rvision du CV"},{id:"projet_motive",label:"Projet motiv"},{id:"voeux_strategy",label:"Stratgie de vux"},{id:"calendar_planning",label:"Planifier le calendrier"},{id:"pitch_practice",label:"Pitch 60s"},{id:"interview_simulation",label:"Simulation d'entretien"},{id:"confidence_building",label:"Confiance en soi"},{id:"portfolio_review",label:"Rvision du portfolio"},{id:"coherence_check",label:"Vrification de cohrence"},{id:"final_polish",label:"Finitions"},{id:"mentor_others",label:"Mentorat"},{id:"success_story",label:"Partager mon histoire"},{id:"expert_badge",label:"Badge expert"}],s1=Array.from({length:cu},(e,t)=>{const n=t+1,r=Pk[t];if(r)return{level:n,id:r.id,label:r.label};const s=String(n).padStart(2,"0");return{level:n,id:`level_${s}`,label:`Mission Niveau ${n}`}}),Ck=new Map(s1.map(e=>[e.level,e.id])),p2=new Map(s1.map(e=>[e.id,e.label])),HA=s1.map(e=>e.id),aw={level:1,xp:0,quests:[],perks:[]};function Tk(e){const t=Number(e);if(!Number.isFinite(t))return null;const n=Math.max(1,Math.min(Math.floor(t),cu));return Ck.get(n)||null}function VA(e){if(!e)return"";if(p2.has(e))return p2.get(e);const t=/^level_(\d{1,3})$/.exec(String(e));if(t){const n=Number(t[1]);if(Number.isFinite(n))return`Mission Niveau ${n}`}return e}function tf(){return{...aw}}async function i1(){try{const e=await r1.get();return{...aw,...(e==null?void 0:e.data)||{}}}catch(e){return console.warn("fetchProgression failed, returning default progression",e),tf()}}async function Kd({minLevel:e=null,xpReward:t=0}={}){const n=await i1(),r=Number(n.level)||1;let s=Math.min(r+1,cu);e&&s<e&&(s=Math.min(e,cu));const i=(Number(n.xp)||0)+(Number(t)||0),a=Array.isArray(n.quests)?n.quests.filter(Boolean):[],o=[];if(s>r)for(let h=r;h<s;h+=1){const p=Tk(h);p&&o.push(p)}const l=Array.from(new Set([...a,...o]));return await r1.update({level:s,xp:i,quests:l,perks:n.perks||[]}),{previousLevel:r,newLevel:s,xp:i,questsCompleted:o}}function GA({targetLevel:e,progression:t,hasPaid:n,paidGateLevel:r=iw}){const s=Math.max(1,Math.min(Number(e)||1,cu)),i=Math.max(1,Number(t==null?void 0:t.level)||1);return s<=i||s===i+1?!(s>r&&!n):!1}function JA({progression:e,hasPaid:t,paidGateLevel:n=iw}){const r=Math.max(1,Number(e==null?void 0:e.level)||1),s=t?cu:n;return r>s?s:r}const Ik={bg:"#f7f9fc",accent1:"#c1ff72",accent2:"#f68fff",text:"#000000"},Ok="/assets/images/logo-dark.png",m2={ISTJ:["Comptable","Contrleur qualit","Analyste financier","Gestionnaire logistique","Responsable conformit"],ISFJ:["Assistant social","Infirmier","Gestionnaire RH","Coordinateur pdagogique","Orthophoniste"],INFJ:["Psychologue","Coach","Rdacteur","UX Writer","Conseiller dorientation"],INTJ:["Data Scientist","Architecte logiciel","Consultant stratgie","Chercheur","Chef de produit technique"],ISTP:["Technicien industriel","Dveloppeur embarqu","Mcanicien de prcision","Pilote de ligne","Secops Analyst"],ISFP:["Designer graphique","Photographe","Styliste","Illustrateur","Ergonome"],INFP:["crivain","Psychologue","UX Designer","Mtiers de ldition","Charg de communication"],INTP:["Dveloppeur","Chercheur IA","Analyste systmes","Ingnieur R&D","Architecte donnes"],ESTP:["Commercial","Entrepreneur","Chef de chantier","vnementiel","Responsable oprations"],ESFP:["Animateur","Community Manager","vnementiel","Vente retail","Charg de projets culturels"],ENFP:["Cratif publicitaire","Chef de projet innovation","Conseiller en insertion","Charg de communication","Formateur"],ENTP:["Growth Hacker","Entrepreneur","Consultant innovation","Chef de produit","Stratge digital"],ESTJ:["Chef de projet","Manager logistique","Responsable qualit","Administrateur systmes","Gestion de production"],ESFJ:["RH","Conseiller clientle","Enseignant","Coordinateur vnementiel","Charg de mission associative"],ENFJ:["Coach","Formateur","Consultant RH","Responsable partenariats","Chef de projet communautaire"],ENTJ:["Directeur produit","Consultant stratgie","Sales Manager","Entrepreneur","Project Director"]};function Rk(e){if(!e)return null;const t=e.match(/\(([IE][NS][FT][JP])\)/i);return t?t[1].toUpperCase():null}function Fk(e,t=34){return!e||typeof e!="string"?"":e.length>t?`${e.slice(0,t-1)}`:e}function Mk(e,t=3){if(!e||typeof e!="string")return[];const n=e.split(/\r?\n/).map(s=>s.trim()).filter(Boolean),r=[];for(const s of n){let i=s.replace(/^[-]\s+/,"").replace(/^\d+\.\s*/,"").trim();if(i.includes(":")&&(i=i.split(":")[0].trim()),i.length>60&&(i=`${i.slice(0,57)}`),i&&r.push(i),r.length>=t)break}return r}function g2(e){return new Promise((t,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>t(r),r.onerror=n,r.src=e})}async function Dk(){if(!(typeof document>"u"||!("fonts"in document)))try{const e=new FontFace("ClashGroteskSemibold",'url(/static/fonts/ClashGroteskSemibold.woff2) format("woff2")');await e.load(),document.fonts.add(e);try{const t=new FontFace("Bricolage Grotesque",'url("https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap")');await t.load(),document.fonts.add(t)}catch(t){console.warn("Bricolage Grotesque not available, using ClashGroteskSemibold",t)}await document.fonts.load('800 88px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 64px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 48px "Bricolage Grotesque", "ClashGroteskSemibold"')}catch(e){console.warn("Canvas font load failed, falling back to system fonts",e)}}function Bk(e){if(!e)return[];const t=Array.isArray(e==null?void 0:e.jobRecommendations)?e.jobRecommendations.slice(0,3):[];if(t.length>0)return t;const n=Rk(e==null?void 0:e.personalityType);return n&&m2[n]?m2[n].slice(0,3).map(r=>({title:r})):[]}async function ow({analysis:e,avatarUrl:t,logoPath:n=Ok,colors:r=Ik,width:s=1080,height:i=1920}){if(!e)return"";try{await Dk();const a=document.createElement("canvas");a.width=s,a.height=i;const o=a.getContext("2d"),l=o.createLinearGradient(0,0,0,i);l.addColorStop(0,r.bg),l.addColorStop(1,"#ffffff"),o.fillStyle=l,o.fillRect(0,0,s,i),o.fillStyle=r.accent1,o.fillRect(0,0,s,80),o.fillStyle="#c1ff72",o.fillRect(0,i-200,s,200);try{const C=await g2(n),G=280*.6,H=C.height/C.width*G,$=(s-G)/2,ie=i-180+(180-H)/2;o.drawImage(C,$,ie,G,H)}catch(C){console.warn("Logo not loaded for share image",C)}const h=(e==null?void 0:e.personalityType)||"Profil MBTI";o.fillStyle=r.text,o.font='800 120px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, -apple-system, sans-serif',o.textAlign="center",o.textBaseline="top";const p=h.split(" ");let m="",b=630;const v=s-80;for(let C=0;C<p.length;C+=1){const q=`${m}${p[C]} `;o.measureText(q).width>v&&C>0?(o.fillText(m.trim(),s/2,b),m=`${p[C]} `,b+=130):m=q}if(o.fillText(m.trim(),s/2,b),t)try{const C=await g2(t),q=420,G=(s-q)/2,H=180;o.save(),o.shadowColor="rgba(0,0,0,0.15)",o.shadowBlur=20,o.shadowOffsetY=10,o.beginPath(),o.arc(G+q/2,H+q/2,q/2,0,Math.PI*2),o.closePath(),o.clip(),o.drawImage(C,G,H,q,q),o.restore(),o.beginPath(),o.arc(G+q/2,H+q/2,q/2+8,0,Math.PI*2),o.strokeStyle=r.accent1,o.lineWidth=6,o.stroke()}catch(C){console.warn("Avatar not loaded for share image",C)}const k=Mk((e==null?void 0:e.skillsAssessment)||"",3);o.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',o.fillStyle=r.text,o.textAlign="center";const A=b+150;o.fillText("Qualits",s/2,A),o.font="600 40px system-ui, -apple-system, sans-serif";let L=A+80;k.forEach((C,q)=>{const $=o.measureText(C).width,ie=Math.min($+30*2,s-80),Z=70,O=(s-ie)/2,U=L,ee=o.createLinearGradient(O,U,O+ie,U+Z),V=q%2===0?r.accent1:r.accent2,ve=q%2===0?"#a8f542":"#e859d9";ee.addColorStop(0,V),ee.addColorStop(1,ve),o.fillStyle=ee,o.beginPath();const de=35;o.moveTo(O+de,U),o.arcTo(O+ie,U,O+ie,U+Z,de),o.arcTo(O+ie,U+Z,O,U+Z,de),o.arcTo(O,U+Z,O,U,de),o.arcTo(O,U,O+ie,U,de),o.closePath(),o.fill(),o.fillStyle="#000",o.font="600 40px system-ui, -apple-system, sans-serif",o.textAlign="center",o.fillText(C,O+ie/2,U+20+10),L+=Z+25});const x=Bk(e),N=L+20;o.fillStyle=r.text,o.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',o.fillText("Top mtiers",s/2+20,N),o.font="600 50px system-ui, -apple-system, sans-serif",o.fillStyle=r.text;let _=N+80;return x.forEach((C,q)=>{const G=typeof C=="string"?C:(C==null?void 0:C.title)||"";if(!G)return;const H=Fk(G,35);o.save(),o.fillStyle=q%2===0?r.accent1:r.accent2;const $=s/2-250,ie=_+25;o.beginPath(),o.arc($,ie,25,0,Math.PI*2),o.fill(),o.fillStyle="#000",o.font="700 28px system-ui, sans-serif",o.textAlign="center",o.fillText(String(q+1),$,ie-2),o.restore(),o.fillStyle=r.text,o.font="600 50px system-ui, -apple-system, sans-serif",o.textAlign="center",o.fillText(H,s/2+30,_+5),_+=70}),a.toDataURL("image/png")}catch(a){return console.error("Share image generation failed",a),""}}const Uk=4,zk=[{key:"firstName",label:"Prnom",type:"text",placeholder:"Votre prnom"},{key:"lastName",label:"Nom",type:"text",placeholder:"Votre nom"},{key:"age",label:"ge",type:"number",placeholder:"ex: 18"},{key:"gender",label:"Genre",type:"text",placeholder:"ex: Femme / Homme / Autre"},{key:"department",label:"Dpartement",type:"text",placeholder:"ex: 75"},{key:"school",label:"cole / Formation",type:"text",placeholder:"Votre tablissement"},{key:"phoneNumber",label:"Tlphone",type:"tel",placeholder:"ex: 06 12 34 56 78"}];function gm(e){return{firstName:(e==null?void 0:e.first_name)||(e==null?void 0:e.prenom)||"",lastName:(e==null?void 0:e.last_name)||(e==null?void 0:e.nom)||"",age:(e==null?void 0:e.age)!=null?String(e.age):"",gender:(e==null?void 0:e.gender)||(e==null?void 0:e.genre)||"",department:(e==null?void 0:e.department)||(e==null?void 0:e.departement)||"",school:(e==null?void 0:e.school)||(e==null?void 0:e.ecole)||"",phoneNumber:(e==null?void 0:e.phone_number)||(e==null?void 0:e.numero_telephone)||(e==null?void 0:e.numeroTelephone)||""}}function v2(e){return e?Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(Boolean).join(`
`):typeof e=="string"?e.trim():"":""}function qk(e){return Array.isArray(e)?e.map((t,n)=>{if(!t)return null;if(typeof t=="string")return{id:n,title:t.trim(),skills:[]};if(typeof t=="object"){const r=(t.title||t.role||t.name||"").trim(),s=t.skills||t.requiredSkills||t.competences||t.tags;let i=[];return Array.isArray(s)?i=s.map(a=>typeof a=="string"?a.trim():"").filter(Boolean):typeof s=="string"&&(i=s.split(/[,;\n-]/).map(a=>a.trim()).filter(Boolean)),r?{id:n,title:r,skills:i}:null}return null}).filter(Boolean):[]}function $k(){const[e,t]=B.useState(null),[n,r]=B.useState(null),[s,i]=B.useState(null),[a,o]=B.useState(tf()),[l,h]=B.useState(!0),[p,m]=B.useState(""),[b,v]=B.useState(!1),[k,A]=B.useState(!1),[L,x]=B.useState(""),[N,_]=B.useState(""),[C,q]=B.useState(gm(null)),[G,H]=B.useState(""),[$,ie]=B.useState(!1),[Z,O]=B.useState(""),[U,ee]=B.useState(!1),V=B.useRef(!0);B.useEffect(()=>{let me=!0;return h(!0),(async()=>{var xe,Ce;try{const Te=Wi.getProfile(),Me=Wi.getCurrentUser().catch(()=>null),_e=pd.getMyResults().then(qe=>{var et;return((et=qe==null?void 0:qe.data)==null?void 0:et.results)||null}).catch(qe=>{var et;if(((et=qe==null?void 0:qe.response)==null?void 0:et.status)===404)return null;throw qe}),te=i1().catch(()=>tf()),[$e,We,Ee,Fe]=await Promise.all([Te,Me,_e,te]);if(!me)return;const Ue=((xe=$e==null?void 0:$e.data)==null?void 0:xe.profile)||($e==null?void 0:$e.data)||null;t(Ue),r(((Ce=We==null?void 0:We.data)==null?void 0:Ce.user)||null),i(Ee),o(Fe||tf())}catch(Te){if(console.error("Profile load error",Te),!me)return;m("Impossible de charger les informations du profil.")}finally{me&&h(!1)}})(),()=>{me=!1}},[]),B.useEffect(()=>{q(gm(e))},[e]),B.useEffect(()=>()=>{V.current=!1},[]);const ve=n==null?void 0:n.id,de=Number((a==null?void 0:a.level)||0)>=Uk,be=B.useMemo(()=>{if(!e&&!s)return"";const me=ve||(e==null?void 0:e.id)||"zelia";return Ek({profile:e,analysis:s,seed:me})},[s,ve,e]),se=B.useMemo(()=>{var xe,Ce;const me=(e==null?void 0:e.profile_type)||((xe=e==null?void 0:e.institution_data)==null?void 0:xe.profile_type)||((Ce=n==null?void 0:n.user_metadata)==null?void 0:Ce.profile_type)||"";if(!me)return"tudiant";switch(me){case"student":return"tudiant";case"company":return"Entreprise";default:return me}},[n,e]),ue=B.useMemo(()=>{if(!s)return null;const me=s.inscriptionResults||null,xe=s.personalityType||(me==null?void 0:me.personalityType)||(me==null?void 0:me.personality_type)||"",Ce=v2(s.personalityAnalysis||(me==null?void 0:me.personalityAnalysis)||(me==null?void 0:me.personality_analysis)),Te=v2(s.skillsAssessment||(me==null?void 0:me.skillsAssessment)||(me==null?void 0:me.skills_assessment)),Me=qk(s.jobRecommendations||(me==null?void 0:me.jobRecommendations)||(me==null?void 0:me.job_recommendations));return{...s,personalityType:xe,personalityAnalysis:Ce,skillsAssessment:Te,jobRecommendations:Me}},[s]),Y=(n==null?void 0:n.email)||(e==null?void 0:e.email)||"",K=B.useCallback(async()=>{var me;try{const xe=await pd.getMyResults(),Ce=((me=xe==null?void 0:xe.data)==null?void 0:me.results)||null;return Ce?(i(Te=>Te?{...Te,...Ce}:Ce),Ce):null}catch(xe){return console.warn("Failed to refresh analysis snapshot",xe),null}},[]),E=B.useCallback(async({silent:me=!1,force:xe=!1}={})=>{var Ce;if(!V.current)return"";if(!de||!ue||!be)return me||O("Tu dois atteindre le niveau 4 et avoir un avatar pour partager ton analyse."),H(""),"";if($&&!xe)return G||ue.shareImageUrl||"";if(!xe&&ue.shareImageUrl)return G!==ue.shareImageUrl&&H(ue.shareImageUrl),O(""),ue.shareImageUrl;ie(!0),me||O("");try{const Te=await K(),Me=Te?{...ue,...Te}:ue;if(!xe&&(Me!=null&&Me.shareImageUrl))return V.current&&(H(Me.shareImageUrl),i($e=>$e&&{...$e,shareImageUrl:Me.shareImageUrl})),Me.shareImageUrl;const _e=await ow({analysis:Me,avatarUrl:be});if(!_e)throw new Error("Empty dataUrl from share image generator");V.current&&H(_e);let te="";try{const $e=await pd.saveShareImage({dataUrl:_e,questionnaireType:"mbti",metadata:{source:"profile",userId:ve||(e==null?void 0:e.id)||(Me==null?void 0:Me.userId)||(Me==null?void 0:Me.user_id)||null}});te=((Ce=$e==null?void 0:$e.data)==null?void 0:Ce.url)||""}catch($e){console.warn("Failed to upload share image to Cloudinary, keeping local copy",$e)}return te?(V.current&&(i($e=>$e&&{...$e,shareImageUrl:te}),H(te)),te):_e}catch(Te){return console.error("Profile share image generation failed",Te),me||O("Impossible de gnrer l'image  partager."),""}finally{V.current&&ie(!1)}},[ve,be,de,e==null?void 0:e.id,K,ue,G,$]),J=de&&!!ue;B.useEffect(()=>{if(!J){H(""),O(""),ie(!1);return}if(ue!=null&&ue.shareImageUrl){G!==ue.shareImageUrl&&H(ue.shareImageUrl),O("");return}if(G)return;let me=!1;return(async()=>{const xe=await E({silent:!0});!me&&xe&&H(xe)})(),()=>{me=!0}},[E,ue==null?void 0:ue.shareImageUrl,J,G]);const X=B.useCallback(async()=>{const me=G||await E();if(me)try{const xe=document.createElement("a");xe.href=me,xe.download="zelia-mbti-story.png",xe.rel="noopener",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)}catch(xe){console.error("Share image download failed",xe)}},[E,G]),oe=B.useCallback(async()=>{const me=G||await E();if(me){ee(!0),O("");try{const Ce=await(await fetch(me)).blob(),Te=new File([Ce],"zelia-mbti-story.png",{type:"image/png"});typeof navigator<"u"&&navigator.canShare&&navigator.canShare({files:[Te]})?await navigator.share({title:(ue==null?void 0:ue.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zlia  ${(ue==null?void 0:ue.personalityType)||""}`.trim(),files:[Te]}):(await X(),V.current&&O("Le partage natif n'est pas disponible sur cet appareil. L'image a t tlcharge."))}catch(xe){console.warn("Native share failed, falling back to download",xe),await X(),V.current&&O("Une erreur est survenue lors du partage. L'image a t tlcharge pour un partage manuel.")}finally{V.current&&ee(!1)}}},[E,X,ue,G]),he=B.useCallback(async()=>{await E({force:!0})},[E]),ne=me=>xe=>{const Ce=xe.target.value;q(Te=>({...Te,[me]:Ce})),N&&_(""),L&&x("")},ce=()=>{q(gm(e)),v(!1),x(""),_("")},ae=async me=>{var xe,Ce;me.preventDefault(),A(!0),x(""),_("");try{const Te={first_name:C.firstName.trim()||null,last_name:C.lastName.trim()||null,age:C.age?Number(C.age):null,gender:C.gender||null,department:C.department||null,school:C.school||null,phone_number:C.phoneNumber||null},{data:Me}=await Wi.updateProfile(Te),_e=(Me==null?void 0:Me.profile)||Me||{};t(te=>({...te||{},..._e})),_("Profil mis  jour avec succs."),v(!1)}catch(Te){console.error("Profile update error",Te);const Me=((Ce=(xe=Te==null?void 0:Te.response)==null?void 0:xe.data)==null?void 0:Ce.error)||"Impossible de mettre  jour le profil.";x(Me)}finally{A(!1)}};return l?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),u.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI  partager"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]})]}):p?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),u.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI  partager"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"text-red-600 text-4xl",children:"!"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:p})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),u.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI  partager"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card flex flex-col items-center text-center",children:[de?be?u.jsx("img",{src:be,alt:"Avatar utilisateur",className:"w-40 h-40 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white"}):u.jsx("div",{className:"w-40 h-40 rounded-2xl border border-dashed border-gray-300 flex items-center justify-center text-sm text-gray-500",children:"Avatar indisponible"}):u.jsx("div",{className:"w-40 h-40 rounded-2xl border border-dashed border-gray-300 flex items-center justify-center px-4 text-sm text-gray-500",children:"Une image apparaitra au niveau 4"}),u.jsxs("div",{className:"mt-5 space-y-2 text-sm text-gray-700 w-full",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-text-secondary",children:"Niveau actuel"}),u.jsx("span",{className:"font-semibold",children:(a==null?void 0:a.level)||1})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-text-secondary",children:"Exprience"}),u.jsxs("span",{className:"font-semibold",children:[(a==null?void 0:a.xp)||0," XP"]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-text-secondary",children:"Profil"}),u.jsx("span",{className:"font-semibold",children:se})]})]})]}),u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Informations personnelles"}),u.jsx("p",{className:"text-text-secondary text-sm",children:"Mettez  jour vos coordonnes et prfrences"})]}),!b&&u.jsx("button",{type:"button",onClick:()=>{v(!0),_(""),x("")},className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition",children:"Modifier"})]}),N&&u.jsx("div",{className:"mb-4 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:N}),L&&u.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:L}),u.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[zk.map(me=>u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:me.label}),b?u.jsx("input",{type:me.type,value:C[me.key]||"",onChange:ne(me.key),placeholder:me.placeholder,className:"w-full h-11 px-3 rounded-lg border border-line focus:border-black focus:outline-none"}):u.jsx("p",{className:"text-text-primary font-medium min-h-[2.75rem] flex items-center",children:C[me.key]?C[me.key]:"Non spcifi"})]},me.key)),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse email"}),u.jsx("p",{className:"text-text-primary font-medium min-h-[2.75rem] flex items-center",children:Y||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Identifiant utilisateur"}),u.jsx("p",{className:"text-text-primary font-medium break-all min-h-[2.75rem] flex items-center",children:ve||(e==null?void 0:e.id)||"Non disponible"})]})]}),b&&u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:ce,className:"px-4 py-2 rounded-lg border border-line bg-white text-gray-700 hover:bg-gray-50",disabled:k,children:"Annuler"}),u.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition disabled:opacity-60",disabled:k,children:k?"Enregistrement":"Enregistrer"})]})]})]}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Mon image Niveau 4"}),u.jsx("p",{className:"text-text-secondary text-sm",children:"Tlchargez ou partagez votre visuel MBTI dbloqu au niveau 4."})]}),((ue==null?void 0:ue.updatedAt)||(s==null?void 0:s.updatedAt))&&u.jsxs("span",{className:"text-xs text-text-secondary",children:["Mis  jour le ",new Date((ue==null?void 0:ue.updatedAt)||(s==null?void 0:s.updatedAt)).toLocaleDateString("fr-FR")]})]}),J?u.jsxs("div",{className:"space-y-5",children:[Z&&u.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 px-4 py-3 text-sm text-yellow-800",children:Z}),u.jsx("div",{className:"relative border border-line rounded-2xl bg-surface/70 p-4 flex items-center justify-center min-h-[320px]",children:$?u.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-sm text-text-secondary",children:"Gnration de votre visuel"})]}):G?u.jsx("img",{src:G,alt:"Aperu partage MBTI",className:"w-full max-w-[260px] sm:max-w-[320px] md:max-w-[360px] rounded-xl border border-gray-200 shadow-md"}):u.jsx("div",{className:"text-center text-sm text-text-secondary",children:"Cliquez sur  Rgnrer  pour crer votre image MBTI."})}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("button",{type:"button",onClick:he,className:"px-4 py-2 rounded-lg border border-line bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:$,children:$?"Patientez":"Rgnrer"}),u.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition disabled:opacity-60",disabled:!G||$,children:"Tlcharger"}),u.jsx("button",{type:"button",onClick:oe,className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200 hover:opacity-95 transition disabled:opacity-60",disabled:!G||$||U,children:U?"Partage":"Partager"})]}),u.jsxs("p",{className:"text-xs text-text-secondary",children:["Astuce : publiez votre story et taguez ",u.jsx("span",{className:"font-semibold",children:"@zelia"})," pour que nous puissions la repartager."]})]}):u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"text-text-secondary text-4xl mb-2",children:""}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terminez le niveau 4"}),u.jsx("p",{className:"text-text-secondary",children:"Dbloquez le niveau 4 pour gnrer votre image MBTI prte  partager sur vos rseaux."})]})]})]})]})]})}function Wk(){const e=Wr(),t=ja(),[n,r]=B.useState(!1),[s,i]=B.useState(!1),a=B.useRef(null),[o,l]=B.useState(1);B.useEffect(()=>{function k(A){a.current&&!a.current.contains(A.target)&&i(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),B.useEffect(()=>{let k=!0;return(async()=>{try{const A=await i1();k&&A&&Number.isFinite(Number(A.level))&&l(Number(A.level)||1)}catch{}})(),()=>{k=!1}},[]);const h=k=>k==="/app"?t.pathname==="/app"||t.pathname==="/app/":t.pathname.startsWith(k),p=B.useMemo(()=>{const A=[{match:"/app/profile",label:"Profil"},{match:"/app/formations",label:"Formations"},{match:"/app/emplois",label:"Emplois"},{match:"/app/activites",label:"Activits"},{match:"/app/lettre",label:"Lettre"},{match:"/app/chat",label:"Chat"},{match:"/app/results",label:"Rsultats"}].find(L=>t.pathname.startsWith(L.match));return["",(A==null?void 0:A.label)||"Activits"]},[t.pathname]);function m(){localStorage.removeItem("token"),localStorage.removeItem("supabase_auth_token"),e("/")}const b={formations:6,emplois:9,lettre:12,chat:15},v=k=>Number(o)>=Number(k);return u.jsxs("div",{className:"min-h-screen bg-white text-text-primary",children:[u.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white border-r border-line z-40 transition-transform ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[u.jsx("div",{className:"h-16 flex items-center justify-center px-6 border-b border-line",children:u.jsx(ou,{to:"/app",className:"flex items-center justify-center",children:u.jsx("img",{src:"/static/images/logo-dark.png",alt:"Logo",className:"h-8"})})}),u.jsxs("nav",{className:"py-4",children:[u.jsx(Gu,{to:"/app",icon:"ph-activity",active:h("/app"),onClick:()=>r(!1),locked:!1,children:"Activits"}),u.jsx(Gu,{to:"/app/formations",icon:"ph-graduation-cap",active:h("/app/formations"),onClick:()=>r(!1),locked:!v(b.formations),lockTitle:`Niveau ${b.formations}`,children:"Formations"}),u.jsx(Gu,{to:"/app/emplois",icon:"ph-briefcase",active:h("/app/emplois"),onClick:()=>r(!1),locked:!v(b.emplois),lockTitle:`Niveau ${b.emplois}`,children:"Emplois"}),u.jsx(Gu,{to:"/app/lettre",icon:"ph-file-text",active:h("/app/lettre"),onClick:()=>r(!1),locked:!v(b.lettre),lockTitle:`Niveau ${b.lettre}`,children:"Lettre de motivation"}),u.jsx(Gu,{to:"/app/chat",icon:"ph-chats",active:h("/app/chat"),onClick:()=>r(!1),locked:!v(b.chat),lockTitle:`Niveau ${b.chat}`,children:"Chat"})]})]}),u.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-line md:pl-64",children:u.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{className:"md:hidden p-2 rounded-lg border border-line",onClick:()=>r(!n),"aria-label":"Toggle sidebar",children:u.jsx("i",{className:"ph ph-list text-xl"})}),u.jsx("nav",{className:"text-sm text-text-secondary",children:u.jsx("span",{className:"text-text-primary font-medium",children:p[1]})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 border border-line rounded-lg w-72",children:[u.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),u.jsx("input",{className:"w-full outline-none text-sm bg-transparent",placeholder:"Search shop"}),u.jsx("span",{className:"text-xs text-text-secondary",children:" K"})]}),u.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50","aria-label":"Notifications",children:u.jsx("i",{className:"ph ph-bell text-xl"})}),u.jsxs("div",{className:"relative",ref:a,children:[u.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50",onClick:()=>i(!s),children:[u.jsx("img",{src:"/static/images/logo-dark.png",className:"w-8 h-8 rounded-full bg-white p-1",alt:"Avatar"}),u.jsx("span",{className:"hidden sm:block text-sm",children:"Utilisateur"}),u.jsx("i",{className:"ph ph-caret-down"})]}),s&&u.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-line rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs(ou,{to:"/app/profile",onClick:()=>i(!1),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-user"}),"Profil"]}),u.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-sign-out"}),"Dconnexion"]})]})})]})]})]})}),u.jsx("main",{className:"md:pl-64",children:u.jsx("div",{className:"px-4 sm:px-6 py-6",children:u.jsx(a3,{})})})]})}function Gu({to:e,icon:t,active:n,children:r,onClick:s,locked:i=!1,lockTitle:a=""}){const o=l=>{i&&(l.preventDefault(),l.stopPropagation()),s&&s(l)};return u.jsxs(ou,{to:e,onClick:o,"aria-disabled":i,title:i?a:void 0,className:`group flex items-center gap-3 px-4 py-2.5 text-sm text-text-primary relative ${n?"bg-gray-50":"hover:bg-gray-50"} ${i?"pointer-events-auto select-none":""}`,children:[u.jsx("span",{className:`absolute left-0 top-0 h-full w-1 ${n?"bg-black":"bg-transparent"} rounded-r`}),u.jsxs("div",{className:`flex items-center gap-3 ${i?"blur-[1px] opacity-60":""}`,children:[u.jsx("i",{className:`ph ${t} text-lg ${n?"text-black":"text-text-secondary"} group-hover:text-black`}),u.jsx("span",{className:`${n?"font-medium":""}`,children:r})]}),i&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3",children:u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-text-secondary bg-gray-100 border border-line rounded-full px-2 py-0.5",children:[u.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-[#f68fff]"}),a]})})]})}function Hk(){const[e,t]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState(""),[a,o]=B.useState(1),[l,h]=B.useState([]),[p,m]=B.useState(0),[b,v]=B.useState([]),[k,A]=B.useState(null),[L,x]=B.useState(!1),[N,_]=B.useState(!1),[C,q]=B.useState(null),[G,H]=B.useState(!1),$=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),ie=Y=>{if(Y==null)return;const K=String(Y).trim();if(!K)return;const E=K.toLowerCase();if(!(E==="nan"||E==="null"||E==="undefined"))return K};async function Z(Y=a){x(!0);try{const K=N?50:20,{data:E}=await Wt.get("/api/catalog/formations/search",{params:{q:e,region:n||void 0,departement:s||void 0,page:Y,page_size:K},headers:$?{Authorization:`Bearer ${$}`}:{}});h(E.items),m(E.total),o(Y),v([]),A(null)}finally{x(!1)}}B.useEffect(()=>{let Y=!1;return(async()=>{N&&await V(),Y||await Z(1)})(),()=>{Y=!0}},[N]);const O=l.length>0&&b.length===l.length,U=()=>v(O?[]:l.map(Y=>Y.id)),ee=Y=>v(K=>K.includes(Y)?K.filter(E=>E!==Y):[...K,Y]);async function V(){var Y;if(!(C||!$)){H(!0);try{const{data:K}=await Wt.get("/api/analysis/my-results",{headers:{Authorization:`Bearer ${$}`}}),E=(Y=K==null?void 0:K.results)==null?void 0:Y.studyRecommendations;Array.isArray(E)&&q(E)}catch{}finally{H(!1)}}}const ve=Y=>Y?String(Y).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",de=(Y,K)=>{const E=new Set(ve(Y).split(" ").filter(Boolean)),J=new Set(ve(K).split(" ").filter(Boolean));if(E.size===0||J.size===0)return 0;let X=0;return E.forEach(oe=>{J.has(oe)&&X++}),X/(E.size+J.size-X)},be=Y=>{if(!Array.isArray(C)||C.length===0)return 0;const E=(Array.isArray(Y.nm)?Y.nm:[]).find(X=>X)||"";let J=0;for(const X of C){const oe=de(E,X.type),he=de(E,X.degree),ne=Math.max(oe,he);ne>J&&(J=ne)}return J},se=e0.useMemo(()=>{let Y=[...l];return N&&!G&&Array.isArray(C)&&C.length>0&&(Y=Y.map(K=>({it:K,score:be(K)})).filter(K=>K.score>=.2).sort((K,E)=>E.score-K.score).map(K=>K.it)),Y.sort((K,E)=>{const J=Array.isArray(K.nm)?K.nm.find(ne=>ne):void 0,X=Array.isArray(E.nm)?E.nm.find(ne=>ne):void 0,oe=J?0:1,he=X?0:1;return oe!==he?oe-he:(E.id||0)-(K.id||0)})},[l,N,C]),ue=()=>{_(Y=>!Y)};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }

			/* Remove any input focus outlines/rings/transition animations */
			.no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
			.no-outline::-moz-focus-inner { border: 0 !important; }
			.no-outline::-webkit-search-decoration,
			.no-outline::-webkit-search-cancel-button,
			.no-outline::-webkit-search-results-button,
			.no-outline::-webkit-search-results-decoration { display: none !important; }
			`}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Formations"}),u.jsx("p",{className:"text-text-secondary",children:"Explorez les formations en France"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),u.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3 transition-none focus-within:ring-0 focus-within:outline-none focus-within:shadow-none",children:[u.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),u.jsx("input",{className:"w-full text-sm bg-transparent outline-none border-0 ring-0 focus:outline-none focus:ring-0 focus:border-transparent appearance-none transition-none shadow-none focus:shadow-none no-outline",value:e,onChange:Y=>t(Y.target.value),placeholder:"Nom, code, ville..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Rgion"}),u.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:n,onChange:Y=>r(Y.target.value),placeholder:"ex: le-de-France"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Dpartement"}),u.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:s,onChange:Y=>i(Y.target.value),placeholder:"ex: Paris"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${N?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:ue,disabled:L||G,title:"Filtrer par recommandations",children:G?u.jsx("i",{className:"ph ph-circle-notch animate-spin"}):u.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),u.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:L,onClick:()=>Z(1),children:L?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-10 px-4 py-3",children:u.jsx("input",{type:"checkbox",checked:O,onChange:U})}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Image"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitul (nm)"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"tablissement"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Dpartement"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lien"}),u.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),u.jsxs("tbody",{children:[L&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:u.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des rsultats"]})})}),se.map(Y=>{const K=Array.isArray(Y.nm)?Y.nm.filter(J=>J&&J!=="BUT - Gnie biologique parcours sciences de l'aliment et biotechnologie"):[],E=K.length?K[0]:"Intitul non renseign";return u.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 align-middle",children:u.jsx("input",{type:"checkbox",checked:b.includes(Y.id),onChange:()=>ee(Y.id)})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("img",{src:Y.image||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:J=>{J.currentTarget.onerror=null,J.currentTarget.src="/static/images/logo-dark.png"}})}),u.jsx("td",{className:"px-4 py-3 text-text-primary",children:E}),u.jsx("td",{className:"px-4 py-3",children:ie(Y.etab_nom)||"tablissement non renseign"}),u.jsx("td",{className:"px-4 py-3",children:ie(Y.departement)||"Dpartement non renseign"}),u.jsx("td",{className:"px-4 py-3",children:Y.etab_url?u.jsx("a",{href:Y.etab_url,target:"_blank",className:"inline-flex items-center px-3 py-1.5 border border-line rounded-lg text-sm hover:bg-gray-50",children:"Voir"}):"Lien non disponible"}),u.jsxs("td",{className:"px-4 py-3 text-right relative",children:[u.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>A(k===Y.id?null:Y.id),children:u.jsx("i",{className:"ph ph-dots-three-vertical"})}),k===Y.id&&u.jsx("div",{className:"absolute right-2 mt-2 w-56 bg-white border border-line rounded-lg shadow-lg z-10",children:u.jsxs("ul",{className:"py-1 text-sm",children:[Y.facebook&&u.jsx("li",{children:u.jsxs("a",{href:Y.facebook,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-facebook-logo"}),u.jsx("span",{children:"Facebook"})]})}),Y.linkedin&&u.jsx("li",{children:u.jsxs("a",{href:Y.linkedin,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-linkedin-logo"}),u.jsx("span",{children:"LinkedIn"})]})}),Y.youtube&&u.jsx("li",{children:u.jsxs("a",{href:Y.youtube,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-youtube-logo"}),u.jsx("span",{children:"YouTube"})]})}),Y.email&&u.jsx("li",{children:u.jsxs("a",{href:`mailto:${Y.email}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-envelope"}),u.jsx("span",{children:"Envoyer un mail"})]})}),Y.telephone&&u.jsx("li",{children:u.jsxs("a",{href:`tel:${Y.telephone}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-phone"}),u.jsx("span",{children:"Appeler"})]})})]})})]})]},Y.id)}),l.length===0&&u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun rsultat"})})]})]})})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-text-secondary text-sm",children:[se.length," / ",p," rsultats",N?" (recommands)":""]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:a<=1,onClick:()=>Z(a-1),children:"Prcdent"}),u.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:a*(N?50:20)>=p,onClick:()=>Z(a+1),children:"Suivant"})]})]})]})}function Vk(){const[e,t]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState(""),[a,o]=B.useState(1),[l,h]=B.useState([]),[p,m]=B.useState(0),[b,v]=B.useState(!0),[k,A]=B.useState([]),[L,x]=B.useState(null),[N,_]=B.useState(null),[C,q]=B.useState(!1),[G,H]=B.useState(!1),[$,ie]=B.useState(null),[Z,O]=B.useState(!1),U=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),ee=()=>{const ne=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!ne)return null;try{const ce=rw(ne);return ce.sub||ce.user_id||ce.id||null}catch{return null}},V=ne=>{if(ne==null)return;const ce=String(ne).trim();if(!ce)return;const ae=ce.toLowerCase();if(!(ae==="nan"||ae==="null"||ae==="undefined"))return ce},ve=(ne,ce)=>{const ae=V(ne.origine_offre_url_origine??ne.origineoffre_urlorigine),me=V(ne.contact_url_postulation??ne.contact_urlpostulation),xe=V(ne.romecode);return[V(ne.id)??`row-${ce}`,ae,me,xe].filter(Boolean).join("|")||`row-${ce}`};async function de(ne=a){const ae={page:ne,page_size:G?50:20};e&&String(e).trim()!==""&&(ae.q=e),n&&(ae.typecontrat=n),s&&(ae.alternance=s==="true"),q(!0);try{const{data:me}=await Wt.get("/api/catalog/metiers/search",{params:ae,headers:U?{Authorization:`Bearer ${U}`}:{}});h(me.items),v(!!me.has_more),typeof me.total=="number"&&m(me.total),o(ne),A([]),x(null)}finally{q(!1)}}async function be(){var ce;if($)return;const ne=ee();if(ne){O(!0);try{const{data:ae}=await Wt.get(`/api/analysis/results/${ne}`),me=(ce=ae==null?void 0:ae.results)==null?void 0:ce.jobRecommendations;Array.isArray(me)&&ie(me)}catch{}finally{O(!1)}}}const se=ne=>ne?String(ne).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",ue=ne=>{const ce=se(ne);return ce?ce.split(" ").filter(Boolean).map(ae=>ae.endsWith("s")?ae.slice(0,-1):ae):[]},Y=(ne,ce)=>{const ae=new Set(ue(ne)),me=new Set(ue(ce));if(ae.size===0||me.size===0)return 0;let xe=0;return ae.forEach(Ce=>{me.has(Ce)&&xe++}),xe/(ae.size+me.size-xe)},K=ne=>{if(!Array.isArray($)||$.length===0)return 0;const ce=V(ne.intitule),ae=V(ne.romecode),me=[ce,ae].filter(Boolean).join(" ");let xe=0;for(const Ce of $){const Te=Y(me,Ce.title);let Me=0;if(Array.isArray(Ce.skills))for(const te of Ce.skills){const $e=Y(me,te);Me=Math.max(Me,$e)}const _e=Te*.8+Me*.2;_e>xe&&(xe=_e)}return xe};B.useEffect(()=>{let ne=!1;return(async()=>{G&&await be(),ne||await de(1)})(),()=>{ne=!0}},[G]);const E=l.length>0&&k.length===l.length,J=()=>{A(E?[]:l.map((ne,ce)=>ve(ne,ce)))},X=ne=>{A(ce=>ce.includes(ne)?ce.filter(ae=>ae!==ne):[...ce,ne])},oe=e0.useMemo(()=>!G||Z||!Array.isArray($)||$.length===0?l:l.map(ne=>({it:ne,score:K(ne)})).filter(ne=>ne.score>=.1).sort((ne,ce)=>ce.score-ne.score).map(ne=>ne.it),[l,G,$,Z]),he=()=>{H(ne=>!ne)};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }

			/* Remove any input focus outlines/rings/transition animations */
			.no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
			.no-outline::-moz-focus-inner { border: 0 !important; }
			.no-outline::-webkit-search-decoration,
			.no-outline::-webkit-search-cancel-button,
			.no-outline::-webkit-search-results-button,
			.no-outline::-webkit-search-results-decoration { display: none !important; }
			`}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mtiers"}),u.jsx("p",{className:"text-text-secondary",children:"Offres et fiches mtiers"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),u.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3 transition-none focus-within:ring-0 focus-within:outline-none focus-within:shadow-none",children:[u.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),u.jsx("input",{className:"w-full text-sm bg-transparent outline-none border-0 ring-0 focus:outline-none focus:ring-0 focus:border-transparent appearance-none transition-none shadow-none focus:shadow-none no-outline",value:e,onChange:ne=>t(ne.target.value),placeholder:"Intitul, secteur, code ROME..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Type de contrat"}),u.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:n,onChange:ne=>r(ne.target.value),placeholder:"ex: CDI"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Alternance"}),u.jsxs("select",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:s,onChange:ne=>i(ne.target.value),children:[u.jsx("option",{value:"",children:"Tous"}),u.jsx("option",{value:"true",children:"Oui"}),u.jsx("option",{value:"false",children:"Non"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${G?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:he,disabled:C||Z,title:"Filtrer par recommandations",children:Z?u.jsx("i",{className:"ph ph-circle-notch animate-spin"}):u.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),u.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:C,onClick:()=>de(1),children:C?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-10 px-4 py-3",children:u.jsx("input",{type:"checkbox",checked:E,onChange:J})}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Logo"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitul"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Contrat"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lieu"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Entreprise"}),u.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),u.jsxs("tbody",{children:[C&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:u.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des rsultats"]})})}),oe.map((ne,ce)=>{const ae=V(ne.entreprise_logo),me=ne.type_contrat||ne.typecontrat,xe=ne.lieu_travail_libelle||ne.lieutravail_libelle||ne.lieu,Ce=ne.entreprise_nom||ne.entreprise,Te=V(ne.origine_offre_url_origine||ne.origineoffre_urlorigine),Me=V(ne.contact_url_postulation||ne.contact_urlpostulation),_e=V(ne.lieu_travail_latitude??ne.lieutravail_latitude),te=V(ne.lieu_travail_longitude??ne.lieutravail_longitude),$e=_e!==void 0?parseFloat(_e):void 0,We=te!==void 0?parseFloat(te):void 0,Ee=Number.isFinite($e)&&Number.isFinite(We),Fe=ve(ne,ce);return u.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 align-middle",children:u.jsx("input",{type:"checkbox",checked:k.includes(Fe),onChange:()=>X(Fe)})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("img",{src:ae||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:Ue=>{Ue.currentTarget.onerror=null,Ue.currentTarget.src="/static/images/logo-dark.png"}})}),u.jsx("td",{className:"px-4 py-3 text-text-primary",children:V(ne.intitule)||"Intitul non renseign"}),u.jsx("td",{className:"px-4 py-3",children:me?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700",children:[u.jsx("i",{className:"ph ph-file-text"}),me]}):"-"}),u.jsx("td",{className:"px-4 py-3",children:V(xe)||"Lieu non renseign"}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-buildings text-text-secondary"}),u.jsx("span",{children:V(Ce)||"Pas de nom d'entreprise"})]})}),u.jsxs("td",{className:"px-4 py-3 text-right relative",children:[u.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>x(L===Fe?null:Fe),children:u.jsx("i",{className:"ph ph-dots-three-vertical"})}),L===Fe&&u.jsx("div",{className:"absolute right-2 mt-2 w-64 bg-white border border-line rounded-lg shadow-lg z-10",children:u.jsxs("ul",{className:"py-1 text-sm",children:[Te&&u.jsx("li",{children:u.jsxs("a",{href:Te,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-arrow-up-right"}),u.jsx("span",{children:"Postuler (site d'origine)"})]})}),Me&&u.jsx("li",{children:u.jsxs("a",{href:Me,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-paper-plane-tilt"}),u.jsx("span",{children:"Contacter"})]})}),Ee&&u.jsx("li",{children:u.jsxs("button",{className:"w-full text-left flex items-center gap-2 px-3 py-2 hover:bg-gray-50",onClick:()=>_({lat:$e,lon:We,title:ne.intitule||Ce||"Localisation"}),children:[u.jsx("i",{className:"ph ph-map-pin"}),u.jsx("span",{children:"Voir sur la carte"})]})})]})})]})]},Fe)}),oe.length===0&&!C&&u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun rsultat"})})]})]})})}),N&&u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>_(null),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-[90vw] max-w-2xl overflow-hidden",onClick:ne=>ne.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line",children:[u.jsx("h3",{className:"font-semibold text-text-primary",children:N.title}),u.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",onClick:()=>_(null),"aria-label":"Fermer",children:u.jsx("i",{className:"ph ph-x"})})]}),u.jsxs("div",{className:"p-0",children:[u.jsx("iframe",{title:"map",className:"w-full h-[60vh]",src:`https://www.openstreetmap.org/export/embed.html?bbox=${Number(N.lon)-.05}%2C${Number(N.lat)-.05}%2C${Number(N.lon)+.05}%2C${Number(N.lat)+.05}&layer=mapnik&marker=${N.lat}%2C${N.lon}`,style:{border:0},allowFullScreen:!0}),u.jsx("div",{className:"p-3 text-right",children:u.jsxs("a",{className:"inline-flex items-center gap-2 px-3 py-2 border border-line rounded-lg text-sm hover:bg-gray-50",target:"_blank",href:`https://www.openstreetmap.org/?mlat=${N.lat}&mlon=${N.lon}#map=12/${N.lat}/${N.lon}`,children:[u.jsx("i",{className:"ph ph-arrow-up-right"}),u.jsx("span",{children:"Ouvrir dans OpenStreetMap"})]})})]})]})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-text-secondary text-sm",children:[oe.length," rsultats",G?" (recommands)":""]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:a<=1,onClick:()=>de(a-1),children:"Prcdent"}),u.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:!b,onClick:()=>de(a+1),children:"Suivant"})]})]})]})}function Gk(){const[e,t]=B.useState("metier"),[n,r]=B.useState(""),[s,i]=B.useState(null),[a,o]=B.useState([]),[l,h]=B.useState(!1),[p,m]=B.useState("sobre"),[b,v]=B.useState(""),[k,A]=B.useState(!1),L=B.useRef(null),x=B.useRef(null);B.useEffect(()=>{if(!n||n.length<2){o([]);return}return L.current&&clearTimeout(L.current),L.current=setTimeout(async()=>{try{const{data:G}=await d2.suggest({q:n,type:e});o(G.items||[]),h(!0)}catch{o([])}},250),()=>L.current&&clearTimeout(L.current)},[n,e]);function N(G){i(G),r(G.label),h(!1)}async function _(){A(!0),v("");try{const G=s?{selection:s,style:p}:{style:p};!s&&n&&(e==="metier"?G.emploi_selection=n:G.formation_selection=n);const{data:H}=await d2.generate(G);v(H.letter)}catch{v("Erreur de gnration. Ressayez.")}finally{A(!1)}}function C(){var G;b&&((G=navigator.clipboard)==null||G.writeText(b))}function q(){if(!b)return;const G=window.open("","_blank");G.document.write(`<pre style="white-space: pre-wrap; font-family: serif;">${b.replace(/</g,"&lt;")}</pre>`),G.document.close(),G.focus(),G.print(),G.close()}return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Lettre de motivation"}),u.jsx("p",{className:"text-text-secondary",children:"Gnre  partir de votre profil"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[u.jsxs("div",{className:"md:col-span-2 relative",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cible"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("button",{className:`px-3 py-1 rounded border ${e==="metier"?"bg-black text-white":"border-line"}`,onClick:()=>{t("metier"),i(null)},children:"Mtier"}),u.jsx("button",{className:`px-3 py-1 rounded border ${e==="formation"?"bg-black text-white":"border-line"}`,onClick:()=>{t("formation"),i(null)},children:"Formation"})]}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:n,onChange:G=>{r(G.target.value),i(null)},placeholder:e==="metier"?"ex: Dveloppeur web":"ex: BUT Informatique"}),l&&a.length>0&&u.jsx("div",{ref:x,className:"absolute z-10 mt-1 w-full max-h-60 overflow-auto border border-line rounded-lg bg-white shadow",children:a.map(G=>u.jsxs("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>N(G),children:[u.jsx("div",{className:"text-sm",children:G.label}),u.jsx("div",{className:"text-xs text-text-secondary",children:G.type==="metier"?"Mtier":"Formation"})]},`${G.type}-${G.id}`))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Style"}),u.jsxs("select",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:p,onChange:G=>m(G.target.value),children:[u.jsx("option",{value:"sobre",children:"Sobre"}),u.jsx("option",{value:"enthousiaste",children:"Enthousiaste"}),u.jsx("option",{value:"professionnel",children:"Professionnel"})]})]}),u.jsx("div",{children:u.jsx("button",{className:"w-full bg-black text-white rounded-lg h-10 disabled:opacity-50",onClick:_,disabled:k||!s&&!n,children:k?"Gnration...":"Gnrer"})})]})}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:k?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Gnration en cours..."})]}):b?u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Votre lettre de motivation"}),u.jsx("div",{className:"bg-gray-50 border border-line p-3 rounded-lg whitespace-pre-wrap font-mono",children:b}),u.jsxs("div",{className:"mt-3 flex gap-2",children:[u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:C,children:"Copier"}),u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:q,children:"Tlcharger PDF"})]})]}):u.jsxs("div",{className:"text-center text-text-secondary",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsx("p",{className:"mt-2",children:"Recherchez un mtier ou une formation, choisissez le style, puis cliquez sur Gnrer pour crer votre lettre de motivation personnalise."})]})})]})}function Jk(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function lw(e,t){const[n,r]=B.useState(""),[s,i]=B.useState(!1),a=B.useRef(null),o=B.useRef(null);return B.useEffect(()=>{const h=e||"";r(""),i(!1);let p=0;const m=Math.max(15,Math.floor((t||1500)/Math.max(1,h.length)));return a.current=setInterval(()=>{p++,r(h.slice(0,p)),p>=h.length&&clearInterval(a.current)},m),o.current=setTimeout(()=>{clearInterval(a.current),r(h),i(!0)},Math.max(t||1500,(h.length+1)*m)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:n,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),r(e||""),i(!0)}}}function Kk(){var Be,De,Je,ke,Rt,_t,On,St,Et,Yt,kt,Rn,qt;const e=Wr(),[t,n]=B.useState(null),[r,s]=B.useState(""),[i,a]=B.useState(null),[o,l]=B.useState(!0),[h,p]=B.useState(""),[m,b]=B.useState("intro"),[v,k]=B.useState(""),[A,L]=B.useState(""),[x,N]=B.useState(!1),[_,C]=B.useState(0),[q,G]=B.useState({}),[H,$]=B.useState(0),[ie,Z]=B.useState({}),[O,U]=B.useState(!1),[ee,V]=B.useState(0),[ve,de]=B.useState(!1),[be,se]=B.useState(null),[ue,Y]=B.useState(!1),[K,E]=B.useState(!1);function J(Ye,Nt={}){try{const ht=new URL(Ye);return/api\.dicebear\.com/.test(ht.host)&&/\/lorelei\/svg/.test(ht.pathname)?(Object.entries(Nt).forEach(([jt,Fn])=>{Fn==null||Fn===""?ht.searchParams.delete(jt):ht.searchParams.set(jt,String(Fn))}),ht.searchParams.has("size")||ht.searchParams.set("size","300"),ht.toString()):Ye}catch{return Ye}}B.useEffect(()=>{let Ye=!0;return(async()=>{var Nt,ht,Ze;try{const{data:{user:jt}}=await lr.auth.getUser();if(!jt){e("/login");return}const[Fn,Ht]=await Promise.all([Wi.getProfile().catch(()=>null),Ot.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}).catch(Hr=>Hr)]);if(!Ye)return;const Pr=((Nt=Fn==null?void 0:Fn.data)==null?void 0:Nt.profile)||null;n(Pr),s(Jk(Pr,jt.id)),(ht=Ht==null?void 0:Ht.data)!=null&&ht.results?a(Ht.data.results):((Ze=Ht==null?void 0:Ht.response)==null?void 0:Ze.status)===404?a(null):Ht instanceof Error&&p("Erreur lors du chargement des rsultats")}catch(jt){if(console.error(jt),!Ye)return;p("Erreur de chargement")}finally{Ye&&l(!1)}})(),()=>{Ye=!1}},[e]);const X=B.useMemo(()=>[{text:"Bienvenue sur Zlia",durationMs:1500},{text:"Nous allons t'expliquer comment nous allons t'aider  trouver le mtier de tes rves",durationMs:5e3},{text:"Nous allons faire en sorte d'y arriver ensemble, et allons te donner des tips tout au long de ton parcours",durationMs:6e3},{text:"Commenons",durationMs:1e3}],[]),[oe,he]=B.useState(0),ne=X[oe]||{text:"",durationMs:1500},{text:ce,done:ae,skip:me}=lw(ne.text,ne.durationMs),xe=m==="intro"&&!ae||K;B.useEffect(()=>{if(!xe)return;const Ye=setInterval(()=>Y(Nt=>!Nt),200);return()=>clearInterval(Ye)},[xe]),B.useEffect(()=>{function Ye(Nt){const ht=!!(Nt&&Nt.detail&&Nt.detail.active);E(ht)}return window.addEventListener("niv1-typing",Ye),()=>window.removeEventListener("niv1-typing",Ye)},[]);const Ce=((De=(Be=i==null?void 0:i.jobRecommendations)==null?void 0:Be[0])==null?void 0:De.title)||"",Te=((ke=(Je=i==null?void 0:i.jobRecommendations)==null?void 0:Je[1])==null?void 0:ke.title)||"",Me=m==="ask_fit",_e=m==="await_input",te=()=>{if(!ae){me();return}oe+1<X.length?he(oe+1):b("ask_fit")},$e=B.useMemo(()=>{let Ye=r;if(!Ye)return Ye;try{const Nt=new URL(Ye);return/api\.dicebear\.com/.test(Nt.host)&&/\/lorelei\/svg/.test(Nt.pathname)&&(Ye=J(Ye,{mouth:xe&&ue?"happy08":null})),Ye}catch{return Ye}},[r,xe,ue]),We=[{id:"salary_expectation",type:"buttons",text:"Est-ce que tu t'attendais  ce salaire l ?",options:["Oui","Non","Je ne sais pas"]},{id:"good_salary",type:"input",text:"Pour toi c'est quoi un bon salaire?",placeholder:"Ex: 2500 net/mois"},{id:"motivation_salary",type:"buttons",text:"Est-ce que tu fais ce mtier pour le salaire ?",options:["Oui","Non","Partiellement"]}],Ee=B.useMemo(()=>[{id:"learn_overview",type:"text",text:"Durant ton parcours, je vais t'apprendre  te reprer parmi les mtiers et  poser un cap clair."},{id:"english_test",type:"text",text:"On fera un test d'anglais rapide pour valuer ton niveau et te proposer des pistes pour progresser."},{id:"cv_build",type:"text",text:"On va crer ton CV tape par tape, avec des exemples et un modle qui te ressemble."},{id:"sell_yourself",type:"text",text:"Tu apprendras  te vendre: valoriser tes expriences, tes forces et tes russites."},{id:"pitch",type:"text",text:"On travaillera ton pitch 60 secondes pour faire forte impression."},{id:"schools",type:"text",text:"On reprera des coles et formations qui collent vraiment  ton projet."},{id:"calendar",type:"text",text:"On t'aidera  organiser ton calendrier Parcoursup et tes chances."},{id:"tips",type:"text",text:"Tu auras des tips concrets  chaque tape pour gagner du temps."},{id:"interview",type:"text",text:"On prparera tes entretiens: questions frquentes, piges et rponses efficaces."},{id:"checklist",type:"text",text:"Tu auras une checklist personnalise pour rester au top jusqu'au bout."},{id:"motivated",type:"buttons",text:"Est-ce que tu es motiv pour cela ?",options:["Oui","Mitig","Non"]},{id:"explore_another",type:"buttons",text:"Veux-tu explorer une autre fiche mtier ?",options:["Oui","Non"]},{id:"why_attraction",type:"buttons",text:"Qu'est-ce qui t'attire le plus dans ce mtier ?",options:["Le sens","Le salaire","Les tudes","Le quotidien"]},{id:"study_length",type:"buttons",text:"Tu te vois plutt tudes longues ou entrer vite dans le concret ?",options:["tudes longues","Rapide et pro","Je ne sais pas"]},{id:"team_or_solo",type:"buttons",text:"Tu prfres travailler en quipe ou plutt en solo ?",options:["quipe","Solo","Peu importe"]},{id:"five_years",type:"input",text:"Tu te vois o dans 5 ans ?",placeholder:"Dcris en une phrase"},{id:"favorite_subjects",type:"buttons",text:"Quelles matires te plaisent le plus ?",options:["Sciences","Langues","Littrature","co/Gestion","Art/Design"]},{id:"learn_style",type:"buttons",text:"Tu apprends mieux en faisant ou en lisant ?",options:["En faisant","En lisant","Mix des deux"]},{id:"english_level",type:"buttons",text:"Ton niveau danglais approximatif ?",options:["Dbutant","Intermdiaire","Avanc"]},{id:"proud_project",type:"input",text:"Tu as un projet perso dont tu es fier ?",placeholder:"Dis-men un mot"},{id:"geo_constraints",type:"buttons",text:"Tu as des contraintes gographiques ?",options:["Oui","Non"]},{id:"action_plan",type:"buttons",text:"Tu veux quon btisse un plan daction ensemble ?",options:["Oui","Plus tard"]}],[]),Fe=B.useMemo(()=>Ee.findIndex(Ye=>Ye.id==="explore_another"),[Ee]);async function Ue(Ye){var Nt;N(!0),L(""),b("generating");try{const ht=`FICHE MTIER pour "${Ye}".
Contraintes de sortie OBLIGATOIRES:
- Rponds uniquement en franais, en tutoyant (utilise "tu").
- AUCUNE salutation, introduction ou phrase d'ouverture (n'cris pas Bonjour, pas de phrase avant la section 1).
- AUCUN sparateur ou dcoration (pas de '---', pas de tables, pas de code).
- AUCUN gras ni markdown (n'utilise jamais **, #, ##, etc.).

Structure EXACTE et dans cet ordre:
1) Description du mtier (150-200 mots)
2) Salaire en France (dbutant et mdian)
3) coles/tudes pour y arriver (3  5 exemples prcis)

Format: titres courts en clair (pas de markdown), listes  puces simples '-' quand pertinent.`,Ze=await hk.aiChat({mode:"advisor",message:ht,history:[],jobTitles:[Ye],advisorType:"fiche-metier"});let jt=((Nt=Ze==null?void 0:Ze.data)==null?void 0:Nt.reply)||"";jt=jt.replace(/\*\*/g,""),L(jt),V(Fn=>Math.min(2,Fn+1)),b("fiche")}catch(ht){console.error("AI fiche error",ht),L("Une erreur est survenue lors de la gnration de la fiche mtier."),b("fiche")}finally{N(!1)}}const qe=async Ye=>{Ye==="oui"?(await new Promise(Nt=>setTimeout(Nt,250)),await Ue(Ce||"Mtier")):b("await_input")},et=async()=>{const Ye=(v||"").trim();if(Ye){N(!0);try{await Wi.updateProfile({home_preference:Ye}),await Ue(Ye)}catch(Nt){console.error("Update profile error",Nt),N(!1)}}};function ft(){H+1<Ee.length?$(H+1):lt()}function gt(Ye){const Nt=Ee[H];if(Z({...ie,[Nt.id]:Ye}),Nt.id==="explore_another"&&Ye==="Oui"&&Te&&ee<2){de(!0),Fe>=0&&se(Fe+1),Ue(Te);return}ft()}function lt(){b("success"),U(!0),setTimeout(()=>{},2e3);const Ye=100;(async()=>{try{await Kd({minLevel:2,xpReward:Ye})}catch(Nt){console.warn("Progression update failed (non-blocking):",Nt)}})()}async function Se(){try{const Ye=We.map(Ze=>({question_id:Ze.id,question_text:Ze.text,answer_text:q[Ze.id]??""})),Nt=Ee.map(Ze=>({question_id:Ze.id,question_text:Ze.text,answer_text:ie[Ze.id]??""})),ht=[...Ye,...Nt].filter(Ze=>Ze.question_id&&Ze.question_text);ht.length&&await Wi.saveExtraInfo(ht)}catch(Ye){console.error("Persist extra info failed",Ye)}}return o?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):h?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:h})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:$e,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:m==="intro"?u.jsx(u.Fragment,{children:ce}):Me?"Est-ce que ces mtiers recommands te conviennent ?":_e?"Peux-tu nous dire le mtier de tes rves ?":m==="generating"?"Je suis en train de rechercher les infomations du mtier qui te concerne...":m==="fiche"?u.jsx(u.Fragment,{children:ve?u.jsxs(u.Fragment,{children:[u.jsx("div",{children:"Voici une seconde fiche pour t'offrir un autre angle."}),u.jsx("div",{children:"Lis-la si tu veux, puis on passe directement  la suite."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{children:"Super, continuons."}),v?u.jsxs("div",{children:["Trs bien je vois que tu es ambitieux !  ",v,"  est un beau mtier."]}):null,u.jsx("div",{children:"Tu peux lire la fiche, puis on en discute "})]})}):m==="post_fiche"?u.jsx(u.Fragment,{children:((Rt=We[_])==null?void 0:Rt.text)||""}):m==="conversation"?u.jsx(u.Fragment,{children:((_t=Ee[H])==null?void 0:_t.type)==="text"?u.jsx(Yk,{text:Ee[H].text,onNext:()=>{ft(),H+1>=Ee.length&&Se()}}):((On=Ee[H])==null?void 0:On.text)||""}):""}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),m==="intro"&&u.jsx("div",{className:"mt-3",children:u.jsx("button",{onClick:te,className:"inline-flex items-center px-4 py-2 rounded-md bg-[#c1ff72] text-black border border-gray-200",children:"Suivant"})}),Me&&u.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[u.jsx("button",{onClick:()=>qe("oui"),disabled:!Ce,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50 w-full sm:w-auto",children:"Oui"}),u.jsx("button",{onClick:()=>qe("mitige"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Mitig"}),u.jsx("button",{onClick:()=>qe("non"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Non"})]}),_e&&u.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 w-full",children:[u.jsx("input",{type:"text",value:v,onChange:Ye=>k(Ye.target.value),placeholder:"Ton mtier de rve",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full"}),u.jsx("button",{onClick:et,disabled:x||!v.trim(),className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-50 w-full sm:w-auto",children:"Valider"})]}),m==="fiche"&&!ve&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:()=>b("post_fiche"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Discuter de la fiche"})}),m==="fiche"&&ve&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:()=>{b("conversation"),be!=null&&be<Ee.length&&$(be),de(!1)},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Continuer"})}),m==="post_fiche"&&u.jsxs("div",{className:"mt-4 space-y-3",children:[((St=We[_])==null?void 0:St.type)==="buttons"&&u.jsx("div",{className:"flex flex-wrap gap-3",children:We[_].options.map((Ye,Nt)=>u.jsx("button",{onClick:()=>{G({...q,[We[_].id]:Ye}),_+1<We.length?C(_+1):(b("conversation"),$(0),Se())},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:Ye},Nt))}),((Et=We[_])==null?void 0:Et.type)==="input"&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[u.jsx("input",{type:"text",placeholder:We[_].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:q[We[_].id]||"",onChange:Ye=>G({...q,[We[_].id]:Ye.target.value})}),u.jsx("button",{onClick:()=>{_+1<We.length?C(_+1):(b("conversation"),$(0),Se())},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]})]}),m==="conversation"&&u.jsxs("div",{className:"mt-4 space-y-3",children:[((Yt=Ee[H])==null?void 0:Yt.type)==="buttons"&&u.jsx("div",{className:"flex flex-wrap gap-3",children:(Ee[H].options||[]).map((Ye,Nt)=>u.jsx("button",{onClick:()=>{gt(Ye),H+1>=Ee.length&&Se()},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:Ye},Nt))}),((kt=Ee[H])==null?void 0:kt.type)==="input"&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[u.jsx("input",{type:"text",placeholder:Ee[H].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:ie[Ee[H].id]||"",onChange:Ye=>Z({...ie,[Ee[H].id]:Ye.target.value})}),u.jsx("button",{onClick:()=>{ft(),H+1>=Ee.length&&Se()},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]}),((Rn=Ee[H])==null?void 0:Rn.type)==="text"&&null]}),!1,!1]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[m==="ask_fit"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),(qt=i==null?void 0:i.jobRecommendations)!=null&&qt.length?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jobRecommendations.map((Ye,Nt)=>{var ht;return u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:Ye.title}),(ht=Ye.skills)!=null&&ht.length?u.jsxs("div",{className:"text-sm text-orange-700",children:[u.jsx("div",{className:"font-medium",children:"Comptences requises:"}),u.jsx("ul",{className:"mt-1 list-disc list-inside",children:Ye.skills.map((Ze,jt)=>u.jsx("li",{children:Ze},jt))})]}):null]},Nt)})}):u.jsx("div",{className:"text-text-secondary",children:"Aucune recommandation disponible pour le moment."})]}),(m==="fiche"||m==="post_fiche"||m==="conversation"||m==="generating")&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Fiche mtier"})]}),x&&u.jsx("div",{className:"text-sm text-text-secondary",children:"Gnration"}),u.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-gray-800",children:A})]})]})]}),O&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 1 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as termin l\\'introduction et explor tes premires pistes."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function Yk({text:e,onNext:t}){const n=B.useMemo(()=>Math.min(8e3,Math.max(1500,(e||"").length*40)),[e]),{text:r,done:s,skip:i}=lw(e||"",n);return B.useEffect(()=>{const a=new CustomEvent("niv1-typing",{detail:{active:!s}});window.dispatchEvent(a)},[s]),u.jsxs("div",{children:[u.jsx("div",{className:"mb-3 whitespace-pre-wrap",children:r}),u.jsx("button",{onClick:()=>{s?t():i()},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})]})}function Xk(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function Qk(e,t){const[n,r]=B.useState(""),[s,i]=B.useState(!1),a=B.useRef(null),o=B.useRef(null);return B.useEffect(()=>{r(""),i(!1);const h=e||"";let p=0;const m=Math.max(15,Math.floor((t||1500)/Math.max(1,h.length)));return a.current=setInterval(()=>{p++,r(h.slice(0,p)),p>=h.length&&clearInterval(a.current)},m),o.current=setTimeout(()=>{clearInterval(a.current),r(h),i(!0)},Math.max(t||1500,(h.length+1)*m)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:n,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),r(e||""),i(!0)}}}function Zk(){const e=Wr(),[t,n]=B.useState(null),[r,s]=B.useState(""),[i,a]=B.useState(!0),[o,l]=B.useState(""),[h,p]=B.useState(0),[m,b]=B.useState("intro"),v=B.useRef(null),k=B.useRef(!1),[A,L]=B.useState(!1),[x,N]=B.useState("");B.useEffect(()=>{let V=!0;return(async()=>{var ve;try{const{data:{user:de}}=await lr.auth.getUser();if(!de){e("/login");return}N(de.id);const be=await Wi.getProfile().catch(()=>null);if(!V)return;const se=((ve=be==null?void 0:be.data)==null?void 0:ve.profile)||null;n(se),s(Xk(se,de.id))}catch(de){if(console.error(de),!V)return;l("Erreur de chargement")}finally{V&&a(!1)}})(),()=>{V=!1}},[e]);const _=B.useMemo(()=>[{text:"Bon t'es pass au niveau 2, c'tait assez simple mais a se corsera plus tard, pour l'instant on a besoin de comprendre  qui on a affaire et t'expliquer tous les futurs niveaux",durationMs:8e3},{text:"On va te faire rencontrer une personne qui tait plus ou moins dans ton cas",durationMs:3e3},{text:"C'est nicolas, le fondateur de la plateforme Zlia qui a fait une vido pour toi",durationMs:3e3},{text:"Le but c'est de t'expliquer les bases de l'orientation, de pourquoi c'est important, mme si tu le sais probablement dj",durationMs:7500},{text:"Je te laisse voir cette vido, tu pourras avoir son retour d'exprience avec l'orientation et comment il s'en est sorti",durationMs:4e3},{text:"Bon faut vraiment que j'arrte de parler moi",durationMs:1500}],[]),C=_[h]||{text:"",durationMs:1500},{text:q,done:G,skip:H}=Qk(C.text,C.durationMs);B.useEffect(()=>{if(m!=="intro"||G)return;const V=setInterval(()=>L(ve=>!ve),200);return()=>clearInterval(V)},[m,G]);function $(V,ve={}){try{const de=new URL(V);return/api\.dicebear\.com/.test(de.host)&&/\/lorelei\/svg/.test(de.pathname)?(Object.entries(ve).forEach(([se,ue])=>{ue==null||ue===""?de.searchParams.delete(se):de.searchParams.set(se,String(ue))}),de.searchParams.has("size")||de.searchParams.set("size","300"),de.toString()):V}catch{return V}}const ie=B.useMemo(()=>{let V=r;return!V||!(()=>{try{const de=new URL(V);return/api\.dicebear\.com/.test(de.host)&&/\/lorelei\/svg/.test(de.pathname)}catch{return!1}})()||(m==="intro"&&h===5?V=$(V,{eyes:"variant16"}):V=$(V,{}),m==="intro"&&!G?V=$(V,{mouth:A?"happy08":null}):V=$(V,{mouth:null})),V},[r,m,h,G,A]);B.useEffect(()=>{if(m!=="watch")return;function V(){if(!(v.current||k.current))try{const ve=window.YT;if(!ve||!ve.Player)return;v.current=new ve.Player("niv2Player",{height:"315",width:"560",videoId:"WgUmD_sZRrI",playerVars:{rel:0,modestbranding:1,playsinline:1},events:{onReady:()=>{k.current=!0},onStateChange:de=>{de.data===window.YT.PlayerState.ENDED&&ee()}}})}catch(ve){console.warn("YT init failed",ve)}}if(!window.YT||!window.YT.Player){if(!document.getElementById("youtube-iframe-api")){const be=document.createElement("script");be.src="https://www.youtube.com/iframe_api",be.id="youtube-iframe-api",document.body.appendChild(be)}const de=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){if(typeof de=="function")try{de()}catch{}V()}}else V();return()=>{try{const ve=v.current;ve&&ve.destroy&&ve.destroy()}catch{}v.current=null,k.current=!1}},[m]);function Z(){if(!G){H();return}h+1<_.length?p(V=>V+1):b("watch")}const[O,U]=B.useState(!1);function ee(){U(!0),(async()=>{try{await Kd({minLevel:2,xpReward:120})}catch(V){console.warn("Progression update failed (non-blocking):",V)}})()}return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:ie,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:m==="intro"?u.jsx(u.Fragment,{children:q}):m==="watch"?u.jsx(u.Fragment,{children:"Regarde la vido  droite, puis on continue."}):null}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),m==="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:Z,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:h===_.length-1?"Oui laisse moi voir la vido":"Suivant"})})]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Vido"})]}),m!=="watch"?u.jsx("div",{className:"text-text-secondary",children:"La vido apparatra ici."}):u.jsxs("div",{children:[u.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:u.jsx("div",{id:"niv2Player",className:"absolute inset-0"})}),u.jsx("noscript",{children:u.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/WgUmD_sZRrI?si=9_DuCyLC6Gw_mF2Z",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:ee,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"J'ai termin la vido"})})]})]})]}),O&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 2 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as regard la vido d'introduction  l'orientation."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function e6(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function t6(e,t){const[n,r]=B.useState(""),[s,i]=B.useState(!1),a=B.useRef(null),o=B.useRef(null);return B.useEffect(()=>{r(""),i(!1);const h=e||"";let p=0;const m=Math.max(15,Math.floor((t||1500)/Math.max(1,h.length)));return a.current=setInterval(()=>{p++,r(h.slice(0,p)),p>=h.length&&clearInterval(a.current)},m),o.current=setTimeout(()=>{clearInterval(a.current),r(h),i(!0)},Math.max(t||1500,(h.length+1)*m)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:n,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),r(e||""),i(!0)}}}function n6(){const e=Wr(),[t,n]=B.useState(null),[r,s]=B.useState(""),[i,a]=B.useState(!0),[o,l]=B.useState(""),[h,p]=B.useState(0),[m,b]=B.useState("intro"),[v,k]=B.useState(!1),[A,L]=B.useState(""),[x,N]=B.useState(""),_=B.useRef(null),[C,q]=B.useState(!1),G=B.useRef([]),[H,$]=B.useState(""),[ie,Z]=B.useState(7),[O,U]=B.useState(!1),[ee,V]=B.useState(!1);B.useEffect(()=>{let ce=!0;return(async()=>{var ae,me,xe,Ce,Te,Me,_e;try{const{data:{user:te}}=await lr.auth.getUser();if(!te){e("/login");return}L(te.id);const $e=await Wi.getProfile().catch(()=>null);if(!ce)return;const We=((ae=$e==null?void 0:$e.data)==null?void 0:ae.profile)||($e==null?void 0:$e.data)||null;n(We),s(e6(We,te.id));try{const Ee=await Ot.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Fe=((me=Ee==null?void 0:Ee.data)==null?void 0:me.results)||{},Ue=Fe.jobRecommendations||Fe.job_recommandations||[];Array.isArray(Ue)&&Ue.length>0&&N(((xe=Ue[0])==null?void 0:xe.title)||"")}catch{try{const Ee=await Ot.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Fe=((Te=(Ce=Ee==null?void 0:Ee.data)==null?void 0:Ce.results)==null?void 0:Te.analysis)||((Me=Ee==null?void 0:Ee.data)==null?void 0:Me.results)||{},Ue=Fe.jobRecommendations||Fe.job_recommandations||Fe.career_matches||[];Array.isArray(Ue)&&Ue.length>0&&N(((_e=Ue[0])==null?void 0:_e.title)||"")}catch{}}}catch(te){if(console.error(te),!ce)return;l("Erreur de chargement")}finally{ce&&a(!1)}})(),()=>{ce=!1}},[e]);const ve=B.useMemo(()=>[{text:"Re, on passe au niveau 3, on va rentrer dans le vif du sujet, sur ce module on va apprendre comment se vendre auprs des autres",durationMs:5e3},{text:"On va bosser ensemble sur un pitch de 60s, tant que tu es pas satisfait de toi mme, on continue",durationMs:3e3},{text:"Alors je sais que a peut paratre un peu complexe ou a peut te mettre mal  l'aise, isole toi si c'est le cas",durationMs:4e3},{text:"Essaye de rpter ce texte, de manire dtendue, personne ne te juge  part moi, mais je suis qu'un assistant",durationMs:4e3}],[]),de=ve[h]||{text:"",durationMs:1500},{text:be,done:se,skip:ue}=t6(de.text,de.durationMs);B.useEffect(()=>{if(m!=="intro"||se)return;const ce=setInterval(()=>k(ae=>!ae),200);return()=>clearInterval(ce)},[m,se]);function Y(ce,ae={}){try{const me=new URL(ce);return/api\.dicebear\.com/.test(me.host)&&/\/lorelei\/svg/.test(me.pathname)?(Object.entries(ae).forEach(([Ce,Te])=>{Te==null||Te===""?me.searchParams.delete(Ce):me.searchParams.set(Ce,String(Te))}),me.searchParams.has("size")||me.searchParams.set("size","300"),me.toString()):ce}catch{return ce}}const K=B.useMemo(()=>{let ce=r;return!ce||!(()=>{try{const me=new URL(ce);return/api\.dicebear\.com/.test(me.host)&&/\/lorelei\/svg/.test(me.pathname)}catch{return!1}})()||(m==="intro"&&h===3?ce=Y(ce,{eyes:"variant16"}):ce=Y(ce,{}),m==="intro"&&!se?ce=Y(ce,{mouth:v?"happy08":null}):ce=Y(ce,{mouth:null})),ce},[r,m,h,se,v]);function E(){if(!se){ue();return}h+1<ve.length?p(ce=>ce+1):b("practice")}const J=B.useMemo(()=>{const ce=(t==null?void 0:t.first_name)||"",ae=(t==null?void 0:t.last_name)||"",me=(t==null?void 0:t.department)||"",xe=(t==null?void 0:t.home_preference)||"",Ce=String(xe).toLowerCase()==="questionnaire"?x||"un mtier qui me correspond":xe||x||"un mtier qui me correspond";return`Bonjour, je m'appelle ${ce} ${ae}, j'habite actuellement dans le ${me}. Ce qui me motive profondment dans le mtier de ${Ce}, cest de comprendre comment les choses fonctionnent et comment les amliorer. Je ne me contente jamais de la premire rponse ; ma curiosit me pousse  explorer diffrentes perspectives avant dagir.

J'aborde chaque nouveau dfi avec la mme mthode : jcoute, japprends vite, et je connecte les ides et les gens pour construire quelque chose qui a du sens. Je crois fermement que les meilleures solutions naissent de la collaboration et d'une vision d'ensemble.

Mon objectif n'est pas simplement d'accomplir des tches, mais d'apporter une nergie positive et une volont de faire avancer les projets. Je cherche  m'investir dans un environnement o je pourrai continuer  apprendre et avoir un impact concret.`},[t,x]),X=async()=>{try{V(!1),$("");const ce=await navigator.mediaDevices.getUserMedia({audio:!0}),ae=new MediaRecorder(ce);G.current=[],ae.ondataavailable=me=>{me.data&&me.data.size>0&&G.current.push(me.data)},ae.onstop=()=>{const me=new Blob(G.current,{type:"audio/webm"}),xe=URL.createObjectURL(me);$(xe),b("rate"),q(!1),ce.getTracks().forEach(Ce=>Ce.stop())},_.current=ae,ae.start(),q(!0)}catch(ce){console.error("Recording start failed",ce),alert("Impossible daccder au micro. Autorisez le micro puis ressayez.")}},oe=()=>{var ce;try{(ce=_.current)==null||ce.stop()}catch{}},he=()=>{$(""),Z(7),b("practice")},ne=async()=>{ie>=8?(U(!0),(async()=>{try{await Kd({minLevel:3,xpReward:150})}catch(ce){console.warn("Progression update failed (non-blocking):",ce)}})()):V(!0)};return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:K,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:m==="intro"?u.jsx(u.Fragment,{children:be}):m==="practice"?u.jsx(u.Fragment,{children:"Tu peux lire le texte  droite et t'enregistrer quand tu veux."}):m==="rate"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-3",children:"Alors combien tu te noterais sur 10 ?"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"range",min:"0",max:"10",value:ie,onChange:ce=>Z(Number(ce.target.value)),className:"w-full"}),u.jsx("div",{className:"w-10 text-center font-bold",children:ie})]}),u.jsx("button",{onClick:ne,className:"mt-3 px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Valider"})]}):ee?u.jsx(u.Fragment,{children:"C'est dj pas trop mal, on va essayer de le refaire, recommenons ensemble."}):null}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),m==="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:E,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:h===ve.length-1?"Afficher le texte":"Suivant"})}),ee&&m!=="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:he,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Recommencer"})})]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Pitch 60s"})]}),u.jsx("div",{className:"text-text-primary whitespace-pre-wrap mb-4",children:J}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!C&&u.jsx("button",{onClick:X,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"S'enregistrer"}),C&&u.jsx("button",{onClick:oe,className:"px-4 py-2 rounded-lg bg-red-500 text-white border border-red-600",children:"Arrter"}),H&&!C&&u.jsxs(u.Fragment,{children:[u.jsx("audio",{controls:!0,src:H,className:"w-full max-w-md"}),u.jsx("button",{onClick:he,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Renregistrer"})]})]})]})]}),O&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 3 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Flicitations, ton pitch est prt. Tu sais te prsenter efficacement."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function Jt(e){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(e)}var Lr=Uint8Array,_s=Uint16Array,a1=Int32Array,hp=new Lr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fp=new Lr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Bg=new Lr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cw=function(e,t){for(var n=new _s(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new a1(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},uw=cw(hp,2),dw=uw.b,Ug=uw.r;dw[28]=258,Ug[258]=28;var hw=cw(fp,0),r6=hw.b,y2=hw.r,zg=new _s(32768);for(var ln=0;ln<32768;++ln){var ho=(ln&43690)>>1|(ln&21845)<<1;ho=(ho&52428)>>2|(ho&13107)<<2,ho=(ho&61680)>>4|(ho&3855)<<4,zg[ln]=((ho&65280)>>8|(ho&255)<<8)>>1}var Hi=function(e,t,n){for(var r=e.length,s=0,i=new _s(t);s<r;++s)e[s]&&++i[e[s]-1];var a=new _s(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(n){o=new _s(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var h=s<<4|e[s],p=t-e[s],m=a[e[s]-1]++<<p,b=m|(1<<p)-1;m<=b;++m)o[zg[m]>>l]=h}else for(o=new _s(r),s=0;s<r;++s)e[s]&&(o[s]=zg[a[e[s]-1]++]>>15-e[s]);return o},Ro=new Lr(288);for(var ln=0;ln<144;++ln)Ro[ln]=8;for(var ln=144;ln<256;++ln)Ro[ln]=9;for(var ln=256;ln<280;++ln)Ro[ln]=7;for(var ln=280;ln<288;++ln)Ro[ln]=8;var Md=new Lr(32);for(var ln=0;ln<32;++ln)Md[ln]=5;var s6=Hi(Ro,9,0),i6=Hi(Ro,9,1),a6=Hi(Md,5,0),o6=Hi(Md,5,1),vm=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},si=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},ym=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},o1=function(e){return(e+7)/8|0},fw=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Lr(e.subarray(t,n))},l6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],li=function(e,t,n){var r=new Error(t||l6[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,li),!n)throw r;return r},c6=function(e,t,n,r){var s=e.length,i=0;if(!s||t.f&&!t.l)return n||new Lr(0);var a=!n,o=a||t.i!=2,l=t.i;a&&(n=new Lr(s*3));var h=function(xe){var Ce=n.length;if(xe>Ce){var Te=new Lr(Math.max(Ce*2,xe));Te.set(n),n=Te}},p=t.f||0,m=t.p||0,b=t.b||0,v=t.l,k=t.d,A=t.m,L=t.n,x=s*8;do{if(!v){p=si(e,m,1);var N=si(e,m+1,3);if(m+=3,N)if(N==1)v=i6,k=o6,A=9,L=5;else if(N==2){var G=si(e,m,31)+257,H=si(e,m+10,15)+4,$=G+si(e,m+5,31)+1;m+=14;for(var ie=new Lr($),Z=new Lr(19),O=0;O<H;++O)Z[Bg[O]]=si(e,m+O*3,7);m+=H*3;for(var U=vm(Z),ee=(1<<U)-1,V=Hi(Z,U,1),O=0;O<$;){var ve=V[si(e,m,ee)];m+=ve&15;var _=ve>>4;if(_<16)ie[O++]=_;else{var de=0,be=0;for(_==16?(be=3+si(e,m,3),m+=2,de=ie[O-1]):_==17?(be=3+si(e,m,7),m+=3):_==18&&(be=11+si(e,m,127),m+=7);be--;)ie[O++]=de}}var se=ie.subarray(0,G),ue=ie.subarray(G);A=vm(se),L=vm(ue),v=Hi(se,A,1),k=Hi(ue,L,1)}else li(1);else{var _=o1(m)+4,C=e[_-4]|e[_-3]<<8,q=_+C;if(q>s){l&&li(0);break}o&&h(b+C),n.set(e.subarray(_,q),b),t.b=b+=C,t.p=m=q*8,t.f=p;continue}if(m>x){l&&li(0);break}}o&&h(b+131072);for(var Y=(1<<A)-1,K=(1<<L)-1,E=m;;E=m){var de=v[ym(e,m)&Y],J=de>>4;if(m+=de&15,m>x){l&&li(0);break}if(de||li(2),J<256)n[b++]=J;else if(J==256){E=m,v=null;break}else{var X=J-254;if(J>264){var O=J-257,oe=hp[O];X=si(e,m,(1<<oe)-1)+dw[O],m+=oe}var he=k[ym(e,m)&K],ne=he>>4;he||li(3),m+=he&15;var ue=r6[ne];if(ne>3){var oe=fp[ne];ue+=ym(e,m)&(1<<oe)-1,m+=oe}if(m>x){l&&li(0);break}o&&h(b+131072);var ce=b+X;if(b<ue){var ae=i-ue,me=Math.min(ue,ce);for(ae+b<0&&li(3);b<me;++b)n[b]=r[ae+b]}for(;b<ce;++b)n[b]=n[b-ue]}}t.l=v,t.p=E,t.b=b,t.f=p,v&&(p=1,t.m=A,t.d=k,t.n=L)}while(!p);return b!=n.length&&a?fw(n,0,b):n.subarray(0,b)},da=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Ju=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},bm=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:mw,l:0};if(s==1){var a=new Lr(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(q,G){return q.f-G.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],h=0,p=1,m=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};p!=s-1;)o=n[n[h].f<n[m].f?h++:m++],l=n[h!=p&&n[h].f<n[m].f?h++:m++],n[p++]={s:-1,f:o.f+l.f,l:o,r:l};for(var b=i[0].s,r=1;r<s;++r)i[r].s>b&&(b=i[r].s);var v=new _s(b+1),k=qg(n[p-1],v,0);if(k>t){var r=0,A=0,L=k-t,x=1<<L;for(i.sort(function(G,H){return v[H.s]-v[G.s]||G.f-H.f});r<s;++r){var N=i[r].s;if(v[N]>t)A+=x-(1<<k-v[N]),v[N]=t;else break}for(A>>=L;A>0;){var _=i[r].s;v[_]<t?A-=1<<t-v[_]++-1:++r}for(;r>=0&&A;--r){var C=i[r].s;v[C]==t&&(--v[C],++A)}k=t}return{t:new Lr(v),l:k}},qg=function(e,t,n){return e.s==-1?Math.max(qg(e.l,t,n+1),qg(e.r,t,n+1)):t[e.s]=n},b2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new _s(++t),r=0,s=e[0],i=1,a=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==s&&o!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[o]}return{c:n.subarray(0,r),n:t}},Ku=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},pw=function(e,t,n){var r=n.length,s=o1(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<r;++i)e[s+i+4]=n[i];return(s+4+r)*8},w2=function(e,t,n,r,s,i,a,o,l,h,p){da(t,p++,n),++s[256];for(var m=bm(s,15),b=m.t,v=m.l,k=bm(i,15),A=k.t,L=k.l,x=b2(b),N=x.c,_=x.n,C=b2(A),q=C.c,G=C.n,H=new _s(19),$=0;$<N.length;++$)++H[N[$]&31];for(var $=0;$<q.length;++$)++H[q[$]&31];for(var ie=bm(H,7),Z=ie.t,O=ie.l,U=19;U>4&&!Z[Bg[U-1]];--U);var ee=h+5<<3,V=Ku(s,Ro)+Ku(i,Md)+a,ve=Ku(s,b)+Ku(i,A)+a+14+3*U+Ku(H,Z)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&ee<=V&&ee<=ve)return pw(t,p,e.subarray(l,l+h));var de,be,se,ue;if(da(t,p,1+(ve<V)),p+=2,ve<V){de=Hi(b,v,0),be=b,se=Hi(A,L,0),ue=A;var Y=Hi(Z,O,0);da(t,p,_-257),da(t,p+5,G-1),da(t,p+10,U-4),p+=14;for(var $=0;$<U;++$)da(t,p+3*$,Z[Bg[$]]);p+=3*U;for(var K=[N,q],E=0;E<2;++E)for(var J=K[E],$=0;$<J.length;++$){var X=J[$]&31;da(t,p,Y[X]),p+=Z[X],X>15&&(da(t,p,J[$]>>5&127),p+=J[$]>>12)}}else de=s6,be=Ro,se=a6,ue=Md;for(var $=0;$<o;++$){var oe=r[$];if(oe>255){var X=oe>>18&31;Ju(t,p,de[X+257]),p+=be[X+257],X>7&&(da(t,p,oe>>23&31),p+=hp[X]);var he=oe&31;Ju(t,p,se[he]),p+=ue[he],he>3&&(Ju(t,p,oe>>5&8191),p+=fp[he])}else Ju(t,p,de[oe]),p+=be[oe]}return Ju(t,p,de[256]),p+be[256]},u6=new a1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mw=new Lr(0),d6=function(e,t,n,r,s,i){var a=i.z||e.length,o=new Lr(r+a+5*(1+Math.ceil(a/7e3))+s),l=o.subarray(r,o.length-s),h=i.l,p=(i.r||0)&7;if(t){p&&(l[0]=i.r>>3);for(var m=u6[t-1],b=m>>13,v=m&8191,k=(1<<n)-1,A=i.p||new _s(32768),L=i.h||new _s(k+1),x=Math.ceil(n/3),N=2*x,_=function(Me){return(e[Me]^e[Me+1]<<x^e[Me+2]<<N)&k},C=new a1(25e3),q=new _s(288),G=new _s(32),H=0,$=0,ie=i.i||0,Z=0,O=i.w||0,U=0;ie+2<a;++ie){var ee=_(ie),V=ie&32767,ve=L[ee];if(A[V]=ve,L[ee]=V,O<=ie){var de=a-ie;if((H>7e3||Z>24576)&&(de>423||!h)){p=w2(e,l,0,C,q,G,$,Z,U,ie-U,p),Z=H=$=0,U=ie;for(var be=0;be<286;++be)q[be]=0;for(var be=0;be<30;++be)G[be]=0}var se=2,ue=0,Y=v,K=V-ve&32767;if(de>2&&ee==_(ie-K))for(var E=Math.min(b,de)-1,J=Math.min(32767,ie),X=Math.min(258,de);K<=J&&--Y&&V!=ve;){if(e[ie+se]==e[ie+se-K]){for(var oe=0;oe<X&&e[ie+oe]==e[ie+oe-K];++oe);if(oe>se){if(se=oe,ue=K,oe>E)break;for(var he=Math.min(K,oe-2),ne=0,be=0;be<he;++be){var ce=ie-K+be&32767,ae=A[ce],me=ce-ae&32767;me>ne&&(ne=me,ve=ce)}}}V=ve,ve=A[V],K+=V-ve&32767}if(ue){C[Z++]=268435456|Ug[se]<<18|y2[ue];var xe=Ug[se]&31,Ce=y2[ue]&31;$+=hp[xe]+fp[Ce],++q[257+xe],++G[Ce],O=ie+se,++H}else C[Z++]=e[ie],++q[e[ie]]}}for(ie=Math.max(ie,O);ie<a;++ie)C[Z++]=e[ie],++q[e[ie]];p=w2(e,l,h,C,q,G,$,Z,U,ie-U,p),h||(i.r=p&7|l[p/8|0]<<3,p-=7,i.h=L,i.p=A,i.i=ie,i.w=O)}else{for(var ie=i.w||0;ie<a+h;ie+=65535){var Te=ie+65535;Te>=a&&(l[p/8|0]=h,Te=a),p=pw(l,p+1,e.subarray(ie,Te))}i.i=a}return fw(o,0,r+o1(p)+s)},gw=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=n.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},h6=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Lr(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return d6(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},vw=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},f6=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=gw();s.p(t.dictionary),vw(e,2,s.d())}},p6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&li(6,"invalid zlib data"),(e[1]>>5&1)==1&&li(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function $g(e,t){t||(t={});var n=gw();n.p(e);var r=h6(e,t,t.dictionary?6:2,4);return f6(r,t),vw(r,r.length-4,n.d()),r}function m6(e,t){return c6(e.subarray(p6(e),-4),{i:2},t,t)}var g6=typeof TextDecoder<"u"&&new TextDecoder,v6=0;try{g6.decode(mw,{stream:!0}),v6=1}catch{}var xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function wm(){xt.console&&typeof xt.console.log=="function"&&xt.console.log.apply(xt.console,arguments)}var tn={log:wm,warn:function(e){xt.console&&(typeof xt.console.warn=="function"?xt.console.warn.apply(xt.console,arguments):wm.call(null,arguments))},error:function(e){xt.console&&(typeof xt.console.error=="function"?xt.console.error.apply(xt.console,arguments):wm(e))}};function xm(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){jl(r.response,t,n)},r.onerror=function(){tn.error("could not download file")},r.send()}function x2(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Fh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var md,Wg,jl=xt.saveAs||((typeof window>"u"?"undefined":Jt(window))!=="object"||window!==xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=xt.URL||xt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?x2(s.href)?xm(e,t,n):Fh(s,s.target="_blank"):Fh(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Fh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(x2(e))xm(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Fh(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Jt(i)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return xm(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(xt.HTMLElement)||xt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Jt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},o.readAsDataURL(e)}else{var l=xt.URL||xt.webkitURL,h=l.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yw(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+o+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _m(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=_r(n,r,s,i,t[0],7,-680876936),i=_r(i,n,r,s,t[1],12,-389564586),s=_r(s,i,n,r,t[2],17,606105819),r=_r(r,s,i,n,t[3],22,-1044525330),n=_r(n,r,s,i,t[4],7,-176418897),i=_r(i,n,r,s,t[5],12,1200080426),s=_r(s,i,n,r,t[6],17,-1473231341),r=_r(r,s,i,n,t[7],22,-45705983),n=_r(n,r,s,i,t[8],7,1770035416),i=_r(i,n,r,s,t[9],12,-1958414417),s=_r(s,i,n,r,t[10],17,-42063),r=_r(r,s,i,n,t[11],22,-1990404162),n=_r(n,r,s,i,t[12],7,1804603682),i=_r(i,n,r,s,t[13],12,-40341101),s=_r(s,i,n,r,t[14],17,-1502002290),n=Nr(n,r=_r(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Nr(i,n,r,s,t[6],9,-1069501632),s=Nr(s,i,n,r,t[11],14,643717713),r=Nr(r,s,i,n,t[0],20,-373897302),n=Nr(n,r,s,i,t[5],5,-701558691),i=Nr(i,n,r,s,t[10],9,38016083),s=Nr(s,i,n,r,t[15],14,-660478335),r=Nr(r,s,i,n,t[4],20,-405537848),n=Nr(n,r,s,i,t[9],5,568446438),i=Nr(i,n,r,s,t[14],9,-1019803690),s=Nr(s,i,n,r,t[3],14,-187363961),r=Nr(r,s,i,n,t[8],20,1163531501),n=Nr(n,r,s,i,t[13],5,-1444681467),i=Nr(i,n,r,s,t[2],9,-51403784),s=Nr(s,i,n,r,t[7],14,1735328473),n=Sr(n,r=Nr(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Sr(i,n,r,s,t[8],11,-2022574463),s=Sr(s,i,n,r,t[11],16,1839030562),r=Sr(r,s,i,n,t[14],23,-35309556),n=Sr(n,r,s,i,t[1],4,-1530992060),i=Sr(i,n,r,s,t[4],11,1272893353),s=Sr(s,i,n,r,t[7],16,-155497632),r=Sr(r,s,i,n,t[10],23,-1094730640),n=Sr(n,r,s,i,t[13],4,681279174),i=Sr(i,n,r,s,t[0],11,-358537222),s=Sr(s,i,n,r,t[3],16,-722521979),r=Sr(r,s,i,n,t[6],23,76029189),n=Sr(n,r,s,i,t[9],4,-640364487),i=Sr(i,n,r,s,t[12],11,-421815835),s=Sr(s,i,n,r,t[15],16,530742520),n=jr(n,r=Sr(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=jr(i,n,r,s,t[7],10,1126891415),s=jr(s,i,n,r,t[14],15,-1416354905),r=jr(r,s,i,n,t[5],21,-57434055),n=jr(n,r,s,i,t[12],6,1700485571),i=jr(i,n,r,s,t[3],10,-1894986606),s=jr(s,i,n,r,t[10],15,-1051523),r=jr(r,s,i,n,t[1],21,-2054922799),n=jr(n,r,s,i,t[8],6,1873313359),i=jr(i,n,r,s,t[15],10,-30611744),s=jr(s,i,n,r,t[6],15,-1560198380),r=jr(r,s,i,n,t[13],21,1309151649),n=jr(n,r,s,i,t[4],6,-145523070),i=jr(i,n,r,s,t[11],10,-1120210379),s=jr(s,i,n,r,t[2],15,718787259),r=jr(r,s,i,n,t[9],21,-343485551),e[0]=No(n,e[0]),e[1]=No(r,e[1]),e[2]=No(s,e[2]),e[3]=No(i,e[3])}function pp(e,t,n,r,s,i){return t=No(No(t,e),No(r,i)),No(t<<s|t>>>32-s,n)}function _r(e,t,n,r,s,i,a){return pp(t&n|~t&r,e,t,s,i,a)}function Nr(e,t,n,r,s,i,a){return pp(t&r|n&~r,e,t,s,i,a)}function Sr(e,t,n,r,s,i,a){return pp(t^n^r,e,t,s,i,a)}function jr(e,t,n,r,s,i,a){return pp(n^(t|~r),e,t,s,i,a)}function bw(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_m(r,y6(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(_m(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,_m(r,s),r}function y6(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}md=xt.atob.bind(xt),Wg=xt.btoa.bind(xt);var _2="0123456789abcdef".split("");function b6(e){for(var t="",n=0;n<4;n++)t+=_2[e>>8*n+4&15]+_2[e>>8*n&15];return t}function w6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Hg(e){return bw(e).map(w6).join("")}var x6=function(e){for(var t=0;t<e.length;t++)e[t]=b6(e[t]);return e.join("")}(bw("hello"))!="5d41402abc4b2a76b9719d911017c592";function No(e,t){if(x6){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Vg(e,t){var n,r,s,i;if(e!==n){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var h=0;for(l=0;l<256;l++){var p=o[l];h=(h+p+a.charCodeAt(l))%256,o[l]=o[h],o[h]=p}n=e,r=o}else o=r;var m=t.length,b=0,v=0,k="";for(l=0;l<m;l++)v=(v+(p=o[b=(b+1)%256]))%256,o[b]=o[v],o[v]=p,a=o[(o[b]+o[v])%256],k+=String.fromCharCode(t.charCodeAt(l)^a);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var N2={print:4,modify:8,copy:16,"annot-forms":32};function Ec(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(N2.perm!==void 0)throw new Error("Invalid permission: "+o);s+=N2[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Hg(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Vg(this.encryptionKey,this.padding)}function Pc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function S2(e){if(Jt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var a=t[n][i];try{a[0].apply(e,r)}catch(o){xt.console&&tn.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ff(e){if(!(this instanceof Ff))return new Ff(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function ww(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Al(e,t,n,r,s){if(!(this instanceof Al))return new Al(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,ww.call(this,r,s)}function $c(e,t,n,r,s){if(!(this instanceof $c))return new $c(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,ww.call(this,r,s)}function yt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,l=16,h="S",p=null;Jt(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),h=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,b={},v={internal:{},__private__:{}};v.__private__.PubSub=S2;var k="1.3",A=v.__private__.getPdfVersion=function(){return k};v.__private__.setPdfVersion=function(g){k=g};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return L};var x=v.__private__.getPageFormat=function(g){return L[g]};s=s||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},_=N.COMPAT;function C(){this.saveGraphicsState(),te(new st(ke,0,0,-ke,0,mr()*ke).toString()+" cm"),this.setFontSize(this.getFontSize()/ke),h="n",_=N.ADVANCED}function q(){this.restoreGraphicsState(),h="S",_=N.COMPAT}var G=v.__private__.combineFontStyleAndFontWeight=function(g,I){if(g=="bold"&&I=="normal"||g=="bold"&&I==400||g=="normal"&&I=="italic"||g=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(g=I==400||I==="normal"?g==="italic"?"italic":"normal":I!=700&&I!=="bold"||g!=="normal"?(I==700?"bold":I)+""+g:"bold"),g};v.advancedAPI=function(g){var I=_===N.COMPAT;return I&&C.call(this),typeof g!="function"||(g(this),I&&q.call(this)),this},v.compatAPI=function(g){var I=_===N.ADVANCED;return I&&q.call(this),typeof g!="function"||(g(this),I&&C.call(this)),this},v.isAdvancedAPI=function(){return _===N.ADVANCED};var H,$=function(g){if(_!==N.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=v.roundToPrecision=v.__private__.roundToPrecision=function(g,I){var re=t||I;if(isNaN(g)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(re).replace(/0+$/,"")};H=v.hpf=v.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(g,16)};var Z=v.f2=v.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return ie(g,2)},O=v.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return ie(g,3)},U=v.scale=v.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return _===N.COMPAT?g*ke:_===N.ADVANCED?g:void 0},ee=function(g){return _===N.COMPAT?mr()-g:_===N.ADVANCED?g:void 0},V=function(g){return U(ee(g))};v.__private__.setPrecision=v.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(t=parseInt(g,10))};var ve,de="00000000000000000000000000000000",be=v.__private__.getFileId=function(){return de},se=v.__private__.setFileId=function(g){return de=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(sn=new Ec(p.userPermissions,p.userPassword,p.ownerPassword,de)),de};v.setFileId=function(g){return se(g),this},v.getFileId=function(){return be()};var ue=v.__private__.convertDateToPDFDate=function(g){var I=g.getTimezoneOffset(),re=I<0?"+":"-",fe=Math.floor(Math.abs(I/60)),we=Math.abs(I%60),Pe=[re,X(fe),"'",X(we),"'"].join("");return["D:",g.getFullYear(),X(g.getMonth()+1),X(g.getDate()),X(g.getHours()),X(g.getMinutes()),X(g.getSeconds()),Pe].join("")},Y=v.__private__.convertPDFDateToDate=function(g){var I=parseInt(g.substr(2,4),10),re=parseInt(g.substr(6,2),10)-1,fe=parseInt(g.substr(8,2),10),we=parseInt(g.substr(10,2),10),Pe=parseInt(g.substr(12,2),10),Re=parseInt(g.substr(14,2),10);return new Date(I,re,fe,we,Pe,Re,0)},K=v.__private__.setCreationDate=function(g){var I;if(g===void 0&&(g=new Date),g instanceof Date)I=ue(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=g}return ve=I},E=v.__private__.getCreationDate=function(g){var I=ve;return g==="jsDate"&&(I=Y(ve)),I};v.setCreationDate=function(g){return K(g),this},v.getCreationDate=function(g){return E(g)};var J,X=v.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},oe=v.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},he=0,ne=[],ce=[],ae=0,me=[],xe=[],Ce=!1,Te=ce,Me=function(){he=0,ae=0,ce=[],ne=[],me=[],hr=xn(),fr=xn()};v.__private__.setCustomOutputDestination=function(g){Ce=!0,Te=g};var _e=function(g){Ce||(Te=g)};v.__private__.resetCustomOutputDestination=function(){Ce=!1,Te=ce};var te=v.__private__.out=function(g){return g=g.toString(),ae+=g.length+1,Te.push(g),Te},$e=v.__private__.write=function(g){return te(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},We=v.__private__.getArrayBuffer=function(g){for(var I=g.length,re=new ArrayBuffer(I),fe=new Uint8Array(re);I--;)fe[I]=g.charCodeAt(I);return re},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Ee};var Fe=e.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(g){return Fe=_===N.ADVANCED?g/ke:g,this};var Ue,qe=v.__private__.getFontSize=v.getFontSize=function(){return _===N.COMPAT?Fe:Fe*ke},et=e.R2L||!1;v.__private__.setR2L=v.setR2L=function(g){return et=g,this},v.__private__.getR2L=v.getR2L=function(){return et};var ft,gt=v.__private__.setZoomMode=function(g){var I=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ue=g;else if(isNaN(g)){if(I.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ue=g}else Ue=parseInt(g,10)};v.__private__.getZoomMode=function(){return Ue};var lt,Se=v.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');ft=g};v.__private__.getPageMode=function(){return ft};var Be=v.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');lt=g};v.__private__.getLayoutMode=function(){return lt},v.__private__.setDisplayMode=v.setDisplayMode=function(g,I,re){return gt(g),Be(I),Se(re),this};var De={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(g){if(Object.keys(De).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return De[g]},v.__private__.getDocumentProperties=function(){return De},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(g){for(var I in De)De.hasOwnProperty(I)&&g[I]&&(De[I]=g[I]);return this},v.__private__.setDocumentProperty=function(g,I){if(Object.keys(De).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return De[g]=I};var Je,ke,Rt,_t,On,St={},Et={},Yt=[],kt={},Rn={},qt={},Ye={},Nt=null,ht=0,Ze=[],jt=new S2(v),Fn=e.hotfixes||[],Ht={},Pr={},Hr=[],st=function g(I,re,fe,we,Pe,Re){if(!(this instanceof g))return new g(I,re,fe,we,Pe,Re);isNaN(I)&&(I=1),isNaN(re)&&(re=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(Pe)&&(Pe=0),isNaN(Re)&&(Re=0),this._matrix=[I,re,fe,we,Pe,Re]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(g)},st.prototype.multiply=function(g){var I=g.sx*this.sx+g.shy*this.shx,re=g.sx*this.shy+g.shy*this.sy,fe=g.shx*this.sx+g.sy*this.shx,we=g.shx*this.shy+g.sy*this.sy,Pe=g.tx*this.sx+g.ty*this.shx+this.tx,Re=g.tx*this.shy+g.ty*this.sy+this.ty;return new st(I,re,fe,we,Pe,Re)},st.prototype.decompose=function(){var g=this.sx,I=this.shy,re=this.shx,fe=this.sy,we=this.tx,Pe=this.ty,Re=Math.sqrt(g*g+I*I),Xe=(g/=Re)*re+(I/=Re)*fe;re-=g*Xe,fe-=I*Xe;var it=Math.sqrt(re*re+fe*fe);return Xe/=it,g*(fe/=it)<I*(re/=it)&&(g=-g,I=-I,Xe=-Xe,Re=-Re),{scale:new st(Re,0,0,it,0,0),translate:new st(1,0,0,1,we,Pe),rotate:new st(g,I,-I,g,0,0),skew:new st(1,0,Xe,1,0,0)}},st.prototype.toString=function(g){return this.join(" ")},st.prototype.inversed=function(){var g=this.sx,I=this.shy,re=this.shx,fe=this.sy,we=this.tx,Pe=this.ty,Re=1/(g*fe-I*re),Xe=fe*Re,it=-I*Re,bt=-re*Re,pt=g*Re;return new st(Xe,it,bt,pt,-Xe*we-bt*Pe,-it*we-pt*Pe)},st.prototype.applyToPoint=function(g){var I=g.x*this.sx+g.y*this.shx+this.tx,re=g.x*this.shy+g.y*this.sy+this.ty;return new ta(I,re)},st.prototype.applyToRectangle=function(g){var I=this.applyToPoint(g),re=this.applyToPoint(new ta(g.x+g.w,g.y+g.h));return new Da(I.x,I.y,re.x-I.x,re.y-I.y)},st.prototype.clone=function(){var g=this.sx,I=this.shy,re=this.shx,fe=this.sy,we=this.tx,Pe=this.ty;return new st(g,I,re,fe,we,Pe)},v.Matrix=st;var tr=v.matrixMult=function(g,I){return I.multiply(g)},Ls=new st(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Ls;var dr=function(g,I){if(!Rn[g]){var re=(I instanceof Al?"Sh":"P")+(Object.keys(kt).length+1).toString(10);I.id=re,Rn[g]=re,kt[re]=I,jt.publish("addPattern",I)}};v.ShadingPattern=Al,v.TilingPattern=$c,v.addShadingPattern=function(g,I){return $("addShadingPattern()"),dr(g,I),this},v.beginTilingPattern=function(g){$("beginTilingPattern()"),ec(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},v.endTilingPattern=function(g,I){$("endTilingPattern()"),I.stream=xe[J].join(`
`),dr(g,I),jt.publish("endTilingPattern",I),Hr.pop().restore()};var kn=v.__private__.newObject=function(){var g=xn();return Cr(g,!0),g},xn=v.__private__.newObjectDeferred=function(){return he++,ne[he]=function(){return ae},he},Cr=function(g,I){return I=typeof I=="boolean"&&I,ne[g]=ae,I&&te(g+" 0 obj"),g},yi=v.__private__.newAdditionalObject=function(){var g={objId:xn(),content:""};return me.push(g),g},hr=xn(),fr=xn(),cs=v.__private__.decodeColorString=function(g){var I=g.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length===5&&(I[4]==="k"||I[4]==="K")&&(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var re=parseFloat(I[0]);I=[re,re,re,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(I[we])).toString(16)).slice(-2);return fe},Tr=v.__private__.encodeColorString=function(g){var I;typeof g=="string"&&(g={ch1:g});var re=g.ch1,fe=g.ch2,we=g.ch3,Pe=g.ch4,Re=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var Xe=new yw(re);if(Xe.ok)re=Xe.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var it=parseInt(re.substr(1),16);re=it>>16&255,fe=it>>8&255,we=255&it}if(fe===void 0||Pe===void 0&&re===fe&&fe===we)if(typeof re=="string")I=re+" "+Re[0];else switch(g.precision){case 2:I=Z(re/255)+" "+Re[0];break;case 3:default:I=O(re/255)+" "+Re[0]}else if(Pe===void 0||Jt(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return I=["1.","1.","1.",Re[1]].join(" ");if(typeof re=="string")I=[re,fe,we,Re[1]].join(" ");else switch(g.precision){case 2:I=[Z(re/255),Z(fe/255),Z(we/255),Re[1]].join(" ");break;default:case 3:I=[O(re/255),O(fe/255),O(we/255),Re[1]].join(" ")}}else if(typeof re=="string")I=[re,fe,we,Pe,Re[2]].join(" ");else switch(g.precision){case 2:I=[Z(re),Z(fe),Z(we),Z(Pe),Re[2]].join(" ");break;case 3:default:I=[O(re),O(fe),O(we),O(Pe),Re[2]].join(" ")}return I},Es=v.__private__.getFilters=function(){return a},Vr=v.__private__.putStream=function(g){var I=(g=g||{}).data||"",re=g.filters||Es(),fe=g.alreadyAppliedFilters||[],we=g.addLength1||!1,Pe=I.length,Re=g.objectId,Xe=function(Jn){return Jn};if(p!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Xe=sn.encryptor(Re,0));var it={};re===!0&&(re=["FlateEncode"]);var bt=g.additionalKeyValues||[],pt=(it=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(I,re):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(it.data.length!==0&&(bt.push({key:"Length",value:it.data.length}),we===!0&&bt.push({key:"Length1",value:Pe})),pt.length!=0)if(pt.split("/").length-1==1)bt.push({key:"Filter",value:pt});else{bt.push({key:"Filter",value:"["+pt+"]"});for(var Dt=0;Dt<bt.length;Dt+=1)if(bt[Dt].key==="DecodeParms"){for(var Qt=[],dn=0;dn<it.reverseChain.split("/").length-1;dn+=1)Qt.push("null");Qt.push(bt[Dt].value),bt[Dt].value="["+Qt.join(" ")+"]"}}te("<<");for(var Nn=0;Nn<bt.length;Nn++)te("/"+bt[Nn].key+" "+bt[Nn].value);te(">>"),it.data.length!==0&&(te("stream"),te(Xe(it.data)),te("endstream"))},nr=v.__private__.putPage=function(g){var I=g.number,re=g.data,fe=g.objId,we=g.contentsObjId;Cr(fe,!0),te("<</Type /Page"),te("/Parent "+g.rootDictionaryObjId+" 0 R"),te("/Resources "+g.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(H(g.mediaBox.bottomLeftX))+" "+parseFloat(H(g.mediaBox.bottomLeftY))+" "+H(g.mediaBox.topRightX)+" "+H(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&te("/CropBox ["+H(g.cropBox.bottomLeftX)+" "+H(g.cropBox.bottomLeftY)+" "+H(g.cropBox.topRightX)+" "+H(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&te("/BleedBox ["+H(g.bleedBox.bottomLeftX)+" "+H(g.bleedBox.bottomLeftY)+" "+H(g.bleedBox.topRightX)+" "+H(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&te("/TrimBox ["+H(g.trimBox.bottomLeftX)+" "+H(g.trimBox.bottomLeftY)+" "+H(g.trimBox.topRightX)+" "+H(g.trimBox.topRightY)+"]"),g.artBox!==null&&te("/ArtBox ["+H(g.artBox.bottomLeftX)+" "+H(g.artBox.bottomLeftY)+" "+H(g.artBox.topRightX)+" "+H(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&te("/UserUnit "+g.userUnit),jt.publish("putPage",{objId:fe,pageContext:Ze[I],pageNumber:I,page:re}),te("/Contents "+we+" 0 R"),te(">>"),te("endobj");var Pe=re.join(`
`);return _===N.ADVANCED&&(Pe+=`
Q`),Cr(we,!0),Vr({data:Pe,filters:Es(),objectId:we}),te("endobj"),fe},pn=v.__private__.putPages=function(){var g,I,re=[];for(g=1;g<=ht;g++)Ze[g].objId=xn(),Ze[g].contentsObjId=xn();for(g=1;g<=ht;g++)re.push(nr({number:g,data:xe[g],objId:Ze[g].objId,contentsObjId:Ze[g].contentsObjId,mediaBox:Ze[g].mediaBox,cropBox:Ze[g].cropBox,bleedBox:Ze[g].bleedBox,trimBox:Ze[g].trimBox,artBox:Ze[g].artBox,userUnit:Ze[g].userUnit,rootDictionaryObjId:hr,resourceDictionaryObjId:fr}));Cr(hr,!0),te("<</Type /Pages");var fe="/Kids [";for(I=0;I<ht;I++)fe+=re[I]+" 0 R ";te(fe+"]"),te("/Count "+ht),te(">>"),te("endobj"),jt.publish("postPutPages")},Mn=function(g){jt.publish("putFont",{font:g,out:te,newObject:kn,putStream:Vr}),g.isAlreadyPutted!==!0&&(g.objectNumber=kn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Pc(g.postScriptName)),te("/Subtype /Type1"),typeof g.encoding=="string"&&te("/Encoding /"+g.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Dn=function(){for(var g in St)St.hasOwnProperty(g)&&(m===!1||m===!0&&b.hasOwnProperty(g))&&Mn(St[g])},_n=function(g){g.objectNumber=kn();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[H(g.x),H(g.y),H(g.x+g.width),H(g.y+g.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var re=g.pages[1].join(`
`);Vr({data:re,additionalKeyValues:I,objectId:g.objectNumber}),te("endobj")},zs=function(){for(var g in Ht)Ht.hasOwnProperty(g)&&_n(Ht[g])},qs=function(g,I){var re,fe=[],we=1/(I-1);for(re=0;re<1;re+=we)fe.push(re);if(fe.push(1),g[0].offset!=0){var Pe={offset:0,color:g[0].color};g.unshift(Pe)}if(g[g.length-1].offset!=1){var Re={offset:1,color:g[g.length-1].color};g.push(Re)}for(var Xe="",it=0,bt=0;bt<fe.length;bt++){for(re=fe[bt];re>g[it+1].offset;)it++;var pt=g[it].offset,Dt=(re-pt)/(g[it+1].offset-pt),Qt=g[it].color,dn=g[it+1].color;Xe+=oe(Math.round((1-Dt)*Qt[0]+Dt*dn[0]).toString(16))+oe(Math.round((1-Dt)*Qt[1]+Dt*dn[1]).toString(16))+oe(Math.round((1-Dt)*Qt[2]+Dt*dn[2]).toString(16))}return Xe.trim()},$s=function(g,I){I||(I=21);var re=kn(),fe=qs(g.colors,I),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+I+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vr({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),te("endobj"),g.objectNumber=kn(),te("<< /ShadingType "+g.type),te("/ColorSpace /DeviceRGB");var Pe="/Coords ["+H(parseFloat(g.coords[0]))+" "+H(parseFloat(g.coords[1]))+" ";g.type===2?Pe+=H(parseFloat(g.coords[2]))+" "+H(parseFloat(g.coords[3])):Pe+=H(parseFloat(g.coords[2]))+" "+H(parseFloat(g.coords[3]))+" "+H(parseFloat(g.coords[4]))+" "+H(parseFloat(g.coords[5])),te(Pe+="]"),g.matrix&&te("/Matrix ["+g.matrix.toString()+"]"),te("/Function "+re+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},bi=function(g,I){var re=xn(),fe=kn();I.push({resourcesOid:re,objectOid:fe}),g.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+g.boundingBox.map(H).join(" ")+"]"}),we.push({key:"XStep",value:H(g.xStep)}),we.push({key:"YStep",value:H(g.yStep)}),we.push({key:"Resources",value:re+" 0 R"}),g.matrix&&we.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Vr({data:g.stream,additionalKeyValues:we,objectId:g.objectNumber}),te("endobj")},Gi=function(g){var I;for(I in kt)kt.hasOwnProperty(I)&&(kt[I]instanceof Al?$s(kt[I]):kt[I]instanceof $c&&bi(kt[I],g))},ka=function(g){for(var I in g.objectNumber=kn(),te("<<"),g)switch(I){case"opacity":te("/ca "+Z(g[I]));break;case"stroke-opacity":te("/CA "+Z(g[I]))}te(">>"),te("endobj")},wi=function(){var g;for(g in qt)qt.hasOwnProperty(g)&&ka(qt[g])},Aa=function(){for(var g in te("/XObject <<"),Ht)Ht.hasOwnProperty(g)&&Ht[g].objectNumber>=0&&te("/"+g+" "+Ht[g].objectNumber+" 0 R");jt.publish("putXobjectDict"),te(">>")},qo=function(){sn.oid=kn(),te("<<"),te("/Filter /Standard"),te("/V "+sn.v),te("/R "+sn.r),te("/U <"+sn.toHexString(sn.U)+">"),te("/O <"+sn.toHexString(sn.O)+">"),te("/P "+sn.P),te(">>"),te("endobj")},La=function(){for(var g in te("/Font <<"),St)St.hasOwnProperty(g)&&(m===!1||m===!0&&b.hasOwnProperty(g))&&te("/"+g+" "+St[g].objectNumber+" 0 R");te(">>")},Vl=function(){if(Object.keys(kt).length>0){for(var g in te("/Shading <<"),kt)kt.hasOwnProperty(g)&&kt[g]instanceof Al&&kt[g].objectNumber>=0&&te("/"+g+" "+kt[g].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),te(">>")}},Ji=function(g){if(Object.keys(kt).length>0){for(var I in te("/Pattern <<"),kt)kt.hasOwnProperty(I)&&kt[I]instanceof v.TilingPattern&&kt[I].objectNumber>=0&&kt[I].objectNumber<g&&te("/"+I+" "+kt[I].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),te(">>")}},Gl=function(){if(Object.keys(qt).length>0){var g;for(g in te("/ExtGState <<"),qt)qt.hasOwnProperty(g)&&qt[g].objectNumber>=0&&te("/"+g+" "+qt[g].objectNumber+" 0 R");jt.publish("putGStateDict"),te(">>")}},un=function(g){Cr(g.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),La(),Vl(),Ji(g.objectOid),Gl(),Aa(),te(">>"),te("endobj")},$o=function(){var g=[];Dn(),wi(),zs(),Gi(g),jt.publish("putResources"),g.forEach(un),un({resourcesOid:fr,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Wo=function(){jt.publish("putAdditionalObjects");for(var g=0;g<me.length;g++){var I=me[g];Cr(I.objId,!0),te(I.content),te("endobj")}jt.publish("postPutAdditionalObjects")},Ho=function(g){Et[g.fontName]=Et[g.fontName]||{},Et[g.fontName][g.fontStyle]=g.id},Ea=function(g,I,re,fe,we){var Pe={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:g,fontName:I,fontStyle:re,encoding:fe,isStandardFont:we||!1,metadata:{}};return jt.publish("addFont",{font:Pe,instance:this}),St[Pe.id]=Pe,Ho(Pe),Pe.id},Jl=function(g){for(var I=0,re=Ee.length;I<re;I++){var fe=Ea.call(this,g[I][0],g[I][1],g[I][2],Ee[I][3],!0);m===!1&&(b[fe]=!0);var we=g[I][0].split("-");Ho({id:fe,fontName:we[0],fontStyle:we[1]||""})}jt.publish("addFonts",{fonts:St,dictionary:Et})},Gr=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(fe){var I=fe.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var re="Error in function "+I.split(`
`)[0].split("<")[0]+": "+fe.message;if(!xt.console)throw new Error(re);xt.console.error(re,fe),xt.alert&&alert(re)}},g.foo.bar=g,g.foo},rr=function(g,I){var re,fe,we,Pe,Re,Xe,it,bt,pt;if(we=(I=I||{}).sourceEncoding||"Unicode",Re=I.outputEncoding,(I.autoencode||Re)&&St[Je].metadata&&St[Je].metadata[we]&&St[Je].metadata[we].encoding&&(Pe=St[Je].metadata[we].encoding,!Re&&St[Je].encoding&&(Re=St[Je].encoding),!Re&&Pe.codePages&&(Re=Pe.codePages[0]),typeof Re=="string"&&(Re=Pe[Re]),Re)){for(it=!1,Xe=[],re=0,fe=g.length;re<fe;re++)(bt=Re[g.charCodeAt(re)])?Xe.push(String.fromCharCode(bt)):Xe.push(g[re]),Xe[re].charCodeAt(0)>>8&&(it=!0);g=Xe.join("")}for(re=g.length;it===void 0&&re!==0;)g.charCodeAt(re-1)>>8&&(it=!0),re--;if(!it)return g;for(Xe=I.noBOM?[]:[254,255],re=0,fe=g.length;re<fe;re++){if((pt=(bt=g.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xe.push(pt),Xe.push(bt-(pt<<8))}return String.fromCharCode.apply(void 0,Xe)},Xt=v.__private__.pdfEscape=v.pdfEscape=function(g,I){return rr(g,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},us=v.__private__.beginPage=function(g){xe[++ht]=[],Ze[ht]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Pa(ht),_e(xe[J])},sr=function(g,I){var re,fe,we;switch(n=I||n,typeof g=="string"&&(re=x(g.toLowerCase()),Array.isArray(re)&&(fe=re[0],we=re[1])),Array.isArray(g)&&(fe=g[0]*ke,we=g[1]*ke),isNaN(fe)&&(fe=s[0],we=s[1]),(fe>14400||we>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),s=[fe,we],n.substr(0,1)){case"l":we>fe&&(s=[we,fe]);break;case"p":fe>we&&(s=[we,fe])}us(s),Oa(Zi),te(Kr),Ma!==0&&te(Ma+" J"),nl!==0&&te(nl+" j"),jt.publish("addPage",{pageNumber:ht})},Vo=function(g){g>0&&g<=ht&&(xe.splice(g,1),Ze.splice(g,1),ht--,J>ht&&(J=ht),this.setPage(J))},Pa=function(g){g>0&&g<=ht&&(J=g)},Jr=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return xe.length-1},Ps=function(g,I,re){var fe,we=void 0;return re=re||{},g=g!==void 0?g:St[Je].fontName,I=I!==void 0?I:St[Je].fontStyle,fe=g.toLowerCase(),Et[fe]!==void 0&&Et[fe][I]!==void 0?we=Et[fe][I]:Et[g]!==void 0&&Et[g][I]!==void 0?we=Et[g][I]:re.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+g+"', '"+I+"'. Refer to getFontList() for available fonts."),we||re.noFallback||(we=Et.times[I])==null&&(we=Et.times.normal),we},Ca=v.__private__.putInfo=function(){var g=kn(),I=function(fe){return fe};for(var re in p!==null&&(I=sn.encryptor(g,0)),te("<<"),te("/Producer ("+Xt(I("jsPDF "+yt.version))+")"),De)De.hasOwnProperty(re)&&De[re]&&te("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Xt(I(De[re]))+")");te("/CreationDate ("+Xt(I(ve))+")"),te(">>"),te("endobj")},Cs=v.__private__.putCatalog=function(g){var I=(g=g||{}).rootDictionaryObjId||hr;switch(kn(),te("<<"),te("/Type /Catalog"),te("/Pages "+I+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Ue;re.substr(re.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&te("/OpenAction [3 0 R /XYZ null null "+Z(Ue)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ft&&te("/PageMode /"+ft),jt.publish("putCatalog"),te(">>"),te("endobj")},Go=v.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(he+1)),te("/Root "+he+" 0 R"),te("/Info "+(he-1)+" 0 R"),p!==null&&te("/Encrypt "+sn.oid+" 0 R"),te("/ID [ <"+de+"> <"+de+"> ]"),te(">>")},Kl=v.__private__.putHeader=function(){te("%PDF-"+k),te("%")},xi=v.__private__.putXRef=function(){var g="0000000000";te("xref"),te("0 "+(he+1)),te("0000000000 65535 f ");for(var I=1;I<=he;I++)typeof ne[I]=="function"?te((g+ne[I]()).slice(-10)+" 00000 n "):ne[I]!==void 0?te((g+ne[I]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},ds=v.__private__.buildDocument=function(){Me(),_e(ce),jt.publish("buildDocument"),Kl(),pn(),Wo(),$o(),p!==null&&qo(),Ca(),Cs();var g=ae;return xi(),Go(),te("startxref"),te(""+g),te("%%EOF"),_e(xe[J]),ce.join(`
`)},Ki=v.__private__.getBlob=function(g){return new Blob([We(g)],{type:"application/pdf"})},pr=v.output=v.__private__.output=Gr(function(g,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",g){case void 0:return ds();case"save":v.save(I.filename);break;case"arraybuffer":return We(ds());case"blob":return Ki(ds());case"bloburi":case"bloburl":if(xt.URL!==void 0&&typeof xt.URL.createObjectURL=="function")return xt.URL&&xt.URL.createObjectURL(Ki(ds()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",fe=ds();try{re=Wg(fe)}catch{re=Wg(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+I.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(we=I.pdfObjectUrl,Pe="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",Xe=xt.open();return Xe!==null&&Xe.document.write(Re),Xe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',bt=xt.open();if(bt!==null){bt.document.write(it);var pt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=I.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',Qt=xt.open();if(Qt!==null&&(Qt.document.write(Dt),Qt.document.title=I.filename),Qt||typeof safari>"u")return Qt;break;case"datauri":case"dataurl":return xt.document.location.href=this.output("datauristring",I);default:return null}}),Yl=function(g){return Array.isArray(Fn)===!0&&Fn.indexOf(g)>-1};switch(r){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=Yl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ke=r}var sn=null;K(),se();var Ta=function(g){return p!==null?sn.encryptor(g,0):function(I){return I}},Jo=v.__private__.getPageInfo=v.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ze[g].objId,pageNumber:g,pageContext:Ze[g]}},vt=v.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Ze)if(Ze[I].objId===g)break;return Jo(I)},Ko=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Ze[J].objId,pageNumber:J,pageContext:Ze[J]}};v.addPage=function(){return sr.apply(this,arguments),this},v.setPage=function(){return Pa.apply(this,arguments),_e.call(this,xe[J]),this},v.insertPage=function(g){return this.addPage(),this.movePage(J,g),this},v.movePage=function(g,I){var re,fe;if(g>I){re=xe[g],fe=Ze[g];for(var we=g;we>I;we--)xe[we]=xe[we-1],Ze[we]=Ze[we-1];xe[I]=re,Ze[I]=fe,this.setPage(I)}else if(g<I){re=xe[g],fe=Ze[g];for(var Pe=g;Pe<I;Pe++)xe[Pe]=xe[Pe+1],Ze[Pe]=Ze[Pe+1];xe[I]=re,Ze[I]=fe,this.setPage(I)}return this},v.deletePage=function(){return Vo.apply(this,arguments),this},v.__private__.text=v.text=function(g,I,re,fe,we){var Pe,Re,Xe,it,bt,pt,Dt,Qt,dn,Nn=(fe=fe||{}).scope||this;if(typeof g=="number"&&typeof I=="number"&&(typeof re=="string"||Array.isArray(re))){var Jn=re;re=I,I=g,g=Jn}if(arguments[3]instanceof st?($("The transform parameter of text() with a Matrix value"),dn=we):(Xe=arguments[4],it=arguments[5],Jt(Dt=arguments[3])==="object"&&Dt!==null||(typeof Xe=="string"&&(it=Xe,Xe=null),typeof Dt=="string"&&(it=Dt,Dt=null),typeof Dt=="number"&&(Xe=Dt,Dt=null),fe={flags:Dt,angle:Xe,align:it})),isNaN(I)||isNaN(re)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Nn;var Bn="",gs=!1,Ir=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:_i,Is=Nn.internal.scaleFactor;function tc(Zt){return Zt=Zt.split("	").join(Array(fe.TabLen||9).join(" ")),Xt(Zt,Dt)}function ir(Zt){for(var Vt,hn=Zt.concat(),Ln=[],Qs=hn.length;Qs--;)typeof(Vt=hn.shift())=="string"?Ln.push(Vt):Array.isArray(Zt)&&(Vt.length===1||Vt[1]===void 0&&Vt[2]===void 0)?Ln.push(Vt[0]):Ln.push([Vt[0],Vt[1],Vt[2]]);return Ln}function Ua(Zt,Vt){var hn;if(typeof Zt=="string")hn=Vt(Zt)[0];else if(Array.isArray(Zt)){for(var Ln,Qs,ll=Zt.concat(),Ya=[],rc=ll.length;rc--;)typeof(Ln=ll.shift())=="string"?Ya.push(Vt(Ln)[0]):Array.isArray(Ln)&&typeof Ln[0]=="string"&&(Qs=Vt(Ln[0],Ln[1],Ln[2]),Ya.push([Qs[0],Qs[1],Qs[2]]));hn=Ya}return hn}var ra=!1,za=!0;if(typeof g=="string")ra=!0;else if(Array.isArray(g)){var rl=g.concat();Re=[];for(var qa,Un=rl.length;Un--;)(typeof(qa=rl.shift())!="string"||Array.isArray(qa)&&typeof qa[0]!="string")&&(za=!1);ra=za}if(ra===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Ws=Fe/Nn.internal.scaleFactor,$a=Ws*(Ir-1);switch(fe.baseline){case"bottom":re-=$a;break;case"top":re+=Ws-$a;break;case"hanging":re+=Ws-2*$a;break;case"middle":re+=Ws/2-$a}if((pt=fe.maxWidth||0)>0&&(typeof g=="string"?g=Nn.splitTextToSize(g,pt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Zt,Vt){return Zt.concat(Nn.splitTextToSize(Vt,pt))},[]))),Pe={text:g,x:I,y:re,options:fe,mutex:{pdfEscape:Xt,activeFontKey:Je,fonts:St,activeFontSize:Fe}},jt.publish("preProcessText",Pe),g=Pe.text,Xe=(fe=Pe.options).angle,!(dn instanceof st)&&Xe&&typeof Xe=="number"){Xe*=Math.PI/180,fe.rotationDirection===0&&(Xe=-Xe),_===N.ADVANCED&&(Xe=-Xe);var Wa=Math.cos(Xe),Ha=Math.sin(Xe);dn=new st(Wa,Ha,-Ha,Wa,0,0)}else Xe&&Xe instanceof st&&(dn=Xe);_!==N.ADVANCED||dn||(dn=Ls),(bt=fe.charSpace||ea)!==void 0&&(Bn+=H(U(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qt=fe.horizontalScale)!==void 0&&(Bn+=H(100*Qt)+` Tz
`),fe.lang;var gr=-1,xu=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Va=Nn.internal.getCurrentPageInfo().pageContext;switch(xu){case 0:case!1:case"fill":gr=0;break;case 1:case!0:case"stroke":gr=1;break;case 2:case"fillThenStroke":gr=2;break;case 3:case"invisible":gr=3;break;case 4:case"fillAndAddForClipping":gr=4;break;case 5:case"strokeAndAddPathForClipping":gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gr=6;break;case 7:case"addToPathForClipping":gr=7}var sl=Va.usedRenderingMode!==void 0?Va.usedRenderingMode:-1;gr!==-1?Bn+=gr+` Tr
`:sl!==-1&&(Bn+=`0 Tr
`),gr!==-1&&(Va.usedRenderingMode=gr),it=fe.align||"left";var Or,Hs=Fe*Ir,il=Nn.internal.pageSize.getWidth(),Ga=St[Je];bt=fe.charSpace||ea,pt=fe.maxWidth||0,Dt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var An=[],sa=function(Zt){return Nn.getStringUnitWidth(Zt,{font:Ga,charSpace:bt,fontSize:Fe,doKerning:!1})*Fe/Is};if(Object.prototype.toString.call(g)==="[object Array]"){var vr;Re=ir(g),it!=="left"&&(Or=Re.map(sa));var Kn,Vs=0;if(it==="right"){I-=Or[0],g=[],Un=Re.length;for(var Gs=0;Gs<Un;Gs++)Gs===0?(Kn=ms(I),vr=Ts(re)):(Kn=U(Vs-Or[Gs]),vr=-Hs),g.push([Re[Gs],Kn,vr]),Vs=Or[Gs]}else if(it==="center"){I-=Or[0]/2,g=[],Un=Re.length;for(var Js=0;Js<Un;Js++)Js===0?(Kn=ms(I),vr=Ts(re)):(Kn=U((Vs-Or[Js])/2),vr=-Hs),g.push([Re[Js],Kn,vr]),Vs=Or[Js]}else if(it==="left"){g=[],Un=Re.length;for(var Ja=0;Ja<Un;Ja++)g.push(Re[Ja])}else if(it==="justify"&&Ga.encoding==="Identity-H"){g=[],Un=Re.length,pt=pt!==0?pt:il;for(var Ks=0,mn=0;mn<Un;mn++)if(vr=mn===0?Ts(re):-Hs,Kn=mn===0?ms(I):Ks,mn<Un-1){var al=U((pt-Or[mn])/(Re[mn].split(" ").length-1)),Yn=Re[mn].split(" ");g.push([Yn[0]+" ",Kn,vr]),Ks=0;for(var Rr=1;Rr<Yn.length;Rr++){var Ci=(sa(Yn[Rr-1]+" "+Yn[Rr])-sa(Yn[Rr]))*Is+al;Rr==Yn.length-1?g.push([Yn[Rr],Ci,0]):g.push([Yn[Rr]+" ",Ci,0]),Ks-=Ci}}else g.push([Re[mn],Kn,vr]);g.push(["",Ks,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Un=Re.length,pt=pt!==0?pt:il,mn=0;mn<Un;mn++)vr=mn===0?Ts(re):-Hs,Kn=mn===0?ms(I):0,mn<Un-1?An.push(H(U((pt-Or[mn])/(Re[mn].split(" ").length-1)))):An.push(0),g.push([Re[mn],Kn,vr])}}var nc=typeof fe.R2L=="boolean"?fe.R2L:et;nc===!0&&(g=Ua(g,function(Zt,Vt,hn){return[Zt.split("").reverse().join(""),Vt,hn]})),Pe={text:g,x:I,y:re,options:fe,mutex:{pdfEscape:Xt,activeFontKey:Je,fonts:St,activeFontSize:Fe}},jt.publish("postProcessText",Pe),g=Pe.text,gs=Pe.mutex.isHex||!1;var ol=St[Je].encoding;ol!=="WinAnsiEncoding"&&ol!=="StandardEncoding"||(g=Ua(g,function(Zt,Vt,hn){return[tc(Zt),Vt,hn]})),Re=ir(g),g=[];for(var Fr,ar,Ys,ia=0,aa=1,Ti=Array.isArray(Re[0])?aa:ia,Xs="",Ka=function(Zt,Vt,hn){var Ln="";return hn instanceof st?(hn=typeof fe.angle=="number"?tr(hn,new st(1,0,0,1,Zt,Vt)):tr(new st(1,0,0,1,Zt,Vt),hn),_===N.ADVANCED&&(hn=tr(new st(1,0,0,-1,0,0),hn)),Ln=hn.join(" ")+` Tm
`):Ln=H(Zt)+" "+H(Vt)+` Td
`,Ln},Yr=0;Yr<Re.length;Yr++){switch(Xs="",Ti){case aa:Ys=(gs?"<":"(")+Re[Yr][0]+(gs?">":")"),Fr=parseFloat(Re[Yr][1]),ar=parseFloat(Re[Yr][2]);break;case ia:Ys=(gs?"<":"(")+Re[Yr]+(gs?">":")"),Fr=ms(I),ar=Ts(re)}An!==void 0&&An[Yr]!==void 0&&(Xs=An[Yr]+` Tw
`),Yr===0?g.push(Xs+Ka(Fr,ar,dn)+Ys):Ti===ia?g.push(Xs+Ys):Ti===aa&&g.push(Xs+Ka(Fr,ar,dn)+Ys)}g=Ti===ia?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Xr=`BT
/`;return Xr+=Je+" "+Fe+` Tf
`,Xr+=H(Fe*Ir)+` TL
`,Xr+=Ai+`
`,Xr+=Bn,Xr+=g,te(Xr+="ET"),b[Je]=!0,Nn};var Yi=v.__private__.clip=v.clip=function(g){return te(g==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Yi("evenodd")},v.__private__.discardPath=v.discardPath=function(){return te("n"),this};var hs=v.__private__.isValidStyle=function(g){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(I=!0),I};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(g){return hs(g)&&(h=g),this};var Yo=v.__private__.getStyle=v.getStyle=function(g){var I=h;switch(g){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=g}return I},Xo=v.close=function(){return te("h"),this};v.stroke=function(){return te("S"),this},v.fill=function(g){return fs("f",g),this},v.fillEvenOdd=function(g){return fs("f*",g),this},v.fillStroke=function(g){return fs("B",g),this},v.fillStrokeEvenOdd=function(g){return fs("B*",g),this};var fs=function(g,I){Jt(I)==="object"?Zo(I,g):te(g)},Qo=function(g){g===null||_===N.ADVANCED&&g===void 0||(g=Yo(g),te(g))};function Xl(g,I,re,fe,we){var Pe=new $c(I||this.boundingBox,re||this.xStep,fe||this.yStep,this.gState,we||this.matrix);Pe.stream=this.stream;var Re=g+"$$"+this.cloneIndex+++"$$";return dr(Re,Pe),Pe}var Zo=function(g,I){var re=Rn[g.key],fe=kt[re];if(fe instanceof Al)te("q"),te(Ia(I)),fe.gState&&v.setGState(fe.gState),te(g.matrix.toString()+" cm"),te("/"+re+" sh"),te("Q");else if(fe instanceof $c){var we=new st(1,0,0,-1,0,mr());g.matrix&&(we=we.multiply(g.matrix||Ls),re=Xl.call(fe,g.key,g.boundingBox,g.xStep,g.yStep,we).id),te("q"),te("/Pattern cs"),te("/"+re+" scn"),fe.gState&&v.setGState(fe.gState),te(I),te("Q")}},Ia=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xi=v.moveTo=function(g,I){return te(H(U(g))+" "+H(V(I))+" m"),this},Qi=v.lineTo=function(g,I){return te(H(U(g))+" "+H(V(I))+" l"),this},ps=v.curveTo=function(g,I,re,fe,we,Pe){return te([H(U(g)),H(V(I)),H(U(re)),H(V(fe)),H(U(we)),H(V(Pe)),"c"].join(" ")),this};v.__private__.line=v.line=function(g,I,re,fe,we){if(isNaN(g)||isNaN(I)||isNaN(re)||isNaN(fe)||!hs(we))throw new Error("Invalid arguments passed to jsPDF.line");return _===N.COMPAT?this.lines([[re-g,fe-I]],g,I,[1,1],we||"S"):this.lines([[re-g,fe-I]],g,I,[1,1]).stroke()},v.__private__.lines=v.lines=function(g,I,re,fe,we,Pe){var Re,Xe,it,bt,pt,Dt,Qt,dn,Nn,Jn,Bn,gs;if(typeof g=="number"&&(gs=re,re=I,I=g,g=gs),fe=fe||[1,1],Pe=Pe||!1,isNaN(I)||isNaN(re)||!Array.isArray(g)||!Array.isArray(fe)||!hs(we)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xi(I,re),Re=fe[0],Xe=fe[1],bt=g.length,Jn=I,Bn=re,it=0;it<bt;it++)(pt=g[it]).length===2?(Jn=pt[0]*Re+Jn,Bn=pt[1]*Xe+Bn,Qi(Jn,Bn)):(Dt=pt[0]*Re+Jn,Qt=pt[1]*Xe+Bn,dn=pt[2]*Re+Jn,Nn=pt[3]*Xe+Bn,Jn=pt[4]*Re+Jn,Bn=pt[5]*Xe+Bn,ps(Dt,Qt,dn,Nn,Jn,Bn));return Pe&&Xo(),Qo(we),this},v.path=function(g){for(var I=0;I<g.length;I++){var re=g[I],fe=re.c;switch(re.op){case"m":Xi(fe[0],fe[1]);break;case"l":Qi(fe[0],fe[1]);break;case"c":ps.apply(this,fe);break;case"h":Xo()}}return this},v.__private__.rect=v.rect=function(g,I,re,fe,we){if(isNaN(g)||isNaN(I)||isNaN(re)||isNaN(fe)||!hs(we))throw new Error("Invalid arguments passed to jsPDF.rect");return _===N.COMPAT&&(fe=-fe),te([H(U(g)),H(V(I)),H(U(re)),H(U(fe)),"re"].join(" ")),Qo(we),this},v.__private__.triangle=v.triangle=function(g,I,re,fe,we,Pe,Re){if(isNaN(g)||isNaN(I)||isNaN(re)||isNaN(fe)||isNaN(we)||isNaN(Pe)||!hs(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-g,fe-I],[we-re,Pe-fe],[g-we,I-Pe]],g,I,[1,1],Re,!0),this},v.__private__.roundedRect=v.roundedRect=function(g,I,re,fe,we,Pe,Re){if(isNaN(g)||isNaN(I)||isNaN(re)||isNaN(fe)||isNaN(we)||isNaN(Pe)||!hs(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xe=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*re),Pe=Math.min(Pe,.5*fe),this.lines([[re-2*we,0],[we*Xe,0,we,Pe-Pe*Xe,we,Pe],[0,fe-2*Pe],[0,Pe*Xe,-we*Xe,Pe,-we,Pe],[2*we-re,0],[-we*Xe,0,-we,-Pe*Xe,-we,-Pe],[0,2*Pe-fe],[0,-Pe*Xe,we*Xe,-Pe,we,-Pe]],g+we,I,[1,1],Re,!0),this},v.__private__.ellipse=v.ellipse=function(g,I,re,fe,we){if(isNaN(g)||isNaN(I)||isNaN(re)||isNaN(fe)||!hs(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*re,Re=4/3*(Math.SQRT2-1)*fe;return Xi(g+re,I),ps(g+re,I-Re,g+Pe,I-fe,g,I-fe),ps(g-Pe,I-fe,g-re,I-Re,g-re,I),ps(g-re,I+Re,g-Pe,I+fe,g,I+fe),ps(g+Pe,I+fe,g+re,I+Re,g+re,I),Qo(we),this},v.__private__.circle=v.circle=function(g,I,re,fe){if(isNaN(g)||isNaN(I)||isNaN(re)||!hs(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,I,re,re,fe)},v.setFont=function(g,I,re){return re&&(I=G(I,re)),Je=Ps(g,I,{disableWarning:!1}),this};var bu=v.__private__.getFont=v.getFont=function(){return St[Ps.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var g,I,re={};for(g in Et)if(Et.hasOwnProperty(g))for(I in re[g]=[],Et[g])Et[g].hasOwnProperty(I)&&re[g].push(I);return re},v.addFont=function(g,I,re,fe,we){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(re=G(re,fe)),we=we||"Identity-H",Ea.call(this,g,I,re,we)};var _i,Zi=e.lineWidth||.200025,Ni=v.__private__.getLineWidth=v.getLineWidth=function(){return Zi},Oa=v.__private__.setLineWidth=v.setLineWidth=function(g){return Zi=g,te(H(U(g))+" w"),this};v.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(g,I){if(g=g||[],I=I||0,isNaN(I)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(re){return H(U(re))}).join(" "),I=H(U(I)),te("["+g+"] "+I+" d"),this};var el=v.__private__.getLineHeight=v.getLineHeight=function(){return Fe*_i};v.__private__.getLineHeight=v.getLineHeight=function(){return Fe*_i};var Si=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(_i=g),this},Ra=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return _i};Si(e.lineHeight);var ms=v.__private__.getHorizontalCoordinate=function(g){return U(g)},Ts=v.__private__.getVerticalCoordinate=function(g){return _===N.ADVANCED?g:Ze[J].mediaBox.topRightY-Ze[J].mediaBox.bottomLeftY-U(g)},ji=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(g){return H(ms(g))},ki=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(g){return H(Ts(g))},Kr=e.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return cs(Kr)},v.__private__.setStrokeColor=v.setDrawColor=function(g,I,re,fe){return Kr=Tr({ch1:g,ch2:I,ch3:re,ch4:fe,pdfColorType:"draw",precision:2}),te(Kr),this};var Fa=e.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return cs(Fa)},v.__private__.setFillColor=v.setFillColor=function(g,I,re,fe){return Fa=Tr({ch1:g,ch2:I,ch3:re,ch4:fe,pdfColorType:"fill",precision:2}),te(Fa),this};var Ai=e.textColor||"0 g",Ql=v.__private__.getTextColor=v.getTextColor=function(){return cs(Ai)};v.__private__.setTextColor=v.setTextColor=function(g,I,re,fe){return Ai=Tr({ch1:g,ch2:I,ch3:re,ch4:fe,pdfColorType:"text",precision:3}),this};var ea=e.charSpace,tl=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(ea||0)};v.__private__.setCharSpace=v.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ea=g,this};var Ma=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(g){var I=v.CapJoinStyles[g];if(I===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ma=I,te(I+" J"),this};var nl=0;v.__private__.setLineJoin=v.setLineJoin=function(g){var I=v.CapJoinStyles[g];if(I===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nl=I,te(I+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(H(U(g))+" M"),this},v.GState=Ff,v.setGState=function(g){(g=typeof g=="string"?qt[Ye[g]]:Zl(null,g)).equals(Nt)||(te("/"+g.id+" gs"),Nt=g)};var Zl=function(g,I){if(!g||!Ye[g]){var re=!1;for(var fe in qt)if(qt.hasOwnProperty(fe)&&qt[fe].equals(I)){re=!0;break}if(re)I=qt[fe];else{var we="GS"+(Object.keys(qt).length+1).toString(10);qt[we]=I,I.id=we}return g&&(Ye[g]=I.id),jt.publish("addGState",I),I}};v.addGState=function(g,I){return Zl(g,I),this},v.saveGraphicsState=function(){return te("q"),Yt.push({key:Je,size:Fe,color:Ai}),this},v.restoreGraphicsState=function(){te("Q");var g=Yt.pop();return Je=g.key,Fe=g.size,Ai=g.color,Nt=null,this},v.setCurrentTransformationMatrix=function(g){return te(g.toString()+" cm"),this},v.comment=function(g){return te("#"+g),this};var ta=function(g,I){var re=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Pe){isNaN(Pe)||(re=parseFloat(Pe))}});var fe=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=parseFloat(Pe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Pe){we=Pe.toString()}}),this},Da=function(g,I,re,fe){ta.call(this,g,I),this.type="rect";var we=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Re){isNaN(Re)||(we=parseFloat(Re))}});var Pe=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Re){isNaN(Re)||(Pe=parseFloat(Re))}}),this},Li=function(){this.page=ht,this.currentPage=J,this.pages=xe.slice(0),this.pagesContext=Ze.slice(0),this.x=Rt,this.y=_t,this.matrix=On,this.width=Pi(J),this.height=mr(J),this.outputDestination=Te,this.id="",this.objectNumber=-1};Li.prototype.restore=function(){ht=this.page,J=this.currentPage,Ze=this.pagesContext,xe=this.pages,Rt=this.x,_t=this.y,On=this.matrix,Ba(J,this.width),na(J,this.height),Te=this.outputDestination};var ec=function(g,I,re,fe,we){Hr.push(new Li),ht=J=0,xe=[],Rt=g,_t=I,On=we,us([re,fe])},wu=function(g){if(Pr[g])Hr.pop().restore();else{var I=new Li,re="Xo"+(Object.keys(Ht).length+1).toString(10);I.id=re,Pr[g]=re,Ht[re]=I,jt.publish("addFormObject",I),Hr.pop().restore()}};for(var Ei in v.beginFormObject=function(g,I,re,fe,we){return ec(g,I,re,fe,we),this},v.endFormObject=function(g){return wu(g),this},v.doFormObject=function(g,I){var re=Ht[Pr[g]];return te("q"),te(I.toString()+" cm"),te("/"+re.id+" Do"),te("Q"),this},v.getFormObject=function(g){var I=Ht[Pr[g]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},v.save=function(g,I){return g=g||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(jl(Ki(ds()),g),typeof jl.unload=="function"&&xt.setTimeout&&setTimeout(jl.unload,911),this):new Promise(function(re,fe){try{var we=jl(Ki(ds()),g);typeof jl.unload=="function"&&xt.setTimeout&&setTimeout(jl.unload,911),re(we)}catch(Pe){fe(Pe.message)}})},yt.API)yt.API.hasOwnProperty(Ei)&&(Ei==="events"&&yt.API.events.length?function(g,I){var re,fe,we;for(we=I.length-1;we!==-1;we--)re=I[we][0],fe=I[we][1],g.subscribe.apply(g,[re].concat(typeof fe=="function"?[fe]:fe))}(jt,yt.API.events):v[Ei]=yt.API[Ei]);var Pi=v.getPageWidth=function(g){return(Ze[g=g||J].mediaBox.topRightX-Ze[g].mediaBox.bottomLeftX)/ke},Ba=v.setPageWidth=function(g,I){Ze[g].mediaBox.topRightX=I*ke+Ze[g].mediaBox.bottomLeftX},mr=v.getPageHeight=function(g){return(Ze[g=g||J].mediaBox.topRightY-Ze[g].mediaBox.bottomLeftY)/ke},na=v.setPageHeight=function(g,I){Ze[g].mediaBox.topRightY=I*ke+Ze[g].mediaBox.bottomLeftY};return v.internal={pdfEscape:Xt,getStyle:Yo,getFont:bu,getFontSize:qe,getCharSpace:tl,getTextColor:Ql,getLineHeight:el,getLineHeightFactor:Ra,getLineWidth:Ni,write:$e,getHorizontalCoordinate:ms,getVerticalCoordinate:Ts,getCoordinateString:ji,getVerticalCoordinateString:ki,collections:{},newObject:kn,newAdditionalObject:yi,newObjectDeferred:xn,newObjectDeferredBegin:Cr,getFilters:Es,putStream:Vr,events:jt,scaleFactor:ke,pageSize:{getWidth:function(){return Pi(J)},setWidth:function(g){Ba(J,g)},getHeight:function(){return mr(J)},setHeight:function(g){na(J,g)}},encryptionOptions:p,encryption:sn,getEncryptor:Ta,output:pr,getNumberOfPages:Jr,pages:xe,out:te,f2:Z,f3:O,getPageInfo:Jo,getPageInfoByObjId:vt,getCurrentPageInfo:Ko,getPDFVersion:A,Point:ta,Rectangle:Da,Matrix:st,hasHotfix:Yl},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Pi(J)},set:function(g){Ba(J,g)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return mr(J)},set:function(g){na(J,g)},enumerable:!0,configurable:!0}),Jl.call(v,Ee),Je="F1",sr(s,n),jt.publish("initialized"),v}Ec.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ec.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ec.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ec.prototype.processOwnerPassword=function(e,t){return Vg(Hg(t).substr(0,5),e)},Ec.prototype.encryptor=function(e,t){var n=Hg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Vg(n,r)}},Ff.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Jt(e)!==Jt(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},yt.API={events:[]},yt.version="2.5.2";var Sn=yt.API,l1=1,Hl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(e){return e.toFixed(2)},fo=function(e){return e.toFixed(5)};Sn.__acroform__={};var ls=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},j2=function(e){return e*l1},Mi=function(e){var t=new _w,n=nt.internal.getHeight(e)||0,r=nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Lt(r)),Number(Lt(n))],t},_6=Sn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},N6=Sn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},S6=Sn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Pn=Sn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return S6(e,t-1)},Cn=Sn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _6(e,t-1)},Tn=Sn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return N6(e,t-1)},j6=Sn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=n(s+a)||0,l.upperRight_Y=r(i)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},k6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Gg(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Lt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Mi(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Gg=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var i=n,a=nt.internal.getHeight(e)||0;a=a<0?-a:a;var o=nt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(O,U,ee){if(O+1<s.length){var V=U+" "+s[O+1][0];return Mh(V,e,ee).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var h,p,m=Mh("3",e,i).height,b=e.multiline?a-i:(a-m)/2,v=b+=2,k=0,A=0,L=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Mh(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",N=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var C=!1;if(s[_].length!==1&&L!==s[_].length-1){if((m+2)*(N+2)+2>a)continue e;x+=s[_][L],C=!0,A=_,_--}else{x=(x+=s[_][L]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var q=parseInt(_),G=l(q,x,i),H=_>=s.length-1;if(G&&!H){x+=" ",L=0;continue}if(G||H){if(H)A=q;else if(e.multiline&&(m+2)*(N+2)+2>a)continue e}else{if(!e.multiline||(m+2)*(N+2)+2>a)continue e;A=q}}for(var $="",ie=k;ie<=A;ie++){var Z=s[ie];if(e.multiline){if(ie===A){$+=Z[L]+" ",L=(L+1)%Z.length;continue}if(ie===k){$+=Z[Z.length-1]+" ";continue}}$+=Z[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,p=Mh($,e,i).width,e.textAlign){case"right":h=o-p-2;break;case"center":h=(o-p)/2;break;case"left":default:h=2}t+=Lt(h)+" "+Lt(v)+` Td
`,t+="("+Hl($)+`) Tj
`,t+=-Lt(h)+` 0 Td
`,v=-(i+2),p=0,k=C?A:A+1,N++,x=""}break}return r.text=t,r.fontSize=i,r},Mh=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},A6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},L6=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},E6=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),Jt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},P6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(gi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(A6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");l1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Nw,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&L6(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],h=o.Rect;if(o.Rect&&(o.Rect=j6(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nt.createDefaultAppearanceStream(o),Jt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=h,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=k6(o);l.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var m="";for(var b in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(b)){var v=o.appearanceStreamContent[b];if(m+="/"+b+" ",m+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var a in v)if(v.hasOwnProperty(a)){var k=v[a];typeof k=="function"&&(k=k.call(s,o)),m+="/"+a+" "+k+" ",s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k)}}else typeof(k=v)=="function"&&(k=k.call(s,o)),m+="/"+a+" "+k,s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&E6(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},xw=Sn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Jt(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Hl(r(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nm=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Hl(r(e))+")"},zi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zi.prototype.toString=function(){return this.objId+" 0 R"},zi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:xw(s,this.objId,this.scope)}):s instanceof zi?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var _w=function(){zi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ls(_w,zi);var Nw=function(){zi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hl(n(e))+")"}},set:function(n){e=n}})};ls(Nw,zi);var gi=function e(){zi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pn(t,3)},set:function(x){x?this.F=Cn(t,3):this.F=Tn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Mf)return;i="FieldObject"+e.FieldNum++}var x=function(N){return N};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Hl(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/l1:h},set:function(x){h=x}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){p=x}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Mf||this instanceof Rl))return Nm(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=x}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Zn?b:Nm(b,this.objId,this.scope)},set:function(x){x=x.toString(),b=this instanceof Zn?x:x.substr(0,1)==="("?jc(x.substr(1,x.length-2)):jc(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn?jc(b.substr(1,b.length-1)):b},set:function(x){x=x.toString(),b=this instanceof Zn?"/"+x:x}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Zn?v:Nm(v,this.objId,this.scope)},set:function(x){x=x.toString(),v=this instanceof Zn?x:x.substr(0,1)==="("?jc(x.substr(1,x.length-2)):jc(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn?jc(v.substr(1,v.length-1)):v},set:function(x){x=x.toString(),v=this instanceof Zn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){x=!!x,A=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(x){k=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,1)},set:function(x){x?this.Ff=Cn(this.Ff,1):this.Ff=Tn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,2)},set:function(x){x?this.Ff=Cn(this.Ff,2):this.Ff=Tn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,3)},set:function(x){x?this.Ff=Cn(this.Ff,3):this.Ff=Tn(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');L=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(L){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};ls(gi,zi);var Yc=function(){gi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xw(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,a,o){o||(o=1);for(var l,h=[];l=a.exec(i);)h.push(l[o]);return h}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,18)},set:function(n){n?this.Ff=Cn(this.Ff,18):this.Ff=Tn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Cn(this.Ff,19):this.Ff=Tn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,20)},set:function(n){n?(this.Ff=Cn(this.Ff,20),t.sort()):this.Ff=Tn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,22)},set:function(n){n?this.Ff=Cn(this.Ff,22):this.Ff=Tn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(n){n?this.Ff=Cn(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,27)},set:function(n){n?this.Ff=Cn(this.Ff,27):this.Ff=Tn(this.Ff,27)}}),this.hasAppearanceStream=!1};ls(Yc,gi);var Xc=function(){Yc.call(this),this.fontName="helvetica",this.combo=!1};ls(Xc,Yc);var Qc=function(){Xc.call(this),this.combo=!0};ls(Qc,Xc);var nf=function(){Qc.call(this),this.edit=!0};ls(nf,Qc);var Zn=function(){gi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,15)},set:function(n){n?this.Ff=Cn(this.Ff,15):this.Ff=Tn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,16)},set:function(n){n?this.Ff=Cn(this.Ff,16):this.Ff=Tn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,17)},set:function(n){n?this.Ff=Cn(this.Ff,17):this.Ff=Tn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(n){n?this.Ff=Cn(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Hl(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Jt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ls(Zn,gi);var rf=function(){Zn.call(this),this.pushButton=!0};ls(rf,Zn);var Zc=function(){Zn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ls(Zc,Zn);var Mf=function(){var e,t;gi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+Hl(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Jt(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ls(Mf,gi),Zc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Zc.prototype.createOption=function(e){var t=new Mf;return t.Parent=this,t.optionName=e,this.Kids.push(t),C6.call(this.scope,t),t};var sf=function(){Zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};ls(sf,Zn);var Rl=function(){gi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,13)},set:function(t){t?this.Ff=Cn(this.Ff,13):this.Ff=Tn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,21)},set:function(t){t?this.Ff=Cn(this.Ff,21):this.Ff=Tn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,23)},set:function(t){t?this.Ff=Cn(this.Ff,23):this.Ff=Tn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,24)},set:function(t){t?this.Ff=Cn(this.Ff,24):this.Ff=Tn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,25)},set:function(t){t?this.Ff=Cn(this.Ff,25):this.Ff=Tn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,26)},set:function(t){t?this.Ff=Cn(this.Ff,26):this.Ff=Tn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ls(Rl,gi);var af=function(){Rl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pn(this.Ff,14)},set:function(e){e?this.Ff=Cn(this.Ff,14):this.Ff=Tn(this.Ff,14)}}),this.password=!0};ls(af,Rl);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Mi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Gg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Lt(nt.internal.getWidth(e))+" "+Lt(nt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Lt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Mi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=nt.internal.getHeight(e),a=nt.internal.getWidth(e),o=Gg(e,e.caption);return s.push("1 g"),s.push("0 0 "+Lt(a)+" "+Lt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Lt(a-1)+" "+Lt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Lt(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Mi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(nt.internal.getWidth(e))+" "+Lt(nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Circle.YesNormal,t.D[e]=nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Mi(e);t.scope=e.scope;var n=[],r=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=nt.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+fo(nt.internal.getWidth(e)/2)+" "+fo(nt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Mi(e);t.scope=e.scope;var n=[],r=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*nt.internal.Bezier_C).toFixed(5)),a=Number((r*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fo(nt.internal.getWidth(e)/2)+" "+fo(nt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+fo(nt.internal.getWidth(e)/2)+" "+fo(nt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Mi(e);t.scope=e.scope;var n=[],r=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+fo(nt.internal.getWidth(e)/2)+" "+fo(nt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Cross.YesNormal,t.D[e]=nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Mi(e);t.scope=e.scope;var n=[],r=nt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Lt(nt.internal.getWidth(e)-2)+" "+Lt(nt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Mi(e);t.scope=e.scope;var n=nt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(nt.internal.getWidth(e))+" "+Lt(nt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Lt(nt.internal.getWidth(e)-2)+" "+Lt(nt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Mi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(nt.internal.getWidth(e))+" "+Lt(nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nt.internal.getWidth(e),n=nt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},nt.internal.getWidth=function(e){var t=0;return Jt(e)==="object"&&(t=j2(e.Rect[2])),t},nt.internal.getHeight=function(e){var t=0;return Jt(e)==="object"&&(t=j2(e.Rect[3])),t};var C6=Sn.addField=function(e){if(P6(this,e),!(e instanceof gi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Sn.AcroFormChoiceField=Yc,Sn.AcroFormListBox=Xc,Sn.AcroFormComboBox=Qc,Sn.AcroFormEditBox=nf,Sn.AcroFormButton=Zn,Sn.AcroFormPushButton=rf,Sn.AcroFormRadioButton=Zc,Sn.AcroFormCheckBox=sf,Sn.AcroFormTextField=Rl,Sn.AcroFormPasswordField=af,Sn.AcroFormAppearance=nt,Sn.AcroForm={ChoiceField:Yc,ListBox:Xc,ComboBox:Qc,EditBox:nf,Button:Zn,PushButton:rf,RadioButton:Zc,CheckBox:sf,TextField:Rl,PasswordField:af,Appearance:nt},yt.AcroForm={ChoiceField:Yc,ListBox:Xc,ComboBox:Qc,EditBox:nf,Button:Zn,PushButton:rf,RadioButton:Zc,CheckBox:sf,TextField:Rl,PasswordField:af,Appearance:nt};yt.AcroForm;function Sw(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(O,U){var ee,V,ve,de,be,se=t;if((U=U||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(G(O))for(be in n)for(ve=n[be],ee=0;ee<ve.length;ee+=1){for(de=!0,V=0;V<ve[ee].length;V+=1)if(ve[ee][V]!==void 0&&ve[ee][V]!==O[V]){de=!1;break}if(de===!0){se=be;break}}else for(be in n)for(ve=n[be],ee=0;ee<ve.length;ee+=1){for(de=!0,V=0;V<ve[ee].length;V+=1)if(ve[ee][V]!==void 0&&ve[ee][V]!==O.charCodeAt(V)){de=!1;break}if(de===!0){se=be;break}}return se===t&&U!==t&&(se=U),se},s=function O(U){for(var ee=this.internal.write,V=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:U.width}),de.push({key:"Height",value:U.height}),U.colorSpace===L.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===L.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var be="",se=0,ue=U.transparency.length;se<ue;se++)be+=U.transparency[se]+" "+U.transparency[se]+" ";de.push({key:"Mask",value:"["+be+"]"})}U.sMask!==void 0&&de.push({key:"SMask",value:U.objectId+1+" 0 R"});var Y=U.filter!==void 0?["/"+U.filter]:void 0;if(V({data:U.data,additionalKeyValues:de,alreadyAppliedFilters:Y,objectId:U.objectId}),ee("endobj"),"sMask"in U&&U.sMask!==void 0){var K="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,E={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:K,data:U.sMask};"filter"in U&&(E.filter=U.filter),O.call(this,E)}if(U.colorSpace===L.INDEXED){var J=this.internal.newObject();V({data:$(new Uint8Array(U.palette)),objectId:J}),ee("endobj")}},i=function(){var O=this.internal.collections.addImage_images;for(var U in O)s.call(this,O[U])},a=function(){var O,U=this.internal.collections.addImage_images,ee=this.internal.write;for(var V in U)ee("/I"+(O=U[V]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(O){return typeof e["process"+O.toUpperCase()]=="function"},m=function(O){return Jt(O)==="object"&&O.nodeType===1},b=function(O,U){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var ee=""+O.getAttribute("src");if(ee.indexOf("data:image/")===0)return md(unescape(ee).split("base64,").pop());var V=e.loadFile(ee,!0);if(V!==void 0)return V}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ve;switch(U){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return md(O.toDataURL(ve,1).split("base64,").pop())}},v=function(O){var U=this.internal.collections.addImage_images;if(U){for(var ee in U)if(O===U[ee].alias)return U[ee]}},k=function(O,U,ee){return O||U||(O=-96,U=-96),O<0&&(O=-1*ee.width*72/O/this.internal.scaleFactor),U<0&&(U=-1*ee.height*72/U/this.internal.scaleFactor),O===0&&(O=U*ee.width/ee.height),U===0&&(U=O*ee.height/ee.width),[O,U]},A=function(O,U,ee,V,ve,de){var be=k.call(this,ee,V,ve),se=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,Y=l.call(this);if(ee=be[0],V=be[1],Y[ve.index]=ve,de){de*=Math.PI/180;var K=Math.cos(de),E=Math.sin(de),J=function(oe){return oe.toFixed(4)},X=[J(K),J(E),J(-1*E),J(K),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,se(O),ue(U+V),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([se(ee),"0","0",se(V),"0","0","cm"].join(" "))):this.internal.write([se(ee),"0","0",se(V),se(O),ue(U+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(O){var U,ee,V=0;if(typeof O=="string")for(ee=O.length,U=0;U<ee;U++)V=(V<<5)-V+O.charCodeAt(U),V|=0;else if(G(O))for(ee=O.byteLength/2,U=0;U<ee;U++)V=(V<<5)-V+O[U],V|=0;return V},_=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var U=!0;return O.length===0&&(U=!1),O.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(U=!1),U},C=e.__addimage__.extractImageFromDataUrl=function(O){var U=(O=O||"").split("base64,"),ee=null;if(U.length===2){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(U[0]);Array.isArray(V)&&(ee={mimeType:V[1],charset:V[2],data:U[1]})}return ee},q=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(O){return q()&&O instanceof ArrayBuffer};var G=e.__addimage__.isArrayBufferView=function(O){return q()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},H=e.__addimage__.binaryStringToUint8Array=function(O){for(var U=O.length,ee=new Uint8Array(U),V=0;V<U;V++)ee[V]=O.charCodeAt(V);return ee},$=e.__addimage__.arrayBufferToBinaryString=function(O){for(var U="",ee=G(O)?O:new Uint8Array(O),V=0;V<ee.length;V+=8192)U+=String.fromCharCode.apply(null,ee.subarray(V,V+8192));return U};e.addImage=function(){var O,U,ee,V,ve,de,be,se,ue;if(typeof arguments[1]=="number"?(U=t,ee=arguments[1],V=arguments[2],ve=arguments[3],de=arguments[4],be=arguments[5],se=arguments[6],ue=arguments[7]):(U=arguments[1],ee=arguments[2],V=arguments[3],ve=arguments[4],de=arguments[5],be=arguments[6],se=arguments[7],ue=arguments[8]),Jt(O=arguments[0])==="object"&&!m(O)&&"imageData"in O){var Y=O;O=Y.imageData,U=Y.format||U||t,ee=Y.x||ee||0,V=Y.y||V||0,ve=Y.w||Y.width||ve,de=Y.h||Y.height||de,be=Y.alias||be,se=Y.compression||se,ue=Y.rotation||Y.angle||ue}var K=this.internal.getFilters();if(se===void 0&&K.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(ee)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var E=ie.call(this,O,U,be,se);return A.call(this,ee,V,ve,de,E,ue),this};var ie=function(O,U,ee,V){var ve,de,be;if(typeof O=="string"&&r(O)===t){O=unescape(O);var se=Z(O,!1);(se!==""||(se=e.loadFile(O,!0))!==void 0)&&(O=se)}if(m(O)&&(O=b(O,U)),U=r(O,U),!p(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((be=ee)==null||be.length===0)&&(ee=function(ue){return typeof ue=="string"||G(ue)?N(ue):G(ue.data)?N(ue.data):null}(O)),(ve=v.call(this,ee))||(q()&&(O instanceof Uint8Array||U==="RGBA"||(de=O,O=H(O))),ve=this["process"+U.toUpperCase()](O,h.call(this),ee,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:x.NONE}(V),de)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},Z=e.__addimage__.convertBase64ToBinaryString=function(O,U){var ee;U=typeof U!="boolean"||U;var V,ve="";if(typeof O=="string"){V=(ee=C(O))!==null?ee.data:O;try{ve=md(V)}catch(de){if(U)throw _(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ve};e.getImageProperties=function(O){var U,ee,V="";if(m(O)&&(O=b(O)),typeof O=="string"&&r(O)===t&&((V=Z(O,!1))===""&&(V=e.loadFile(O)||""),O=V),ee=r(O),!p(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!q()||O instanceof Uint8Array||(O=H(O)),!(U=this["process"+ee.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=ee,U}})(yt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,m=0;m<h.length&&!p;m++)switch((r=h[m]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){r=h[b];var v=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(A.objId),N=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+v(x(r.contents))+")",i+=" /Popup "+L.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+v(x(N))+") >>",A.content=i;var _=A.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(i+=" /Open true"),i+=" >>",L.content=i,this.internal.write(A.objId,"0 R",L.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+v(k(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+v(k(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var G=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,i,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+s),h:h(r+i)},options:a,type:"link"})},e.textWithLink=function(n,r,s,i){var a,o,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var p=this.splitTextToSize(n,o).length;a=Math.ceil(h*p)}else o=l,a=h;return this.text(n,r,s,i),s+=.2*h,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-h,o,a,i),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},o=e.__arabicParser__.isArabicEndLetter=function(A){return a(A)&&i(A)&&t[A.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(A){return a(A)&&s.indexOf(A.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return a(A)&&i(A)&&t[A.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(A){return a(A)&&i(A)&&t[A.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(A){return a(A)&&i(A)&&t[A.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(A){return a(A)&&i(A)&&t[A.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(A){var L=0,x=n,N="",_=0;for(L=0;L<A.length;L+=1)x[A.charCodeAt(L)]!==void 0?(_++,typeof(x=x[A.charCodeAt(L)])=="number"&&(N+=String.fromCharCode(x),x=n,_=0),L===A.length-1&&(x=n,N+=A.charAt(L-(_-1)),L-=_-1,_=0)):(x=n,N+=A.charAt(L-_),L-=_,_=0);return N};e.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(A,L,x){return a(A)?i(A)===!1?-1:!h(A)||!a(L)&&!a(x)||!a(x)&&o(L)||o(A)&&!a(L)||o(A)&&l(L)||o(A)&&o(L)?0:p(A)&&a(L)&&!o(L)&&a(x)&&h(x)?3:o(A)||!a(x)?1:2:-1},v=function(A){var L=0,x=0,N=0,_="",C="",q="",G=(A=A||"").split("\\s+"),H=[];for(L=0;L<G.length;L+=1){for(H.push(""),x=0;x<G[L].length;x+=1)_=G[L][x],C=G[L][x-1],q=G[L][x+1],a(_)?(N=b(_,C,q),H[L]+=N!==-1?String.fromCharCode(t[_.charCodeAt(0)][N]):_):H[L]+=_;H[L]=m(H[L])}return H.join(" ")},k=e.__arabicParser__.processArabic=e.processArabic=function(){var A,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(L)){var N=0;for(x=[],N=0;N<L.length;N+=1)Array.isArray(L[N])?x.push([v(L[N][0]),L[N][1],L[N][2]]):x.push([v(L[N])]);A=x}else A=v(L);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};e.events.push(["preProcessText",k])}(yt.API),yt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(A){l=A}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(A){p=A}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(A){v=A}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(A){k=A}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,v=0,k=0,A=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=h.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,C){return _.concat(L.splitTextToSize(C,x))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)v<(A=this.getStringUnitWidth(l[N],{font:m})*p)&&(v=A);return v!==0&&(k=l.length),{w:v/=b,h:Math.max((k*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,v&&b&&(this.printHeaderRow(l.lineNumber,!0),l.y+=b[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};e.table=function(l,h,p,m,b){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,k,A,L,x=[],N=[],_=[],C={},q={},G=[],H=[],$=(b=b||{}).autoSize||!1,ie=b.printHeaders!==!1,Z=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,O=b.margins||Object.assign({width:this.getPageWidth()},t),U=typeof b.padding=="number"?b.padding:3,ee=b.headerBackgroundColor||"#c8c8c8",V=b.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=V,this.setFontSize(Z),m==null)N=x=Object.keys(p[0]),_=x.map(function(){return"left"});else if(Array.isArray(m)&&Jt(m[0])==="object")for(x=m.map(function(Y){return Y.name}),N=m.map(function(Y){return Y.prompt||Y.name||""}),_=m.map(function(Y){return Y.align||"left"}),v=0;v<m.length;v+=1)q[m[v].name]=m[v].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(N=x=m,_=x.map(function(){return"left"}));if($||Array.isArray(m)&&typeof m[0]=="string")for(v=0;v<x.length;v+=1){for(C[L=x[v]]=p.map(function(Y){return Y[L]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(N[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=C[L],this.setFont(void 0,"normal"),A=0;A<k.length;A+=1)G.push(this.getTextDimensions(k[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[L]=Math.max.apply(null,G)+U+U,G=[]}if(ie){var ve={};for(v=0;v<x.length;v+=1)ve[x[v]]={},ve[x[v]].text=N[v],ve[x[v]].align=_[v];var de=o.call(this,ve,q);H=x.map(function(Y){return new i(l,h,q[Y],de,ve[Y].text,void 0,ve[Y].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var be=m.reduce(function(Y,K){return Y[K.name]=K.align,Y},{});for(v=0;v<p.length;v+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:v,data:p[v]},this);var se=o.call(this,p[v],q);for(A=0;A<x.length;A+=1){var ue=p[v][x[A]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:v,col:A,data:ue},this),a.call(this,new i(l,h,q[x[A]],se,ue,v+2,be[x[A]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var o=function(l,h){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(l).map(function(v){var k=l[v];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,h[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*m/b+p+p},this).reduce(function(v,k){return Math.max(v,k)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=l;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(k)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),n=!1}}(yt.API);var jw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Jg=Sw(kw),Aw=[100,200,300,400,500,600,700,800,900],T6=Sw(Aw);function Kg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return jw[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof Jg[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function k2(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var I6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function L2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function O6(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},I6,n.genericFontFamilies||{}),i=null,a=null,o=0;o<t.length;++o)if(s[(i=Kg(t[o])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[r]))throw new Error("Could not find a font-family for the rule '"+L2(i)+"' and default family '"+r+"'.");if(a=function(l,h){if(h[l])return h[l];var p=Jg[l],m=p<=Jg.normal?-1:1,b=k2(h,kw,p,m);if(!b)throw new Error("Could not find a matching font-stretch value for "+l);return b}(i.stretch,a),a=function(l,h){if(h[l])return h[l];for(var p=jw[l],m=0;m<p.length;++m)if(h[p[m]])return h[p[m]];throw new Error("Could not find a matching font-style for "+l)}(i.style,a),!(a=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var p=T6[l],m=k2(h,Aw,p,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+L2(i)+"'.");return a}function E2(e){return e.trimLeft()}function R6(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function F6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Dh,P2,C2,Sm=["times"];(function(e){var t,n,r,s,i,a,o,l,h,p=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new l,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new a,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new a,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,h=new p}]);var m=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=E;Object.defineProperty(this,"pdf",{get:function(){return J}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(_e){X=!!_e}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(_e){oe=!!_e}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(_e){isNaN(_e)||(he=_e)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(_e){isNaN(_e)||(ne=_e)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(_e){var te;typeof _e=="number"?te=[_e,_e,_e,_e]:((te=new Array(4))[0]=_e[0],te[1]=_e.length>=2?_e[1]:te[0],te[2]=_e.length>=3?_e[2]:te[0],te[3]=_e.length>=4?_e[3]:te[1]),h.margin=te}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(_e){ce=_e}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(_e){ae=_e}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(_e){me=_e}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(_e){_e instanceof p&&(h=_e)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(_e){h.path=_e}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(_e){xe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var te;te=b(_e),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var te=b(_e);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Ce=null;function Te(_e,te){if(Ce===null){var $e=function(We){var Ee=[];return Object.keys(We).forEach(function(Fe){We[Fe].forEach(function(Ue){var qe=null;switch(Ue){case"bold":qe={family:Fe,weight:"bold"};break;case"italic":qe={family:Fe,style:"italic"};break;case"bolditalic":qe={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Fe}}qe!==null&&(qe.ref={name:Fe,style:Ue},Ee.push(qe))})}),Ee}(_e.getFontList());Ce=function(We){for(var Ee={},Fe=0;Fe<We.length;++Fe){var Ue=Kg(We[Fe]),qe=Ue.family,et=Ue.stretch,ft=Ue.style,gt=Ue.weight;Ee[qe]=Ee[qe]||{},Ee[qe][et]=Ee[qe][et]||{},Ee[qe][et][ft]=Ee[qe][et][ft]||{},Ee[qe][et][ft][gt]=Ue}return Ee}($e.concat(te))}return Ce}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(_e){Ce=null,Me=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var te;if(this.ctx.font=_e,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var $e=te[1],We=(te[2],te[3]),Ee=te[4],Fe=(te[5],te[6]),Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Ue==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var qe=function(De){var Je,ke,Rt=[],_t=De.trim();if(_t==="")return Sm;if(_t in A2)return[A2[_t]];for(;_t!=="";){switch(ke=null,Je=(_t=E2(_t)).charAt(0)){case'"':case"'":ke=R6(_t.substring(1),Je);break;default:ke=F6(_t)}if(ke===null||(Rt.push(ke[0]),(_t=E2(ke[1]))!==""&&_t.charAt(0)!==","))return Sm;_t=_t.replace(/^,/,"")}return Rt}(Fe);if(this.fontFaces){var et=O6(Te(this.pdf,this.fontFaces),qe.map(function(De){return{family:De,stretch:"normal",weight:We,style:$e}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var ft="";(We==="bold"||parseInt(We,10)>=700||$e==="bold")&&(ft="bold"),$e==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var gt="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Se=0;Se<qe.length;Se++){if(this.pdf.internal.getFont(qe[Se],ft,{noFallback:!0,disableWarning:!0})!==void 0){gt=qe[Se];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(qe[Se],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=qe[Se],ft="bold";else if(this.pdf.internal.getFont(qe[Se],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=qe[Se],ft="normal";break}}if(gt===""){for(var Be=0;Be<qe.length;Be++)if(lt[qe[Be]]){gt=lt[qe[Be]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};m.prototype.setLineDash=function(E){this.lineDash=E},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){C.call(this,"fill",!1)},m.prototype.stroke=function(){C.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(E,J){if(isNaN(E)||isNaN(J))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(E,J));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(E,J)},m.prototype.closePath=function(){var E=new a(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Jt(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){E=new a(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(E.x,E.y)},m.prototype.lineTo=function(E,J){if(isNaN(E)||isNaN(J))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(E,J));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},m.prototype.quadraticCurveTo=function(E,J,X,oe){if(isNaN(X)||isNaN(oe)||isNaN(E)||isNaN(J))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new a(X,oe)),ne=this.ctx.transform.applyToPoint(new a(E,J));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},m.prototype.bezierCurveTo=function(E,J,X,oe,he,ne){if(isNaN(he)||isNaN(ne)||isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new a(he,ne)),ae=this.ctx.transform.applyToPoint(new a(E,J)),me=this.ctx.transform.applyToPoint(new a(X,oe));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:me.x,y2:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},m.prototype.arc=function(E,J,X,oe,he,ne){if(isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe)||isNaN(he))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new a(E,J));E=ce.x,J=ce.y;var ae=this.ctx.transform.applyToPoint(new a(0,X)),me=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(ae.x-me.x,2)+Math.pow(ae.y-me.y,2))}Math.abs(he-oe)>=2*Math.PI&&(oe=0,he=2*Math.PI),this.path.push({type:"arc",x:E,y:J,radius:X,startAngle:oe,endAngle:he,counterclockwise:ne})},m.prototype.arcTo=function(E,J,X,oe,he){throw new Error("arcTo not implemented.")},m.prototype.rect=function(E,J,X,oe){if(isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,J),this.lineTo(E+X,J),this.lineTo(E+X,J+oe),this.lineTo(E,J+oe),this.lineTo(E,J),this.lineTo(E+X,J),this.lineTo(E,J)},m.prototype.fillRect=function(E,J,X,oe){if(isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,J,X,oe),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},m.prototype.strokeRect=function(E,J,X,oe){if(isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(E,J,X,oe),this.stroke())},m.prototype.clearRect=function(E,J,X,oe){if(isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,J,X,oe))},m.prototype.save=function(E){E=typeof E!="boolean"||E;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},m.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(J),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(E){var J,X,oe,he;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))J=0,X=0,oe=0,he=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ne!==null)J=parseInt(ne[1]),X=parseInt(ne[2]),oe=parseInt(ne[3]),he=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)J=parseInt(ne[1]),X=parseInt(ne[2]),oe=parseInt(ne[3]),he=parseFloat(ne[4]);else{if(he=1,typeof E=="string"&&E.charAt(0)!=="#"){var ce=new yw(E);E=ce.ok?ce.toHex():"#000000"}E.length===4?(J=E.substring(1,2),J+=J,X=E.substring(2,3),X+=X,oe=E.substring(3,4),oe+=oe):(J=E.substring(1,3),X=E.substring(3,5),oe=E.substring(5,7)),J=parseInt(J,16),X=parseInt(X,16),oe=parseInt(oe,16)}}return{r:J,g:X,b:oe,a:he,style:E}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(E,J,X,oe){if(isNaN(J)||isNaN(X)||typeof E!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!v.call(this)){var he=se(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;U.call(this,{text:E,x:J,y:X,scale:ne,angle:he,align:this.textAlign,maxWidth:oe})}},m.prototype.strokeText=function(E,J,X,oe){if(isNaN(J)||isNaN(X)||typeof E!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){oe=isNaN(oe)?void 0:oe;var he=se(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;U.call(this,{text:E,x:J,y:X,scale:ne,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:oe})}},m.prototype.measureText=function(E){if(typeof E!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,X=this.pdf.internal.scaleFactor,oe=J.internal.getFontSize(),he=J.getStringUnitWidth(E)*oe/J.internal.scaleFactor,ne=function(ce){var ae=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ae}}),this};return new ne({width:he*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(E,J){if(isNaN(E)||isNaN(J))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(E,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(E){if(isNaN(E))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.translate=function(E,J){if(isNaN(E)||isNaN(J))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,E,J);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(E,J,X,oe,he,ne){if(isNaN(E)||isNaN(J)||isNaN(X)||isNaN(oe)||isNaN(he)||isNaN(ne))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(E,J,X,oe,he,ne);this.ctx.transform=this.ctx.transform.multiply(ce)},m.prototype.setTransform=function(E,J,X,oe,he,ne){E=isNaN(E)?1:E,J=isNaN(J)?0:J,X=isNaN(X)?0:X,oe=isNaN(oe)?1:oe,he=isNaN(he)?0:he,ne=isNaN(ne)?0:ne,this.ctx.transform=new l(E,J,X,oe,he,ne)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(E,J,X,oe,he,ne,ce,ae,me){var xe=this.pdf.getImageProperties(E),Ce=1,Te=1,Me=1,_e=1;oe!==void 0&&ae!==void 0&&(Me=ae/oe,_e=me/he,Ce=xe.width/oe*ae/oe,Te=xe.height/he*me/he),ne===void 0&&(ne=J,ce=X,J=0,X=0),oe!==void 0&&ae===void 0&&(ae=oe,me=he),oe===void 0&&ae===void 0&&(ae=xe.width,me=xe.height);for(var te,$e=this.ctx.transform.decompose(),We=se($e.rotate.shx),Ee=new l,Fe=(Ee=(Ee=(Ee=Ee.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new o(ne-J*Me,ce-X*_e,oe*Ce,he*Te)),Ue=L.call(this,Fe),qe=[],et=0;et<Ue.length;et+=1)qe.indexOf(Ue[et])===-1&&qe.push(Ue[et]);if(_(qe),this.autoPaging)for(var ft=qe[0],gt=qe[qe.length-1],lt=ft;lt<gt+1;lt++){this.pdf.setPage(lt);var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=lt===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=lt===1?0:De+(lt-2)*Je;if(this.ctx.clip_path.length!==0){var Rt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(te,this.posX+this.margin[3],-ke+Be+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Rt}var _t=JSON.parse(JSON.stringify(Fe));_t=N([_t],this.posX+this.margin[3],-ke+Be+this.ctx.prevPageLastElemOffset)[0];var On=(lt>ft||lt<gt)&&A.call(this);On&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,Je,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,We),On&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,We)};var L=function(E,J,X){var oe=[];J=J||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":oe.push(Math.floor((E.y+he)/X)+1);break;case"arc":oe.push(Math.floor((E.y+he-E.radius)/X)+1),oe.push(Math.floor((E.y+he+E.radius)/X)+1);break;case"qct":var ne=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);oe.push(Math.floor((ne.y+he)/X)+1),oe.push(Math.floor((ne.y+ne.h+he)/X)+1);break;case"bct":var ce=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);oe.push(Math.floor((ce.y+he)/X)+1),oe.push(Math.floor((ce.y+ce.h+he)/X)+1);break;case"rect":oe.push(Math.floor((E.y+he)/X)+1),oe.push(Math.floor((E.y+E.h+he)/X)+1)}for(var ae=0;ae<oe.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ae];)x.call(this);return oe},x=function(){var E=this.fillStyle,J=this.strokeStyle,X=this.font,oe=this.lineCap,he=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=J,this.font=X,this.lineCap=oe,this.lineWidth=he,this.lineJoin=ne},N=function(E,J,X){for(var oe=0;oe<E.length;oe++)switch(E[oe].type){case"bct":E[oe].x2+=J,E[oe].y2+=X;case"qct":E[oe].x1+=J,E[oe].y1+=X;case"mt":case"lt":case"arc":default:E[oe].x+=J,E[oe].y+=X}return E},_=function(E){return E.sort(function(J,X){return J-X})},C=function(E,J){for(var X,oe,he=this.fillStyle,ne=this.strokeStyle,ce=this.lineCap,ae=this.lineWidth,me=Math.abs(ae*this.ctx.transform.scaleX),xe=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Me=[],_e=0;_e<Te.length;_e++)if(Te[_e].x!==void 0)for(var te=L.call(this,Te[_e]),$e=0;$e<te.length;$e+=1)Me.indexOf(te[$e])===-1&&Me.push(te[$e]);for(var We=0;We<Me.length;We++)for(;this.pdf.internal.getNumberOfPages()<Me[We];)x.call(this);if(_(Me),this.autoPaging)for(var Ee=Me[0],Fe=Me[Me.length-1],Ue=Ee;Ue<Fe+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=he,this.strokeStyle=ne,this.lineCap=ce,this.lineWidth=me,this.lineJoin=xe;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ue===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Ue===1?0:ft+(Ue-2)*gt;if(this.ctx.clip_path.length!==0){var Se=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(X,this.posX+this.margin[3],-lt+et+this.ctx.prevPageLastElemOffset),q.call(this,E,!0),this.path=Se}if(oe=JSON.parse(JSON.stringify(Ce)),this.path=N(oe,this.posX+this.margin[3],-lt+et+this.ctx.prevPageLastElemOffset),J===!1||Ue===0){var Be=(Ue>Ee||Ue<Fe)&&A.call(this);Be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,gt,null).clip().discardPath()),q.call(this,E,J),Be&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=me,q.call(this,E,J),this.lineWidth=ae;this.path=Ce},q=function(E,J){if((E!=="stroke"||J||!k.call(this))&&(E==="stroke"||J||!v.call(this))){for(var X,oe,he=[],ne=this.path,ce=0;ce<ne.length;ce++){var ae=ne[ce];switch(ae.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:ae,deltas:[],abs:[]});break;case"lt":var me=he.length;if(ne[ce-1]&&!isNaN(ne[ce-1].x)&&(X=[ae.x-ne[ce-1].x,ae.y-ne[ce-1].y],me>0)){for(;me>=0;me--)if(he[me-1].close!==!0&&he[me-1].begin!==!0){he[me-1].deltas.push(X),he[me-1].abs.push(ae);break}}break;case"bct":X=[ae.x1-ne[ce-1].x,ae.y1-ne[ce-1].y,ae.x2-ne[ce-1].x,ae.y2-ne[ce-1].y,ae.x-ne[ce-1].x,ae.y-ne[ce-1].y],he[he.length-1].deltas.push(X);break;case"qct":var xe=ne[ce-1].x+2/3*(ae.x1-ne[ce-1].x),Ce=ne[ce-1].y+2/3*(ae.y1-ne[ce-1].y),Te=ae.x+2/3*(ae.x1-ae.x),Me=ae.y+2/3*(ae.y1-ae.y),_e=ae.x,te=ae.y;X=[xe-ne[ce-1].x,Ce-ne[ce-1].y,Te-ne[ce-1].x,Me-ne[ce-1].y,_e-ne[ce-1].x,te-ne[ce-1].y],he[he.length-1].deltas.push(X);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(ae)}}oe=J?null:E==="stroke"?"stroke":"fill";for(var $e=!1,We=0;We<he.length;We++)if(he[We].arc)for(var Ee=he[We].abs,Fe=0;Fe<Ee.length;Fe++){var Ue=Ee[Fe];Ue.type==="arc"?$.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,J,!$e):ee.call(this,Ue.x,Ue.y),$e=!0}else if(he[We].close===!0)this.pdf.internal.out("h"),$e=!1;else if(he[We].begin!==!0){var qe=he[We].start.x,et=he[We].start.y;V.call(this,he[We].deltas,qe,et),$e=!0}oe&&ie.call(this,oe),J&&Z.call(this)}},G=function(E){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-X;case"top":return E+J-X;case"hanging":return E+J-2*X;case"middle":return E+J/2-X;case"ideographic":return E;case"alphabetic":default:return E}},H=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(J,X){this.colorStops.push([J,X])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(E,J,X,oe,he,ne,ce,ae,me){for(var xe=de.call(this,X,oe,he,ne),Ce=0;Ce<xe.length;Ce++){var Te=xe[Ce];Ce===0&&(me?O.call(this,Te.x1+E,Te.y1+J):ee.call(this,Te.x1+E,Te.y1+J)),ve.call(this,E,J,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}ae?Z.call(this):ie.call(this,ce)},ie=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(E,J){this.pdf.internal.out(n(E)+" "+r(J)+" m")},U=function(E){var J;switch(E.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var X=this.pdf.getTextDimensions(E.text),oe=G.call(this,E.y),he=H.call(this,oe)-X.h,ne=this.ctx.transform.applyToPoint(new a(E.x,oe)),ce=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var me,xe,Ce,Te=this.ctx.transform.applyToRectangle(new o(E.x,oe,X.w,X.h)),Me=ae.applyToRectangle(new o(E.x,he,X.w,X.h)),_e=L.call(this,Me),te=[],$e=0;$e<_e.length;$e+=1)te.indexOf(_e[$e])===-1&&te.push(_e[$e]);if(_(te),this.autoPaging)for(var We=te[0],Ee=te[te.length-1],Fe=We;Fe<Ee+1;Fe++){this.pdf.setPage(Fe);var Ue=Fe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],ft=et-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],lt=gt-this.margin[3],Se=Fe===1?0:qe+(Fe-2)*ft;if(this.ctx.clip_path.length!==0){var Be=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(me,this.posX+this.margin[3],-1*Se+Ue),q.call(this,"fill",!0),this.path=Be}var De=N([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Se+Ue+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*E.scale),Ce=this.lineWidth,this.lineWidth=Ce*E.scale);var Je=this.autoPaging!=="text";if(Je||De.y+De.h<=et){if(Je||De.y>=Ue&&De.x<=gt){var ke=Je?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||gt-De.x)[0],Rt=N([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Se+Ue+this.ctx.prevPageLastElemOffset)[0],_t=Je&&(Fe>We||Fe<Ee)&&A.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,ft,null).clip().discardPath()),this.pdf.text(ke,Rt.x,Rt.y,{angle:E.angle,align:J,renderingMode:E.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else De.y<et&&(this.ctx.prevPageLastElemOffset+=et-De.y);E.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=Ce)}else E.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*E.scale),Ce=this.lineWidth,this.lineWidth=Ce*E.scale),this.pdf.text(E.text,ne.x+this.posX,ne.y+this.posY,{angle:E.angle,align:J,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=Ce)},ee=function(E,J,X,oe){X=X||0,oe=oe||0,this.pdf.internal.out(n(E+X)+" "+r(J+oe)+" l")},V=function(E,J,X){return this.pdf.lines(E,J,X,null,null)},ve=function(E,J,X,oe,he,ne,ce,ae){this.pdf.internal.out([t(s(X+E)),t(i(oe+J)),t(s(he+E)),t(i(ne+J)),t(s(ce+E)),t(i(ae+J)),"c"].join(" "))},de=function(E,J,X,oe){for(var he=2*Math.PI,ne=Math.PI/2;J>X;)J-=he;var ce=Math.abs(X-J);ce<he&&oe&&(ce=he-ce);for(var ae=[],me=oe?-1:1,xe=J;ce>1e-5;){var Ce=xe+me*Math.min(ce,ne);ae.push(be.call(this,E,xe,Ce)),ce-=Math.abs(Ce-xe),xe=Ce}return ae},be=function(E,J,X){var oe=(X-J)/2,he=E*Math.cos(oe),ne=E*Math.sin(oe),ce=he,ae=-ne,me=ce*ce+ae*ae,xe=me+ce*he+ae*ne,Ce=4/3*(Math.sqrt(2*me*xe)-xe)/(ce*ne-ae*he),Te=ce-Ce*ae,Me=ae+Ce*ce,_e=Te,te=-Me,$e=oe+J,We=Math.cos($e),Ee=Math.sin($e);return{x1:E*Math.cos(J),y1:E*Math.sin(J),x2:Te*We-Me*Ee,y2:Te*Ee+Me*We,x3:_e*We-te*Ee,y3:_e*Ee+te*We,x4:E*Math.cos(X),y4:E*Math.sin(X)}},se=function(E){return 180*E/Math.PI},ue=function(E,J,X,oe,he,ne){var ce=E+.5*(X-E),ae=J+.5*(oe-J),me=he+.5*(X-he),xe=ne+.5*(oe-ne),Ce=Math.min(E,he,ce,me),Te=Math.max(E,he,ce,me),Me=Math.min(J,ne,ae,xe),_e=Math.max(J,ne,ae,xe);return new o(Ce,Me,Te-Ce,_e-Me)},Y=function(E,J,X,oe,he,ne,ce,ae){var me,xe,Ce,Te,Me,_e,te,$e,We,Ee,Fe,Ue,qe,et,ft=X-E,gt=oe-J,lt=he-X,Se=ne-oe,Be=ce-he,De=ae-ne;for(xe=0;xe<41;xe++)We=(te=(Ce=E+(me=xe/40)*ft)+me*((Me=X+me*lt)-Ce))+me*(Me+me*(he+me*Be-Me)-te),Ee=($e=(Te=J+me*gt)+me*((_e=oe+me*Se)-Te))+me*(_e+me*(ne+me*De-_e)-$e),xe==0?(Fe=We,Ue=Ee,qe=We,et=Ee):(Fe=Math.min(Fe,We),Ue=Math.min(Ue,Ee),qe=Math.max(qe,We),et=Math.max(et,Ee));return new o(Math.round(Fe),Math.round(Ue),Math.round(qe-Fe),Math.round(et-Ue))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,J,X=(E=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:J}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(yt.API),function(e){var t=function(i){var a,o,l,h,p,m,b,v,k,A;for(o=[],l=0,h=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;h>l;l+=4)(p=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(m=(p=((p=((p=((p=(p-(A=p%85))/85)-(k=p%85))/85)-(v=p%85))/85)-(b=p%85))/85)%85,o.push(m+33,b+33,v+33,k+33,A+33)):o.push(122);return function(L,x){for(var N=x;N>0;N--)L.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(i){var a,o,l,h,p,m=String,b="length",v=255,k="charCodeAt",A="slice",L="replace";for(i[A](-2),i=i[A](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),l=[],h=0,p=(i+=a="uuuuu"[A](i[b]%5||5))[b];p>h;h+=5)o=52200625*(i[k](h)-33)+614125*(i[k](h+1)-33)+7225*(i[k](h+2)-33)+85*(i[k](h+3)-33)+(i[k](h+4)-33),l.push(v&o>>24,v&o>>16,v&o>>8,v&o);return function(x,N){for(var _=N;_>0;_--)x.pop()}(l,a[b]),m.fromCharCode.apply(m,l)},r=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=$g(a)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};e.processDataByFilters=function(i,a){var o=0,l=i||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(yt.API),function(e){e.loadFile=function(t,n,r){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,h,p){var m=new XMLHttpRequest,b=0,v=function(k){var A=k.length,L=[],x=String.fromCharCode;for(b=0;b<A;b+=1)L.push(x(255&k.charCodeAt(b)));return L.join("")};if(m.open("GET",l,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?p(v(this.responseText)):p(void 0)}),m.send(null),h&&m.status===200)return v(m.responseText)}(s,i,a)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(yt.API),function(e){function t(){return(xt.html2canvas?Promise.resolve(xt.html2canvas):dt(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(xt.DOMPurify?Promise.resolve(xt.DOMPurify):dt(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Jt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var l=document.createElement(a);for(var h in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[h]=o.style[h];return l},i=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:s("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(h,p){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)p!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(l(b,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var l=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var b=0;b<h.length;++b){var v=h[b],k=v.src.find(function(A){return A.format==="truetype"});k&&l.addFont(k.url,v.ref.name,v.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),o(this.prop.container,m)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var l=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},i.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(a=a||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,l,h){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,l,h){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},i.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(h,p){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,h),m}).then(h,p).then(function(m){return l.updateProgress(1),m})})},i.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=l.call(h,a,o);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,yt.getPageSize=function(a,o,l){if(Jt(a)==="object"){var h=a;a=h.orientation,o=h.unit||o,l=h.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+l).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+o}var v,k=0,A=0;if(b.hasOwnProperty(m))k=b[m][1]/p,A=b[m][0]/p;else try{k=l[1],A=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",A>k&&(v=A,A=k,k=v);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",k>A&&(v=A,A=k,k=v)}return{width:A,height:k,unit:o,k:p,orientation:a}},e.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Kg):null;var l=new i(o);return o.worker?l:l.from(a).doCallback()}}(yt.API),yt.API.addJS=function(e){return C2=e,this.internal.events.subscribe("postPutResources",function(){Dh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),P2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+C2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dh!==void 0&&P2!==void 0&&this.internal.out("/Names <</JavaScript "+Dh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(i=0;i<h;i++){var m=n.internal.newObject();p.push(m);var b=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<p.length;i++)n.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,i,a,o){var l,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(m){for(var b,v=256*m.charCodeAt(4)+m.charCodeAt(5),k=m.length,A={width:0,height:0,numcomponents:1},L=4;L<k;L+=2){if(L+=v,t.indexOf(m.charCodeAt(L+1))!==-1){b=256*m.charCodeAt(L+5)+m.charCodeAt(L+6),A={width:256*m.charCodeAt(L+7)+m.charCodeAt(L+8),height:b,numcomponents:m.charCodeAt(L+9)};break}v=256*m.charCodeAt(L+2)+m.charCodeAt(L+3)}return A}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:h,index:r,alias:s}}return p}}(yt.API);var kc,Bh,T2,I2,O2,M6=function(){var e,t,n;function r(i){var a,o,l,h,p,m,b,v,k,A,L,x,N,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),k=(function(){var C,q;for(q=[],C=0;C<4;++C)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*p/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(k==="fdAT"&&(this.pos+=4,a-=4),i=(m!=null?m.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((A=l-this.transparency.indexed.length)>0)for(N=0;0<=A?N<A:N>A;0<=A?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":b=(L=this.read(a)).indexOf(0),v=String.fromCharCode.apply(String,L.slice(0,b)),this.text[v]=String.fromCharCode.apply(String,L.slice(b+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,h=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(m,b,v,k){var A,L,x,N,_,C,q,G,H,$,ie,Z,O,U,ee,V,ve,de,be,se,ue,Y=Math.ceil((h.width-m)/v),K=Math.ceil((h.height-b)/k),E=h.width==Y&&h.height==K;for(U=a*Y,Z=E?o:new Uint8Array(U*K),C=i.length,O=0,L=0;O<K&&l<C;){switch(i[l++]){case 0:for(N=ve=0;ve<U;N=ve+=1)Z[L++]=i[l++];break;case 1:for(N=de=0;de<U;N=de+=1)A=i[l++],_=N<a?0:Z[L-a],Z[L++]=(A+_)%256;break;case 2:for(N=be=0;be<U;N=be+=1)A=i[l++],x=(N-N%a)/a,ee=O&&Z[(O-1)*U+x*a+N%a],Z[L++]=(ee+A)%256;break;case 3:for(N=se=0;se<U;N=se+=1)A=i[l++],x=(N-N%a)/a,_=N<a?0:Z[L-a],ee=O&&Z[(O-1)*U+x*a+N%a],Z[L++]=(A+Math.floor((_+ee)/2))%256;break;case 4:for(N=ue=0;ue<U;N=ue+=1)A=i[l++],x=(N-N%a)/a,_=N<a?0:Z[L-a],O===0?ee=V=0:(ee=Z[(O-1)*U+x*a+N%a],V=x&&Z[(O-1)*U+(x-1)*a+N%a]),q=_+ee-V,G=Math.abs(q-_),$=Math.abs(q-ee),ie=Math.abs(q-V),H=G<=$&&G<=ie?_:$<=ie?ee:V,Z[L++]=(A+H)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!E){var J=((b+O*k)*h.width+m)*a,X=O*U;for(N=0;N<Y;N+=1){for(var oe=0;oe<a;oe+=1)o[J++]=Z[X++];J+=(v-1)*a}}O++}}return i=m6(i),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),o},r.prototype.decodePalette=function(){var i,a,o,l,h,p,m,b,v;for(o=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+o.length),l=0,i=0,a=m=0,b=o.length;m<b;a=m+=3)h[l++]=o[a],h[l++]=o[a+1],h[l++]=o[a+2],h[l++]=(v=p[i++])!=null?v:255;return h},r.prototype.copyToImageData=function(i,a){var o,l,h,p,m,b,v,k,A,L,x;if(l=this.colors,A=null,o=this.hasAlphaChannel,this.palette.length&&(A=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),k=(h=i.data||i).length,m=A||a,p=b=0,l===1)for(;p<k;)v=A?4*a[p/4]:b,L=m[v++],h[p++]=L,h[p++]=L,h[p++]=L,h[p++]=o?m[v++]:255,b=v;else for(;p<k;)v=A?4*a[p/4]:b,h[p++]=m[v++],h[p++]=m[v++],h[p++]=m[v++],h[p++]=o?m[v++]:255,b=v},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(xt)==="[object Window]"){try{t=xt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var a,o,l,h,p,m,b,v;if(this.animation){for(v=[],o=p=0,m=(b=this.animation.frames).length;p<m;o=++p)a=b[o],l=i.createImageData(a.width,a.height),h=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,h),a.imageData=l,v.push(a.image=e(l));return v}},r.prototype.renderFrame=function(i,a){var o,l,h;return o=(l=this.animation.frames)[a],h=l[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?i.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&i.putImageData(h.imageData,h.xOffset,h.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(i){var a,o,l,h,p,m,b=this;return o=0,m=this.animation,h=m.numFrames,l=m.frames,p=m.numPlays,(a=function(){var v,k;if(v=o++%h,k=l[v],b.renderFrame(i,v),h>1&&o/h<p)return b.animation._timeout=setTimeout(a,k.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function D6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=a,t+=3*a);var h=!0,p=[],m=0,b=null,v=0,k=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,k=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=e[t++];m=e[t++]|e[t++]<<8,b=e[t++],!(1&A)&&(b=null),v=A>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var L=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,C=e[t++],q=C>>6&1,G=1<<(7&C)+1,H=o,$=l,ie=!1;C>>7&&(ie=!0,H=t,$=G,t+=3*G);var Z=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}p.push({x:L,y:x,width:N,height:_,has_local_palette:ie,palette_offset:H,palette_size:$,data_offset:Z,data_length:t-Z,transparent_index:b,interlaced:!!q,delay:m,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return k},this.frameInfo=function(U){if(U<0||U>=p.length)throw new Error("Frame index out of range.");return p[U]},this.decodeAndBlitFrameBGRA=function(U,ee){var V=this.frameInfo(U),ve=V.width*V.height,de=new Uint8Array(ve);R2(e,V.data_offset,de,ve);var be=V.palette_offset,se=V.transparent_index;se===null&&(se=256);var ue=V.width,Y=n-ue,K=ue,E=4*(V.y*n+V.x),J=4*((V.y+V.height)*n+V.x),X=E,oe=4*Y;V.interlaced===!0&&(oe+=4*n*7);for(var he=8,ne=0,ce=de.length;ne<ce;++ne){var ae=de[ne];if(K===0&&(K=ue,(X+=oe)>=J&&(oe=4*Y+4*n*(he-1),X=E+(ue+Y)*(he<<1),he>>=1)),ae===se)X+=4;else{var me=e[be+3*ae],xe=e[be+3*ae+1],Ce=e[be+3*ae+2];ee[X++]=Ce,ee[X++]=xe,ee[X++]=me,ee[X++]=255}--K}},this.decodeAndBlitFrameRGBA=function(U,ee){var V=this.frameInfo(U),ve=V.width*V.height,de=new Uint8Array(ve);R2(e,V.data_offset,de,ve);var be=V.palette_offset,se=V.transparent_index;se===null&&(se=256);var ue=V.width,Y=n-ue,K=ue,E=4*(V.y*n+V.x),J=4*((V.y+V.height)*n+V.x),X=E,oe=4*Y;V.interlaced===!0&&(oe+=4*n*7);for(var he=8,ne=0,ce=de.length;ne<ce;++ne){var ae=de[ne];if(K===0&&(K=ue,(X+=oe)>=J&&(oe=4*Y+4*n*(he-1),X=E+(ue+Y)*(he<<1),he>>=1)),ae===se)X+=4;else{var me=e[be+3*ae],xe=e[be+3*ae+1],Ce=e[be+3*ae+2];ee[X++]=me,ee[X++]=xe,ee[X++]=Ce,ee[X++]=255}--K}}}function R2(e,t,n,r){for(var s=e[t++],i=1<<s,a=i+1,o=a+1,l=s+1,h=(1<<l)-1,p=0,m=0,b=0,v=e[t++],k=new Int32Array(4096),A=null;;){for(;p<16&&v!==0;)m|=e[t++]<<p,p+=8,v===1?v=e[t++]:--v;if(p<l)break;var L=m&h;if(m>>=l,p-=l,L!==i){if(L===a)break;for(var x=L<o?L:A,N=0,_=x;_>i;)_=k[_]>>8,++N;var C=_;if(b+N+(x!==L?1:0)>r)return void tn.log("Warning, gif stream longer than expected.");n[b++]=C;var q=b+=N;for(x!==L&&(n[b++]=C),_=x;N--;)_=k[_],n[--q]=255&_,_>>=8;A!==null&&o<4096&&(k[o++]=A<<8|C,o>=h+1&&l<12&&(++l,h=h<<1|1)),A=L}else o=a+1,h=(1<<(l=s+1))-1,A=null}return b!==r&&tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jm(e){var t,n,r,s,i,a=Math.floor,o=new Array(64),l=new Array(64),h=new Array(64),p=new Array(64),m=new Array(65535),b=new Array(65535),v=new Array(64),k=new Array(64),A=[],L=0,x=7,N=new Array(64),_=new Array(64),C=new Array(64),q=new Array(256),G=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(E,J){for(var X=0,oe=0,he=new Array,ne=1;ne<=16;ne++){for(var ce=1;ce<=E[ne];ce++)he[J[oe]]=[],he[J[oe]][0]=X,he[J[oe]][1]=ne,oe++,X++;X*=2}return he}function be(E){for(var J=E[0],X=E[1]-1;X>=0;)J&1<<X&&(L|=1<<x),X--,--x<0&&(L==255?(se(255),se(0)):se(L),x=7,L=0)}function se(E){A.push(E)}function ue(E){se(E>>8&255),se(255&E)}function Y(E,J,X,oe,he){for(var ne,ce=he[0],ae=he[240],me=function(Ee,Fe){var Ue,qe,et,ft,gt,lt,Se,Be,De,Je,ke=0;for(De=0;De<8;++De){Ue=Ee[ke],qe=Ee[ke+1],et=Ee[ke+2],ft=Ee[ke+3],gt=Ee[ke+4],lt=Ee[ke+5],Se=Ee[ke+6];var Rt=Ue+(Be=Ee[ke+7]),_t=Ue-Be,On=qe+Se,St=qe-Se,Et=et+lt,Yt=et-lt,kt=ft+gt,Rn=ft-gt,qt=Rt+kt,Ye=Rt-kt,Nt=On+Et,ht=On-Et;Ee[ke]=qt+Nt,Ee[ke+4]=qt-Nt;var Ze=.707106781*(ht+Ye);Ee[ke+2]=Ye+Ze,Ee[ke+6]=Ye-Ze;var jt=.382683433*((qt=Rn+Yt)-(ht=St+_t)),Fn=.5411961*qt+jt,Ht=1.306562965*ht+jt,Pr=.707106781*(Nt=Yt+St),Hr=_t+Pr,st=_t-Pr;Ee[ke+5]=st+Fn,Ee[ke+3]=st-Fn,Ee[ke+1]=Hr+Ht,Ee[ke+7]=Hr-Ht,ke+=8}for(ke=0,De=0;De<8;++De){Ue=Ee[ke],qe=Ee[ke+8],et=Ee[ke+16],ft=Ee[ke+24],gt=Ee[ke+32],lt=Ee[ke+40],Se=Ee[ke+48];var tr=Ue+(Be=Ee[ke+56]),Ls=Ue-Be,dr=qe+Se,kn=qe-Se,xn=et+lt,Cr=et-lt,yi=ft+gt,hr=ft-gt,fr=tr+yi,cs=tr-yi,Tr=dr+xn,Es=dr-xn;Ee[ke]=fr+Tr,Ee[ke+32]=fr-Tr;var Vr=.707106781*(Es+cs);Ee[ke+16]=cs+Vr,Ee[ke+48]=cs-Vr;var nr=.382683433*((fr=hr+Cr)-(Es=kn+Ls)),pn=.5411961*fr+nr,Mn=1.306562965*Es+nr,Dn=.707106781*(Tr=Cr+kn),_n=Ls+Dn,zs=Ls-Dn;Ee[ke+40]=zs+pn,Ee[ke+24]=zs-pn,Ee[ke+8]=_n+Mn,Ee[ke+56]=_n-Mn,ke++}for(De=0;De<64;++De)Je=Ee[De]*Fe[De],v[De]=Je>0?Je+.5|0:Je-.5|0;return v}(E,J),xe=0;xe<64;++xe)k[H[xe]]=me[xe];var Ce=k[0]-X;X=k[0],Ce==0?be(oe[0]):(be(oe[b[ne=32767+Ce]]),be(m[ne]));for(var Te=63;Te>0&&k[Te]==0;)Te--;if(Te==0)return be(ce),X;for(var Me,_e=1;_e<=Te;){for(var te=_e;k[_e]==0&&_e<=Te;)++_e;var $e=_e-te;if($e>=16){Me=$e>>4;for(var We=1;We<=Me;++We)be(ae);$e&=15}ne=32767+k[_e],be(he[($e<<4)+b[ne]]),be(m[ne]),_e++}return Te!=63&&be(ce),X}function K(E){E=Math.min(Math.max(E,1),100),i!=E&&(function(J){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var he=a((X[oe]*J+50)/100);he=Math.min(Math.max(he,1),255),o[H[oe]]=he}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ae=a((ne[ce]*J+50)/100);ae=Math.min(Math.max(ae,1),255),l[H[ce]]=ae}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,Ce=0;Ce<8;Ce++)for(var Te=0;Te<8;Te++)h[xe]=1/(o[H[xe]]*me[Ce]*me[Te]*8),p[xe]=1/(l[H[xe]]*me[Ce]*me[Te]*8),xe++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,J){J&&K(J),A=new Array,L=0,x=7,ue(65496),ue(65504),ue(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),ue(1),ue(1),se(0),se(0),function(){ue(65499),ue(132),se(0);for(var qe=0;qe<64;qe++)se(o[qe]);se(1);for(var et=0;et<64;et++)se(l[et])}(),function(qe,et){ue(65472),ue(17),se(8),ue(et),ue(qe),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(E.width,E.height),function(){ue(65476),ue(418),se(0);for(var qe=0;qe<16;qe++)se($[qe+1]);for(var et=0;et<=11;et++)se(ie[et]);se(16);for(var ft=0;ft<16;ft++)se(Z[ft+1]);for(var gt=0;gt<=161;gt++)se(O[gt]);se(1);for(var lt=0;lt<16;lt++)se(U[lt+1]);for(var Se=0;Se<=11;Se++)se(ee[Se]);se(17);for(var Be=0;Be<16;Be++)se(V[Be+1]);for(var De=0;De<=161;De++)se(ve[De])}(),ue(65498),ue(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var X=0,oe=0,he=0;L=0,x=7,this.encode.displayName="_encode_";for(var ne,ce,ae,me,xe,Ce,Te,Me,_e,te=E.data,$e=E.width,We=E.height,Ee=4*$e,Fe=0;Fe<We;){for(ne=0;ne<Ee;){for(xe=Ee*Fe+ne,Te=-1,Me=0,_e=0;_e<64;_e++)Ce=xe+(Me=_e>>3)*Ee+(Te=4*(7&_e)),Fe+Me>=We&&(Ce-=Ee*(Fe+1+Me-We)),ne+Te>=Ee&&(Ce-=ne+Te-Ee+4),ce=te[Ce++],ae=te[Ce++],me=te[Ce++],N[_e]=(G[ce]+G[ae+256>>0]+G[me+512>>0]>>16)-128,_[_e]=(G[ce+768>>0]+G[ae+1024>>0]+G[me+1280>>0]>>16)-128,C[_e]=(G[ce+1280>>0]+G[ae+1536>>0]+G[me+1792>>0]>>16)-128;X=Y(N,h,X,t,r),oe=Y(_,p,oe,n,s),he=Y(C,p,he,n,s),ne+=32}Fe+=8}if(x>=0){var Ue=[];Ue[1]=x+1,Ue[0]=(1<<x+1)-1,be(Ue)}return ue(65497),new Uint8Array(A)},e=e||50,function(){for(var E=String.fromCharCode,J=0;J<256;J++)q[J]=E(J)}(),t=de($,ie),n=de(U,ee),r=de(Z,O),s=de(V,ve),function(){for(var E=1,J=2,X=1;X<=15;X++){for(var oe=E;oe<J;oe++)b[32767+oe]=X,m[32767+oe]=[],m[32767+oe][1]=X,m[32767+oe][0]=oe;for(var he=-(J-1);he<=-E;he++)b[32767+he]=X,m[32767+he]=[],m[32767+he][1]=X,m[32767+he][0]=J-1+he;E<<=1,J<<=1}}(),function(){for(var E=0;E<256;E++)G[E]=19595*E,G[E+256>>0]=38470*E,G[E+512>>0]=7471*E+32768,G[E+768>>0]=-11059*E,G[E+1024>>0]=-21709*E,G[E+1280>>0]=32768*E+8421375,G[E+1536>>0]=-27439*E,G[E+1792>>0]=-5329*E}(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ii(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function F2(e){function t($){if(!$)throw Error("assert :P")}function n($,ie,Z){for(var O=0;4>O;O++)if($[ie+O]!=Z.charCodeAt(O))return!0;return!1}function r($,ie,Z,O,U){for(var ee=0;ee<U;ee++)$[ie+ee]=Z[O+ee]}function s($,ie,Z,O){for(var U=0;U<O;U++)$[ie+U]=Z}function i($){return new Int32Array($)}function a($,ie){for(var Z=[],O=0;O<$;O++)Z.push(new ie);return Z}function o($,ie){var Z=[];return function O(U,ee,V){for(var ve=V[ee],de=0;de<ve&&(U.push(V.length>ee+1?[]:new ie),!(V.length<ee+1));de++)O(U[de],ee+1,V)}(Z,0,$),Z}var l=function(){var $=this;function ie(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function Z(c,f,y,j,T){t(!(j%y));do c[f+(j-=y)]=T;while(0<j)}function O(c,f,y,j,T){if(t(2328>=T),512>=T)var F=i(512);else if((F=i(T))==null)return 0;return function(M,z,W,Q,ge,Ne){var S,d,w=z,P=1<<W,R=i(16),D=i(16);for(t(ge!=0),t(Q!=null),t(M!=null),t(0<W),d=0;d<ge;++d){if(15<Q[d])return 0;++R[Q[d]]}if(R[0]==ge)return 0;for(D[1]=0,S=1;15>S;++S){if(R[S]>1<<S)return 0;D[S+1]=D[S]+R[S]}for(d=0;d<ge;++d)S=Q[d],0<Q[d]&&(Ne[D[S]++]=d);if(D[15]==1)return(Q=new U).g=0,Q.value=Ne[0],Z(M,w,1,P,Q),P;var le,pe=-1,ye=P-1,Ae=0,je=1,Ie=1,Oe=1<<W;for(d=0,S=1,ge=2;S<=W;++S,ge<<=1){if(je+=Ie<<=1,0>(Ie-=R[S]))return 0;for(;0<R[S];--R[S])(Q=new U).g=S,Q.value=Ne[d++],Z(M,w+Ae,ge,Oe,Q),Ae=ie(Ae,S)}for(S=W+1,ge=2;15>=S;++S,ge<<=1){if(je+=Ie<<=1,0>(Ie-=R[S]))return 0;for(;0<R[S];--R[S]){if(Q=new U,(Ae&ye)!=pe){for(w+=Oe,le=1<<(pe=S)-W;15>pe&&!(0>=(le-=R[pe]));)++pe,le<<=1;P+=Oe=1<<(le=pe-W),M[z+(pe=Ae&ye)].g=le+W,M[z+pe].value=w-z-pe}Q.g=S-W,Q.value=Ne[d++],Z(M,w+(Ae>>W),ge,Oe,Q),Ae=ie(Ae,S)}}return je!=2*D[15]-1?0:P}(c,f,y,j,T,F)}function U(){this.value=this.g=0}function ee(){this.value=this.g=0}function V(){this.G=a(5,U),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Un,ee)}function ve(c,f,y,j){t(c!=null),t(f!=null),t(2147483648>j),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+j,c.Zc=4<=j?y+j-4+1:y,ne(c)}function de(c,f){for(var y=0;0<f--;)y|=ae(c,128)<<f;return y}function be(c,f){var y=de(c,f);return ce(c)?-y:y}function se(c,f,y,j){var T,F=0;for(t(c!=null),t(f!=null),t(4294967288>j),c.Sb=j,c.Ra=0,c.u=0,c.h=0,4<j&&(j=4),T=0;T<j;++T)F+=f[y+T]<<8*T;c.Ra=F,c.bb=j,c.oa=f,c.pa=y}function ue(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Wa-8>>>0,++c.bb,c.u-=8;X(c)&&(c.h=1,c.u=0)}function Y(c,f){if(t(0<=f),!c.h&&f<=$a){var y=J(c)&Ws[f];return c.u+=f,ue(c),y}return c.h=1,c.u=0}function K(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(c){return c.Ra>>>(c.u&Wa-1)>>>0}function X(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Wa}function oe(c,f){c.u=f,c.h=X(c)}function he(c){c.u>=Ha&&(t(c.u>=Ha),ue(c))}function ne(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ce(c){return de(c,1)}function ae(c,f){var y=c.Ca;0>c.b&&ne(c);var j=c.b,T=y*f>>>8,F=(c.I>>>j>T)+0;for(F?(y-=T,c.I-=T+1<<j>>>0):y=T+1,j=y,T=0;256<=j;)T+=8,j>>=8;return j=7^T+gr[j],c.b-=j,c.Ca=(y<<j)-1,F}function me(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=y>>0&255}function xe(c,f){return c[f+0]<<0|c[f+1]<<8}function Ce(c,f){return xe(c,f)|c[f+2]<<16}function Te(c,f){return xe(c,f)|xe(c,f+2)<<16}function Me(c,f){var y=1<<f;return t(c!=null),t(0<f),c.X=i(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function _e(c,f){t(c!=null),t(f!=null),t(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function $e(c,f,y,j){t(y!=null),t(j!=null);var T=y[0],F=j[0];return T==0&&(T=(c*F+f/2)/f),F==0&&(F=(f*T+c/2)/c),0>=T||0>=F?0:(y[0]=T,j[0]=F,1)}function We(c,f){return c+(1<<f)-1>>>f}function Ee(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function Fe(c,f){$[f]=function(y,j,T,F,M,z,W){var Q;for(Q=0;Q<M;++Q){var ge=$[c](z[W+Q-1],T,F+Q);z[W+Q]=Ee(y[j+Q],ge)}}}function Ue(){this.ud=this.hd=this.jd=0}function qe(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function et(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function ft(c,f){return et(c+(c-f+.5>>1))}function gt(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function lt(c,f,y,j,T,F,M){for(j=F[M-1],y=0;y<T;++y)F[M+y]=j=Ee(c[f+y],j)}function Se(c,f,y,j,T){var F;for(F=0;F<y;++F){var M=c[f+F],z=M>>8&255,W=16711935&(W=(W=16711935&M)+((z<<16)+z));j[T+F]=(4278255360&M)+W>>>0}}function Be(c,f){f.jd=c>>0&255,f.hd=c>>8&255,f.ud=c>>16&255}function De(c,f,y,j,T,F){var M;for(M=0;M<j;++M){var z=f[y+M],W=z>>>8,Q=z,ge=255&(ge=(ge=z>>>16)+((c.jd<<24>>24)*(W<<24>>24)>>>5));Q=255&(Q=(Q=Q+((c.hd<<24>>24)*(W<<24>>24)>>>5))+((c.ud<<24>>24)*(ge<<24>>24)>>>5)),T[F+M]=(4278255360&z)+(ge<<16)+Q}}function Je(c,f,y,j,T){$[f]=function(F,M,z,W,Q,ge,Ne,S,d){for(W=Ne;W<S;++W)for(Ne=0;Ne<d;++Ne)Q[ge++]=T(z[j(F[M++])])},$[c]=function(F,M,z,W,Q,ge,Ne){var S=8>>F.b,d=F.Ea,w=F.K[0],P=F.w;if(8>S)for(F=(1<<F.b)-1,P=(1<<S)-1;M<z;++M){var R,D=0;for(R=0;R<d;++R)R&F||(D=j(W[Q++])),ge[Ne++]=T(w[D&P]),D>>=S}else $["VP8LMapColor"+y](W,Q,w,P,ge,Ne,M,z,d)}}function ke(c,f,y,j,T){for(y=f+y;f<y;){var F=c[f++];j[T++]=F>>16&255,j[T++]=F>>8&255,j[T++]=F>>0&255}}function Rt(c,f,y,j,T){for(y=f+y;f<y;){var F=c[f++];j[T++]=F>>16&255,j[T++]=F>>8&255,j[T++]=F>>0&255,j[T++]=F>>24&255}}function _t(c,f,y,j,T){for(y=f+y;f<y;){var F=(M=c[f++])>>16&240|M>>12&15,M=M>>0&240|M>>28&15;j[T++]=F,j[T++]=M}}function On(c,f,y,j,T){for(y=f+y;f<y;){var F=(M=c[f++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;j[T++]=F,j[T++]=M}}function St(c,f,y,j,T){for(y=f+y;f<y;){var F=c[f++];j[T++]=F>>0&255,j[T++]=F>>8&255,j[T++]=F>>16&255}}function Et(c,f,y,j,T,F){if(F==0)for(y=f+y;f<y;)me(j,((F=c[f++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),T+=32;else r(j,T,c,f,y)}function Yt(c,f){$[f][0]=$[c+"0"],$[f][1]=$[c+"1"],$[f][2]=$[c+"2"],$[f][3]=$[c+"3"],$[f][4]=$[c+"4"],$[f][5]=$[c+"5"],$[f][6]=$[c+"6"],$[f][7]=$[c+"7"],$[f][8]=$[c+"8"],$[f][9]=$[c+"9"],$[f][10]=$[c+"10"],$[f][11]=$[c+"11"],$[f][12]=$[c+"12"],$[f][13]=$[c+"13"],$[f][14]=$[c+"0"],$[f][15]=$[c+"0"]}function kt(c){return c==Xa||c==Nu||c==ul||c==cc}function Rn(){this.eb=[],this.size=this.A=this.fb=0}function qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ye(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rn,this.f.kb=new qt,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ze(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function jt(c,f){var y=c.T,j=f.ba.f.RGBA,T=j.eb,F=j.fb+c.ka*j.A,M=Zr[f.ba.S],z=c.y,W=c.O,Q=c.f,ge=c.N,Ne=c.ea,S=c.W,d=f.cc,w=f.dc,P=f.Mc,R=f.Nc,D=c.ka,le=c.ka+c.T,pe=c.U,ye=pe+1>>1;for(D==0?M(z,W,null,null,Q,ge,Ne,S,Q,ge,Ne,S,T,F,null,null,pe):(M(f.ec,f.fc,z,W,d,w,P,R,Q,ge,Ne,S,T,F-j.A,T,F,pe),++y);D+2<le;D+=2)d=Q,w=ge,P=Ne,R=S,ge+=c.Rc,S+=c.Rc,F+=2*j.A,M(z,(W+=2*c.fa)-c.fa,z,W,d,w,P,R,Q,ge,Ne,S,T,F-j.A,T,F,pe);return W+=c.fa,c.j+le<c.o?(r(f.ec,f.fc,z,W,pe),r(f.cc,f.dc,Q,ge,ye),r(f.Mc,f.Nc,Ne,S,ye),y--):1&le||M(z,W,null,null,Q,ge,Ne,S,Q,ge,Ne,S,T,F+j.A,null,null,pe),y}function Fn(c,f,y){var j=c.F,T=[c.J];if(j!=null){var F=c.U,M=f.ba.S,z=M==oc||M==ul;f=f.ba.f.RGBA;var W=[0],Q=c.ka;W[0]=c.T,c.Kb&&(Q==0?--W[0]:(--Q,T[0]-=c.width),c.j+c.ka+c.T==c.o&&(W[0]=c.o-c.j-Q));var ge=f.eb;Q=f.fb+Q*f.A,c=Vt(j,T[0],c.width,F,W,ge,Q+(z?0:3),f.A),t(y==W),c&&kt(M)&&Xr(ge,Q,z,F,W,f.A)}return 0}function Ht(c){var f=c.ma,y=f.ba.S,j=11>y,T=y==ic||y==ac||y==oc||y==_u||y==12||kt(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!za(f.Oa,c,T?11:12))return 0;if(T&&kt(y)&&Re(),c.da)alert("todo:use_scaling");else{if(j){if(f.Ib=Ze,c.Kb){if(y=c.U+1>>1,f.memory=i(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=jt,Re()}}else alert("todo:EmitYUV");T&&(f.Jb=Fn,j&&we())}if(j&&!Ii){for(c=0;256>c;++c)sh[c]=89858*(c-128)+hc>>fl,Pu[c]=-22014*(c-128)+hc,ih[c]=-45773*(c-128),Eu[c]=113618*(c-128)+hc>>fl;for(c=eo;c<pl;++c)f=76283*(c-16)+hc>>fl,ah[c-eo]=Ir(f,255),Cu[c-eo]=Ir(f+8>>4,15);Ii=1}return 1}function Pr(c){var f=c.ma,y=c.U,j=c.T;return t(!(1&c.ka)),0>=y||0>=j?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function Hr(c){c.ma.memory=null}function st(c,f,y,j){return Y(c,8)!=47?0:(f[0]=Y(c,14)+1,y[0]=Y(c,14)+1,j[0]=Y(c,1),Y(c,3)!=0?0:!c.h)}function tr(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+Y(f,y)+1}function Ls(c,f){return 120<f?f-120:1<=(y=((y=vp[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function dr(c,f,y){var j=J(y),T=c[f+=255&j].g-8;return 0<T&&(oe(y,y.u+8),j=J(y),f+=c[f].value,f+=j&(1<<T)-1),oe(y,y.u+c[f].g),c[f].value}function kn(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,t(8>=y.g),c.g}function xn(c,f,y){var j=c.xc;return t((f=j==0?0:c.vc[c.md*(y>>j)+(f>>j)])<c.Wb),c.Ya[f]}function Cr(c,f,y,j){var T=c.ab,F=c.c*f,M=c.C;f=M+f;var z=y,W=j;for(j=c.Ta,y=c.Ua;0<T--;){var Q=c.gc[T],ge=M,Ne=f,S=z,d=W,w=(W=j,z=y,Q.Ea);switch(t(ge<Ne),t(Ne<=Q.nc),Q.hc){case 2:sl(S,d,(Ne-ge)*w,W,z);break;case 0:var P=ge,R=Ne,D=W,le=z,pe=(Oe=Q).Ea;P==0&&(xu(S,d,null,null,1,D,le),lt(S,d+1,0,0,pe-1,D,le+1),d+=pe,le+=pe,++P);for(var ye=1<<Oe.b,Ae=ye-1,je=We(pe,Oe.b),Ie=Oe.K,Oe=Oe.w+(P>>Oe.b)*je;P<R;){var He=Ie,Qe=Oe,Ke=1;for(Va(S,d,D,le-pe,1,D,le);Ke<pe;){var Ve=(Ke&~Ae)+ye;Ve>pe&&(Ve=pe),(0,An[He[Qe++]>>8&15])(S,d+ +Ke,D,le+Ke-pe,Ve-Ke,D,le+Ke),Ke=Ve}d+=pe,le+=pe,++P&Ae||(Oe+=je)}Ne!=Q.nc&&r(W,z-w,W,z+(Ne-ge-1)*w,w);break;case 1:for(w=S,R=d,pe=(S=Q.Ea)-(le=S&~(D=(d=1<<Q.b)-1)),P=We(S,Q.b),ye=Q.K,Q=Q.w+(ge>>Q.b)*P;ge<Ne;){for(Ae=ye,je=Q,Ie=new Ue,Oe=R+le,He=R+S;R<Oe;)Be(Ae[je++],Ie),sa(Ie,w,R,d,W,z),R+=d,z+=d;R<He&&(Be(Ae[je++],Ie),sa(Ie,w,R,pe,W,z),R+=pe,z+=pe),++ge&D||(Q+=P)}break;case 3:if(S==W&&d==z&&0<Q.b){for(R=W,S=w=z+(Ne-ge)*w-(le=(Ne-ge)*We(Q.Ea,Q.b)),d=W,D=z,P=[],le=(pe=le)-1;0<=le;--le)P[le]=d[D+le];for(le=pe-1;0<=le;--le)R[S+le]=P[le];Or(Q,ge,Ne,W,w,W,z)}else Or(Q,ge,Ne,S,d,W,z)}z=j,W=y}W!=y&&r(j,y,z,W,F)}function yi(c,f){var y=c.V,j=c.Ba+c.c*c.C,T=f-c.C;if(t(f<=c.l.o),t(16>=T),0<T){var F=c.l,M=c.Ta,z=c.Ua,W=F.width;if(Cr(c,T,y,j),T=z=[z],t((y=c.C)<(j=f)),t(F.v<F.va),j>F.o&&(j=F.o),y<F.j){var Q=F.j-y;y=F.j,T[0]+=Q*W}if(y>=j?y=0:(T[0]+=4*F.v,F.ka=y-F.j,F.U=F.va-F.v,F.T=j-y,y=1),y){if(z=z[0],11>(y=c.ca).S){var ge=y.f.RGBA,Ne=(j=y.S,T=F.U,F=F.T,Q=ge.eb,ge.A),S=F;for(ge=ge.fb+c.Ma*ge.A;0<S--;){var d=M,w=z,P=T,R=Q,D=ge;switch(j){case sc:vr(d,w,P,R,D);break;case ic:Kn(d,w,P,R,D);break;case Xa:Kn(d,w,P,R,D),Xr(R,D,0,P,1,0);break;case Yd:Js(d,w,P,R,D);break;case ac:Et(d,w,P,R,D,1);break;case Nu:Et(d,w,P,R,D,1),Xr(R,D,0,P,1,0);break;case oc:Et(d,w,P,R,D,0);break;case ul:Et(d,w,P,R,D,0),Xr(R,D,1,P,1,0);break;case _u:Vs(d,w,P,R,D);break;case cc:Vs(d,w,P,R,D),Zt(R,D,P,1,0);break;case lc:Gs(d,w,P,R,D);break;default:t(0)}z+=W,ge+=Ne}c.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=y.height)}}c.C=f,t(c.C<=c.i)}function hr(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,j=c.Ya[f].H;if(0<y[1][j[1]+0].g||0<y[2][j[2]+0].g||0<y[3][j[3]+0].g)return 0}return 1}function fr(c,f,y,j,T,F){if(c.Z!=0){var M=c.qd,z=c.rd;for(t(yr[c.Z]!=null);f<y;++f)yr[c.Z](M,z,j,T,j,T,F),M=j,z=T,T+=F;c.qd=M,c.rd=z}}function cs(c,f){var y=c.l.ma,j=y.Z==0||y.Z==1?c.l.j:c.C;if(j=c.C<j?j:c.C,t(f<=c.l.o),f>j){var T=c.l.width,F=y.ca,M=y.tb+T*j,z=c.V,W=c.Ba+c.c*j,Q=c.gc;t(c.ab==1),t(Q[0].hc==3),il(Q[0],j,f,z,W,F,M),fr(y,j,f,F,M,T)}c.C=c.Ma=f}function Tr(c,f,y,j,T,F,M){var z=c.$/j,W=c.$%j,Q=c.m,ge=c.s,Ne=y+c.$,S=Ne;T=y+j*T;var d=y+j*F,w=280+ge.ua,P=c.Pb?z:16777216,R=0<ge.ua?ge.Wa:null,D=ge.wc,le=Ne<d?xn(ge,W,z):null;t(c.C<F),t(d<=T);var pe=!1;e:for(;;){for(;pe||Ne<d;){var ye=0;if(z>=P){var Ae=Ne-y;t((P=c).Pb),P.wd=P.m,P.xd=Ae,0<P.s.ua&&_e(P.s.Wa,P.s.vb),P=z+yp}if(W&D||(le=xn(ge,W,z)),t(le!=null),le.Qb&&(f[Ne]=le.qb,pe=!0),!pe)if(he(Q),le.jc){ye=Q,Ae=f;var je=Ne,Ie=le.pd[J(ye)&Un-1];t(le.jc),256>Ie.g?(oe(ye,ye.u+Ie.g),Ae[je]=Ie.value,ye=0):(oe(ye,ye.u+Ie.g-256),t(256<=Ie.value),ye=Ie.value),ye==0&&(pe=!0)}else ye=dr(le.G[0],le.H[0],Q);if(Q.h)break;if(pe||256>ye){if(!pe)if(le.nd)f[Ne]=(le.qb|ye<<8)>>>0;else{if(he(Q),pe=dr(le.G[1],le.H[1],Q),he(Q),Ae=dr(le.G[2],le.H[2],Q),je=dr(le.G[3],le.H[3],Q),Q.h)break;f[Ne]=(je<<24|pe<<16|ye<<8|Ae)>>>0}if(pe=!1,++Ne,++W>=j&&(W=0,++z,M!=null&&z<=F&&!(z%16)&&M(c,z),R!=null))for(;S<Ne;)ye=f[S++],R.X[(506832829*ye&4294967295)>>>R.Mb]=ye}else if(280>ye){if(ye=tr(ye-256,Q),Ae=dr(le.G[4],le.H[4],Q),he(Q),Ae=Ls(j,Ae=tr(Ae,Q)),Q.h)break;if(Ne-y<Ae||T-Ne<ye)break e;for(je=0;je<ye;++je)f[Ne+je]=f[Ne+je-Ae];for(Ne+=ye,W+=ye;W>=j;)W-=j,++z,M!=null&&z<=F&&!(z%16)&&M(c,z);if(t(Ne<=T),W&D&&(le=xn(ge,W,z)),R!=null)for(;S<Ne;)ye=f[S++],R.X[(506832829*ye&4294967295)>>>R.Mb]=ye}else{if(!(ye<w))break e;for(pe=ye-280,t(R!=null);S<Ne;)ye=f[S++],R.X[(506832829*ye&4294967295)>>>R.Mb]=ye;ye=Ne,t(!(pe>>>(Ae=R).Xa)),f[ye]=Ae.X[pe],pe=!0}pe||t(Q.h==X(Q))}if(c.Pb&&Q.h&&Ne<T)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&_e(c.s.vb,c.s.Wa);else{if(Q.h)break e;M!=null&&M(c,z>F?F:z),c.a=0,c.$=Ne-y}return 1}return c.a=3,0}function Es(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,t(c!=null)}function Vr(){var c=new wu;return c==null?null:(c.a=0,c.xb=Za,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),sl=Se,sa=De,vr=ke,Kn=Rt,Vs=_t,Gs=On,Js=St,$.VP8LMapColor32b=Hs,$.VP8LMapColor8b=Ga,c)}function nr(c,f,y,j,T){var F=1,M=[c],z=[f],W=j.m,Q=j.s,ge=null,Ne=0;e:for(;;){if(y)for(;F&&Y(W,1);){var S=M,d=z,w=j,P=1,R=w.m,D=w.gc[w.ab],le=Y(R,2);if(w.Oc&1<<le)F=0;else{switch(w.Oc|=1<<le,D.hc=le,D.Ea=S[0],D.nc=d[0],D.K=[null],++w.ab,t(4>=w.ab),le){case 0:case 1:D.b=Y(R,3)+2,P=nr(We(D.Ea,D.b),We(D.nc,D.b),0,w,D.K),D.K=D.K[0];break;case 3:var pe,ye=Y(R,8)+1,Ae=16<ye?0:4<ye?1:2<ye?2:3;if(S[0]=We(D.Ea,Ae),D.b=Ae,pe=P=nr(ye,1,0,w,D.K)){var je,Ie=ye,Oe=D,He=1<<(8>>Oe.b),Qe=i(He);if(Qe==null)pe=0;else{var Ke=Oe.K[0],Ve=Oe.w;for(Qe[0]=Oe.K[0][0],je=1;je<1*Ie;++je)Qe[je]=Ee(Ke[Ve+je],Qe[je-1]);for(;je<4*He;++je)Qe[je]=0;Oe.K[0]=null,Oe.K[0]=Qe,pe=1}}P=pe;break;case 2:break;default:t(0)}F=P}}if(M=M[0],z=z[0],F&&Y(W,1)&&!(F=1<=(Ne=Y(W,4))&&11>=Ne)){j.a=3;break e}var at;if(at=F)t:{var ct,Ge,mt,ut=j,ot=M,At=z,rt=Ne,Pt=y,Bt=ut.m,zt=ut.s,Gt=[null],$t=1,an=0,gn=oa[rt];n:for(;;){if(Pt&&Y(Bt,1)){var It=Y(Bt,3)+2,zn=We(ot,It),Xn=We(At,It),bs=zn*Xn;if(!nr(zn,Xn,0,ut,Gt))break n;for(Gt=Gt[0],zt.xc=It,ct=0;ct<bs;++ct){var en=Gt[ct]>>8&65535;Gt[ct]=en,en>=$t&&($t=en+1)}}if(Bt.h)break n;for(Ge=0;5>Ge;++Ge){var wt=uc[Ge];!Ge&&0<rt&&(wt+=1<<rt),an<wt&&(an=wt)}var $n=a($t*gn,U),Dr=$t,ti=a(Dr,V);if(ti==null)var la=null;else t(65536>=Dr),la=ti;var to=i(an);if(la==null||to==null||$n==null){ut.a=1;break n}var ml=$n;for(ct=mt=0;ct<$t;++ct){var br=la[ct],no=br.G,ro=br.H,fc=0,pc=1,Tu=0;for(Ge=0;5>Ge;++Ge){wt=uc[Ge],no[Ge]=ml,ro[Ge]=mt,!Ge&&0<rt&&(wt+=1<<rt);s:{var mc,gc=wt,gl=ut,vl=to,jp=ml,ca=mt,so=0,ni=gl.m,ch=Y(ni,1);if(s(vl,0,0,gc),ch){var Iu=Y(ni,1)+1,uh=Y(ni,1),Ou=Y(ni,uh==0?1:8);vl[Ou]=1,Iu==2&&(vl[Ou=Y(ni,8)]=1);var yl=1}else{var Ru=i(19),dh=Y(ni,4)+4;if(19<dh){gl.a=3;var vc=0;break s}for(mc=0;mc<dh;++mc)Ru[gp[mc]]=Y(ni,3);var bl=void 0,io=void 0,c1=gl,Cw=Ru,hh=gc,u1=vl,kp=0,ao=c1.m,d1=8,h1=a(128,U);r:for(;O(h1,0,7,Cw,19);){if(Y(ao,1)){var Tw=2+2*Y(ao,3);if((bl=2+Y(ao,Tw))>hh)break r}else bl=hh;for(io=0;io<hh&&bl--;){he(ao);var f1=h1[0+(127&J(ao))];oe(ao,ao.u+f1.g);var yc=f1.value;if(16>yc)u1[io++]=yc,yc!=0&&(d1=yc);else{var Iw=yc==16,p1=yc-16,Ow=Su[p1],m1=Y(ao,dl[p1])+Ow;if(io+m1>hh)break r;for(var Rw=Iw?d1:0;0<m1--;)u1[io++]=Rw}}kp=1;break r}kp||(c1.a=3),yl=kp}(yl=yl&&!ni.h)&&(so=O(jp,ca,8,vl,gc)),yl&&so!=0?vc=so:(gl.a=3,vc=0)}if(vc==0)break n;if(pc&&mp[Ge]==1&&(pc=ml[mt].g==0),fc+=ml[mt].g,mt+=vc,3>=Ge){var Fu,Ap=to[0];for(Fu=1;Fu<wt;++Fu)to[Fu]>Ap&&(Ap=to[Fu]);Tu+=Ap}}if(br.nd=pc,br.Qb=0,pc&&(br.qb=(no[3][ro[3]+0].value<<24|no[1][ro[1]+0].value<<16|no[2][ro[2]+0].value)>>>0,fc==0&&256>no[0][ro[0]+0].value&&(br.Qb=1,br.qb+=no[0][ro[0]+0].value<<8)),br.jc=!br.Qb&&6>Tu,br.jc){var fh,ua=br;for(fh=0;fh<Un;++fh){var oo=fh,lo=ua.pd[oo],ph=ua.G[0][ua.H[0]+oo];256<=ph.value?(lo.g=ph.g+256,lo.value=ph.value):(lo.g=0,lo.value=0,oo>>=kn(ph,8,lo),oo>>=kn(ua.G[1][ua.H[1]+oo],16,lo),oo>>=kn(ua.G[2][ua.H[2]+oo],0,lo),kn(ua.G[3][ua.H[3]+oo],24,lo))}}}zt.vc=Gt,zt.Wb=$t,zt.Ya=la,zt.yc=$n,at=1;break t}at=0}if(!(F=at)){j.a=3;break e}if(0<Ne){if(Q.ua=1<<Ne,!Me(Q.Wa,Ne)){j.a=1,F=0;break e}}else Q.ua=0;var Lp=j,g1=M,Fw=z,Ep=Lp.s,Pp=Ep.xc;if(Lp.c=g1,Lp.i=Fw,Ep.md=We(g1,Pp),Ep.wc=Pp==0?-1:(1<<Pp)-1,y){j.xb=wp;break e}if((ge=i(M*z))==null){j.a=1,F=0;break e}F=(F=Tr(j,ge,0,M,z,z,null))&&!W.h;break e}return F?(T!=null?T[0]=ge:(t(ge==null),t(y)),j.$=0,y||Es(Q)):Es(Q),F}function pn(c,f){var y=c.c*c.i,j=y+f+16*f;return t(c.c<=f),c.V=i(j),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function Mn(c,f){var y=c.C,j=f-y,T=c.V,F=c.Ba+c.c*y;for(t(f<=c.l.o);0<j;){var M=16<j?16:j,z=c.l.ma,W=c.l.width,Q=W*M,ge=z.ca,Ne=z.tb+W*y,S=c.Ta,d=c.Ua;Cr(c,M,T,F),hn(S,d,ge,Ne,Q),fr(z,y,y+M,ge,Ne,W),j-=M,T+=M*c.c,y+=M}t(y==f),c.C=c.Ma=f}function Dn(){this.ub=this.yd=this.td=this.Rb=0}function _n(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zs(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function qs(){this.Yb=function(){var c=[];return function f(y,j,T){for(var F=T[j],M=0;M<F&&(y.push(T.length>j+1?[]:0),!(T.length<j+1));M++)f(y[M],j+1,T)}(c,0,[3,11]),c}()}function $s(){this.jb=i(3),this.Wc=o([4,8],qs),this.Xc=o([4,17],qs)}function bi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Gi(){this.ld=this.La=this.dd=this.tc=0}function ka(){this.Na=this.la=0}function wi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Aa(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gi),this.Y=0,this.ya=Array(new Aa),this.aa=0,this.l=new Ji}function La(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Vl(){this.cb=this.a=0,this.sc="",this.m=new K,this.Od=new Dn,this.Kc=new _n,this.ed=new bi,this.Qa=new zs,this.Ic=this.$c=this.Aa=0,this.D=new qo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,K),this.ia=0,this.pb=a(4,wi),this.Pa=new $s,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new La),this.Hd=0,this.rb=Array(new ka),this.sb=0,this.wa=Array(new Gi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Aa),this.L=this.aa=0,this.gd=o([4,2],Gi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ji(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gl(){var c=new Vl;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,hl||(hl=Ho)),c}function un(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function $o(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function Wo(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return un(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,j=f.w,T=f.ha;if(4>T)return un(c,7,"Truncated header.");var F=y[j+0]|y[j+1]<<8|y[j+2]<<16,M=c.Od;if(M.Rb=!(1&F),M.td=F>>1&7,M.yd=F>>4&1,M.ub=F>>5,3<M.td)return un(c,3,"Incorrect keyframe parameters.");if(!M.yd)return un(c,4,"Frame not displayable.");j+=3,T-=3;var z=c.Kc;if(M.Rb){if(7>T)return un(c,7,"cannot parse picture header");if(!$o(y,j,T))return un(c,3,"Bad code word");z.c=16383&(y[j+4]<<8|y[j+3]),z.Td=y[j+4]>>6,z.i=16383&(y[j+6]<<8|y[j+5]),z.Ud=y[j+6]>>6,j+=7,T-=7,c.za=z.c+15>>4,c.Ub=z.i+15>>4,f.width=z.c,f.height=z.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,s((F=c.Pa).jb,0,255,F.jb.length),t((F=c.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,s(F.Zb,0,0,F.Zb.length),s(F.Lb,0,0,F.Lb)}if(M.ub>T)return un(c,7,"bad partition length");ve(F=c.m,y,j,M.ub),j+=M.ub,T-=M.ub,M.Rb&&(z.Ld=ce(F),z.Kd=ce(F)),z=c.Qa;var W,Q=c.Pa;if(t(F!=null),t(z!=null),z.Cb=ce(F),z.Cb){if(z.Bb=ce(F),ce(F)){for(z.Fb=ce(F),W=0;4>W;++W)z.Zb[W]=ce(F)?be(F,7):0;for(W=0;4>W;++W)z.Lb[W]=ce(F)?be(F,6):0}if(z.Bb)for(W=0;3>W;++W)Q.jb[W]=ce(F)?de(F,8):255}else z.Bb=0;if(F.Ka)return un(c,3,"cannot parse segment header");if((z=c.ed).zd=ce(F),z.Tb=de(F,6),z.wb=de(F,3),z.Pc=ce(F),z.Pc&&ce(F)){for(Q=0;4>Q;++Q)ce(F)&&(z.vd[Q]=be(F,6));for(Q=0;4>Q;++Q)ce(F)&&(z.od[Q]=be(F,6))}if(c.L=z.Tb==0?0:z.zd?1:2,F.Ka)return un(c,3,"cannot parse filter header");var ge=T;if(T=W=j,j=W+ge,z=ge,c.Xb=(1<<de(c.m,2))-1,ge<3*(Q=c.Xb))y=7;else{for(W+=3*Q,z-=3*Q,ge=0;ge<Q;++ge){var Ne=y[T+0]|y[T+1]<<8|y[T+2]<<16;Ne>z&&(Ne=z),ve(c.Jc[+ge],y,W,Ne),W+=Ne,z-=Ne,T+=3}ve(c.Jc[+Q],y,W,z),y=W<j?0:5}if(y!=0)return un(c,y,"cannot parse partitions");for(y=de(W=c.m,7),T=ce(W)?be(W,4):0,j=ce(W)?be(W,4):0,z=ce(W)?be(W,4):0,Q=ce(W)?be(W,4):0,W=ce(W)?be(W,4):0,ge=c.Qa,Ne=0;4>Ne;++Ne){if(ge.Cb){var S=ge.Zb[Ne];ge.Fb||(S+=y)}else{if(0<Ne){c.pb[Ne]=c.pb[0];continue}S=y}var d=c.pb[Ne];d.Sc[0]=ju[Ir(S+T,127)],d.Sc[1]=ku[Ir(S+0,127)],d.Eb[0]=2*ju[Ir(S+j,127)],d.Eb[1]=101581*ku[Ir(S+z,127)]>>16,8>d.Eb[1]&&(d.Eb[1]=8),d.Qc[0]=ju[Ir(S+Q,117)],d.Qc[1]=ku[Ir(S+W,127)],d.lc=S+W}if(!M.Rb)return un(c,4,"Not a key frame.");for(ce(F),M=c.Pa,y=0;4>y;++y){for(T=0;8>T;++T)for(j=0;3>j;++j)for(z=0;11>z;++z)Q=ae(F,Qa[y][T][j][z])?de(F,8):Qd[y][T][j][z],M.Wc[y][T].Yb[j][z]=Q;for(T=0;17>T;++T)M.Xc[y][T]=M.Wc[y][Lu[T]]}return c.kc=ce(F),c.kc&&(c.Bd=de(F,8)),c.cb=1}function Ho(c,f,y,j,T,F,M){var z=f[T].Yb[y];for(y=0;16>T;++T){if(!ae(c,z[y+0]))return T;for(;!ae(c,z[y+1]);)if(z=f[++T].Yb[0],y=0,T==16)return 16;var W=f[T+1].Yb;if(ae(c,z[y+2])){var Q=c,ge=0;if(ae(Q,(S=z)[(Ne=y)+3]))if(ae(Q,S[Ne+6])){for(z=0,Ne=2*(ge=ae(Q,S[Ne+8]))+(S=ae(Q,S[Ne+9+ge])),ge=0,S=dc[Ne];S[z];++z)ge+=ge+ae(Q,S[z]);ge+=3+(8<<Ne)}else ae(Q,S[Ne+7])?(ge=7+2*ae(Q,165),ge+=ae(Q,145)):ge=5+ae(Q,159);else ge=ae(Q,S[Ne+4])?3+ae(Q,S[Ne+5]):2;z=W[2]}else ge=1,z=W[1];W=M+Au[T],0>(Q=c).b&&ne(Q);var Ne,S=Q.b,d=(Ne=Q.Ca>>1)-(Q.I>>S)>>31;--Q.b,Q.Ca+=d,Q.Ca|=1,Q.I-=(Ne+1&d)<<S,F[W]=((ge^d)-d)*j[(0<T)+0]}return 16}function Ea(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,s(c.zc,0,0,c.zc.length),c.ja=0}function Jl(c,f){if(c==null)return 0;if(f==null)return un(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!Wo(c,f))return 0;if(t(c.cb),f.ac==null||f.ac(f)){f.ob&&(c.L=0);var y=Os[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=f.v-y>>4,c.zb=f.j-y>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=f.o+15+y>>4,c.Hb=f.va+15+y>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var j=c.ed;for(y=0;4>y;++y){var T;if(c.Qa.Cb){var F=c.Qa.Lb[y];c.Qa.Fb||(F+=j.Tb)}else F=j.Tb;for(T=0;1>=T;++T){var M=c.gd[y][T],z=F;if(j.Pc&&(z+=j.vd[0],T&&(z+=j.od[0])),0<(z=0>z?0:63<z?63:z)){var W=z;0<j.wb&&(W=4<j.wb?W>>2:W>>1)>9-j.wb&&(W=9-j.wb),1>W&&(W=1),M.dd=W,M.tc=2*z+W,M.ld=40<=z?2:15<=z?1:0}else M.tc=0;M.La=T}}}y=0}else un(c,6,"Frame setup failed"),y=c.a;if(y=y==0){if(y){c.$c=0,0<c.Aa||(c.Ic=Sp);e:{y=c.Ic,j=4*(W=c.za);var Q=32*W,ge=W+1,Ne=0<c.L?W*(0<c.Aa?2:1):0,S=(c.Aa==2?2:1)*W;if((M=j+832+(T=3*(16*y+Os[c.L])/2*Q)+(F=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=M)y=0;else{if(M>c.Vb){if(c.Vb=0,c.Ec=i(M),c.Fc=0,c.Ec==null){y=un(c,1,"no memory during frame initialization.");break e}c.Vb=M}M=c.Ec,z=c.Fc,c.Ac=M,c.Bc=z,z+=j,c.Gd=a(Q,La),c.Hd=0,c.rb=a(ge+1,ka),c.sb=1,c.wa=Ne?a(Ne,Gi):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=W),t(!0),c.oc=M,c.pc=z,z+=832,c.ya=a(S,Aa),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=W),c.R=16*W,c.B=8*W,W=(Q=Os[c.L])*c.R,Q=Q/2*c.B,c.sa=M,c.ta=z+W,c.qa=c.sa,c.ra=c.ta+16*y*c.R+Q,c.Ha=c.qa,c.Ia=c.ra+8*y*c.B+Q,c.$c=0,z+=T,c.mb=F?M:null,c.nb=F?z:null,t(z+F<=c.Fc+c.Vb),Ea(c),s(c.Ac,c.Bc,0,j),y=1}}if(y){if(f.ka=0,f.y=c.sa,f.O=c.ta,f.f=c.qa,f.N=c.ra,f.ea=c.Ha,f.Vd=c.Ia,f.fa=c.R,f.Rc=c.B,f.F=null,f.J=0,!rc){for(y=-255;255>=y;++y)Ln[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Qs[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)ll[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)Ya[255+y]=0>y?0:255<y?255:y;rc=1}Ja=Ca,Ks=Vo,al=Pa,Yn=Jr,Rr=Ps,mn=sr,Ci=Fa,nc=Ai,ol=tl,Fr=Ma,ar=Ql,Ys=ea,ia=nl,aa=Zl,Ti=Ra,Xs=ms,Ka=Ts,Yr=ji,ys[0]=hs,ys[1]=Go,ys[2]=Ko,ys[3]=Yi,ys[4]=Yo,ys[5]=fs,ys[6]=Xo,ys[7]=Qo,ys[8]=Zo,ys[9]=Xl,Zs[0]=Yl,Zs[1]=xi,Zs[2]=ds,Zs[3]=Ki,Zs[4]=sn,Zs[5]=Ta,Zs[6]=Jo,ei[0]=ps,ei[1]=Kl,ei[2]=Ia,ei[3]=Xi,ei[4]=_i,ei[5]=bu,ei[6]=Zi,y=1}else y=0}y&&(y=function(d,w){for(d.M=0;d.M<d.Va;++d.M){var P,R=d.Jc[d.M&d.Xb],D=d.m,le=d;for(P=0;P<le.za;++P){var pe=D,ye=le,Ae=ye.Ac,je=ye.Bc+4*P,Ie=ye.zc,Oe=ye.ya[ye.aa+P];if(ye.Qa.Bb?Oe.$b=ae(pe,ye.Pa.jb[0])?2+ae(pe,ye.Pa.jb[2]):ae(pe,ye.Pa.jb[1]):Oe.$b=0,ye.kc&&(Oe.Ad=ae(pe,ye.Bd)),Oe.Za=!ae(pe,145)+0,Oe.Za){var He=Oe.Ob,Qe=0;for(ye=0;4>ye;++ye){var Ke,Ve=Ie[0+ye];for(Ke=0;4>Ke;++Ke){Ve=bp[Ae[je+Ke]][Ve];for(var at=Xd[ae(pe,Ve[0])];0<at;)at=Xd[2*at+ae(pe,Ve[at])];Ve=-at,Ae[je+Ke]=Ve}r(He,Qe,Ae,je,4),Qe+=4,Ie[0+ye]=Ve}}else Ve=ae(pe,156)?ae(pe,128)?1:3:ae(pe,163)?2:0,Oe.Ob[0]=Ve,s(Ae,je,Ve,4),s(Ie,0,Ve,4);Oe.Dd=ae(pe,142)?ae(pe,114)?ae(pe,183)?1:3:2:0}if(le.m.Ka)return un(d,7,"Premature end-of-partition0 encountered.");for(;d.ja<d.za;++d.ja){if(le=R,pe=(D=d).rb[D.sb-1],Ae=D.rb[D.sb+D.ja],P=D.ya[D.aa+D.ja],je=D.kc?P.Ad:0)pe.la=Ae.la=0,P.Za||(pe.Na=Ae.Na=0),P.Hc=0,P.Gc=0,P.ia=0;else{var ct,Ge;if(pe=Ae,Ae=le,je=D.Pa.Xc,Ie=D.ya[D.aa+D.ja],Oe=D.pb[Ie.$b],ye=Ie.ad,He=0,Qe=D.rb[D.sb-1],Ve=Ke=0,s(ye,He,0,384),Ie.Za)var mt=0,ut=je[3];else{at=i(16);var ot=pe.Na+Qe.Na;if(ot=hl(Ae,je[1],ot,Oe.Eb,0,at,0),pe.Na=Qe.Na=(0<ot)+0,1<ot)Ja(at,0,ye,He);else{var At=at[0]+3>>3;for(at=0;256>at;at+=16)ye[He+at]=At}mt=1,ut=je[0]}var rt=15&pe.la,Pt=15&Qe.la;for(at=0;4>at;++at){var Bt=1&Pt;for(At=Ge=0;4>At;++At)rt=rt>>1|(Bt=(ot=hl(Ae,ut,ot=Bt+(1&rt),Oe.Sc,mt,ye,He))>mt)<<7,Ge=Ge<<2|(3<ot?3:1<ot?2:ye[He+0]!=0),He+=16;rt>>=4,Pt=Pt>>1|Bt<<7,Ke=(Ke<<8|Ge)>>>0}for(ut=rt,mt=Pt>>4,ct=0;4>ct;ct+=2){for(Ge=0,rt=pe.la>>4+ct,Pt=Qe.la>>4+ct,at=0;2>at;++at){for(Bt=1&Pt,At=0;2>At;++At)ot=Bt+(1&rt),rt=rt>>1|(Bt=0<(ot=hl(Ae,je[2],ot,Oe.Qc,0,ye,He)))<<3,Ge=Ge<<2|(3<ot?3:1<ot?2:ye[He+0]!=0),He+=16;rt>>=2,Pt=Pt>>1|Bt<<5}Ve|=Ge<<4*ct,ut|=rt<<4<<ct,mt|=(240&Pt)<<ct}pe.la=ut,Qe.la=mt,Ie.Hc=Ke,Ie.Gc=Ve,Ie.ia=43690&Ve?0:Oe.ia,je=!(Ke|Ve)}if(0<D.L&&(D.wa[D.Y+D.ja]=D.gd[P.$b][P.Za],D.wa[D.Y+D.ja].La|=!je),le.Ka)return un(d,7,"Premature end-of-file encountered.")}if(Ea(d),D=w,le=1,P=(R=d).D,pe=0<R.L&&R.M>=R.zb&&R.M<=R.Va,R.Aa==0)e:{if(P.M=R.M,P.uc=pe,Ua(R,P),le=1,P=(Ge=R.D).Nb,pe=(Ve=Os[R.L])*R.R,Ae=Ve/2*R.B,at=16*P*R.R,At=8*P*R.B,je=R.sa,Ie=R.ta-pe+at,Oe=R.qa,ye=R.ra-Ae+At,He=R.Ha,Qe=R.Ia-Ae+At,Pt=(rt=Ge.M)==0,Ke=rt>=R.Va-1,R.Aa==2&&Ua(R,Ge),Ge.uc)for(Bt=(ot=R).D.M,t(ot.D.uc),Ge=ot.yb;Ge<ot.Hb;++Ge){mt=Ge,ut=Bt;var zt=(Gt=(wt=ot).D).Nb;ct=wt.R;var Gt=Gt.wa[Gt.Y+mt],$t=wt.sa,an=wt.ta+16*zt*ct+16*mt,gn=Gt.dd,It=Gt.tc;if(It!=0)if(t(3<=It),wt.L==1)0<mt&&Xs($t,an,ct,It+4),Gt.La&&Yr($t,an,ct,It),0<ut&&Ti($t,an,ct,It+4),Gt.La&&Ka($t,an,ct,It);else{var zn=wt.B,Xn=wt.qa,bs=wt.ra+8*zt*zn+8*mt,en=wt.Ha,wt=wt.Ia+8*zt*zn+8*mt;zt=Gt.ld,0<mt&&(nc($t,an,ct,It+4,gn,zt),Fr(Xn,bs,en,wt,zn,It+4,gn,zt)),Gt.La&&(Ys($t,an,ct,It,gn,zt),aa(Xn,bs,en,wt,zn,It,gn,zt)),0<ut&&(Ci($t,an,ct,It+4,gn,zt),ol(Xn,bs,en,wt,zn,It+4,gn,zt)),Gt.La&&(ar($t,an,ct,It,gn,zt),ia(Xn,bs,en,wt,zn,It,gn,zt))}}if(R.ia&&alert("todo:DitherRow"),D.put!=null){if(Ge=16*rt,rt=16*(rt+1),Pt?(D.y=R.sa,D.O=R.ta+at,D.f=R.qa,D.N=R.ra+At,D.ea=R.Ha,D.W=R.Ia+At):(Ge-=Ve,D.y=je,D.O=Ie,D.f=Oe,D.N=ye,D.ea=He,D.W=Qe),Ke||(rt-=Ve),rt>D.o&&(rt=D.o),D.F=null,D.J=null,R.Fa!=null&&0<R.Fa.length&&Ge<rt&&(D.J=na(R,D,Ge,rt-Ge),D.F=R.mb,D.F==null&&D.F.length==0)){le=un(R,3,"Could not decode alpha data.");break e}Ge<D.j&&(Ve=D.j-Ge,Ge=D.j,t(!(1&Ve)),D.O+=R.R*Ve,D.N+=R.B*(Ve>>1),D.W+=R.B*(Ve>>1),D.F!=null&&(D.J+=D.width*Ve)),Ge<rt&&(D.O+=D.v,D.N+=D.v>>1,D.W+=D.v>>1,D.F!=null&&(D.J+=D.v),D.ka=Ge-D.j,D.U=D.va-D.v,D.T=rt-Ge,le=D.put(D))}P+1!=R.Ic||Ke||(r(R.sa,R.ta-pe,je,Ie+16*R.R,pe),r(R.qa,R.ra-Ae,Oe,ye+8*R.B,Ae),r(R.Ha,R.Ia-Ae,He,Qe+8*R.B,Ae))}if(!le)return un(d,6,"Output aborted.")}return 1}(c,f)),f.bc!=null&&f.bc(f),y&=1}return y?(c.cb=0,y):0}function Gr(c,f,y,j,T){T=c[f+y+32*j]+(T>>3),c[f+y+32*j]=-256&T?0>T?0:255:T}function rr(c,f,y,j,T,F){Gr(c,f,0,y,j+T),Gr(c,f,1,y,j+F),Gr(c,f,2,y,j-F),Gr(c,f,3,y,j-T)}function Xt(c){return(20091*c>>16)+c}function us(c,f,y,j){var T,F=0,M=i(16);for(T=0;4>T;++T){var z=c[f+0]+c[f+8],W=c[f+0]-c[f+8],Q=(35468*c[f+4]>>16)-Xt(c[f+12]),ge=Xt(c[f+4])+(35468*c[f+12]>>16);M[F+0]=z+ge,M[F+1]=W+Q,M[F+2]=W-Q,M[F+3]=z-ge,F+=4,f++}for(T=F=0;4>T;++T)z=(c=M[F+0]+4)+M[F+8],W=c-M[F+8],Q=(35468*M[F+4]>>16)-Xt(M[F+12]),Gr(y,j,0,0,z+(ge=Xt(M[F+4])+(35468*M[F+12]>>16))),Gr(y,j,1,0,W+Q),Gr(y,j,2,0,W-Q),Gr(y,j,3,0,z-ge),F++,j+=32}function sr(c,f,y,j){var T=c[f+0]+4,F=35468*c[f+4]>>16,M=Xt(c[f+4]),z=35468*c[f+1]>>16;rr(y,j,0,T+M,c=Xt(c[f+1]),z),rr(y,j,1,T+F,c,z),rr(y,j,2,T-F,c,z),rr(y,j,3,T-M,c,z)}function Vo(c,f,y,j,T){us(c,f,y,j),T&&us(c,f+16,y,j+4)}function Pa(c,f,y,j){Ks(c,f+0,y,j,1),Ks(c,f+32,y,j+128,1)}function Jr(c,f,y,j){var T;for(c=c[f+0]+4,T=0;4>T;++T)for(f=0;4>f;++f)Gr(y,j,f,T,c)}function Ps(c,f,y,j){c[f+0]&&Yn(c,f+0,y,j),c[f+16]&&Yn(c,f+16,y,j+4),c[f+32]&&Yn(c,f+32,y,j+128),c[f+48]&&Yn(c,f+48,y,j+128+4)}function Ca(c,f,y,j){var T,F=i(16);for(T=0;4>T;++T){var M=c[f+0+T]+c[f+12+T],z=c[f+4+T]+c[f+8+T],W=c[f+4+T]-c[f+8+T],Q=c[f+0+T]-c[f+12+T];F[0+T]=M+z,F[8+T]=M-z,F[4+T]=Q+W,F[12+T]=Q-W}for(T=0;4>T;++T)M=(c=F[0+4*T]+3)+F[3+4*T],z=F[1+4*T]+F[2+4*T],W=F[1+4*T]-F[2+4*T],Q=c-F[3+4*T],y[j+0]=M+z>>3,y[j+16]=Q+W>>3,y[j+32]=M-z>>3,y[j+48]=Q-W>>3,j+=64}function Cs(c,f,y){var j,T=f-32,F=Mr,M=255-c[T-1];for(j=0;j<y;++j){var z,W=F,Q=M+c[f-1];for(z=0;z<y;++z)c[f+z]=W[Q+c[T+z]];f+=32}}function Go(c,f){Cs(c,f,4)}function Kl(c,f){Cs(c,f,8)}function xi(c,f){Cs(c,f,16)}function ds(c,f){var y;for(y=0;16>y;++y)r(c,f+32*y,c,f-32,16)}function Ki(c,f){var y;for(y=16;0<y;--y)s(c,f,c[f-1],16),f+=32}function pr(c,f,y){var j;for(j=0;16>j;++j)s(f,y+32*j,c,16)}function Yl(c,f){var y,j=16;for(y=0;16>y;++y)j+=c[f-1+32*y]+c[f+y-32];pr(j>>5,c,f)}function sn(c,f){var y,j=8;for(y=0;16>y;++y)j+=c[f-1+32*y];pr(j>>4,c,f)}function Ta(c,f){var y,j=8;for(y=0;16>y;++y)j+=c[f+y-32];pr(j>>4,c,f)}function Jo(c,f){pr(128,c,f)}function vt(c,f,y){return c+2*f+y+2>>2}function Ko(c,f){var y,j=f-32;for(j=new Uint8Array([vt(c[j-1],c[j+0],c[j+1]),vt(c[j+0],c[j+1],c[j+2]),vt(c[j+1],c[j+2],c[j+3]),vt(c[j+2],c[j+3],c[j+4])]),y=0;4>y;++y)r(c,f+32*y,j,0,j.length)}function Yi(c,f){var y=c[f-1],j=c[f-1+32],T=c[f-1+64],F=c[f-1+96];me(c,f+0,16843009*vt(c[f-1-32],y,j)),me(c,f+32,16843009*vt(y,j,T)),me(c,f+64,16843009*vt(j,T,F)),me(c,f+96,16843009*vt(T,F,F))}function hs(c,f){var y,j=4;for(y=0;4>y;++y)j+=c[f+y-32]+c[f-1+32*y];for(j>>=3,y=0;4>y;++y)s(c,f+32*y,j,4)}function Yo(c,f){var y=c[f-1+0],j=c[f-1+32],T=c[f-1+64],F=c[f-1-32],M=c[f+0-32],z=c[f+1-32],W=c[f+2-32],Q=c[f+3-32];c[f+0+96]=vt(j,T,c[f-1+96]),c[f+1+96]=c[f+0+64]=vt(y,j,T),c[f+2+96]=c[f+1+64]=c[f+0+32]=vt(F,y,j),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=vt(M,F,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=vt(z,M,F),c[f+3+32]=c[f+2+0]=vt(W,z,M),c[f+3+0]=vt(Q,W,z)}function Xo(c,f){var y=c[f+1-32],j=c[f+2-32],T=c[f+3-32],F=c[f+4-32],M=c[f+5-32],z=c[f+6-32],W=c[f+7-32];c[f+0+0]=vt(c[f+0-32],y,j),c[f+1+0]=c[f+0+32]=vt(y,j,T),c[f+2+0]=c[f+1+32]=c[f+0+64]=vt(j,T,F),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=vt(T,F,M),c[f+3+32]=c[f+2+64]=c[f+1+96]=vt(F,M,z),c[f+3+64]=c[f+2+96]=vt(M,z,W),c[f+3+96]=vt(z,W,W)}function fs(c,f){var y=c[f-1+0],j=c[f-1+32],T=c[f-1+64],F=c[f-1-32],M=c[f+0-32],z=c[f+1-32],W=c[f+2-32],Q=c[f+3-32];c[f+0+0]=c[f+1+64]=F+M+1>>1,c[f+1+0]=c[f+2+64]=M+z+1>>1,c[f+2+0]=c[f+3+64]=z+W+1>>1,c[f+3+0]=W+Q+1>>1,c[f+0+96]=vt(T,j,y),c[f+0+64]=vt(j,y,F),c[f+0+32]=c[f+1+96]=vt(y,F,M),c[f+1+32]=c[f+2+96]=vt(F,M,z),c[f+2+32]=c[f+3+96]=vt(M,z,W),c[f+3+32]=vt(z,W,Q)}function Qo(c,f){var y=c[f+0-32],j=c[f+1-32],T=c[f+2-32],F=c[f+3-32],M=c[f+4-32],z=c[f+5-32],W=c[f+6-32],Q=c[f+7-32];c[f+0+0]=y+j+1>>1,c[f+1+0]=c[f+0+64]=j+T+1>>1,c[f+2+0]=c[f+1+64]=T+F+1>>1,c[f+3+0]=c[f+2+64]=F+M+1>>1,c[f+0+32]=vt(y,j,T),c[f+1+32]=c[f+0+96]=vt(j,T,F),c[f+2+32]=c[f+1+96]=vt(T,F,M),c[f+3+32]=c[f+2+96]=vt(F,M,z),c[f+3+64]=vt(M,z,W),c[f+3+96]=vt(z,W,Q)}function Xl(c,f){var y=c[f-1+0],j=c[f-1+32],T=c[f-1+64],F=c[f-1+96];c[f+0+0]=y+j+1>>1,c[f+2+0]=c[f+0+32]=j+T+1>>1,c[f+2+32]=c[f+0+64]=T+F+1>>1,c[f+1+0]=vt(y,j,T),c[f+3+0]=c[f+1+32]=vt(j,T,F),c[f+3+32]=c[f+1+64]=vt(T,F,F),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=F}function Zo(c,f){var y=c[f-1+0],j=c[f-1+32],T=c[f-1+64],F=c[f-1+96],M=c[f-1-32],z=c[f+0-32],W=c[f+1-32],Q=c[f+2-32];c[f+0+0]=c[f+2+32]=y+M+1>>1,c[f+0+32]=c[f+2+64]=j+y+1>>1,c[f+0+64]=c[f+2+96]=T+j+1>>1,c[f+0+96]=F+T+1>>1,c[f+3+0]=vt(z,W,Q),c[f+2+0]=vt(M,z,W),c[f+1+0]=c[f+3+32]=vt(y,M,z),c[f+1+32]=c[f+3+64]=vt(j,y,M),c[f+1+64]=c[f+3+96]=vt(T,j,y),c[f+1+96]=vt(F,T,j)}function Ia(c,f){var y;for(y=0;8>y;++y)r(c,f+32*y,c,f-32,8)}function Xi(c,f){var y;for(y=0;8>y;++y)s(c,f,c[f-1],8),f+=32}function Qi(c,f,y){var j;for(j=0;8>j;++j)s(f,y+32*j,c,8)}function ps(c,f){var y,j=8;for(y=0;8>y;++y)j+=c[f+y-32]+c[f-1+32*y];Qi(j>>4,c,f)}function bu(c,f){var y,j=4;for(y=0;8>y;++y)j+=c[f+y-32];Qi(j>>3,c,f)}function _i(c,f){var y,j=4;for(y=0;8>y;++y)j+=c[f-1+32*y];Qi(j>>3,c,f)}function Zi(c,f){Qi(128,c,f)}function Ni(c,f,y){var j=c[f-y],T=c[f+0],F=3*(T-j)+vs[1020+c[f-2*y]-c[f+y]],M=cl[112+(F+4>>3)];c[f-y]=Mr[255+j+cl[112+(F+3>>3)]],c[f+0]=Mr[255+T-M]}function Oa(c,f,y,j){var T=c[f+0],F=c[f+y];return Qr[255+c[f-2*y]-c[f-y]]>j||Qr[255+F-T]>j}function el(c,f,y,j){return 4*Qr[255+c[f-y]-c[f+0]]+Qr[255+c[f-2*y]-c[f+y]]<=j}function Si(c,f,y,j,T){var F=c[f-3*y],M=c[f-2*y],z=c[f-y],W=c[f+0],Q=c[f+y],ge=c[f+2*y],Ne=c[f+3*y];return 4*Qr[255+z-W]+Qr[255+M-Q]>j?0:Qr[255+c[f-4*y]-F]<=T&&Qr[255+F-M]<=T&&Qr[255+M-z]<=T&&Qr[255+Ne-ge]<=T&&Qr[255+ge-Q]<=T&&Qr[255+Q-W]<=T}function Ra(c,f,y,j){var T=2*j+1;for(j=0;16>j;++j)el(c,f+j,y,T)&&Ni(c,f+j,y)}function ms(c,f,y,j){var T=2*j+1;for(j=0;16>j;++j)el(c,f+j*y,1,T)&&Ni(c,f+j*y,1)}function Ts(c,f,y,j){var T;for(T=3;0<T;--T)Ra(c,f+=4*y,y,j)}function ji(c,f,y,j){var T;for(T=3;0<T;--T)ms(c,f+=4,y,j)}function ki(c,f,y,j,T,F,M,z){for(F=2*F+1;0<T--;){if(Si(c,f,y,F,M))if(Oa(c,f,y,z))Ni(c,f,y);else{var W=c,Q=f,ge=y,Ne=W[Q-2*ge],S=W[Q-ge],d=W[Q+0],w=W[Q+ge],P=W[Q+2*ge],R=27*(le=vs[1020+3*(d-S)+vs[1020+Ne-w]])+63>>7,D=18*le+63>>7,le=9*le+63>>7;W[Q-3*ge]=Mr[255+W[Q-3*ge]+le],W[Q-2*ge]=Mr[255+Ne+D],W[Q-ge]=Mr[255+S+R],W[Q+0]=Mr[255+d-R],W[Q+ge]=Mr[255+w-D],W[Q+2*ge]=Mr[255+P-le]}f+=j}}function Kr(c,f,y,j,T,F,M,z){for(F=2*F+1;0<T--;){if(Si(c,f,y,F,M))if(Oa(c,f,y,z))Ni(c,f,y);else{var W=c,Q=f,ge=y,Ne=W[Q-ge],S=W[Q+0],d=W[Q+ge],w=cl[112+((P=3*(S-Ne))+4>>3)],P=cl[112+(P+3>>3)],R=w+1>>1;W[Q-2*ge]=Mr[255+W[Q-2*ge]+R],W[Q-ge]=Mr[255+Ne+P],W[Q+0]=Mr[255+S-w],W[Q+ge]=Mr[255+d-R]}f+=j}}function Fa(c,f,y,j,T,F){ki(c,f,y,1,16,j,T,F)}function Ai(c,f,y,j,T,F){ki(c,f,1,y,16,j,T,F)}function Ql(c,f,y,j,T,F){var M;for(M=3;0<M;--M)Kr(c,f+=4*y,y,1,16,j,T,F)}function ea(c,f,y,j,T,F){var M;for(M=3;0<M;--M)Kr(c,f+=4,1,y,16,j,T,F)}function tl(c,f,y,j,T,F,M,z){ki(c,f,T,1,8,F,M,z),ki(y,j,T,1,8,F,M,z)}function Ma(c,f,y,j,T,F,M,z){ki(c,f,1,T,8,F,M,z),ki(y,j,1,T,8,F,M,z)}function nl(c,f,y,j,T,F,M,z){Kr(c,f+4*T,T,1,8,F,M,z),Kr(y,j+4*T,T,1,8,F,M,z)}function Zl(c,f,y,j,T,F,M,z){Kr(c,f+4,1,T,8,F,M,z),Kr(y,j+4,1,T,8,F,M,z)}function ta(){this.ba=new Ye,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Da(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Li(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ec(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new U}function wu(){this.xb=this.a=0,this.l=new Ji,this.ca=new Ye,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ec,this.ab=0,this.gc=a(4,Li),this.Oc=0}function Ei(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ji,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pi(c,f,y,j,T,F,M){for(c=c==null?0:c[f+0],f=0;f<M;++f)T[F+f]=c+y[j+f]&255,c=T[F+f]}function Ba(c,f,y,j,T,F,M){var z;if(c==null)Pi(null,null,y,j,T,F,M);else for(z=0;z<M;++z)T[F+z]=c[f+z]+y[j+z]&255}function mr(c,f,y,j,T,F,M){if(c==null)Pi(null,null,y,j,T,F,M);else{var z,W=c[f+0],Q=W,ge=W;for(z=0;z<M;++z)Q=ge+(W=c[f+z])-Q,ge=y[j+z]+(-256&Q?0>Q?0:255:Q)&255,Q=W,T[F+z]=ge}}function na(c,f,y,j){var T=f.width,F=f.o;if(t(c!=null&&f!=null),0>y||0>=j||y+j>F)return null;if(!c.Cc){if(c.ga==null){var M;if(c.ga=new Ei,(M=c.ga==null)||(M=f.width*f.o,t(c.Gb.length==0),c.Gb=i(M),c.Uc=0,c.Gb==null?M=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,M=1),M=!M),!M){M=c.ga;var z=c.Fa,W=c.P,Q=c.qc,ge=c.mb,Ne=c.nb,S=W+1,d=Q-1,w=M.l;if(t(z!=null&&ge!=null&&f!=null),yr[0]=null,yr[1]=Pi,yr[2]=Ba,yr[3]=mr,M.ca=ge,M.tb=Ne,M.c=f.width,M.i=f.height,t(0<M.c&&0<M.i),1>=Q)f=0;else if(M.$a=z[W+0]>>0&3,M.Z=z[W+0]>>2&3,M.Lc=z[W+0]>>4&3,W=z[W+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||W)f=0;else if(w.put=Pr,w.ac=Ht,w.bc=Hr,w.ma=M,w.width=f.width,w.height=f.height,w.Da=f.Da,w.v=f.v,w.va=f.va,w.j=f.j,w.o=f.o,M.$a)e:{t(M.$a==1),f=Vr();t:for(;;){if(f==null){f=0;break e}if(t(M!=null),M.mc=f,f.c=M.c,f.i=M.i,f.l=M.l,f.l.ma=M,f.l.width=M.c,f.l.height=M.i,f.a=0,se(f.m,z,S,d),!nr(M.c,M.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&hr(f.s)?(M.ic=1,z=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(z),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(M.ic=0,f=pn(f,M.c)),!f))break t;f=1;break e}M.mc=null,f=0}else f=d>=M.c*M.i;M=!f}if(M)return null;c.ga.Lc!=1?c.Ga=0:j=F-y}t(c.ga!=null),t(y+j<=F);e:{if(f=(z=c.ga).c,F=z.l.o,z.$a==0){if(S=c.rc,d=c.Vc,w=c.Fa,W=c.P+1+y*f,Q=c.mb,ge=c.nb+y*f,t(W<=c.P+c.qc),z.Z!=0)for(t(yr[z.Z]!=null),M=0;M<j;++M)yr[z.Z](S,d,w,W,Q,ge,f),S=Q,d=ge,ge+=f,W+=f;else for(M=0;M<j;++M)r(Q,ge,w,W,f),S=Q,d=ge,ge+=f,W+=f;c.rc=S,c.Vc=d}else{if(t(z.mc!=null),f=y+j,t((M=z.mc)!=null),t(f<=M.i),M.C>=f)f=1;else if(z.ic||we(),z.ic){z=M.V,S=M.Ba,d=M.c;var P=M.i,R=(w=1,W=M.$/d,Q=M.$%d,ge=M.m,Ne=M.s,M.$),D=d*P,le=d*f,pe=Ne.wc,ye=R<le?xn(Ne,Q,W):null;t(R<=D),t(f<=P),t(hr(Ne));t:for(;;){for(;!ge.h&&R<le;){if(Q&pe||(ye=xn(Ne,Q,W)),t(ye!=null),he(ge),256>(P=dr(ye.G[0],ye.H[0],ge)))z[S+R]=P,++R,++Q>=d&&(Q=0,++W<=f&&!(W%16)&&cs(M,W));else{if(!(280>P)){w=0;break t}P=tr(P-256,ge);var Ae,je=dr(ye.G[4],ye.H[4],ge);if(he(ge),!(R>=(je=Ls(d,je=tr(je,ge)))&&D-R>=P)){w=0;break t}for(Ae=0;Ae<P;++Ae)z[S+R+Ae]=z[S+R+Ae-je];for(R+=P,Q+=P;Q>=d;)Q-=d,++W<=f&&!(W%16)&&cs(M,W);R<le&&Q&pe&&(ye=xn(Ne,Q,W))}t(ge.h==X(ge))}cs(M,W>f?f:W);break t}!w||ge.h&&R<D?(w=0,M.a=ge.h?5:3):M.$=R,f=w}else f=Tr(M,M.V,M.Ba,M.c,M.i,f,Mn);if(!f){j=0;break e}}y+j>=F&&(c.Cc=1),j=1}if(!j)return null;if(c.Cc&&((j=c.ga)!=null&&(j.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*T}function g(c,f,y,j,T,F){for(;0<T--;){var M,z=c,W=f+(y?1:0),Q=c,ge=f+(y?0:3);for(M=0;M<j;++M){var Ne=Q[ge+4*M];Ne!=255&&(Ne*=32897,z[W+4*M+0]=z[W+4*M+0]*Ne>>23,z[W+4*M+1]=z[W+4*M+1]*Ne>>23,z[W+4*M+2]=z[W+4*M+2]*Ne>>23)}f+=F}}function I(c,f,y,j,T){for(;0<j--;){var F;for(F=0;F<y;++F){var M=c[f+2*F+0],z=15&(Q=c[f+2*F+1]),W=4369*z,Q=(240&Q|Q>>4)*W>>16;c[f+2*F+0]=(240&M|M>>4)*W>>16&240|(15&M|M<<4)*W>>16>>4&15,c[f+2*F+1]=240&Q|z}f+=T}}function re(c,f,y,j,T,F,M,z){var W,Q,ge=255;for(Q=0;Q<T;++Q){for(W=0;W<j;++W){var Ne=c[f+W];F[M+4*W]=Ne,ge&=Ne}f+=y,M+=z}return ge!=255}function fe(c,f,y,j,T){var F;for(F=0;F<T;++F)y[j+F]=c[f+F]>>8}function we(){Xr=g,Zt=I,Vt=re,hn=fe}function Pe(c,f,y){$[c]=function(j,T,F,M,z,W,Q,ge,Ne,S,d,w,P,R,D,le,pe){var ye,Ae=pe-1>>1,je=z[W+0]|Q[ge+0]<<16,Ie=Ne[S+0]|d[w+0]<<16;t(j!=null);var Oe=3*je+Ie+131074>>2;for(f(j[T+0],255&Oe,Oe>>16,P,R),F!=null&&(Oe=3*Ie+je+131074>>2,f(F[M+0],255&Oe,Oe>>16,D,le)),ye=1;ye<=Ae;++ye){var He=z[W+ye]|Q[ge+ye]<<16,Qe=Ne[S+ye]|d[w+ye]<<16,Ke=je+He+Ie+Qe+524296,Ve=Ke+2*(He+Ie)>>3;Oe=Ve+je>>1,je=(Ke=Ke+2*(je+Qe)>>3)+He>>1,f(j[T+2*ye-1],255&Oe,Oe>>16,P,R+(2*ye-1)*y),f(j[T+2*ye-0],255&je,je>>16,P,R+(2*ye-0)*y),F!=null&&(Oe=Ke+Ie>>1,je=Ve+Qe>>1,f(F[M+2*ye-1],255&Oe,Oe>>16,D,le+(2*ye-1)*y),f(F[M+2*ye+0],255&je,je>>16,D,le+(2*ye+0)*y)),je=He,Ie=Qe}1&pe||(Oe=3*je+Ie+131074>>2,f(j[T+pe-1],255&Oe,Oe>>16,P,R+(pe-1)*y),F!=null&&(Oe=3*Ie+je+131074>>2,f(F[M+pe-1],255&Oe,Oe>>16,D,le+(pe-1)*y)))}}function Re(){Zr[sc]=xp,Zr[ic]=Zd,Zr[Yd]=_p,Zr[ac]=eh,Zr[oc]=th,Zr[_u]=nh,Zr[lc]=Np,Zr[Xa]=Zd,Zr[Nu]=eh,Zr[ul]=th,Zr[cc]=nh}function Xe(c){return c&-16384?0>c?0:255:c>>rh}function it(c,f){return Xe((19077*c>>8)+(26149*f>>8)-14234)}function bt(c,f,y){return Xe((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function pt(c,f){return Xe((19077*c>>8)+(33050*f>>8)-17685)}function Dt(c,f,y,j,T){j[T+0]=it(c,y),j[T+1]=bt(c,f,y),j[T+2]=pt(c,f)}function Qt(c,f,y,j,T){j[T+0]=pt(c,f),j[T+1]=bt(c,f,y),j[T+2]=it(c,y)}function dn(c,f,y,j,T){var F=bt(c,f,y);f=F<<3&224|pt(c,f)>>3,j[T+0]=248&it(c,y)|F>>5,j[T+1]=f}function Nn(c,f,y,j,T){var F=240&pt(c,f)|15;j[T+0]=240&it(c,y)|bt(c,f,y)>>4,j[T+1]=F}function Jn(c,f,y,j,T){j[T+0]=255,Dt(c,f,y,j,T+1)}function Bn(c,f,y,j,T){Qt(c,f,y,j,T),j[T+3]=255}function gs(c,f,y,j,T){Dt(c,f,y,j,T),j[T+3]=255}function Ir(c,f){return 0>c?0:c>f?f:c}function Is(c,f,y){$[c]=function(j,T,F,M,z,W,Q,ge,Ne){for(var S=ge+(-2&Ne)*y;ge!=S;)f(j[T+0],F[M+0],z[W+0],Q,ge),f(j[T+1],F[M+0],z[W+0],Q,ge+y),T+=2,++M,++W,ge+=2*y;1&Ne&&f(j[T+0],F[M+0],z[W+0],Q,ge)}}function tc(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function ir(c,f,y,j,T){switch(c>>>30){case 3:Ks(f,y,j,T,0);break;case 2:mn(f,y,j,T);break;case 1:Yn(f,y,j,T)}}function Ua(c,f){var y,j,T=f.M,F=f.Nb,M=c.oc,z=c.pc+40,W=c.oc,Q=c.pc+584,ge=c.oc,Ne=c.pc+600;for(y=0;16>y;++y)M[z+32*y-1]=129;for(y=0;8>y;++y)W[Q+32*y-1]=129,ge[Ne+32*y-1]=129;for(0<T?M[z-1-32]=W[Q-1-32]=ge[Ne-1-32]=129:(s(M,z-32-1,127,21),s(W,Q-32-1,127,9),s(ge,Ne-32-1,127,9)),j=0;j<c.za;++j){var S=f.ya[f.aa+j];if(0<j){for(y=-1;16>y;++y)r(M,z+32*y-4,M,z+32*y+12,4);for(y=-1;8>y;++y)r(W,Q+32*y-4,W,Q+32*y+4,4),r(ge,Ne+32*y-4,ge,Ne+32*y+4,4)}var d=c.Gd,w=c.Hd+j,P=S.ad,R=S.Hc;if(0<T&&(r(M,z-32,d[w].y,0,16),r(W,Q-32,d[w].f,0,8),r(ge,Ne-32,d[w].ea,0,8)),S.Za){var D=M,le=z-32+16;for(0<T&&(j>=c.za-1?s(D,le,d[w].y[15],4):r(D,le,d[w+1].y,0,4)),y=0;4>y;y++)D[le+128+y]=D[le+256+y]=D[le+384+y]=D[le+0+y];for(y=0;16>y;++y,R<<=2)D=M,le=z+oh[y],ys[S.Ob[y]](D,le),ir(R,P,16*+y,D,le)}else if(D=tc(j,T,S.Ob[0]),Zs[D](M,z),R!=0)for(y=0;16>y;++y,R<<=2)ir(R,P,16*+y,M,z+oh[y]);for(y=S.Gc,D=tc(j,T,S.Dd),ei[D](W,Q),ei[D](ge,Ne),R=P,D=W,le=Q,255&(S=y>>0)&&(170&S?al(R,256,D,le):Rr(R,256,D,le)),S=ge,R=Ne,255&(y>>=8)&&(170&y?al(P,320,S,R):Rr(P,320,S,R)),T<c.Ub-1&&(r(d[w].y,0,M,z+480,16),r(d[w].f,0,W,Q+224,8),r(d[w].ea,0,ge,Ne+224,8)),y=8*F*c.B,d=c.sa,w=c.ta+16*j+16*F*c.R,P=c.qa,S=c.ra+8*j+y,R=c.Ha,D=c.Ia+8*j+y,y=0;16>y;++y)r(d,w+y*c.R,M,z+32*y,16);for(y=0;8>y;++y)r(P,S+y*c.B,W,Q+32*y,8),r(R,D+y*c.B,ge,Ne+32*y,8)}}function ra(c,f,y,j,T,F,M,z,W){var Q=[0],ge=[0],Ne=0,S=W!=null?W.kd:0,d=W??new Da;if(c==null||12>y)return 7;d.data=c,d.w=f,d.ha=y,f=[f],y=[y],d.gb=[d.gb];e:{var w=f,P=y,R=d.gb;if(t(c!=null),t(P!=null),t(R!=null),R[0]=0,12<=P[0]&&!n(c,w[0],"RIFF")){if(n(c,w[0]+8,"WEBP")){R=3;break e}var D=Te(c,w[0]+4);if(12>D||4294967286<D){R=3;break e}if(S&&D>P[0]-8){R=7;break e}R[0]=D,w[0]+=12,P[0]-=12}R=0}if(R!=0)return R;for(D=0<d.gb[0],y=y[0];;){e:{var le=c;P=f,R=y;var pe=Q,ye=ge,Ae=w=[0];if((Oe=Ne=[Ne])[0]=0,8>R[0])R=7;else{if(!n(le,P[0],"VP8X")){if(Te(le,P[0]+4)!=10){R=3;break e}if(18>R[0]){R=7;break e}var je=Te(le,P[0]+8),Ie=1+Ce(le,P[0]+12);if(2147483648<=Ie*(le=1+Ce(le,P[0]+15))){R=3;break e}Ae!=null&&(Ae[0]=je),pe!=null&&(pe[0]=Ie),ye!=null&&(ye[0]=le),P[0]+=18,R[0]-=18,Oe[0]=1}R=0}}if(Ne=Ne[0],w=w[0],R!=0)return R;if(P=!!(2&w),!D&&Ne)return 3;if(F!=null&&(F[0]=!!(16&w)),M!=null&&(M[0]=P),z!=null&&(z[0]=0),M=Q[0],w=ge[0],Ne&&P&&W==null){R=0;break}if(4>y){R=7;break}if(D&&Ne||!D&&!Ne&&!n(c,f[0],"ALPH")){y=[y],d.na=[d.na],d.P=[d.P],d.Sa=[d.Sa];e:{je=c,R=f,D=y;var Oe=d.gb;pe=d.na,ye=d.P,Ae=d.Sa,Ie=22,t(je!=null),t(D!=null),le=R[0];var He=D[0];for(t(pe!=null),t(Ae!=null),pe[0]=null,ye[0]=null,Ae[0]=0;;){if(R[0]=le,D[0]=He,8>He){R=7;break e}var Qe=Te(je,le+4);if(4294967286<Qe){R=3;break e}var Ke=8+Qe+1&-2;if(Ie+=Ke,0<Oe&&Ie>Oe){R=3;break e}if(!n(je,le,"VP8 ")||!n(je,le,"VP8L")){R=0;break e}if(He[0]<Ke){R=7;break e}n(je,le,"ALPH")||(pe[0]=je,ye[0]=le+8,Ae[0]=Qe),le+=Ke,He-=Ke}}if(y=y[0],d.na=d.na[0],d.P=d.P[0],d.Sa=d.Sa[0],R!=0)break}y=[y],d.Ja=[d.Ja],d.xa=[d.xa];e:if(Oe=c,R=f,D=y,pe=d.gb[0],ye=d.Ja,Ae=d.xa,je=R[0],le=!n(Oe,je,"VP8 "),Ie=!n(Oe,je,"VP8L"),t(Oe!=null),t(D!=null),t(ye!=null),t(Ae!=null),8>D[0])R=7;else{if(le||Ie){if(Oe=Te(Oe,je+4),12<=pe&&Oe>pe-12){R=3;break e}if(S&&Oe>D[0]-8){R=7;break e}ye[0]=Oe,R[0]+=8,D[0]-=8,Ae[0]=Ie}else Ae[0]=5<=D[0]&&Oe[je+0]==47&&!(Oe[je+4]>>5),ye[0]=D[0];R=0}if(y=y[0],d.Ja=d.Ja[0],d.xa=d.xa[0],f=f[0],R!=0)break;if(4294967286<d.Ja)return 3;if(z==null||P||(z[0]=d.xa?2:1),M=[M],w=[w],d.xa){if(5>y){R=7;break}z=M,S=w,P=F,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(D=[0],Oe=[0],pe=[0],se(ye=new E,c,f,y),st(ye,D,Oe,pe)?(z!=null&&(z[0]=D[0]),S!=null&&(S[0]=Oe[0]),P!=null&&(P[0]=pe[0]),c=1):c=0):c=0}else{if(10>y){R=7;break}z=w,c==null||10>y||!$o(c,f+3,y-3)?c=0:(S=c[f+0]|c[f+1]<<8|c[f+2]<<16,P=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&S||3<(S>>1&7)||!(S>>4&1)||S>>5>=d.Ja||!P||!c?c=0:(M&&(M[0]=P),z&&(z[0]=c),c=1))}if(!c||(M=M[0],w=w[0],Ne&&(Q[0]!=M||ge[0]!=w)))return 3;W!=null&&(W[0]=d,W.offset=f-W.w,t(4294967286>f-W.w),t(W.offset==W.ha-y));break}return R==0||R==7&&Ne&&W==null?(F!=null&&(F[0]|=d.na!=null&&0<d.na.length),j!=null&&(j[0]=M),T!=null&&(T[0]=w),0):R}function za(c,f,y){var j=f.width,T=f.height,F=0,M=0,z=j,W=T;if(f.Da=c!=null&&0<c.Da,f.Da&&(z=c.cd,W=c.bd,F=c.v,M=c.j,11>y||(F&=-2,M&=-2),0>F||0>M||0>=z||0>=W||F+z>j||M+W>T))return 0;if(f.v=F,f.j=M,f.va=F+z,f.o=M+W,f.U=z,f.T=W,f.da=c!=null&&0<c.da,f.da){if(!$e(z,W,y=[c.ib],F=[c.hb]))return 0;f.ib=y[0],f.hb=F[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*j/4&&f.hb<3*T/4,f.Kb=0),1}function rl(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function qa(c,f,y,j){if(j==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var T=y.cd,F=y.bd,M=-2&y.v,z=-2&y.j;if(0>M||0>z||0>=T||0>=F||M+T>c||z+F>f)return 2;c=T,f=F}if(y.da){if(!$e(c,f,T=[y.ib],F=[y.hb]))return 2;c=T[0],f=F[0]}}j.width=c,j.height=f;e:{var W=j.width,Q=j.height;if(c=j.S,0>=W||0>=Q||!(c>=sc&&13>c))c=2;else{if(0>=j.Rd&&j.sd==null){M=F=T=f=0;var ge=(z=W*lh[c])*Q;if(11>c||(F=(Q+1)/2*(f=(W+1)/2),c==12&&(M=(T=W)*Q)),(Q=i(ge+2*F+M))==null){c=1;break e}j.sd=Q,11>c?((W=j.f.RGBA).eb=Q,W.fb=0,W.A=z,W.size=ge):((W=j.f.kb).y=Q,W.O=0,W.fa=z,W.Fd=ge,W.f=Q,W.N=0+ge,W.Ab=f,W.Cd=F,W.ea=Q,W.W=0+ge+F,W.Db=f,W.Ed=F,c==12&&(W.F=Q,W.J=0+ge+2*F),W.Tc=M,W.lb=T)}if(f=1,T=j.S,F=j.width,M=j.height,T>=sc&&13>T)if(11>T)c=j.f.RGBA,f&=(z=Math.abs(c.A))*(M-1)+F<=c.size,f&=z>=F*lh[T],f&=c.eb!=null;else{c=j.f.kb,z=(F+1)/2,ge=(M+1)/2,W=Math.abs(c.fa),Q=Math.abs(c.Ab);var Ne=Math.abs(c.Db),S=Math.abs(c.lb),d=S*(M-1)+F;f&=W*(M-1)+F<=c.Fd,f&=Q*(ge-1)+z<=c.Cd,f=(f&=Ne*(ge-1)+z<=c.Ed)&W>=F&Q>=z&Ne>=z,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,T==12&&(f&=S>=F,f&=d<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=rl(j)),c}var Un=64,Ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$a=24,Wa=32,Ha=8,gr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(c){return c},$.Predictor2=function(c,f,y){return f[y+0]},$.Predictor3=function(c,f,y){return f[y+1]},$.Predictor4=function(c,f,y){return f[y-1]},$.Predictor5=function(c,f,y){return qe(qe(c,f[y+1]),f[y+0])},$.Predictor6=function(c,f,y){return qe(c,f[y-1])},$.Predictor7=function(c,f,y){return qe(c,f[y+0])},$.Predictor8=function(c,f,y){return qe(f[y-1],f[y+0])},$.Predictor9=function(c,f,y){return qe(f[y+0],f[y+1])},$.Predictor10=function(c,f,y){return qe(qe(c,f[y-1]),qe(f[y+0],f[y+1]))},$.Predictor11=function(c,f,y){var j=f[y+0];return 0>=gt(j>>24&255,c>>24&255,(f=f[y-1])>>24&255)+gt(j>>16&255,c>>16&255,f>>16&255)+gt(j>>8&255,c>>8&255,f>>8&255)+gt(255&j,255&c,255&f)?j:c},$.Predictor12=function(c,f,y){var j=f[y+0];return(et((c>>24&255)+(j>>24&255)-((f=f[y-1])>>24&255))<<24|et((c>>16&255)+(j>>16&255)-(f>>16&255))<<16|et((c>>8&255)+(j>>8&255)-(f>>8&255))<<8|et((255&c)+(255&j)-(255&f)))>>>0},$.Predictor13=function(c,f,y){var j=f[y-1];return(ft((c=qe(c,f[y+0]))>>24&255,j>>24&255)<<24|ft(c>>16&255,j>>16&255)<<16|ft(c>>8&255,j>>8&255)<<8|ft(c>>0&255,j>>0&255))>>>0};var xu=$.PredictorAdd0;$.PredictorAdd1=lt,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Va=$.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var sl,Or=$.ColorIndexInverseTransform,Hs=$.MapARGB,il=$.VP8LColorIndexInverseTransformAlpha,Ga=$.MapAlpha,An=$.VP8LPredictorsAdd=[];An.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var sa,vr,Kn,Vs,Gs,Js,Ja,Ks,mn,al,Yn,Rr,Ci,nc,ol,Fr,ar,Ys,ia,aa,Ti,Xs,Ka,Yr,Xr,Zt,Vt,hn,Ln=i(511),Qs=i(2041),ll=i(225),Ya=i(767),rc=0,vs=Qs,cl=ll,Mr=Ya,Qr=Ln,sc=0,ic=1,Yd=2,ac=3,oc=4,_u=5,lc=6,Xa=7,Nu=8,ul=9,cc=10,dl=[2,3,7],Su=[3,3,11],uc=[280,256,256,256,40],mp=[0,1,1,1,0],gp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],oa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yp=8,ju=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ku=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hl=null,dc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Au=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Lu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zs=[],ys=[],ei=[],wp=1,Za=2,yr=[],Zr=[];Pe("UpsampleRgbLinePair",Dt,3),Pe("UpsampleBgrLinePair",Qt,3),Pe("UpsampleRgbaLinePair",gs,4),Pe("UpsampleBgraLinePair",Bn,4),Pe("UpsampleArgbLinePair",Jn,4),Pe("UpsampleRgba4444LinePair",Nn,2),Pe("UpsampleRgb565LinePair",dn,2);var xp=$.UpsampleRgbLinePair,_p=$.UpsampleBgrLinePair,Zd=$.UpsampleRgbaLinePair,eh=$.UpsampleBgraLinePair,th=$.UpsampleArgbLinePair,nh=$.UpsampleRgba4444LinePair,Np=$.UpsampleRgb565LinePair,fl=16,hc=1<<fl-1,eo=-227,pl=482,rh=6,Ii=0,sh=i(256),Eu=i(256),ih=i(256),Pu=i(256),ah=i(pl-eo),Cu=i(pl-eo);Is("YuvToRgbRow",Dt,3),Is("YuvToBgrRow",Qt,3),Is("YuvToRgbaRow",gs,4),Is("YuvToBgraRow",Bn,4),Is("YuvToArgbRow",Jn,4),Is("YuvToRgba4444Row",Nn,2),Is("YuvToRgb565Row",dn,2);var oh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Os=[0,2,8],Oi=[8,7,6,4,4,2,2,2,1,1,1,1],Sp=1;this.WebPDecodeRGBA=function(c,f,y,j,T){var F=ic,M=new ta,z=new Ye;M.ba=z,z.S=F,z.width=[z.width],z.height=[z.height];var W=z.width,Q=z.height,ge=new Nt;if(ge==null||c==null)var Ne=2;else t(ge!=null),Ne=ra(c,f,y,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ne!=0?W=0:(W!=null&&(W[0]=ge.width[0]),Q!=null&&(Q[0]=ge.height[0]),W=1),W){z.width=z.width[0],z.height=z.height[0],j!=null&&(j[0]=z.width),T!=null&&(T[0]=z.height);e:{if(j=new Ji,(T=new Da).data=c,T.w=f,T.ha=y,T.kd=1,f=[0],t(T!=null),((c=ra(T.data,T.w,T.ha,null,null,null,f,null,T))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(t(M!=null),j.data=T.data,j.w=T.w+T.offset,j.ha=T.ha-T.offset,j.put=Pr,j.ac=Ht,j.bc=Hr,j.ma=M,T.xa){if((c=Vr())==null){M=1;break e}if(function(S,d){var w=[0],P=[0],R=[0];t:for(;;){if(S==null)return 0;if(d==null)return S.a=2,0;if(S.l=d,S.a=0,se(S.m,d.data,d.w,d.ha),!st(S.m,w,P,R)){S.a=3;break t}if(S.xb=Za,d.width=w[0],d.height=P[0],!nr(w[0],P[0],1,S,null))break t;return 1}return t(S.a!=0),0}(c,j)){if(j=(f=qa(j.width,j.height,M.Oa,M.ba))==0){t:{j=c;n:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((y=j.l)!=null),t((T=y.ma)!=null),j.xb!=0){if(j.ca=T.ba,j.tb=T.tb,t(j.ca!=null),!za(T.Oa,y,ac)){j.a=2;break n}if(!pn(j,y.width)||y.da)break n;if((y.da||kt(j.ca.S))&&we(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&we()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Me(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Tr(j,j.V,j.Ba,j.c,j.i,y.o,yi))break n;T.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(f=c.a)}else f=c.a}else{if((c=new Gl)==null){M=1;break e}if(c.Fa=T.na,c.P=T.P,c.qc=T.Sa,Wo(c,j)){if((f=qa(j.width,j.height,M.Oa,M.ba))==0){if(c.Aa=0,y=M.Oa,t((T=c)!=null),y!=null){if(0<(W=0>(W=y.Md)?0:100<W?255:255*W/100)){for(Q=ge=0;4>Q;++Q)12>(Ne=T.pb[Q]).lc&&(Ne.ia=W*Oi[0>Ne.lc?0:Ne.lc]>>3),ge|=Ne.ia;ge&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=y.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}Jl(c,j)||(f=c.a)}}else f=c.a}f==0&&M.Oa!=null&&M.Oa.fd&&(f=rl(M.ba))}M=f}F=M!=0?null:11>F?z.f.RGBA.eb:z.f.kb.y}else F=null;return F};var lh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h($,ie){for(var Z="",O=0;O<4;O++)Z+=String.fromCharCode($[ie++]);return Z}function p($,ie){return($[ie+0]<<0|$[ie+1]<<8|$[ie+2]<<16)>>>0}function m($,ie){return($[ie+0]<<0|$[ie+1]<<8|$[ie+2]<<16|$[ie+3]<<24)>>>0}new l;var b=[0],v=[0],k=[],A=new l,L=e,x=function($,ie){var Z={},O=0,U=!1,ee=0,V=0;if(Z.frames=[],!function(J,X,oe,he){for(var ne=0;ne<he;ne++)if(J[X+ne]!=oe.charCodeAt(ne))return!0;return!1}($,ie,"RIFF",4)){var ve,de;for(m($,ie+=4),ie+=8;ie<$.length;){var be=h($,ie),se=m($,ie+=4);ie+=4;var ue=se+(1&se);switch(be){case"VP8 ":case"VP8L":Z.frames[O]===void 0&&(Z.frames[O]={}),(E=Z.frames[O]).src_off=U?V:ie-8,E.src_size=ee+se+8,O++,U&&(U=!1,ee=0,V=0);break;case"VP8X":(E=Z.header={}).feature_flags=$[ie];var Y=ie+4;E.canvas_width=1+p($,Y),Y+=3,E.canvas_height=1+p($,Y),Y+=3;break;case"ALPH":U=!0,ee=ue+8,V=ie-8;break;case"ANIM":(E=Z.header).bgcolor=m($,ie),Y=ie+4,E.loop_count=(ve=$)[(de=Y)+0]<<0|ve[de+1]<<8,Y+=2;break;case"ANMF":var K,E;(E=Z.frames[O]={}).offset_x=2*p($,ie),ie+=3,E.offset_y=2*p($,ie),ie+=3,E.width=1+p($,ie),ie+=3,E.height=1+p($,ie),ie+=3,E.duration=p($,ie),ie+=3,K=$[ie++],E.dispose=1&K,E.blend=K>>1&1}be!="ANMF"&&(ie+=ue)}return Z}}(L,0);x.response=L,x.rgbaoutput=!0,x.dataurl=!1;var N=x.header?x.header:null,_=x.frames?x.frames:null;if(N){N.loop_counter=N.loop_count,b=[N.canvas_height],v=[N.canvas_width];for(var C=0;C<_.length&&_[C].blend!=0;C++);}var q=_[0],G=A.WebPDecodeRGBA(L,q.src_off,q.src_size,v,b);q.rgba=G,q.imgwidth=v[0],q.imgheight=b[0];for(var H=0;H<v[0]*b[0]*4;H++)k[H]=G[H];return this.width=v,this.height=b,this.data=k,this}(function(e){var t=function(){return typeof $g=="function"},n=function(b,v,k,A){var L=4,x=a;switch(A){case e.image_compression.FAST:L=1,x=i;break;case e.image_compression.MEDIUM:L=6,x=o;break;case e.image_compression.SLOW:L=9,x=l}b=r(b,v,k,x);var N=$g(b,{level:L});return e.__addimage__.arrayBufferToBinaryString(N)},r=function(b,v,k,A){for(var L,x,N,_=b.length/v,C=new Uint8Array(b.length+_),q=p(),G=0;G<_;G+=1){if(N=G*v,L=b.subarray(N,N+v),A)C.set(A(L,k,x),N+G);else{for(var H,$=q.length,ie=[];H<$;H+=1)ie[H]=q[H](L,k,x);var Z=m(ie.concat());C.set(ie[Z],N+G)}x=L}return C},s=function(b){var v=Array.apply([],b);return v.unshift(0),v},i=function(b,v){var k,A=[],L=b.length;A[0]=1;for(var x=0;x<L;x+=1)k=b[x-v]||0,A[x+1]=b[x]-k+256&255;return A},a=function(b,v,k){var A,L=[],x=b.length;L[0]=2;for(var N=0;N<x;N+=1)A=k&&k[N]||0,L[N+1]=b[N]-A+256&255;return L},o=function(b,v,k){var A,L,x=[],N=b.length;x[0]=3;for(var _=0;_<N;_+=1)A=b[_-v]||0,L=k&&k[_]||0,x[_+1]=b[_]+256-(A+L>>>1)&255;return x},l=function(b,v,k){var A,L,x,N,_=[],C=b.length;_[0]=4;for(var q=0;q<C;q+=1)A=b[q-v]||0,L=k&&k[q]||0,x=k&&k[q-v]||0,N=h(A,L,x),_[q+1]=b[q]-N+256&255;return _},h=function(b,v,k){if(b===v&&v===k)return b;var A=Math.abs(v-k),L=Math.abs(b-k),x=Math.abs(b+v-k-k);return A<=L&&A<=x?b:L<=x?v:k},p=function(){return[s,i,a,o,l]},m=function(b){var v=b.map(function(k){return k.reduce(function(A,L){return A+Math.abs(L)},0)});return v.indexOf(Math.min.apply(null,v))};e.processPNG=function(b,v,k,A){var L,x,N,_,C,q,G,H,$,ie,Z,O,U,ee,V,ve=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(N=new M6(b)).imgData,x=N.bits,L=N.colorSpace,C=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){$=(H=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,Z=new Uint8Array($*N.colors),ie=new Uint8Array($);var be,se=N.pixelBitlength-N.bits;for(ee=0,V=0;ee<$;ee++){for(U=H[ee],be=0;be<se;)Z[V++]=U>>>be&255,be+=N.bits;ie[ee]=U>>>be&255}}if(N.bits===16){$=(H=new Uint32Array(N.decodePixels().buffer)).length,Z=new Uint8Array($*(32/N.pixelBitlength)*N.colors),ie=new Uint8Array($*(32/N.pixelBitlength)),O=N.colors>1,ee=0,V=0;for(var ue=0;ee<$;)U=H[ee++],Z[V++]=U>>>0&255,O&&(Z[V++]=U>>>16&255,U=H[ee++],Z[V++]=U>>>0&255),ie[ue++]=U>>>16&255;x=8}A!==e.image_compression.NONE&&t()?(b=n(Z,N.width*N.colors,N.colors,A),G=n(ie,N.width,1,A)):(b=Z,G=ie,ve=void 0)}if(N.colorType===3&&(L=this.color_spaces.INDEXED,q=N.palette,N.transparency.indexed)){var Y=N.transparency.indexed,K=0;for(ee=0,$=Y.length;ee<$;++ee)K+=Y[ee];if((K/=255)===$-1&&Y.indexOf(0)!==-1)_=[Y.indexOf(0)];else if(K!==$){for(H=N.decodePixels(),ie=new Uint8Array(H.length),ee=0,$=H.length;ee<$;ee++)ie[ee]=Y[H[ee]];G=n(ie,N.width,1)}}var E=function(J){var X;switch(J){case e.image_compression.FAST:X=11;break;case e.image_compression.MEDIUM:X=13;break;case e.image_compression.SLOW:X=14;break;default:X=12}return X}(A);return ve===this.decode.FLATE_DECODE&&(de="/Predictor "+E+" "),de+="/Colors "+C+" /BitsPerComponent "+x+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(G&&this.__addimage__.isArrayBuffer(G)||this.__addimage__.isArrayBufferView(G))&&(G=this.__addimage__.arrayBufferToBinaryString(G)),{alias:k,data:b,index:v,filter:ve,decodeParameters:de,transparency:_,palette:q,sMask:G,predictor:E,width:N.width,height:N.height,bitsPerComponent:x,colorSpace:L}}}})(yt.API),function(e){e.processGIF89A=function(t,n,r,s){var i=new D6(t),a=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:a,height:o},p=new jm(100).encode(h,100);return e.processJPEG.call(this,p,n,r,s)},e.processGIF87A=e.processGIF89A}(yt.API),ii.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ii.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){tn.log("bit decode error:"+n)}},ii.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ii.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,o=i>>4,l=15&i,h=this.palette[o];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*s+1>=this.width)break;h=this.palette[l],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},ii.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ii.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,h=i>>15?255:0,p=r*this.width*4+4*s;this.data[p]=l,this.data[p+1]=o,this.data[p+2]=a,this.data[p+3]=h}this.pos+=e}},ii.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,h=(a>>11)/t*255|0,p=s*this.width*4+4*i;this.data[p]=h,this.data[p+1]=l,this.data[p+2]=o,this.data[p+3]=255}this.pos+=e}},ii.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ii.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=a}},ii.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new ii(t,!1),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},h=new jm(100).encode(l,100);return e.processJPEG.call(this,h,n,r,s)}}(yt.API),F2.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new F2(t),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},h=new jm(100).encode(l,100);return e.processJPEG.call(this,h,n,r,s)}}(yt.API),yt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,l=0,h=0;h<s;h+=4){var p=r[h],m=r[h+1],b=r[h+2],v=r[h+3];i[o++]=p,i[o++]=m,i[o++]=b,a[l++]=v}var k=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:k,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},kc=yt.API,Bh=kc.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,h=t.kerning?t.kerning:s.metadata.Unicode.kerning,p=h.fof?h.fof:1,m=t.doKerning!==!1,b=0,v=e.length,k=0,A=o[0]||l,L=[];for(n=0;n<v;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?L.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(b=m&&Jt(h[r])==="object"&&!isNaN(parseInt(h[r][k],10))?h[r][k]/p:0,L.push((o[r]||A)/l+b)),k=r;return L},T2=kc.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return kc.processArabic&&(e=kc.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:Bh.apply(this,arguments).reduce(function(i,a){return i+a},0)},I2=function(e,t,n,r){for(var s=[],i=0,a=e.length,o=0;i!==a&&o+t[i]<n;)o+=t[i],i++;s.push(e.slice(0,i));var l=i;for(o=0;i!==a;)o+t[i]>r&&(s.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},O2=function(e,t,n){n||(n={});var r,s,i,a,o,l,h,p=[],m=[p],b=n.textIndent||0,v=0,k=0,A=e.split(" "),L=Bh.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?A[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),N=[];A.map(function(C){(C=C.split(/\s*\n/)).length>1?N=N.concat(C.map(function(q,G){return(G&&q.length?`
`:"")+q})):N.push(C[0])}),A=N,l=T2.apply(this,[x,n])}for(i=0,a=A.length;i<a;i++){var _=0;if(r=A[i],l&&r[0]==`
`&&(r=r.substr(1),_=1),b+v+(k=(s=Bh.apply(this,[r,n])).reduce(function(C,q){return C+q},0))>t||_){if(k>t){for(o=I2.apply(this,[r,s,t-(b+v),t]),p.push(o.shift()),p=[o.pop()];o.length;)m.push([o.shift()]);k=s.slice(r.length-(p[0]?p[0].length:0)).reduce(function(C,q){return C+q},0)}else p=[r];m.push(p),b=k+l,v=L}else p.push(r),b+=v+k,v=L}return h=l?function(C,q){return(q?x:"")+C.join(" ")}:function(C){return C.join(" ")},m.map(h)},kc.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var o,l,h=[];for(o=0,l=r.length;o<l;o++)h=h.concat(O2.apply(this,[r[o],a,i]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var i=function(m){return"0x"+parseInt(m,10).toString(16)},a=e.__fontmetrics__.compress=function(m){var b,v,k,A,L=["{"];for(var x in m){if(b=m[x],isNaN(parseInt(x,10))?v="'"+x+"'":(x=parseInt(x,10),v=(v=i(x).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof b=="number")b<0?(k=i(b).slice(3),A="-"):(k=i(b).slice(2),A=""),k=A+k.slice(0,-1)+r[k.slice(-1)];else{if(Jt(b)!=="object")throw new Error("Don't know what to do with value type "+Jt(b)+".");k=a(b)}L.push(v+k)}return L.push("}"),L.join("")},o=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,v,k,A,L={},x=1,N=L,_=[],C="",q="",G=m.length-1,H=1;H<G;H+=1)(A=m[H])=="'"?b?(k=b.join(""),b=void 0):b=[]:b?b.push(A):A=="{"?(_.push([N,k]),N={},k=void 0):A=="}"?((v=_.pop())[0][v[1]]=N,k=void 0,N=v[0]):A=="-"?x=-1:k===void 0?n.hasOwnProperty(A)?(C+=n[A],k=parseInt(C,16)*x,x=1,C=""):C+=A:n.hasOwnProperty(A)?(q+=n[A],N[k]=parseInt(q,16)*x,x=1,k=void 0,q=""):q+=A;return L},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var b=m.font,v=p.Unicode[b.postScriptName];v&&(b.metadata.Unicode={},b.metadata.Unicode.widths=v.widths,b.metadata.Unicode.kerning=v.kerning);var k=h.Unicode[b.postScriptName];k&&(b.metadata.Unicode.encoding=k,b.encoding=k.codePages[0])}])}(yt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(md(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])}(yt),function(e){function t(){return(xt.canvg?Promise.resolve(xt.canvg):dt(()=>import("./index.es-nFzX2ciM.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}yt.API.addSvgAsImage=function(n,r,s,i,a,o,l,h){if(isNaN(r)||isNaN(s))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=a;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return t().then(function(k){return k.fromString(m,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(b)}).then(function(){v.addImage(p.toDataURL("image/jpeg",1),r,s,i,a,l,h)})}}(),yt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},yt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],h=0,p=0,m=0;function b(k,A){var L,x=!1;for(L=0;L<k.length;L+=1)k[L]===A&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var v=o.length;for(m=0;m<v;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(Jt(e)==="object"){for(s in e)if(i=e[s],b(o,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&b(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(h=0;h<i.length;h+=1)if(r=!0,i[h].length===1&&typeof i[h][0]=="number")l.push(String(i[h]-1));else if(i[h].length>1){for(p=0;p<i[h].length;p+=1)typeof i[h][p]!="number"&&(r=!1);r===!0&&l.push([i[h][0]-1,i[h][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,A=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?A.push("/"+k+" /"+n[k].value):A.push("/"+k+" "+n[k].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+a.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(yt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,a){for(var o,l=a.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],m=0,b=i.length;m<b;++m){if(o=a.metadata.characterToGlyph(i.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(h[4-o.length],o)}return p.join("")},r=function(i){var a,o,l,h,p,m,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,b=(o=Object.keys(i).sort(function(v,k){return v-k})).length;m<b;m++)a=o[m],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(h=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+h+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,h=a.newObject,p=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,b=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),v="",k=0;k<b.length;k++)v+=String.fromCharCode(b[k]);var A=h();p({data:v,addLength1:!0,objectId:A}),l("endobj");var L=h();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var x=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Pc(o.fontName)),l("/FontFile2 "+A+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var N=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+Pc(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+Pc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,h=a.newObject,p=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,b="",v=0;v<m.length;v++)b+=String.fromCharCode(m[v]);var k=h();p({data:b,addLength1:!0,objectId:k}),l("endobj");var A=h();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var L=h();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+k+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Pc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=h();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Pc(o.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",l=i.x,h=i.y,p=i.options||{},m=i.mutex||{},b=m.pdfEscape,v=m.activeFontKey,k=m.fonts,A=v,L="",x=0,N="",_=k[A].encoding;if(k[A].encoding!=="Identity-H")return{text:o,x:l,y:h,options:p,mutex:m};for(N=o,A=v,Array.isArray(o)&&(N=o[0]),x=0;x<N.length;x+=1)k[A].metadata.hasOwnProperty("cmap")&&(a=k[A].metadata.cmap.unicode.codeMap[N[x].charCodeAt(0)]),a||N[x].charCodeAt(0)<256&&k[A].metadata.hasOwnProperty("Unicode")?L+=N[x]:L+="";var C="";return parseInt(A.slice(1))<14||_==="WinAnsiEncoding"?C=b(L,A).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(C=n(L,k[A])),m.isHex=!0,{text:C,x:l,y:h,options:p,mutex:m}};t.events.push(["postProcessText",function(i){var a=i.text||"",o=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?o.push([s(Object.assign({},l,{text:a[h][0]})).text,a[h][1],a[h][2]]):o.push(s(Object.assign({},l,{text:a[h]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:a})).text}])}(yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,i,a,o,l,h,p,m=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,_=0;this.__bidiEngine__={};var C=function(O){var U=O.charCodeAt(),ee=U>>8,V=A[ee];return V!==void 0?m[256*V+(255&U)]:ee===252||ee===253?"AL":x.test(ee)?"L":ee===8?"R":"N"},q=function(O){for(var U,ee=0;ee<O.length;ee++){if((U=C(O.charAt(ee)))==="L")return!1;if(U==="R")return!0}return!1},G=function(O,U,ee,V){var ve,de,be,se,ue=U[V];switch(ue){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(ue="AN");break;case"AL":N=!0,ue="R";break;case"WS":ue="N";break;case"CS":V<1||V+1>=U.length||(ve=ee[V-1])!=="EN"&&ve!=="AN"||(de=U[V+1])!=="EN"&&de!=="AN"?ue="N":N&&(de="AN"),ue=de===ve?de:"N";break;case"ES":ue=(ve=V>0?ee[V-1]:"B")==="EN"&&V+1<U.length&&U[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&ee[V-1]==="EN"){ue="EN";break}if(N){ue="N";break}for(be=V+1,se=U.length;be<se&&U[be]==="ET";)be++;ue=be<se&&U[be]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(se=U.length,be=V+1;be<se&&U[be]==="NSM";)be++;if(be<se){var Y=O[V],K=Y>=1425&&Y<=2303||Y===64286;if(ve=U[be],K&&(ve==="R"||ve==="AL")){ue="R";break}}}ue=V<1||(ve=U[V-1])==="B"?"N":ee[V-1];break;case"B":N=!1,s=!0,ue=_;break;case"S":i=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":ue="N"}return ue},H=function(O,U,ee){var V=O.split("");return ee&&$(V,ee,{hiLevel:_}),V.reverse(),U&&U.reverse(),V.join("")},$=function(O,U,ee){var V,ve,de,be,se,ue=-1,Y=O.length,K=0,E=[],J=_?v:b,X=[];for(N=!1,s=!1,i=!1,ve=0;ve<Y;ve++)X[ve]=C(O[ve]);for(de=0;de<Y;de++){if(se=K,E[de]=G(O,X,E,de),V=240&(K=J[se][k[E[de]]]),K&=15,U[de]=be=J[K][5],V>0)if(V===16){for(ve=ue;ve<de;ve++)U[ve]=1;ue=-1}else ue=-1;if(J[K][6])ue===-1&&(ue=de);else if(ue>-1){for(ve=ue;ve<de;ve++)U[ve]=be;ue=-1}X[de]==="B"&&(U[de]=0),ee.hiLevel|=be}i&&function(oe,he,ne){for(var ce=0;ce<ne;ce++)if(oe[ce]==="S"){he[ce]=_;for(var ae=ce-1;ae>=0&&oe[ae]==="WS";ae--)he[ae]=_}}(X,U,Y)},ie=function(O,U,ee,V,ve){if(!(ve.hiLevel<O)){if(O===1&&_===1&&!s)return U.reverse(),void(ee&&ee.reverse());for(var de,be,se,ue,Y=U.length,K=0;K<Y;){if(V[K]>=O){for(se=K+1;se<Y&&V[se]>=O;)se++;for(ue=K,be=se-1;ue<be;ue++,be--)de=U[ue],U[ue]=U[be],U[be]=de,ee&&(de=ee[ue],ee[ue]=ee[be],ee[be]=de);K=se}K++}}},Z=function(O,U,ee){var V=O.split(""),ve={hiLevel:_};return ee||(ee=[]),$(V,ee,ve),function(de,be,se){if(se.hiLevel!==0&&p)for(var ue,Y=0;Y<de.length;Y++)be[Y]===1&&(ue=L.indexOf(de[Y]))>=0&&(de[Y]=L[ue+1])}(V,ee,ve),ie(2,V,U,ee,ve),ie(1,V,U,ee,ve),V.join("")};return this.__bidiEngine__.doBidiReorder=function(O,U,ee){if(function(ve,de){if(de)for(var be=0;be<ve.length;be++)de[be]=be;o===void 0&&(o=q(ve)),h===void 0&&(h=q(ve))}(O,U),a||!l||h)if(a&&l&&o^h)_=o?1:0,O=H(O,U,ee);else if(!a&&l&&h)_=o?1:0,O=Z(O,U,ee),O=H(O,U);else if(!a||o||l||h){if(a&&!l&&o^h)O=H(O,U),o?(_=0,O=Z(O,U,ee)):(_=1,O=Z(O,U,ee),O=H(O,U));else if(a&&o&&!l&&h)_=1,O=Z(O,U,ee),O=H(O,U);else if(!a&&!l&&o^h){var V=p;o?(_=1,O=Z(O,U,ee),_=0,p=!1,O=Z(O,U,ee),p=V):(_=0,O=Z(O,U,ee),O=H(O,U),_=1,p=!1,O=Z(O,U,ee),p=V,O=H(O,U))}}else _=0,O=Z(O,U,ee);else _=o?1:0,O=Z(O,U,ee);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,h=O.isOutputRtl,p=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text,i=(r.x,r.y,r.options||{}),a=(r.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([n.doBidiReorder(s[o])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Fo(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Z6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new B6(this.contents),this.head=new z6(this),this.name=new V6(this),this.cmap=new Lw(this),this.toUnicode={},this.hhea=new q6(this),this.maxp=new G6(this),this.hmtx=new J6(this),this.post=new W6(this),this.os2=new $6(this),this.loca=new Q6(this),this.glyf=new K6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,h;for(h=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,i,a,o;for(a=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var vi,Fo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,i,a,o,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,i;for(i=[],r=0,s=t.length;r<s;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),B6=function(){var e;function t(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,i,a,o,l,h,p,m,b,v,k,A;for(A in v=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(v)/l),a=Math.floor(m/l),p=16*v-m,(s=new Fo).writeInt(this.scalarType),s.writeShort(v),s.writeShort(m),s.writeShort(a),s.writeShort(p),i=16*v,h=s.pos+i,o=null,k=[],n)for(b=n[A],s.writeString(A),s.writeInt(e(b)),s.writeInt(h),s.writeInt(b.length),k=k.concat(b),A==="head"&&(o=h),h+=b.length;h%4;)k.push(0),h++;return s.write(k),r=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(r),s.data},e=function(n){var r,s,i,a;for(n=Ew.call(n);n.length%4;)n.push(0);for(i=new Fo(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},t}(),U6={}.hasOwnProperty,Vi=function(e,t){for(var n in t)U6.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};vi=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var z6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Fo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),M2=function(){function e(t,n){var r,s,i,a,o,l,h,p,m,b,v,k,A,L,x,N,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(v=t.readUInt16(),b=v/2,t.pos+=6,i=function(){var C,q;for(q=[],l=C=0;0<=b?C<b:C>b;l=0<=b?++C:--C)q.push(t.readUInt16());return q}(),t.pos+=2,A=function(){var C,q;for(q=[],l=C=0;0<=b?C<b:C>b;l=0<=b?++C:--C)q.push(t.readUInt16());return q}(),h=function(){var C,q;for(q=[],l=C=0;0<=b?C<b:C>b;l=0<=b?++C:--C)q.push(t.readUInt16());return q}(),p=function(){var C,q;for(q=[],l=C=0;0<=b?C<b:C>b;l=0<=b?++C:--C)q.push(t.readUInt16());return q}(),s=(this.length-t.pos+this.offset)/2,o=function(){var C,q;for(q=[],l=C=0;0<=s?C<s:C>s;l=0<=s?++C:--C)q.push(t.readUInt16());return q}(),l=x=0,_=i.length;x<_;l=++x)for(L=i[l],r=N=k=A[l];k<=L?N<=L:N>=L;r=k<=L?++N:--N)p[l]===0?a=r+h[l]:(a=o[p[l]/2+(r-k)-(b-l)]||0)!==0&&(a+=h[l]),this.codeMap[r]=65535&a}t.pos=m}return e.encode=function(t,n){var r,s,i,a,o,l,h,p,m,b,v,k,A,L,x,N,_,C,q,G,H,$,ie,Z,O,U,ee,V,ve,de,be,se,ue,Y,K,E,J,X,oe,he,ne,ce,ae,me,xe,Ce;switch(V=new Fo,a=Object.keys(t).sort(function(Te,Me){return Te-Me}),n){case"macroman":for(A=0,L=function(){var Te=[];for(k=0;k<256;++k)Te.push(0);return Te}(),N={0:0},i={},ve=0,ue=a.length;ve<ue;ve++)N[ae=t[s=a[ve]]]==null&&(N[ae]=++A),i[s]={old:t[s],new:N[t[s]]},L[s]=N[t[s]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(L),{charMap:i,subtable:V.data,maxGlyphID:A+1};case"unicode":for(U=[],m=[],_=0,N={},r={},x=h=null,de=0,Y=a.length;de<Y;de++)N[q=t[s=a[de]]]==null&&(N[q]=++_),r[s]={old:q,new:N[q]},o=N[q]-s,x!=null&&o===h||(x&&m.push(x),U.push(s),h=o),x=s;for(x&&m.push(x),m.push(65535),U.push(65535),Z=2*(ie=U.length),$=2*Math.pow(Math.log(ie)/Math.LN2,2),b=Math.log($/2)/Math.LN2,H=2*ie-$,l=[],G=[],v=[],k=be=0,K=U.length;be<K;k=++be){if(O=U[k],p=m[k],O===65535){l.push(0),G.push(0);break}if(O-(ee=r[O].new)>=32768)for(l.push(0),G.push(2*(v.length+ie-k)),s=se=O;O<=p?se<=p:se>=p;s=O<=p?++se:--se)v.push(r[s].new);else l.push(ee-O),G.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*ie+2*v.length),V.writeUInt16(0),V.writeUInt16(Z),V.writeUInt16($),V.writeUInt16(b),V.writeUInt16(H),ne=0,E=m.length;ne<E;ne++)s=m[ne],V.writeUInt16(s);for(V.writeUInt16(0),ce=0,J=U.length;ce<J;ce++)s=U[ce],V.writeUInt16(s);for(me=0,X=l.length;me<X;me++)o=l[me],V.writeUInt16(o);for(xe=0,oe=G.length;xe<oe;xe++)C=G[xe],V.writeUInt16(C);for(Ce=0,he=v.length;Ce<he;Ce++)A=v[Ce],V.writeUInt16(A);return{charMap:r,subtable:V.data,maxGlyphID:_+1}}},e}(),Lw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new M2(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=M2.encode(n,r),(i=new Fo).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),q6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),$6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),W6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(s=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,h;for(h=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)h.push(n.readUInt32());return h}).call(this)}},t}(),H6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},V6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,i,a,o,l,h,p,m,b,v;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},a=m=0,b=s.length;m<b;a=++m)i=s[a],n.pos=i.offset,p=n.readString(i.length),o=new H6(p,i),h[v=i.nameID]==null&&(h[v]=[]),h[i.nameID].push(o);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),G6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),J6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,i,a,o,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],r=p=0;0<=i?p<i:p>i;r=0<=i?++p:--p)m.push(n.readInt16());return m}(),this.widths=(function(){var p,m,b,v;for(v=[],p=0,m=(b=this.metrics).length;p<m;p++)a=b[p],v.push(a.advance);return v}).call(this),s=this.widths[this.widths.length-1],h=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)h.push(this.widths.push(s));return h},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Ew=[].slice,K6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,i,a,o,l,h,p,m,b;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,s=a.indexOf(n),(i=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,o=(l=new Fo(r.read(i))).readShort(),p=l.readShort(),b=l.readShort(),h=l.readShort(),m=l.readShort(),this.cache[n]=o===-1?new X6(l,p,b,h,m):new Y6(l,o,p,b,h,m),this.cache[n]))},t.prototype.encode=function(n,r,s){var i,a,o,l,h;for(o=[],a=[],l=0,h=r.length;l<h;l++)i=n[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},t}(),Y6=function(){function e(t,n,r,s,i,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),X6=function(){function e(t,n,r,s,i){var a,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Fo(Ew.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Q6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,vi),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(n.readUInt32());return a}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<r.length&&r[a]==o){++a,s[o]=i;var l=this.offsets[o],h=this.offsets[o+1]-l;h>0&&(i+=h)}for(var p=new Array(4*s.length),m=0;m<s.length;++m)p[4*m+3]=255&s[m],p[4*m+2]=(65280&s[m])>>8,p[4*m+1]=(16711680&s[m])>>16,p[4*m]=(4278190080&s[m])>>24;return p},t}(),Z6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,i,a,o,l;for(s={},a=0,o=t.length;a<o;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},e.prototype.encode=function(t,n){var r,s,i,a,o,l,h,p,m,b,v,k,A,L,x;for(s in r=Lw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),v={0:0},x=r.charMap)v[(l=x[s]).old]=l.new;for(k in b=r.maxGlyphID,a)k in v||(v[k]=b++);return p=function(N){var _,C;for(_ in C={},N)C[N[_]]=_;return C}(v),m=Object.keys(p).sort(function(N,_){return N-_}),A=function(){var N,_,C;for(C=[],N=0,_=m.length;N<_;N++)o=m[N],C.push(p[o]);return C}(),i=this.font.glyf.encode(a,A,v),h=this.font.loca.encode(i.offsets,A),L={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},e}();yt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+function(){var o,l,h;for(h=[],o=0,l=n.length;o<l;o++)r=n[o],h.push(t.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+n},t}();function eA(e,t){const[n,r]=B.useState(""),[s,i]=B.useState(!1),a=B.useRef(null),o=B.useRef(null);return B.useEffect(()=>{const h=e||"";r(""),i(!1);let p=0;const m=Math.max(15,Math.floor((t||1500)/Math.max(1,h.length)));return a.current=setInterval(()=>{p++,r(h.slice(0,p)),p>=h.length&&clearInterval(a.current)},m),o.current=setTimeout(()=>{clearInterval(a.current),r(h),i(!0)},Math.max(t||1500,(h.length+1)*m)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:n,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),r(e||""),i(!0)}}}function tA(){const e=Wr(),[t,n]=B.useState(null),[r,s]=B.useState(""),[i,a]=B.useState(!0),[o,l]=B.useState(""),[h,p]=B.useState("intro"),[m,b]=B.useState(0),[v,k]=B.useState(0),[A,L]=B.useState([]),[x,N]=B.useState({}),[_,C]=B.useState(null),[q,G]=B.useState(""),[H,$]=B.useState(!1),[ie,Z]=B.useState(!1),[O,U]=B.useState(!1),[ee,V]=B.useState(""),[ve,de]=B.useState(!1),[be,se]=B.useState(!1),[ue,Y]=B.useState(!1),[K,E]=B.useState(!1),[J,X]=B.useState(!1),[oe,he]=B.useState("actions"),ne="@zelia";B.useEffect(()=>{let Se=!0;return(async()=>{var Be;try{const{data:{user:De}}=await lr.auth.getUser();if(!De){e("/login");return}G(De.id);const Je=await Wi.getProfile().catch(()=>null);if(!Se)return;const ke=((Be=Je==null?void 0:Je.data)==null?void 0:Be.profile)||null;n(ke),s(sw(ke,De.id));const Rt=await Ot.get("/questionnaire/questions",{params:{type:"mbti",_:Date.now()}}),_t=Array.isArray(Rt==null?void 0:Rt.data)?Rt.data:[];L(_t)}catch(De){if(console.error("Niv4 init error",De),!Se)return;l("Erreur de chargement")}finally{Se&&a(!1)}})(),()=>{Se=!1}},[e]);const ce=B.useMemo(()=>[{text:"Yo, niveau 4 ! On passe au MBTI pour mieux cerner ton style.",durationMs:3500},{text:"Je te pose quelques questions, tu rponds  l'instinct.",durationMs:3500},{text:"Ensuite j'analyse tes rponses et je te sors une analyse MBTI bien complte ( 1000 mots).",durationMs:4500},{text:"Objectif: que tu comprennes comment tu fonctionnes et quels mtiers te collent  la peau.",durationMs:4500},{text:"Prt(e) ? On dmarre tranquille.",durationMs:2500}],[]),ae=ce[m]||{text:"",durationMs:1500},{text:me,done:xe,skip:Ce}=eA(ae.text,ae.durationMs);B.useEffect(()=>{if(h!=="intro"||xe)return;const Se=setInterval(()=>Z(Be=>!Be),200);return()=>clearInterval(Se)},[h,xe]),B.useEffect(()=>{if(!(h!=="results"||!_)){if(_.shareImageUrl){V(_.shareImageUrl);return}lt()}},[_,lt,h]);function Te(){if(!xe){Ce();return}m+1<ce.length?b(m+1):(p("quiz"),k(0))}const Me=B.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]),_e=A[v],te=B.useMemo(()=>{const Se=_e&&(_e.content??_e.contenu);if(typeof Se!="string")return Se;if(Se.startsWith("(")){const Be=Se.indexOf('"'),De=Se.indexOf('"',Be+1);if(Be!==-1&&De!==-1)return Se.slice(Be+1,De)}return Se},[_e]),$e=A.length?Math.round((v+1)/A.length*100):0,We=_e?x[_e.id]!=null:!1;async function Ee(){var Se;$(!0);try{const Be={answers:Object.entries(x).map(([ke,Rt])=>({question_id:Number(ke),answer:Rt})),questionnaireType:"mbti"};await Ot.post("/questionnaire/submit?type=mbti",Be);const De=await Ot.post("/analysis/generate-analysis-by-type",{userId:q,questionnaireType:"mbti"}),Je=(Se=De==null?void 0:De.data)==null?void 0:Se.analysis;Je&&(C(Je),Je.shareImageUrl&&V(Je.shareImageUrl)),p("results")}catch(Be){console.error("MBTI submit/analyze error",Be),l("Impossible de gnrer l'analyse MBTI")}finally{$(!1)}}function Fe(){p("success"),(async()=>{try{await Kd({minLevel:4,xpReward:180})}catch(Se){console.warn("Progression update failed (non-blocking):",Se)}})()}async function Ue(Se){try{Y(!0);const Be=new yt({orientation:"p",unit:"mm",format:"a4"}),De=Be.internal.pageSize.getWidth(),Je=Be.internal.pageSize.getHeight(),ke=new Image,Rt=await(await fetch(Se)).blob(),_t=URL.createObjectURL(Rt);await new Promise((Nt,ht)=>{ke.onload=()=>Nt(),ke.onerror=ht,ke.src=_t});const On=ke.width,St=ke.height,Et=On/St,Yt=De/Je;let kt,Rn;Et>Yt?(kt=De,Rn=kt/Et):(Rn=Je,kt=Rn*Et);const qt=(De-kt)/2,Ye=(Je-Rn)/2;Be.addImage(Se,"PNG",qt,Ye,kt,Rn,void 0,"FAST"),Be.save("zelia-mbti-resultat.pdf"),URL.revokeObjectURL(_t)}catch(Be){console.error("PDF generation failed",Be)}finally{Y(!1)}}async function qe(){if(_){E(!0);try{const Se=await lt();Se&&(V(Se),U(!0))}finally{E(!1)}}}async function et(){if(_){de(!0);try{const Se=await lt();if(!Se)throw new Error("no image");const De=await(await fetch(Se)).blob(),Je=new File([De],"zelia-mbti-story.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[Je]})){await navigator.share({title:(_==null?void 0:_.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zlia  ${(_==null?void 0:_.personalityType)||""}`.trim(),files:[Je]});return}V(Se),U(!0)}catch(Se){console.warn("Native share failed, falling back to modal",Se);const Be=await lt();Be&&V(Be),U(!0)}finally{de(!1)}}}async function ft(){if(_)try{X(!0);const Se=new yt({orientation:"p",unit:"mm",format:"a4"}),Be=15,De=Se.internal.pageSize.getWidth(),Je=De-Be*2;let ke=Be;Se.setFont("helvetica","bold"),Se.setFontSize(18);const Rt=_!=null&&_.personalityType?`Rsultats MBTI  ${_.personalityType}`:"Rsultats MBTI";if(Se.text(Rt,Be,ke),ke+=8,Se.setDrawColor(0),Se.setLineWidth(.5),Se.line(Be,ke,De-Be,ke),ke+=6,_!=null&&_.personalityAnalysis){Se.setFont("helvetica","bold"),Se.setFontSize(14),Se.text("Analyse de personnalit",Be,ke),ke+=6,Se.setFont("helvetica","normal"),Se.setFontSize(11);const St=Se.splitTextToSize(_.personalityAnalysis,Je);for(const Et of St)ke>280&&(Se.addPage(),ke=Be),Se.text(Et,Be,ke),ke+=6;ke+=2}if(_!=null&&_.skillsAssessment){ke>270&&(Se.addPage(),ke=Be),Se.setFont("helvetica","bold"),Se.setFontSize(14),Se.text("Points forts",Be,ke),ke+=6,Se.setFont("helvetica","normal"),Se.setFontSize(11);const St=Se.splitTextToSize(_.skillsAssessment,Je);for(const Et of St)ke>280&&(Se.addPage(),ke=Be),Se.text(Et,Be,ke),ke+=6;ke+=2}if(Array.isArray(_==null?void 0:_.jobRecommendations)&&_.jobRecommendations.length){ke>270&&(Se.addPage(),ke=Be),Se.setFont("helvetica","bold"),Se.setFontSize(14),Se.text("Recommandations d'emploi",Be,ke),ke+=6,Se.setFont("helvetica","normal"),Se.setFontSize(11);const St=_.jobRecommendations;for(let Et=0;Et<St.length;Et++){const Yt=St[Et],kt=typeof Yt=="string"?Yt:(Yt==null?void 0:Yt.title)||"";if(kt){if(ke>275&&(Se.addPage(),ke=Be),Se.setFont("helvetica","bold"),Se.text(` ${kt}`,Be,ke),ke+=6,Se.setFont("helvetica","normal"),Array.isArray(Yt==null?void 0:Yt.skills)&&Yt.skills.length){const Rn=`Comptences cls: ${Yt.skills.join(", ")}`,qt=Se.splitTextToSize(Rn,Je);for(const Ye of qt)ke>280&&(Se.addPage(),ke=Be),Se.text(Ye,Be+4,ke),ke+=6}ke+=2}}}Se.setFont("helvetica","italic"),Se.setFontSize(9);const _t="Gnr par Zlia  Niveau 4 MBTI",On=Se.getNumberOfPages();for(let St=1;St<=On;St++){Se.setPage(St);const Et=Se.getTextWidth(_t);Se.text(_t,(De-Et)/2,295)}Se.save("zelia-mbti-resultats.pdf")}catch(Se){console.error("PDF report generation failed",Se)}finally{X(!1)}}const gt=B.useCallback(async()=>{var Se;if(!_)return null;try{const Be=await pd.getMyResults(),De=((Se=Be==null?void 0:Be.data)==null?void 0:Se.results)||null;if(!De)return _;const Je={..._,personalityType:(_==null?void 0:_.personalityType)||De.personalityType||null,personalityAnalysis:(_==null?void 0:_.personalityAnalysis)||De.personalityAnalysis||null,skillsAssessment:(_==null?void 0:_.skillsAssessment)||De.skillsAssessment||null,jobRecommendations:Array.isArray(_==null?void 0:_.jobRecommendations)&&_.jobRecommendations.length?_.jobRecommendations:De.jobRecommendations||[],shareImageUrl:De.shareImageUrl||(_==null?void 0:_.shareImageUrl)||null};return C(ke=>ke?{...ke,...Je}:Je),Je}catch(Be){return console.warn("Failed to refresh analysis snapshot",Be),_}},[_]),lt=B.useCallback(async()=>{var Be;if(!_)return"";if(_.shareImageUrl)return V(_.shareImageUrl),_.shareImageUrl;if(be)return ee||"";const Se=await gt()||_;if(!Se)return"";se(!0);try{const De=await ow({analysis:Se,avatarUrl:r});if(!De)return"";V(De);let Je="";try{const ke=await pd.saveShareImage({dataUrl:De,questionnaireType:"mbti",metadata:{source:"niveau4",userId:q}});Je=((Be=ke==null?void 0:ke.data)==null?void 0:Be.url)||""}catch(ke){console.warn("Failed to upload share image to Cloudinary, using local copy instead",ke)}return Je?(C(ke=>ke&&{...ke,shareImageUrl:Je}),V(Je),Je):De}catch(De){return console.error("Share image generation failed",De),""}finally{se(!1)}},[_,r,gt,ee,be,q]);return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:r,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:h==="intro"?u.jsx(u.Fragment,{children:me}):h==="quiz"?u.jsx(u.Fragment,{children:"Rponds aux questions MBTI, puis termine pour lancer l'analyse."}):h==="generating"?u.jsx(u.Fragment,{children:"J'analyse tes rponses"}):h==="results"?u.jsx(u.Fragment,{children:oe==="confirm"?"Hsite pas  nous taguer dans ta story pour qu'on te republie si t'as aim les rsultats":u.jsxs(u.Fragment,{children:["Voici ton analyse MBTI. Si tu veux, tu peux la partager en story et me taguer ",u.jsx("strong",{children:"@zelia"})," pour que je la reposte "]})}):h==="success"?u.jsx(u.Fragment,{children:"Niveau 4 russi !"}):null}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),h==="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:Te,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})}),h==="results"&&u.jsx("div",{className:"mt-4",children:oe==="actions"?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:[u.jsx("button",{onClick:qe,disabled:K,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("path",{d:"M2 12s4-8 10-8 10 8 10 8-4 8-10 8S2 12 2 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),u.jsx("span",{className:"font-medium",children:K?"Prparation":"Aperu"})]})}),u.jsx("button",{onClick:ft,disabled:J,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"}),u.jsx("path",{d:"M14 2v6h6"}),u.jsx("path",{d:"M8 14h8M8 18h5"})]}),u.jsx("span",{className:"font-medium",children:J?"Cration du PDF":"PDF"})]})}),u.jsx("button",{onClick:et,disabled:ve,className:"w-full h-12 px-3 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("path",{d:"M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"}),u.jsx("path",{d:"M12 16V4"}),u.jsx("path",{d:"m8 8 4-4 4 4"})]}),u.jsx("span",{className:"font-medium",children:ve?"Prparation":"Partager"})]})}),u.jsx("button",{onClick:()=>he("confirm"),className:"w-full h-12 px-3 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsx("span",{className:"font-medium",children:"Continuer"}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{d:"m9 18 6-6-6-6",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}):u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:Fe,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Valider et terminer"})})})]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[h==="quiz"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Test de personnalit MBTI"}),(()=>{const Be=A.length||0,De=Be>=38&&Be<=40?40:Math.max(2+Be,3),Je=3+v;return u.jsxs("div",{className:"text-sm text-text-secondary",children:[Je," / ",De,"  ",$e,"%"]})})()]}),u.jsx("div",{className:"mb-4 text-text-primary whitespace-pre-wrap",children:te}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Me.map((Se,Be)=>u.jsx("button",{type:"button",onClick:()=>N({...x,[_e==null?void 0:_e.id]:Se}),className:`px-3 py-2 rounded-lg border ${x[_e==null?void 0:_e.id]===Se?"border-black bg-black text-white":"border-line"}`,children:Se},Be))}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>k(Se=>Math.max(0,Se-1)),disabled:v===0,children:"Prcdent"}),v<A.length-1?u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>k(Se=>Math.min(A.length-1,Se+1)),disabled:!We,children:"Suivant"}):u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>{p("generating"),Ee()},disabled:!We||H,children:H?"Analyse":"Terminer"})]})]}),h==="results"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:"Mes Rsultats (MBTI)"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de ton test MBTI"})]}),u.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyse de personnalit"}),u.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:(_==null?void 0:_.personalityAnalysis)||""})]}),Array.isArray(_==null?void 0:_.jobRecommendations)&&_.jobRecommendations.length>0&&u.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommandations d'emploi"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.jobRecommendations.map((Se,Be)=>{var De;return u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold mb-2",children:Se.title}),!!((De=Se.skills)!=null&&De.length)&&u.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700",children:Se.skills.map((Je,ke)=>u.jsx("li",{children:Je},ke))})]},Be)})})]})]})]})]}),h==="success"&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 4 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as complt le test MBTI et dcouvert ton profil."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"}),u.jsx("button",{onClick:()=>e("/app/results"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Voir mes rsultats"})]}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})}),O&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 overscroll-contain",onClick:()=>U(!1),children:u.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-[92%] max-w-[360px] sm:max-w-[420px] md:max-w-[560px] lg:max-w-[720px] p-4 md:p-5 border border-gray-200 max-h-[88vh] sm:max-h-[90vh] overflow-y-auto",onClick:Se=>Se.stopPropagation(),children:[u.jsx("button",{onClick:()=>U(!1),"aria-label":"Fermer",className:"absolute top-3 right-3 h-8 w-8 rounded-full bg-black text-white flex items-center justify-center shadow-sm hover:opacity-90",children:""}),u.jsx("h3",{className:"text-lg font-bold pr-8",children:"Prvisualisation  partager"}),ee?u.jsx("img",{src:ee,alt:"Zlia MBTI Story",className:"mt-3 w-full h-auto rounded-lg border border-gray-200"}):u.jsx("div",{className:"text-center py-10",children:"Gnration de l'image"}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3 opacity-80",children:[u.jsx("img",{src:"/assets/images/social/instagram.svg",alt:"Instagram",className:"w-7 h-7"}),u.jsx("img",{src:"/assets/images/social/twitter.svg",alt:"Twitter",className:"w-7 h-7"}),u.jsx("img",{src:"/assets/images/social/snapchat.svg",alt:"Snapchat",className:"w-7 h-7"})]}),u.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:["Astuce: Partage la story sur Instagram et tag ",ne," pour qu'on puisse la republier."]}),u.jsx("div",{className:"sticky bottom-0 pt-3 mt-3 bg-white/95 supports-[backdrop-filter]:bg-white/80 backdrop-blur border-t border-gray-200",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[u.jsx("div",{className:"flex-1 text-left",children:ee&&u.jsx("button",{onClick:()=>Ue(ee),disabled:ue,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 mr-2",children:ue?"Cration du PDF":"Tlcharger PDF"})}),ee&&u.jsx("a",{href:ee,download:"zelia-mbti-story.png",className:"px-4 py-2 rounded-lg bg-black text-white border border-gray-200",children:"Enregistrer l'image"}),ee&&u.jsx("button",{onClick:async()=>{try{const Be=await(await fetch(ee)).blob(),De=new File([Be],"zelia-mbti-story.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[De]})?(await navigator.share({title:(_==null?void 0:_.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zlia  ${(_==null?void 0:_.personalityType)||""}`.trim(),files:[De]}),U(!1)):alert("Le partage natif n'est pas support sur cet appareil. Vous pouvez enregistrer l'image puis la partager manuellement.")}catch(Se){console.warn("Share from modal failed",Se)}},className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:"Partager"}),u.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Fermer"})]})})]})})]})}function nA(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);if(i.protocol.startsWith("http"))return i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function rA(e,t){const[n,r]=B.useState(""),[s,i]=B.useState(!1),a=B.useRef(null),o=B.useRef(null);return B.useEffect(()=>{r(""),i(!1);const h=e||"";let p=0;const m=Math.max(15,Math.floor(t/Math.max(1,h.length)));return a.current=setInterval(()=>{p++,r(h.slice(0,p)),p>=h.length&&clearInterval(a.current)},m),o.current=setTimeout(()=>{clearInterval(a.current),r(h),i(!0)},Math.max(t,(h.length+1)*m)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:n,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),r(e||""),i(!0)}}}function sA(){const e=Wr(),[t,n]=B.useState(null),[r,s]=B.useState(""),[i,a]=B.useState(!0),[o,l]=B.useState(""),[h,p]=B.useState(""),[m,b]=B.useState(0),[v,k]=B.useState({}),[A,L]=B.useState(!1),[x,N]=B.useState(!1),[_,C]=B.useState(!1),[q,G]=B.useState(""),H=Y=>{if("speechSynthesis"in window){const K=new SpeechSynthesisUtterance(Y);K.lang="en-US",K.rate=.8,window.speechSynthesis.speak(K)}};B.useEffect(()=>{let Y=!0;return(async()=>{var K;try{const{data:{user:E}}=await lr.auth.getUser();if(!E){e("/login");return}p(E.id);const J=await Wi.getProfile().catch(()=>null);if(!Y)return;const X=((K=J==null?void 0:J.data)==null?void 0:K.profile)||(J==null?void 0:J.data)||null;n(X),s(nA(X,E.id))}catch(E){if(console.error(E),!Y)return;l("Erreur de chargement")}finally{Y&&a(!1)}})(),()=>{Y=!1}},[e]);const $=B.useMemo(()=>[{type:"text",text:"Hey! Welcome to Level 5. We're going to test your English skills in a fun conversation. I'll ask you questions, play some audio, and at the end, I'll tell you your CEFR level from A1 to C2. Ready?",durationMs:6e3},{type:"text",text:"First, let's test your listening. I'll play a short audio. Listen carefully and answer the question after.",durationMs:4e3},{type:"audio",text:"Listen: 'Hello, my name is John. I live in London and I work as a teacher. I like reading books and playing football.' What is John's job?",audioText:"Hello, my name is John. I live in London and I work as a teacher. I like reading books and playing football."},{type:"input",id:"listening1",placeholder:"Your answer..."},{type:"text",text:"Good! Now, another listening test. Listen: 'The weather is sunny today. I am going to the park with my friends. We will have a picnic and play games.' Where are they going?",durationMs:4e3},{type:"audio",text:"Listen carefully.",audioText:"The weather is sunny today. I am going to the park with my friends. We will have a picnic and play games."},{type:"input",id:"listening2",placeholder:"Your answer..."},{type:"text",text:"Great listening! Now, speaking. Describe your favorite hobby in English. Be as detailed as you can.",durationMs:3e3},{type:"input",id:"speaking1",placeholder:"Describe your hobby..."},{type:"text",text:"Nice! Reading test. Read this: 'Cats are popular pets. They are independent and playful. Many people love cats because they are cute and fun.' What are cats described as?",durationMs:5e3},{type:"input",id:"reading1",placeholder:"Your answer..."},{type:"text",text:"Good. Writing test. Write a short paragraph about your daily routine. Use at least 5 sentences.",durationMs:3e3},{type:"input",id:"writing1",placeholder:"Write your paragraph..."},{type:"text",text:"Vocabulary: What does 'happy' mean? Choose: a) sad, b) joyful, c) angry",durationMs:3e3},{type:"input",id:"vocab1",placeholder:"a, b, or c..."},{type:"text",text:"Grammar: Fill in the blank: 'I ___ to school every day.' (go, goes, going)",durationMs:3e3},{type:"input",id:"grammar1",placeholder:"Your answer..."},{type:"text",text:"Conversation: What do you think about learning English? Why is it important?",durationMs:3e3},{type:"input",id:"conversation1",placeholder:"Your opinion..."},{type:"text",text:"Thanks for participating! Now, let's calculate your English level based on your answers.",durationMs:3e3},{type:"result"}],[]),ie=$[m]||{type:"text",text:"",durationMs:1e3},{text:Z,done:O,skip:U}=rA(ie.type==="text"||ie.type==="audio"?ie.text:"",ie.durationMs||1500);B.useEffect(()=>{if(ie.type!=="text"&&ie.type!=="audio"||O)return;const Y=setInterval(()=>N(K=>!K),200);return()=>clearInterval(Y)},[ie,O]);function ee(Y,K={}){try{const E=new URL(Y);return/api\.dicebear\.com/.test(E.host)&&/\/lorelei\/svg/.test(E.pathname)?(Object.entries(K).forEach(([X,oe])=>{oe==null||oe===""?E.searchParams.delete(X):E.searchParams.set(X,String(oe))}),E.searchParams.has("size")||E.searchParams.set("size","300"),E.toString()):Y}catch{return Y}}const V=B.useMemo(()=>{let Y=r;return!Y||!(()=>{try{const E=new URL(Y);return/api\.dicebear\.com/.test(E.host)&&/\/lorelei\/svg/.test(E.pathname)}catch{return!1}})()||(ie.type==="text"&&!O?Y=ee(Y,{mouth:x?"happy08":null}):Y=ee(Y,{mouth:null})),Y},[r,ie,O,x]),ve=()=>ie.type==="text"||ie.type==="audio"?O:ie.type==="input"?v[ie.id]&&v[ie.id].trim().length>0:(ie.type==="result",!0),de=()=>{if(ie.type==="text"&&!O){U();return}if(ve())if(m+1<$.length){const Y=m+1;b(Y);const K=$[Y];K&&K.type==="audio"&&H(K.audioText),K&&K.type==="result"&&G(se(v))}else ue()};function be(Y){return{A1:`Your English level is: A1 (Beginner)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires.  ce niveau dbutant, concentrez-vous sur les bases : vocabulaire quotidien, phrases simples. Avec de la pratique rgulire, vous progresserez rapidement vers des niveaux plus avancs qui ouvriront des opportunits internationales.`,A2:`Your English level is: A2 (Elementary)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires et de la technologie.  ce niveau lmentaire, vous pouvez dj communiquer sur des sujets familiers. Continuez  pratiquer pour atteindre B1 et amliorer votre employabilit sur le march international.`,B1:`Your English level is: B1 (Intermediate)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication.  ce niveau intermdiaire, vous pouvez discuter de sujets varis et comprendre des textes complexes. Cela vous donne dj un avantage comptitif ; visez B2 pour des opportunits plus leves.`,B2:`Your English level is: B2 (Upper Intermediate)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication.  ce niveau avanc, vous matrisez la langue couramment. Cela ouvre des portes vers des postes internationaux et des carrires dans des entreprises multinationales. Continuez  perfectionner pour atteindre C1.`,C1:`Your English level is: C1 (Advanced)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication.  ce niveau avanc, vous utilisez l'anglais avec aisance et prcision. Cela vous positionne pour des rles de leadership international et des opportunits dans des secteurs de pointe. Visez C2 pour une matrise totale.`,C2:`Your English level is: C2 (Proficient)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication.  ce niveau expert, vous matrisez parfaitement l'anglais. Cela vous donne accs aux meilleures opportunits professionnelles mondiales, y compris dans des domaines spcialiss et innovants. Flicitations pour ce niveau exceptionnel !`}[Y]||"Your English level is: "+Y+`

L'anglais est essentiel pour votre avenir professionnel. Continuez  pratiquer !`}function se(Y){var me,xe,Ce,Te,Me,_e,te;let K=0;((me=Y.listening1)!=null&&me.toLowerCase().includes("teacher")||(xe=Y.listening1)!=null&&xe.toLowerCase().includes("professor"))&&(K+=25),((Ce=Y.listening2)!=null&&Ce.toLowerCase().includes("park")||(Te=Y.listening2)!=null&&Te.toLowerCase().includes("garden"))&&(K+=25);const E=Y.speaking1||"";E.split(/\s+/).length>20&&(K+=15),E.includes("I")&&E.includes("like")&&(K+=10),(E.includes("because")||E.includes("so"))&&(K+=5);const X=((Me=Y.reading1)==null?void 0:Me.toLowerCase())||"";(X.includes("independent")||X.includes("playful")||X.includes("cute")||X.includes("fun"))&&(K+=20);const oe=Y.writing1||"",he=oe.split(/\s+/).length;oe.split(/[.!?]+/).filter($e=>$e.trim().length>0).length>=5&&(K+=15),he>50&&(K+=10),oe.includes("I ")&&oe.includes("my ")&&(K+=5),((_e=Y.vocab1)==null?void 0:_e.toLowerCase().trim())==="b"&&(K+=15),((te=Y.grammar1)==null?void 0:te.toLowerCase().trim())==="go"&&(K+=15);const ce=Y.conversation1||"";return ce.split(/\s+/).length>30&&(K+=10),(ce.includes("important")||ce.includes("because")||ce.includes("future"))&&(K+=10),K<=30?"A1":K<=60?"A2":K<=90?"B1":K<=120?"B2":K<=150?"C1":"C2"}function ue(){const Y=se(v);G(Y),L(!0),(async()=>{try{try{await Ot.post("/questionnaire/niveau5",{answers:v,englishLevel:Y})}catch{}try{await Kd({minLevel:5,xpReward:180})}catch(K){console.warn("Progression update failed",K)}C(!0)}finally{L(!1)}})()}return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:V,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[(ie.type==="text"||ie.type==="audio")&&u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:Z}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),ie.type==="result"&&u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:be(q)}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),ie.type==="input"&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"font-medium text-text-primary block",children:"Rponse"}),u.jsx("textarea",{className:"w-full rounded-xl border border-gray-300 p-3 focus:outline-none focus:ring-2 focus:ring-black min-h-[140px]",placeholder:ie.placeholder||"Ta rponse...",value:v[ie.id],onChange:Y=>k(K=>({...K,[ie.id]:Y.target.value}))})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[u.jsx("button",{onClick:de,disabled:!ve()||A,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50",children:m+1<$.length?(ie.type==="text"||ie.type==="audio")&&!O?"Passer":"Suivant":"Terminer"}),u.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Quitter"})]})]})]})})}),_&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 5 termin !"}),u.jsxs("p",{className:"text-text-secondary mb-4",children:["Ton niveau d'anglais est : ",u.jsx("strong",{children:q}),". Continue  pratiquer pour progresser !"]}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})})]})})]})}function iA(){const[e,t]=B.useState("loading"),[n,r]=B.useState(""),s=Wr(),i=ja();return B.useEffect(()=>{(async()=>{try{const o=new URLSearchParams(i.hash.substring(1)),l=o.get("access_token"),h=o.get("refresh_token");if(o.get("type")==="signup"&&l){const{data:m,error:b}=await lr.auth.setSession({access_token:l,refresh_token:h});if(b){console.error("Error setting session:",b),t("error"),r("Erreur lors de la validation de l'email");return}localStorage.setItem("supabase_auth_token",l),t("success"),r("Email valid"),setTimeout(()=>{alert("Email valid");const v=localStorage.getItem("answers_cache");s(v?"/app/results":"/app")},1e3)}else t("error"),r("Lien de confirmation invalide")}catch(o){console.error("Email confirmation error:",o),t("error"),r("Erreur lors de la validation de l'email")}})()},[i,s]),u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-md text-center",children:[e==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsxs("svg",{className:"w-8 h-8 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Validation en cours..."}),u.jsx("p",{className:"text-text-secondary",children:"Nous validons votre email, veuillez patienter."})]}),e==="success"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:n}),u.jsx("p",{className:"text-text-secondary",children:"Redirection vers votre tableau de bord..."})]}),e==="error"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Erreur"}),u.jsx("p",{className:"text-text-secondary mb-4",children:n}),u.jsx("button",{onClick:()=>s("/login"),className:"bg-black text-white px-6 py-2 rounded-lg",children:"Retour  la connexion"})]})]})})}const aA=new Set(["joris.geerdes@zelia.io","nicolas.wiegele@zelia.io"]);function oA(){const[e,t]=B.useState("student"),[n,r]=B.useState(null),[s,i]=B.useState(!0),[a,o]=B.useState(""),[l,h]=B.useState([]),[p,m]=B.useState(""),b=B.useRef(null),[v,k]=B.useState([]),[A,L]=B.useState(""),[x,N]=B.useState(!1),[_,C]=B.useState([]),[q,G]=B.useState(null);B.useEffect(()=>{let Z=!0;return(async()=>{var O,U,ee,V;try{i(!0);let ve=null;const{data:{user:de},error:be}=await lr.auth.getUser();if(de&&!be)ve={id:de.id,email:de.email};else try{const K=await Ot.get("/users/me");ve={id:K.data.user.id,email:K.data.user.email}}catch{throw new Error("Non authentifi")}if(!Z)return;r(ve);const{data:se,error:ue}=await lr.from("global_chat").select("*").order("created_at",{ascending:!0}).limit(200);if(ue)throw ue;if(!Z)return;h(se||[]);try{let K=[];try{const E=await Ot.get(`/analysis/results/${ve.id}`);K=((U=(O=E==null?void 0:E.data)==null?void 0:O.results)==null?void 0:U.jobRecommendations)||[]}catch{try{const J=await Ot.get("/analysis/my-results");K=((V=(ee=J==null?void 0:J.data)==null?void 0:ee.results)==null?void 0:V.jobRecommendations)||[]}catch{}}C(K),K.length>0&&G(K[0])}catch{}const Y=lr.channel("global_chat_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"global_chat"},K=>{h(E=>[...E,K.new])}).subscribe();return()=>{lr.removeChannel(Y)}}catch(ve){Z&&o(ve.message||"Erreur de chargement")}finally{Z&&i(!1)}})(),()=>{Z=!1}},[]),B.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[l,v]);const H=async()=>{const Z=p.trim();if(!Z||!n)return;m("");const O={id:Date.now(),user_id:n.id,user_email:n.email,content:Z,created_at:new Date().toISOString()};h(ee=>[...ee,O]);const{error:U}=await lr.from("global_chat").insert({user_id:n.id,user_email:n.email,content:Z});U&&(o(U.message),h(ee=>ee.filter(V=>V!==O)),m(Z))},$=Z=>Z&&aA.has(Z.toLowerCase()),ie=async()=>{var U;const Z=A.trim();if(!Z)return;const O=[...v,{role:"user",content:Z}];k(O),L(""),N(!0);try{const{data:{session:ee}}=await lr.auth.getSession(),V=(ee==null?void 0:ee.access_token)||localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),ve=V?{Authorization:`Bearer ${V}`}:{},de=await Ot.post("/chat/ai",{mode:q?"persona":"advisor",persona:q||void 0,message:Z,history:O.slice(-10),jobTitles:(_||[]).map(se=>se==null?void 0:se.title).filter(Boolean),advisorType:(q==null?void 0:q.title)||"conseiller-ia"},{headers:ve}),be=((U=de==null?void 0:de.data)==null?void 0:U.reply)||"Je n'ai pas pu gnrer de rponse.";k(se=>[...se,{role:"assistant",content:be}])}catch(ee){k(V=>{var ve,de;return[...V,{role:"assistant",content:"Erreur IA: "+(((de=(ve=ee==null?void 0:ee.response)==null?void 0:ve.data)==null?void 0:de.error)||ee.message)}]})}finally{N(!1)}};return s?u.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full border-4 border-gray-200 relative",children:[u.jsx("div",{className:"absolute inset-1 rounded-full border-4",style:{borderColor:"#c1ff72"}}),u.jsx("div",{className:"absolute right-0 bottom-0 h-3 w-3 rounded-full",style:{background:"#f68fff"}})]}),u.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Chargement du chat"})]})}):a?u.jsx("div",{className:"p-6 text-red-600",children:a}):u.jsx("div",{className:"min-h-screen bg-white p-4 flex flex-col",children:u.jsxs("div",{className:"w-full space-y-6 flex flex-col",children:[u.jsx("div",{className:"bg-white rounded-3xl p-6 border border-gray-200 shadow-card",children:u.jsx("div",{className:"flex flex-col items-center gap-3 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${e==="student"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>t("student"),children:"tudiant"}),u.jsx("span",{className:"text-gray-400",children:"/"}),u.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${e==="ai"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>t("ai"),children:"IA"})]})})}),e==="student"?u.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[u.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Chat global"}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c1ff72] text-black border border-gray-200",children:"Tous les utilisateurs"})]}),u.jsx("div",{ref:b,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:l.map(Z=>u.jsx("div",{className:`flex ${Z.user_id===n.id?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${Z.user_id===n.id?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[u.jsxs("div",{className:"text-xs mb-1 flex items-center gap-2",children:[$(Z.user_email)?u.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-[#f68fff] text-white",children:"Admin"}):u.jsx("span",{className:"text-gray-600",children:Z.user_email||"Utilisateur"}),u.jsxs("span",{className:"text-gray-400",children:[" ",new Date(Z.created_at).toLocaleTimeString()]})]}),u.jsx("div",{className:"whitespace-pre-wrap break-words",children:Z.content})]})},Z.id))}),u.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:"crire un message",value:p,onChange:Z=>m(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&H()}}),u.jsx("button",{className:"px-4 py-2 rounded-lg bg-black text-white",onClick:H,children:"Envoyer"})]})})]}):u.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[u.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2 flex-wrap",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center",children:"Conseiller IA"}),_.length>0?u.jsxs("div",{className:"mt-3 w-full flex flex-wrap items-center justify-center gap-2",children:[u.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${q?"bg-white border-line":"bg-black text-white border-black"}`,onClick:()=>G(null),title:"Conseiller gnral",children:"Gnral"},"general"),_.map((Z,O)=>{var U;return u.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${(q==null?void 0:q.title)===Z.title?"bg-black text-white border-black":"bg-white border-line"}`,onClick:()=>G(Z),title:(U=Z.skills)==null?void 0:U.join(", "),children:Z.title},O)})]}):u.jsx("p",{className:"text-sm text-text-secondary text-center mt-1",children:"Conseiller d'orientation"})]}),u.jsxs("div",{ref:b,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:[v.map((Z,O)=>u.jsx("div",{className:`flex ${Z.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${Z.role==="user"?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[u.jsx("div",{className:"text-xs mb-1 text-gray-600",children:Z.role==="user"?"Vous":q?q.title:"Conseiller IA"}),u.jsx("div",{className:"whitespace-pre-wrap break-words",children:Z.content})]})},O)),x&&u.jsx("div",{className:"text-sm text-gray-500",children:"L'IA rdige une rponse"})]}),u.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:q?`Parler avec ${q.title}`:"Poser une question d'orientation",value:A,onChange:Z=>L(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&ie()}}),u.jsx("button",{disabled:x,className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-60",onClick:ie,children:"Envoyer"})]})})]})]})})}const D2=B.lazy(()=>dt(()=>import("./Activites-Ar6NjXE7.js"),[])),lA=Object.assign({"./pages/niveau/Niveau10.jsx":()=>dt(()=>import("./Niveau10-B4eP9RdJ.js"),[]),"./pages/niveau/Niveau11.jsx":()=>dt(()=>import("./Niveau11-CPHQV73m.js"),__vite__mapDeps([0,1])),"./pages/niveau/Niveau12.jsx":()=>dt(()=>import("./Niveau12-DkyryiPD.js"),__vite__mapDeps([2,1])),"./pages/niveau/Niveau13.jsx":()=>dt(()=>import("./Niveau13-DjAaBPS6.js"),__vite__mapDeps([3,1])),"./pages/niveau/Niveau14.jsx":()=>dt(()=>import("./Niveau14-Dfs68DBX.js"),__vite__mapDeps([4,1])),"./pages/niveau/Niveau15.jsx":()=>dt(()=>import("./Niveau15-BzmAJl8R.js"),__vite__mapDeps([5,1])),"./pages/niveau/Niveau16.jsx":()=>dt(()=>import("./Niveau16-BvXMDjXk.js"),__vite__mapDeps([6,1])),"./pages/niveau/Niveau17.jsx":()=>dt(()=>import("./Niveau17-cGsN6VQL.js"),__vite__mapDeps([7,1])),"./pages/niveau/Niveau18.jsx":()=>dt(()=>import("./Niveau18-Bitjc2pW.js"),__vite__mapDeps([8,1])),"./pages/niveau/Niveau19.jsx":()=>dt(()=>import("./Niveau19-DcZmjHex.js"),__vite__mapDeps([9,1])),"./pages/niveau/Niveau20.jsx":()=>dt(()=>import("./Niveau20-BPQJ1bNP.js"),__vite__mapDeps([10,1])),"./pages/niveau/Niveau21.jsx":()=>dt(()=>import("./Niveau21-BgLqTt4e.js"),__vite__mapDeps([11,1])),"./pages/niveau/Niveau22.jsx":()=>dt(()=>import("./Niveau22-BzHYnRCd.js"),__vite__mapDeps([12,1])),"./pages/niveau/Niveau23.jsx":()=>dt(()=>import("./Niveau23-zxc7PT7I.js"),__vite__mapDeps([13,1])),"./pages/niveau/Niveau24.jsx":()=>dt(()=>import("./Niveau24-IKl-9mzf.js"),__vite__mapDeps([14,1])),"./pages/niveau/Niveau25.jsx":()=>dt(()=>import("./Niveau25-CXx0Pjaa.js"),__vite__mapDeps([15,1])),"./pages/niveau/Niveau26.jsx":()=>dt(()=>import("./Niveau26-DZJulpCJ.js"),__vite__mapDeps([16,1])),"./pages/niveau/Niveau27.jsx":()=>dt(()=>import("./Niveau27-B1HcflGh.js"),__vite__mapDeps([17,1])),"./pages/niveau/Niveau28.jsx":()=>dt(()=>import("./Niveau28-DauOjFt4.js"),__vite__mapDeps([18,1])),"./pages/niveau/Niveau29.jsx":()=>dt(()=>import("./Niveau29-rOiz_cn5.js"),__vite__mapDeps([19,1])),"./pages/niveau/Niveau30.jsx":()=>dt(()=>import("./Niveau30-BhI9QZKg.js"),__vite__mapDeps([20,1])),"./pages/niveau/Niveau31.jsx":()=>dt(()=>import("./Niveau31-ClaruEMy.js"),__vite__mapDeps([21,1])),"./pages/niveau/Niveau32.jsx":()=>dt(()=>import("./Niveau32-CVCd9Ur7.js"),__vite__mapDeps([22,1])),"./pages/niveau/Niveau33.jsx":()=>dt(()=>import("./Niveau33-DvGCsNGa.js"),__vite__mapDeps([23,1])),"./pages/niveau/Niveau34.jsx":()=>dt(()=>import("./Niveau34-Djw3dyHb.js"),__vite__mapDeps([24,1])),"./pages/niveau/Niveau35.jsx":()=>dt(()=>import("./Niveau35-aUnOfdno.js"),__vite__mapDeps([25,1])),"./pages/niveau/Niveau36.jsx":()=>dt(()=>import("./Niveau36-DQ6raEJM.js"),__vite__mapDeps([26,1])),"./pages/niveau/Niveau37.jsx":()=>dt(()=>import("./Niveau37-PnGh32bk.js"),__vite__mapDeps([27,1])),"./pages/niveau/Niveau38.jsx":()=>dt(()=>import("./Niveau38-zgv9ffHk.js"),__vite__mapDeps([28,1])),"./pages/niveau/Niveau39.jsx":()=>dt(()=>import("./Niveau39-8T2ivCcp.js"),__vite__mapDeps([29,1])),"./pages/niveau/Niveau40.jsx":()=>dt(()=>import("./Niveau40-B0fMFSZC.js"),__vite__mapDeps([30,1])),"./pages/niveau/Niveau41.jsx":()=>dt(()=>import("./Niveau41-CpG1XEkv.js"),__vite__mapDeps([31,1])),"./pages/niveau/Niveau42.jsx":()=>dt(()=>import("./Niveau42-CHaJWJaV.js"),__vite__mapDeps([32,1])),"./pages/niveau/Niveau43.jsx":()=>dt(()=>import("./Niveau43-C7PmorqB.js"),__vite__mapDeps([33,1])),"./pages/niveau/Niveau44.jsx":()=>dt(()=>import("./Niveau44-DsBCV8Gm.js"),__vite__mapDeps([34,1])),"./pages/niveau/Niveau45.jsx":()=>dt(()=>import("./Niveau45-CRvPZHdA.js"),__vite__mapDeps([35,1])),"./pages/niveau/Niveau46.jsx":()=>dt(()=>import("./Niveau46-BJfKhQQB.js"),__vite__mapDeps([36,1])),"./pages/niveau/Niveau47.jsx":()=>dt(()=>import("./Niveau47-C0MHC0tm.js"),__vite__mapDeps([37,1])),"./pages/niveau/Niveau48.jsx":()=>dt(()=>import("./Niveau48-CnxyznXf.js"),__vite__mapDeps([38,1])),"./pages/niveau/Niveau49.jsx":()=>dt(()=>import("./Niveau49-DY7isFoN.js"),__vite__mapDeps([39,1])),"./pages/niveau/Niveau50.jsx":()=>dt(()=>import("./Niveau50-BDTk_0em.js"),__vite__mapDeps([40,1])),"./pages/niveau/Niveau6.jsx":()=>dt(()=>import("./Niveau6-2hjMt67V.js"),[]),"./pages/niveau/Niveau7.jsx":()=>dt(()=>import("./Niveau7-qaHJEa3q.js"),[]),"./pages/niveau/Niveau8.jsx":()=>dt(()=>import("./Niveau8-BG4oRoSF.js"),[]),"./pages/niveau/Niveau9.jsx":()=>dt(()=>import("./Niveau9-BDvPNLVM.js"),[])}),Pw=Object.entries(lA).reduce((e,[t,n])=>{const r=t.match(/Niveau(\d+)\.jsx$/);if(!r)return e;const s=Number(r[1]);return Number.isNaN(s)||s<=5||(e[s]=B.lazy(()=>n())),e},{}),cA=Object.keys(Pw).map(e=>Number(e)).sort((e,t)=>e-t);function uA(){return u.jsx(g3,{children:u.jsxs(l3,{children:[u.jsx(vn,{path:"/",element:u.jsx(wk,{})}),u.jsx(vn,{path:"/login",element:u.jsx(fk,{})}),u.jsx(vn,{path:"/register",element:u.jsx(pk,{})}),u.jsx(vn,{path:"/email-confirmation",element:u.jsx(iA,{})}),u.jsx(vn,{path:"/avatar",element:u.jsx(Sk,{})}),u.jsx(vn,{path:"/questionnaire",element:u.jsx(vk,{})}),u.jsxs(vn,{path:"/app",element:u.jsx(hA,{children:u.jsx(Wk,{})}),children:[u.jsx(vn,{index:!0,element:u.jsx(B.Suspense,{fallback:u.jsx("div",{className:"p-6 text-center",children:"Chargement des activits"}),children:u.jsx(D2,{})})}),u.jsx(vn,{path:"profile",element:u.jsx($k,{})}),u.jsx(vn,{path:"results",element:u.jsx(Ak,{})}),u.jsx(vn,{path:"formations",element:u.jsx(Hk,{})}),u.jsx(vn,{path:"emplois",element:u.jsx(Vk,{})}),u.jsx(vn,{path:"activites",element:u.jsx(B.Suspense,{fallback:u.jsx("div",{className:"p-6 text-center",children:"Chargement des activits"}),children:u.jsx(D2,{})})}),u.jsx(vn,{path:"lettre",element:u.jsx(Gk,{})}),u.jsx(vn,{path:"chat",element:u.jsx(oA,{})}),u.jsx(vn,{path:"niveau/1",element:u.jsx(Kk,{})}),u.jsx(vn,{path:"niveau/2",element:u.jsx(Zk,{})}),u.jsx(vn,{path:"niveau/3",element:u.jsx(n6,{})}),u.jsx(vn,{path:"niveau/4",element:u.jsx(tA,{})}),u.jsx(vn,{path:"niveau/5",element:u.jsx(sA,{})}),cA.map(e=>{const t=Pw[e];return u.jsx(vn,{path:`niveau/${e}`,element:u.jsx(B.Suspense,{fallback:u.jsx("div",{className:"p-6 text-center",children:"Chargement du niveau"}),children:u.jsx(t,{})})},e)})]}),u.jsx(vn,{path:"*",element:u.jsx(lb,{to:"/"})})]})})}const dA=X5(document.getElementById("root"));dA.render(u.jsx(uA,{}));function hA({children:e}){return localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")?e:u.jsx(lb,{to:"/login"})}export{HA as A,yt as E,iw as P,Wi as a,Ot as b,fA as c,WA as d,JA as e,i1 as f,qA as g,pd as h,GA as i,u as j,Ss as k,Kd as l,Uw as m,$A as p,VA as q,B as r,lr as s,Wr as u};
