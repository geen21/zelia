const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Niveau11-CEy-NuTy.js","assets/NiveauPlaceholder-Brg9OUS4.js","assets/Niveau12-BPLynVtb.js","assets/Niveau13-D2YkiANe.js","assets/Niveau14-C-gTYf2z.js","assets/Niveau15-D0xOegRV.js","assets/Niveau16-D7m8vI5u.js","assets/Niveau17-Bkr7b-Qj.js","assets/Niveau18-xpLvuBYQ.js","assets/Niveau19-TFbE1e5m.js","assets/Niveau20-BNmjwYeY.js","assets/Niveau21-6jrmvraG.js","assets/Niveau22-BEwOptpZ.js","assets/Niveau23-CwJtvtCi.js","assets/Niveau24-B6hjX_Bu.js","assets/Niveau25-DTmYlV21.js","assets/Niveau26-CTz0MvFv.js","assets/Niveau27-C0PoXnZ2.js","assets/Niveau28-CeHM6WbT.js","assets/Niveau29-DxfzX9l-.js","assets/Niveau30-D4cWuU-B.js","assets/Niveau31-DoeUNXwH.js","assets/Niveau32-BanjJDp8.js","assets/Niveau33-8oiIk-ot.js","assets/Niveau34-B9ur8K1E.js","assets/Niveau35-DwumOAfQ.js","assets/Niveau36-LHmdxo-4.js","assets/Niveau37-CNjhJGCk.js","assets/Niveau38-DAjfMDhk.js","assets/Niveau39-DX23oKz5.js","assets/Niveau40-D3UAH4qW.js","assets/Niveau41-w3CwREkN.js","assets/Niveau42-C6c8CtUF.js","assets/Niveau43-ttu6AU2Z.js","assets/Niveau44-Bol7OcfG.js","assets/Niveau45-dKP7tnfN.js","assets/Niveau46-bG-QnYJQ.js","assets/Niveau47-CJyg38kW.js","assets/Niveau48-DRjjE7Xl.js","assets/Niveau49-CG57Lqg6.js","assets/Niveau50-D51-AImj.js"])))=>i.map(i=>d[i]);
function Qw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Yw="modulepreload",Xw=function(e){return"/"+e},bp={},he=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Xw(u),u in bp)return;bp[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Yw,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((x,S)=>{p.addEventListener("load",x),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ng={exports:{}},Tl={},Eg={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.element"),tb=Symbol.for("react.portal"),nb=Symbol.for("react.fragment"),rb=Symbol.for("react.strict_mode"),sb=Symbol.for("react.profiler"),ib=Symbol.for("react.provider"),ob=Symbol.for("react.context"),ab=Symbol.for("react.forward_ref"),lb=Symbol.for("react.suspense"),cb=Symbol.for("react.memo"),ub=Symbol.for("react.lazy"),_p=Symbol.iterator;function db(e){return e===null||typeof e!="object"?null:(e=_p&&e[_p]||e["@@iterator"],typeof e=="function"?e:null)}var Cg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,Pg={};function Ni(e,t,n){this.props=e,this.context=t,this.refs=Pg,this.updater=n||Cg}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ag(){}Ag.prototype=Ni.prototype;function Md(e,t,n){this.props=e,this.context=t,this.refs=Pg,this.updater=n||Cg}var Ud=Md.prototype=new Ag;Ud.constructor=Md;Tg(Ud,Ni.prototype);Ud.isPureReactComponent=!0;var jp=Array.isArray,Og=Object.prototype.hasOwnProperty,Fd={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function Ig(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Og.call(t,r)&&!Rg.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Fo,type:e,key:i,ref:o,props:s,_owner:Fd.current}}function hb(e,t){return{$$typeof:Fo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fo}function fb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sp=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fb(""+e.key):t.toString(36)}function Da(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fo:case tb:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Dc(o,0):r,jp(s)?(n="",e!=null&&(n=e.replace(Sp,"$&/")+"/"),Da(s,t,n,"",function(d){return d})):s!=null&&(zd(s)&&(s=hb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",jp(e))for(var c=0;c<e.length;c++){i=e[c];var u=r+Dc(i,c);o+=Da(i,t,n,u,s)}else if(u=db(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=r+Dc(i,c++),o+=Da(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ga(e,t,n){if(e==null)return e;var r=[],s=0;return Da(e,r,"","",function(i){return t.call(n,i,s++)}),r}function pb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},Ma={transition:null},mb={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ma,ReactCurrentOwner:Fd};function Lg(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:ga,forEach:function(e,t,n){ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ga(e,function(){t++}),t},toArray:function(e){return ga(e,function(t){return t})||[]},only:function(e){if(!zd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=Ni;$e.Fragment=nb;$e.Profiler=sb;$e.PureComponent=Md;$e.StrictMode=rb;$e.Suspense=lb;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;$e.act=Lg;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Fd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)Og.call(t,u)&&!Rg.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Fo,type:e.type,key:s,ref:i,props:r,_owner:o}};$e.createContext=function(e){return e={$$typeof:ob,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ib,_context:e},e.Consumer=e};$e.createElement=Ig;$e.createFactory=function(e){var t=Ig.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:ab,render:e}};$e.isValidElement=zd;$e.lazy=function(e){return{$$typeof:ub,_payload:{_status:-1,_result:e},_init:pb}};$e.memo=function(e,t){return{$$typeof:cb,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=Ma.transition;Ma.transition={};try{e()}finally{Ma.transition=t}};$e.unstable_act=Lg;$e.useCallback=function(e,t){return Vt.current.useCallback(e,t)};$e.useContext=function(e){return Vt.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};$e.useEffect=function(e,t){return Vt.current.useEffect(e,t)};$e.useId=function(){return Vt.current.useId()};$e.useImperativeHandle=function(e,t,n){return Vt.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return Vt.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return Vt.current.useReducer(e,t,n)};$e.useRef=function(e){return Vt.current.useRef(e)};$e.useState=function(e){return Vt.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return Vt.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return Vt.current.useTransition()};$e.version="18.3.1";Eg.exports=$e;var v=Eg.exports;const Bd=Zw(v),gb=Qw({__proto__:null,default:Bd},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb=v,yb=Symbol.for("react.element"),xb=Symbol.for("react.fragment"),wb=Object.prototype.hasOwnProperty,bb=vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_b={key:!0,ref:!0,__self:!0,__source:!0};function $g(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)wb.call(t,r)&&!_b.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:yb,type:e,key:i,ref:o,props:s,_owner:bb.current}}Tl.Fragment=xb;Tl.jsx=$g;Tl.jsxs=$g;Ng.exports=Tl;var a=Ng.exports,Dg={exports:{}},pn={},Mg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,V){var R=q.length;q.push(V);e:for(;0<R;){var N=R-1>>>1,J=q[N];if(0<s(J,V))q[N]=V,q[R]=J,R=N;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var V=q[0],R=q.pop();if(R!==V){q[0]=R;e:for(var N=0,J=q.length,fe=J>>>1;N<fe;){var ge=2*(N+1)-1,we=q[ge],Fe=ge+1,F=q[Fe];if(0>s(we,R))Fe<J&&0>s(F,we)?(q[N]=F,q[Fe]=R,N=Fe):(q[N]=we,q[ge]=R,N=ge);else if(Fe<J&&0>s(F,R))q[N]=F,q[Fe]=R,N=Fe;else break e}}return V}function s(q,V){var R=q.sortIndex-V.sortIndex;return R!==0?R:q.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,x=3,S=!1,j=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(q){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=q)r(d),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(d)}}function _(q){if(C=!1,m(q),!j)if(n(u)!==null)j=!0,Z(T);else{var V=n(d);V!==null&&ye(_,V.startTime-q)}}function T(q,V){j=!1,C&&(C=!1,b($),$=-1),S=!0;var R=x;try{for(m(V),p=n(u);p!==null&&(!(p.expirationTime>V)||q&&!H());){var N=p.callback;if(typeof N=="function"){p.callback=null,x=p.priorityLevel;var J=N(p.expirationTime<=V);V=e.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),m(V)}else r(u);p=n(u)}if(p!==null)var fe=!0;else{var ge=n(d);ge!==null&&ye(_,ge.startTime-V),fe=!1}return fe}finally{p=null,x=R,S=!1}}var E=!1,A=null,$=-1,z=5,I=-1;function H(){return!(e.unstable_now()-I<z)}function re(){if(A!==null){var q=e.unstable_now();I=q;var V=!0;try{V=A(!0,q)}finally{V?X():(E=!1,A=null)}}else E=!1}var X;if(typeof y=="function")X=function(){y(re)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ne=U.port2;U.port1.onmessage=re,X=function(){ne.postMessage(null)}}else X=function(){k(re,0)};function Z(q){A=q,E||(E=!0,X())}function ye(q,V){$=k(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){j||S||(j=!0,Z(T))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(q){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var R=x;x=V;try{return q()}finally{x=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var R=x;x=q;try{return V()}finally{x=R}},e.unstable_scheduleCallback=function(q,V,R){var N=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?N+R:N):R=N,q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,q={id:f++,callback:V,priorityLevel:q,startTime:R,expirationTime:J,sortIndex:-1},R>N?(q.sortIndex=R,t(d,q),n(u)===null&&q===n(d)&&(C?(b($),$=-1):C=!0,ye(_,R-N))):(q.sortIndex=J,t(u,q),j||S||(j=!0,Z(T))),q},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(q){var V=x;return function(){var R=x;x=V;try{return q.apply(this,arguments)}finally{x=R}}}})(Ug);Mg.exports=Ug;var jb=Mg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb=v,fn=jb;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fg=new Set,xo={};function Cs(e,t){gi(e,t),gi(e+"Capture",t)}function gi(e,t){for(xo[e]=t,e=0;e<t.length;e++)Fg.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,kb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kp={},Np={};function Nb(e){return ku.call(Np,e)?!0:ku.call(kp,e)?!1:kb.test(e)?Np[e]=!0:(kp[e]=!0,!1)}function Eb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cb(e,t,n,r){if(t===null||typeof t>"u"||Eb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var qd=/[\-:]([a-z])/g;function Wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qd,Wd);Tt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qd,Wd);Tt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qd,Wd);Tt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vd(e,t,n,r){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cb(t,n,s,r)&&(n=null),r||s===null?Nb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yr=Sb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),Nu=Symbol.for("react.profiler"),zg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),Eu=Symbol.for("react.suspense"),Cu=Symbol.for("react.suspense_list"),Kd=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),qg=Symbol.for("react.offscreen"),Ep=Symbol.iterator;function Bi(e){return e===null||typeof e!="object"?null:(e=Ep&&e[Ep]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,Mc;function Zi(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||""}return`
`+Mc+e}var Uc=!1;function Fc(e,t){if(!e||Uc)return"";Uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{Uc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zi(e):""}function Tb(e){switch(e.tag){case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function Tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zs:return"Fragment";case Xs:return"Portal";case Nu:return"Profiler";case Hd:return"StrictMode";case Eu:return"Suspense";case Cu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bg:return(e.displayName||"Context")+".Consumer";case zg:return(e._context.displayName||"Context")+".Provider";case Jd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kd:return t=e.displayName||null,t!==null?t:Tu(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return Tu(e(t))}catch{}}return null}function Pb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tu(t);case 8:return t===Hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ab(e){var t=Wg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ya(e){e._valueTracker||(e._valueTracker=Ab(e))}function Vg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var n=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hg(e,t){t=t.checked,t!=null&&Vd(e,"checked",t,!1)}function Au(e,t){Hg(e,t);var n=Wr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ou(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ou(e,t.type,Wr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ou(e,t,n){(t!=="number"||Za(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var eo=Array.isArray;function ui(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ru(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(eo(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wr(n)}}function Jg(e,t){var n=Wr(t.value),r=Wr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ap(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xa,Gg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ob=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(e){Ob.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),io[t]=io[e]})});function Qg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||io.hasOwnProperty(e)&&io[e]?(""+t).trim():t+"px"}function Yg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Rb=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lu(e,t){if(t){if(Rb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function $u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mu=null,di=null,hi=null;function Op(e){if(e=qo(e)){if(typeof Mu!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Il(t),Mu(e.stateNode,e.type,t))}}function Xg(e){di?hi?hi.push(e):hi=[e]:di=e}function Zg(){if(di){var e=di,t=hi;if(hi=di=null,Op(e),t)for(e=0;e<t.length;e++)Op(t[e])}}function ev(e,t){return e(t)}function tv(){}var zc=!1;function nv(e,t,n){if(zc)return e(t,n);zc=!0;try{return ev(e,t,n)}finally{zc=!1,(di!==null||hi!==null)&&(tv(),Zg())}}function bo(e,t){var n=e.stateNode;if(n===null)return null;var r=Il(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Uu=!1;if(pr)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Uu=!1}function Ib(e,t,n,r,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var oo=!1,el=null,tl=!1,Fu=null,Lb={onError:function(e){oo=!0,el=e}};function $b(e,t,n,r,s,i,o,c,u){oo=!1,el=null,Ib.apply(Lb,arguments)}function Db(e,t,n,r,s,i,o,c,u){if($b.apply(this,arguments),oo){if(oo){var d=el;oo=!1,el=null}else throw Error(K(198));tl||(tl=!0,Fu=d)}}function Ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rp(e){if(Ts(e)!==e)throw Error(K(188))}function Mb(e){var t=e.alternate;if(!t){if(t=Ts(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rp(s),e;if(i===r)return Rp(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function sv(e){return e=Mb(e),e!==null?iv(e):null}function iv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iv(e);if(t!==null)return t;e=e.sibling}return null}var ov=fn.unstable_scheduleCallback,Ip=fn.unstable_cancelCallback,Ub=fn.unstable_shouldYield,Fb=fn.unstable_requestPaint,ht=fn.unstable_now,zb=fn.unstable_getCurrentPriorityLevel,Qd=fn.unstable_ImmediatePriority,av=fn.unstable_UserBlockingPriority,nl=fn.unstable_NormalPriority,Bb=fn.unstable_LowPriority,lv=fn.unstable_IdlePriority,Pl=null,er=null;function qb(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:Hb,Wb=Math.log,Vb=Math.LN2;function Hb(e){return e>>>=0,e===0?32:31-(Wb(e)/Vb|0)|0}var wa=64,ba=4194304;function to(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=to(c):(i&=o,i!==0&&(r=to(i)))}else o=n&~s,o!==0?r=to(o):i!==0&&(r=to(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Un(t),s=1<<n,r|=e[n],t&=~s;return r}function Jb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Un(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=Jb(c,t)):u<=t&&(e.expiredLanes|=c),i&=~c}}function zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cv(){var e=wa;return wa<<=1,!(wa&4194240)&&(wa=64),e}function Bc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=n}function Gb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Un(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Un(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var He=0;function uv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dv,Xd,hv,fv,pv,Bu=!1,_a=[],Lr=null,$r=null,Dr=null,_o=new Map,jo=new Map,Tr=[],Qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lp(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(t.pointerId)}}function Wi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=qo(t),t!==null&&Xd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Yb(e,t,n,r,s){switch(t){case"focusin":return Lr=Wi(Lr,e,t,n,r,s),!0;case"dragenter":return $r=Wi($r,e,t,n,r,s),!0;case"mouseover":return Dr=Wi(Dr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return _o.set(i,Wi(_o.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jo.set(i,Wi(jo.get(i)||null,e,t,n,r,s)),!0}return!1}function mv(e){var t=ms(e.target);if(t!==null){var n=Ts(t);if(n!==null){if(t=n.tag,t===13){if(t=rv(n),t!==null){e.blockedOn=t,pv(e.priority,function(){hv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Du=r,n.target.dispatchEvent(r),Du=null}else return t=qo(n),t!==null&&Xd(t),e.blockedOn=n,!1;t.shift()}return!0}function $p(e,t,n){Ua(e)&&n.delete(t)}function Xb(){Bu=!1,Lr!==null&&Ua(Lr)&&(Lr=null),$r!==null&&Ua($r)&&($r=null),Dr!==null&&Ua(Dr)&&(Dr=null),_o.forEach($p),jo.forEach($p)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,Xb)))}function So(e){function t(s){return Vi(s,e)}if(0<_a.length){Vi(_a[0],e);for(var n=1;n<_a.length;n++){var r=_a[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lr!==null&&Vi(Lr,e),$r!==null&&Vi($r,e),Dr!==null&&Vi(Dr,e),_o.forEach(t),jo.forEach(t),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)mv(n),n.blockedOn===null&&Tr.shift()}var fi=yr.ReactCurrentBatchConfig,sl=!0;function Zb(e,t,n,r){var s=He,i=fi.transition;fi.transition=null;try{He=1,Zd(e,t,n,r)}finally{He=s,fi.transition=i}}function e_(e,t,n,r){var s=He,i=fi.transition;fi.transition=null;try{He=4,Zd(e,t,n,r)}finally{He=s,fi.transition=i}}function Zd(e,t,n,r){if(sl){var s=qu(e,t,n,r);if(s===null)Xc(e,t,r,il,n),Lp(e,r);else if(Yb(s,e,t,n,r))r.stopPropagation();else if(Lp(e,r),t&4&&-1<Qb.indexOf(e)){for(;s!==null;){var i=qo(s);if(i!==null&&dv(i),i=qu(e,t,n,r),i===null&&Xc(e,t,r,il,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Xc(e,t,r,null,n)}}var il=null;function qu(e,t,n,r){if(il=null,e=Gd(r),e=ms(e),e!==null)if(t=Ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return il=e,null}function gv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zb()){case Qd:return 1;case av:return 4;case nl:case Bb:return 16;case lv:return 536870912;default:return 16}default:return 16}}var Or=null,eh=null,Fa=null;function vv(){if(Fa)return Fa;var e,t=eh,n=t.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Fa=s.slice(e,1<r?1-r:void 0)}function za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ja(){return!0}function Dp(){return!1}function mn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ja:Dp,this.isPropagationStopped=Dp,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=mn(Ei),Bo=at({},Ei,{view:0,detail:0}),t_=mn(Bo),qc,Wc,Hi,Al=at({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(qc=e.screenX-Hi.screenX,Wc=e.screenY-Hi.screenY):Wc=qc=0,Hi=e),qc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),Mp=mn(Al),n_=at({},Al,{dataTransfer:0}),r_=mn(n_),s_=at({},Bo,{relatedTarget:0}),Vc=mn(s_),i_=at({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),o_=mn(i_),a_=at({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l_=mn(a_),c_=at({},Ei,{data:0}),Up=mn(c_),u_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h_[e])?!!t[e]:!1}function nh(){return f_}var p_=at({},Bo,{key:function(e){if(e.key){var t=u_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(e){return e.type==="keypress"?za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m_=mn(p_),g_=at({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=mn(g_),v_=at({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),y_=mn(v_),x_=at({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),w_=mn(x_),b_=at({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),__=mn(b_),j_=[9,13,27,32],rh=pr&&"CompositionEvent"in window,ao=null;pr&&"documentMode"in document&&(ao=document.documentMode);var S_=pr&&"TextEvent"in window&&!ao,yv=pr&&(!rh||ao&&8<ao&&11>=ao),zp=" ",Bp=!1;function xv(e,t){switch(e){case"keyup":return j_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function k_(e,t){switch(e){case"compositionend":return wv(t);case"keypress":return t.which!==32?null:(Bp=!0,zp);case"textInput":return e=t.data,e===zp&&Bp?null:e;default:return null}}function N_(e,t){if(ei)return e==="compositionend"||!rh&&xv(e,t)?(e=vv(),Fa=eh=Or=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yv&&t.locale!=="ko"?null:t.data;default:return null}}var E_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E_[e.type]:t==="textarea"}function bv(e,t,n,r){Xg(r),t=ol(t,"onChange"),0<t.length&&(n=new th("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lo=null,ko=null;function C_(e){Ov(e,0)}function Ol(e){var t=ri(e);if(Vg(t))return e}function T_(e,t){if(e==="change")return t}var _v=!1;if(pr){var Hc;if(pr){var Jc="oninput"in document;if(!Jc){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),Jc=typeof Wp.oninput=="function"}Hc=Jc}else Hc=!1;_v=Hc&&(!document.documentMode||9<document.documentMode)}function Vp(){lo&&(lo.detachEvent("onpropertychange",jv),ko=lo=null)}function jv(e){if(e.propertyName==="value"&&Ol(ko)){var t=[];bv(t,ko,e,Gd(e)),nv(C_,t)}}function P_(e,t,n){e==="focusin"?(Vp(),lo=t,ko=n,lo.attachEvent("onpropertychange",jv)):e==="focusout"&&Vp()}function A_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(ko)}function O_(e,t){if(e==="click")return Ol(t)}function R_(e,t){if(e==="input"||e==="change")return Ol(t)}function I_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:I_;function No(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ku.call(t,s)||!zn(e[s],t[s]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jp(e,t){var n=Hp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function Sv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kv(){for(var e=window,t=Za();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Za(e.document)}return t}function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L_(e){var t=kv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sv(n.ownerDocument.documentElement,n)){if(r!==null&&sh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Jp(n,i);var o=Jp(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $_=pr&&"documentMode"in document&&11>=document.documentMode,ti=null,Wu=null,co=null,Vu=!1;function Kp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vu||ti==null||ti!==Za(r)||(r=ti,"selectionStart"in r&&sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&No(co,r)||(co=r,r=ol(Wu,"onSelect"),0<r.length&&(t=new th("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ti)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ni={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Kc={},Nv={};pr&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Rl(e){if(Kc[e])return Kc[e];if(!ni[e])return e;var t=ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nv)return Kc[e]=t[n];return e}var Ev=Rl("animationend"),Cv=Rl("animationiteration"),Tv=Rl("animationstart"),Pv=Rl("transitionend"),Av=new Map,Gp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Av.set(e,t),Cs(t,[e])}for(var Gc=0;Gc<Gp.length;Gc++){var Qc=Gp[Gc],D_=Qc.toLowerCase(),M_=Qc[0].toUpperCase()+Qc.slice(1);Hr(D_,"on"+M_)}Hr(Ev,"onAnimationEnd");Hr(Cv,"onAnimationIteration");Hr(Tv,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Pv,"onTransitionEnd");gi("onMouseEnter",["mouseout","mouseover"]);gi("onMouseLeave",["mouseout","mouseover"]);gi("onPointerEnter",["pointerout","pointerover"]);gi("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U_=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Qp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Db(r,t,void 0,e),e.currentTarget=null}function Ov(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;Qp(s,c,d),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;Qp(s,c,d),i=u}}}if(tl)throw e=Fu,tl=!1,Fu=null,e}function tt(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var r=e+"__bubble";n.has(r)||(Rv(t,e,2,!1),n.add(r))}function Yc(e,t,n){var r=0;t&&(r|=4),Rv(n,e,r,t)}var ka="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[ka]){e[ka]=!0,Fg.forEach(function(n){n!=="selectionchange"&&(U_.has(n)||Yc(n,!1,e),Yc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ka]||(t[ka]=!0,Yc("selectionchange",!1,t))}}function Rv(e,t,n,r){switch(gv(t)){case 1:var s=Zb;break;case 4:s=e_;break;default:s=Zd}n=s.bind(null,t,n,e),s=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Xc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=ms(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}nv(function(){var d=i,f=Gd(n),p=[];e:{var x=Av.get(e);if(x!==void 0){var S=th,j=e;switch(e){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":S=m_;break;case"focusin":j="focus",S=Vc;break;case"focusout":j="blur",S=Vc;break;case"beforeblur":case"afterblur":S=Vc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=r_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=y_;break;case Ev:case Cv:case Tv:S=o_;break;case Pv:S=w_;break;case"scroll":S=t_;break;case"wheel":S=__;break;case"copy":case"cut":case"paste":S=l_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Fp}var C=(t&4)!==0,k=!C&&e==="scroll",b=C?x!==null?x+"Capture":null:x;C=[];for(var y=d,m;y!==null;){m=y;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,b!==null&&(_=bo(y,b),_!=null&&C.push(Co(y,_,m)))),k)break;y=y.return}0<C.length&&(x=new S(x,j,null,n,f),p.push({event:x,listeners:C}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",x&&n!==Du&&(j=n.relatedTarget||n.fromElement)&&(ms(j)||j[mr]))break e;if((S||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,S?(j=n.relatedTarget||n.toElement,S=d,j=j?ms(j):null,j!==null&&(k=Ts(j),j!==k||j.tag!==5&&j.tag!==6)&&(j=null)):(S=null,j=d),S!==j)){if(C=Mp,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=Fp,_="onPointerLeave",b="onPointerEnter",y="pointer"),k=S==null?x:ri(S),m=j==null?x:ri(j),x=new C(_,y+"leave",S,n,f),x.target=k,x.relatedTarget=m,_=null,ms(f)===d&&(C=new C(b,y+"enter",j,n,f),C.target=m,C.relatedTarget=k,_=C),k=_,S&&j)t:{for(C=S,b=j,y=0,m=C;m;m=Ws(m))y++;for(m=0,_=b;_;_=Ws(_))m++;for(;0<y-m;)C=Ws(C),y--;for(;0<m-y;)b=Ws(b),m--;for(;y--;){if(C===b||b!==null&&C===b.alternate)break t;C=Ws(C),b=Ws(b)}C=null}else C=null;S!==null&&Yp(p,x,S,C,!1),j!==null&&k!==null&&Yp(p,k,j,C,!0)}}e:{if(x=d?ri(d):window,S=x.nodeName&&x.nodeName.toLowerCase(),S==="select"||S==="input"&&x.type==="file")var T=T_;else if(qp(x))if(_v)T=R_;else{T=A_;var E=P_}else(S=x.nodeName)&&S.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(T=O_);if(T&&(T=T(e,d))){bv(p,T,n,f);break e}E&&E(e,x,d),e==="focusout"&&(E=x._wrapperState)&&E.controlled&&x.type==="number"&&Ou(x,"number",x.value)}switch(E=d?ri(d):window,e){case"focusin":(qp(E)||E.contentEditable==="true")&&(ti=E,Wu=d,co=null);break;case"focusout":co=Wu=ti=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Kp(p,n,f);break;case"selectionchange":if($_)break;case"keydown":case"keyup":Kp(p,n,f)}var A;if(rh)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else ei?xv(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(yv&&n.locale!=="ko"&&(ei||$!=="onCompositionStart"?$==="onCompositionEnd"&&ei&&(A=vv()):(Or=f,eh="value"in Or?Or.value:Or.textContent,ei=!0)),E=ol(d,$),0<E.length&&($=new Up($,e,null,n,f),p.push({event:$,listeners:E}),A?$.data=A:(A=wv(n),A!==null&&($.data=A)))),(A=S_?k_(e,n):N_(e,n))&&(d=ol(d,"onBeforeInput"),0<d.length&&(f=new Up("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=A))}Ov(p,t)})}function Co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ol(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bo(e,n),i!=null&&r.unshift(Co(e,i,s)),i=bo(e,t),i!=null&&r.push(Co(e,i,s))),e=e.return}return r}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=bo(n,i),u!=null&&o.unshift(Co(n,u,c))):s||(u=bo(n,i),u!=null&&o.push(Co(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var F_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function Xp(e){return(typeof e=="string"?e:""+e).replace(F_,`
`).replace(z_,"")}function Na(e,t,n){if(t=Xp(t),Xp(e)!==t&&n)throw Error(K(425))}function al(){}var Hu=null,Ju=null;function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,B_=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(e){return Zp.resolve(null).then(e).catch(W_)}:Gu;function W_(e){setTimeout(function(){throw e})}function Zc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),So(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);So(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Ci,To="__reactProps$"+Ci,mr="__reactContainer$"+Ci,Qu="__reactEvents$"+Ci,V_="__reactListeners$"+Ci,H_="__reactHandles$"+Ci;function ms(e){var t=e[Zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[Zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=em(e);e!==null;){if(n=e[Zn])return n;e=em(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[Zn]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Il(e){return e[To]||null}var Yu=[],si=-1;function Jr(e){return{current:e}}function nt(e){0>si||(e.current=Yu[si],Yu[si]=null,si--)}function Ze(e,t){si++,Yu[si]=e.current,e.current=t}var Vr={},Dt=Jr(Vr),Yt=Jr(!1),_s=Vr;function vi(e,t){var n=e.type.contextTypes;if(!n)return Vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function ll(){nt(Yt),nt(Dt)}function tm(e,t,n){if(Dt.current!==Vr)throw Error(K(168));Ze(Dt,t),Ze(Yt,n)}function Iv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,Pb(e)||"Unknown",s));return at({},n,r)}function cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,_s=Dt.current,Ze(Dt,e),Ze(Yt,Yt.current),!0}function nm(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=Iv(e,t,_s),r.__reactInternalMemoizedMergedChildContext=e,nt(Yt),nt(Dt),Ze(Dt,e)):nt(Yt),Ze(Yt,n)}var ur=null,Ll=!1,eu=!1;function Lv(e){ur===null?ur=[e]:ur.push(e)}function J_(e){Ll=!0,Lv(e)}function Kr(){if(!eu&&ur!==null){eu=!0;var e=0,t=He;try{var n=ur;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ur=null,Ll=!1}catch(s){throw ur!==null&&(ur=ur.slice(e+1)),ov(Qd,Kr),s}finally{He=t,eu=!1}}return null}var ii=[],oi=0,ul=null,dl=0,jn=[],Sn=0,js=null,dr=1,hr="";function ds(e,t){ii[oi++]=dl,ii[oi++]=ul,ul=e,dl=t}function $v(e,t,n){jn[Sn++]=dr,jn[Sn++]=hr,jn[Sn++]=js,js=e;var r=dr;e=hr;var s=32-Un(r)-1;r&=~(1<<s),n+=1;var i=32-Un(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dr=1<<32-Un(t)+s|n<<s|r,hr=i+e}else dr=1<<i|n<<s|r,hr=e}function ih(e){e.return!==null&&(ds(e,1),$v(e,1,0))}function oh(e){for(;e===ul;)ul=ii[--oi],ii[oi]=null,dl=ii[--oi],ii[oi]=null;for(;e===js;)js=jn[--Sn],jn[Sn]=null,hr=jn[--Sn],jn[Sn]=null,dr=jn[--Sn],jn[Sn]=null}var dn=null,un=null,rt=!1,Mn=null;function Dv(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,un=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=js!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,un=null,!0):!1;default:return!1}}function Xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zu(e){if(rt){var t=un;if(t){var n=t;if(!rm(e,t)){if(Xu(e))throw Error(K(418));t=Mr(n.nextSibling);var r=dn;t&&rm(e,t)?Dv(r,n):(e.flags=e.flags&-4097|2,rt=!1,dn=e)}}else{if(Xu(e))throw Error(K(418));e.flags=e.flags&-4097|2,rt=!1,dn=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function Ea(e){if(e!==dn)return!1;if(!rt)return sm(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ku(e.type,e.memoizedProps)),t&&(t=un)){if(Xu(e))throw Mv(),Error(K(418));for(;t;)Dv(e,t),t=Mr(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){un=Mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}un=null}}else un=dn?Mr(e.stateNode.nextSibling):null;return!0}function Mv(){for(var e=un;e;)e=Mr(e.nextSibling)}function yi(){un=dn=null,rt=!1}function ah(e){Mn===null?Mn=[e]:Mn.push(e)}var K_=yr.ReactCurrentBatchConfig;function Ji(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function im(e){var t=e._init;return t(e._payload)}function Uv(e){function t(b,y){if(e){var m=b.deletions;m===null?(b.deletions=[y],b.flags|=16):m.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=Br(b,y),b.index=0,b.sibling=null,b}function i(b,y,m){return b.index=m,e?(m=b.alternate,m!==null?(m=m.index,m<y?(b.flags|=2,y):m):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,y,m,_){return y===null||y.tag!==6?(y=au(m,b.mode,_),y.return=b,y):(y=s(y,m),y.return=b,y)}function u(b,y,m,_){var T=m.type;return T===Zs?f(b,y,m.props.children,_,m.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Er&&im(T)===y.type)?(_=s(y,m.props),_.ref=Ji(b,y,m),_.return=b,_):(_=Ka(m.type,m.key,m.props,null,b.mode,_),_.ref=Ji(b,y,m),_.return=b,_)}function d(b,y,m,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=lu(m,b.mode,_),y.return=b,y):(y=s(y,m.children||[]),y.return=b,y)}function f(b,y,m,_,T){return y===null||y.tag!==7?(y=ws(m,b.mode,_,T),y.return=b,y):(y=s(y,m),y.return=b,y)}function p(b,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=au(""+y,b.mode,m),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case va:return m=Ka(y.type,y.key,y.props,null,b.mode,m),m.ref=Ji(b,null,y),m.return=b,m;case Xs:return y=lu(y,b.mode,m),y.return=b,y;case Er:var _=y._init;return p(b,_(y._payload),m)}if(eo(y)||Bi(y))return y=ws(y,b.mode,m,null),y.return=b,y;Ca(b,y)}return null}function x(b,y,m,_){var T=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:c(b,y,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case va:return m.key===T?u(b,y,m,_):null;case Xs:return m.key===T?d(b,y,m,_):null;case Er:return T=m._init,x(b,y,T(m._payload),_)}if(eo(m)||Bi(m))return T!==null?null:f(b,y,m,_,null);Ca(b,m)}return null}function S(b,y,m,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(m)||null,c(y,b,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case va:return b=b.get(_.key===null?m:_.key)||null,u(y,b,_,T);case Xs:return b=b.get(_.key===null?m:_.key)||null,d(y,b,_,T);case Er:var E=_._init;return S(b,y,m,E(_._payload),T)}if(eo(_)||Bi(_))return b=b.get(m)||null,f(y,b,_,T,null);Ca(y,_)}return null}function j(b,y,m,_){for(var T=null,E=null,A=y,$=y=0,z=null;A!==null&&$<m.length;$++){A.index>$?(z=A,A=null):z=A.sibling;var I=x(b,A,m[$],_);if(I===null){A===null&&(A=z);break}e&&A&&I.alternate===null&&t(b,A),y=i(I,y,$),E===null?T=I:E.sibling=I,E=I,A=z}if($===m.length)return n(b,A),rt&&ds(b,$),T;if(A===null){for(;$<m.length;$++)A=p(b,m[$],_),A!==null&&(y=i(A,y,$),E===null?T=A:E.sibling=A,E=A);return rt&&ds(b,$),T}for(A=r(b,A);$<m.length;$++)z=S(A,b,$,m[$],_),z!==null&&(e&&z.alternate!==null&&A.delete(z.key===null?$:z.key),y=i(z,y,$),E===null?T=z:E.sibling=z,E=z);return e&&A.forEach(function(H){return t(b,H)}),rt&&ds(b,$),T}function C(b,y,m,_){var T=Bi(m);if(typeof T!="function")throw Error(K(150));if(m=T.call(m),m==null)throw Error(K(151));for(var E=T=null,A=y,$=y=0,z=null,I=m.next();A!==null&&!I.done;$++,I=m.next()){A.index>$?(z=A,A=null):z=A.sibling;var H=x(b,A,I.value,_);if(H===null){A===null&&(A=z);break}e&&A&&H.alternate===null&&t(b,A),y=i(H,y,$),E===null?T=H:E.sibling=H,E=H,A=z}if(I.done)return n(b,A),rt&&ds(b,$),T;if(A===null){for(;!I.done;$++,I=m.next())I=p(b,I.value,_),I!==null&&(y=i(I,y,$),E===null?T=I:E.sibling=I,E=I);return rt&&ds(b,$),T}for(A=r(b,A);!I.done;$++,I=m.next())I=S(A,b,$,I.value,_),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?$:I.key),y=i(I,y,$),E===null?T=I:E.sibling=I,E=I);return e&&A.forEach(function(re){return t(b,re)}),rt&&ds(b,$),T}function k(b,y,m,_){if(typeof m=="object"&&m!==null&&m.type===Zs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case va:e:{for(var T=m.key,E=y;E!==null;){if(E.key===T){if(T=m.type,T===Zs){if(E.tag===7){n(b,E.sibling),y=s(E,m.props.children),y.return=b,b=y;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Er&&im(T)===E.type){n(b,E.sibling),y=s(E,m.props),y.ref=Ji(b,E,m),y.return=b,b=y;break e}n(b,E);break}else t(b,E);E=E.sibling}m.type===Zs?(y=ws(m.props.children,b.mode,_,m.key),y.return=b,b=y):(_=Ka(m.type,m.key,m.props,null,b.mode,_),_.ref=Ji(b,y,m),_.return=b,b=_)}return o(b);case Xs:e:{for(E=m.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(b,y.sibling),y=s(y,m.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=lu(m,b.mode,_),y.return=b,b=y}return o(b);case Er:return E=m._init,k(b,y,E(m._payload),_)}if(eo(m))return j(b,y,m,_);if(Bi(m))return C(b,y,m,_);Ca(b,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,m),y.return=b,b=y):(n(b,y),y=au(m,b.mode,_),y.return=b,b=y),o(b)):n(b,y)}return k}var xi=Uv(!0),Fv=Uv(!1),hl=Jr(null),fl=null,ai=null,lh=null;function ch(){lh=ai=fl=null}function uh(e){var t=hl.current;nt(hl),e._currentValue=t}function ed(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pi(e,t){fl=e,lh=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(lh!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(fl===null)throw Error(K(308));ai=e,fl.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var gs=null;function dh(e){gs===null?gs=[e]:gs.push(e)}function zv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,dh(t)):(n.next=s.next,s.next=n),t.interleaved=n,gr(e,r)}function gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cr=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gr(e,n)}return s=r.interleaved,s===null?(t.next=t,dh(r)):(t.next=s.next,s.next=t),r.interleaved=t,gr(e,n)}function Ba(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yd(e,n)}}function om(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pl(e,t,n,r){var s=e.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,f=d=u=null,c=i;do{var x=c.lane,S=c.eventTime;if((r&x)===x){f!==null&&(f=f.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=e,C=c;switch(x=t,S=n,C.tag){case 1:if(j=C.payload,typeof j=="function"){p=j.call(S,p,x);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=C.payload,x=typeof j=="function"?j.call(S,p,x):j,x==null)break e;p=at({},p,x);break e;case 2:Cr=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[c]:x.push(c))}else S={eventTime:S,lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=S,u=p):f=f.next=S,o|=x;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;x=c,c=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ks|=o,e.lanes=o,e.memoizedState=p}}function am(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Wo={},tr=Jr(Wo),Po=Jr(Wo),Ao=Jr(Wo);function vs(e){if(e===Wo)throw Error(K(174));return e}function fh(e,t){switch(Ze(Ao,t),Ze(Po,e),Ze(tr,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iu(t,e)}nt(tr),Ze(tr,t)}function wi(){nt(tr),nt(Po),nt(Ao)}function qv(e){vs(Ao.current);var t=vs(tr.current),n=Iu(t,e.type);t!==n&&(Ze(Po,e),Ze(tr,n))}function ph(e){Po.current===e&&(nt(tr),nt(Po))}var it=Jr(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tu=[];function mh(){for(var e=0;e<tu.length;e++)tu[e]._workInProgressVersionPrimary=null;tu.length=0}var qa=yr.ReactCurrentDispatcher,nu=yr.ReactCurrentBatchConfig,Ss=0,ot=null,yt=null,_t=null,gl=!1,uo=!1,Oo=0,G_=0;function Rt(){throw Error(K(321))}function gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zn(e[n],t[n]))return!1;return!0}function vh(e,t,n,r,s,i){if(Ss=i,ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?Z_:ej,e=n(r,s),uo){i=0;do{if(uo=!1,Oo=0,25<=i)throw Error(K(301));i+=1,_t=yt=null,t.updateQueue=null,qa.current=tj,e=n(r,s)}while(uo)}if(qa.current=vl,t=yt!==null&&yt.next!==null,Ss=0,_t=yt=ot=null,gl=!1,t)throw Error(K(300));return e}function yh(){var e=Oo!==0;return Oo=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ot.memoizedState=_t=e:_t=_t.next=e,_t}function Cn(){if(yt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=_t===null?ot.memoizedState:_t.next;if(t!==null)_t=t,yt=e;else{if(e===null)throw Error(K(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},_t===null?ot.memoizedState=_t=e:_t=_t.next=e}return _t}function Ro(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=Cn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((Ss&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,ot.lanes|=f,ks|=f}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=c,zn(r,t.memoizedState)||(Qt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ot.lanes|=i,ks|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function su(e){var t=Cn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);zn(i,t.memoizedState)||(Qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Wv(){}function Vv(e,t){var n=ot,r=Cn(),s=t(),i=!zn(r.memoizedState,s);if(i&&(r.memoizedState=s,Qt=!0),r=r.queue,xh(Kv.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Io(9,Jv.bind(null,n,r,s,t),void 0,null),jt===null)throw Error(K(349));Ss&30||Hv(n,t,s)}return s}function Hv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jv(e,t,n,r){t.value=n,t.getSnapshot=r,Gv(t)&&Qv(e)}function Kv(e,t,n){return n(function(){Gv(t)&&Qv(e)})}function Gv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zn(e,n)}catch{return!0}}function Qv(e){var t=gr(e,1);t!==null&&Fn(t,e,1,-1)}function lm(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t.queue=e,e=e.dispatch=X_.bind(null,ot,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ot.updateQueue,t===null?(t={lastEffect:null,stores:null},ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yv(){return Cn().memoizedState}function Wa(e,t,n,r){var s=Yn();ot.flags|=e,s.memoizedState=Io(1|t,n,void 0,r===void 0?null:r)}function $l(e,t,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&gh(r,o.deps)){s.memoizedState=Io(t,n,i,r);return}}ot.flags|=e,s.memoizedState=Io(1|t,n,i,r)}function cm(e,t){return Wa(8390656,8,e,t)}function xh(e,t){return $l(2048,8,e,t)}function Xv(e,t){return $l(4,2,e,t)}function Zv(e,t){return $l(4,4,e,t)}function ey(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ty(e,t,n){return n=n!=null?n.concat([e]):null,$l(4,4,ey.bind(null,t,e),n)}function wh(){}function ny(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ry(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sy(e,t,n){return Ss&21?(zn(n,t)||(n=cv(),ot.lanes|=n,ks|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=n)}function Q_(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=nu.transition;nu.transition={};try{e(!1),t()}finally{He=n,nu.transition=r}}function iy(){return Cn().memoizedState}function Y_(e,t,n){var r=zr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oy(e))ay(t,n);else if(n=zv(e,t,n,r),n!==null){var s=Wt();Fn(n,e,r,s),ly(n,t,r)}}function X_(e,t,n){var r=zr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oy(e))ay(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,zn(c,o)){var u=t.interleaved;u===null?(s.next=s,dh(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=zv(e,t,s,r),n!==null&&(s=Wt(),Fn(n,e,r,s),ly(n,t,r))}}function oy(e){var t=e.alternate;return e===ot||t!==null&&t===ot}function ay(e,t){uo=gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ly(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yd(e,n)}}var vl={readContext:En,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Z_={readContext:En,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:cm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wa(4194308,4,ey.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wa(4,2,e,t)},useMemo:function(e,t){var n=Yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Y_.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:wh,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=Q_.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ot,s=Yn();if(rt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),jt===null)throw Error(K(349));Ss&30||Hv(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cm(Kv.bind(null,r,i,e),[e]),r.flags|=2048,Io(9,Jv.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yn(),t=jt.identifierPrefix;if(rt){var n=hr,r=dr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=G_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ej={readContext:En,useCallback:ny,useContext:En,useEffect:xh,useImperativeHandle:ty,useInsertionEffect:Xv,useLayoutEffect:Zv,useMemo:ry,useReducer:ru,useRef:Yv,useState:function(){return ru(Ro)},useDebugValue:wh,useDeferredValue:function(e){var t=Cn();return sy(t,yt.memoizedState,e)},useTransition:function(){var e=ru(Ro)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Wv,useSyncExternalStore:Vv,useId:iy,unstable_isNewReconciler:!1},tj={readContext:En,useCallback:ny,useContext:En,useEffect:xh,useImperativeHandle:ty,useInsertionEffect:Xv,useLayoutEffect:Zv,useMemo:ry,useReducer:su,useRef:Yv,useState:function(){return su(Ro)},useDebugValue:wh,useDeferredValue:function(e){var t=Cn();return yt===null?t.memoizedState=e:sy(t,yt.memoizedState,e)},useTransition:function(){var e=su(Ro)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Wv,useSyncExternalStore:Vv,useId:iy,unstable_isNewReconciler:!1};function Ln(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function td(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:at({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dl={isMounted:function(e){return(e=e._reactInternals)?Ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),s=zr(e),i=fr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ur(e,i,s),t!==null&&(Fn(t,e,s,r),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),s=zr(e),i=fr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ur(e,i,s),t!==null&&(Fn(t,e,s,r),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=zr(e),s=fr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ur(e,s,r),t!==null&&(Fn(t,e,r,n),Ba(t,e,r))}};function um(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!No(n,r)||!No(s,i):!0}function cy(e,t,n){var r=!1,s=Vr,i=t.contextType;return typeof i=="object"&&i!==null?i=En(i):(s=Xt(t)?_s:Dt.current,r=t.contextTypes,i=(r=r!=null)?vi(e,s):Vr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function nd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=En(i):(i=Xt(t)?_s:Dt.current,s.context=vi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(td(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dl.enqueueReplaceState(s,s.state,null),pl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bi(e,t){try{var n="",r=t;do n+=Tb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function iu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nj=typeof WeakMap=="function"?WeakMap:Map;function uy(e,t,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xl||(xl=!0,fd=r),rd(e,t)},n}function dy(e,t,n){n=fr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){rd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rd(e,t),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=gj.bind(null,e,t,n),t.then(e,e))}function fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fr(-1,1),t.tag=2,Ur(n,t,1))),n.lanes|=1),e)}var rj=yr.ReactCurrentOwner,Qt=!1;function qt(e,t,n,r){t.child=e===null?Fv(t,null,n,r):xi(t,e.child,n,r)}function mm(e,t,n,r,s){n=n.render;var i=t.ref;return pi(t,s),r=vh(e,t,n,r,i,s),n=yh(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(rt&&n&&ih(t),t.flags|=1,qt(e,t,r,s),t.child)}function gm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ch(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hy(e,t,i,r,s)):(e=Ka(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(o,r)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=Br(i,r),e.ref=t.ref,e.return=t,t.child=e}function hy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(No(i,r)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,vr(e,t,s)}return sd(e,t,n,r,s)}function fy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ci,cn),cn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(ci,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(ci,cn),cn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ze(ci,cn),cn|=r;return qt(e,t,s,n),t.child}function py(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sd(e,t,n,r,s){var i=Xt(n)?_s:Dt.current;return i=vi(t,i),pi(t,s),n=vh(e,t,n,r,i,s),r=yh(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(rt&&r&&ih(t),t.flags|=1,qt(e,t,n,s),t.child)}function vm(e,t,n,r,s){if(Xt(n)){var i=!0;cl(t)}else i=!1;if(pi(t,s),t.stateNode===null)Va(e,t),cy(t,n,r),nd(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=En(d):(d=Xt(n)?_s:Dt.current,d=vi(t,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&dm(t,o,r,d),Cr=!1;var x=t.memoizedState;o.state=x,pl(t,r,o,s),u=t.memoizedState,c!==r||x!==u||Yt.current||Cr?(typeof f=="function"&&(td(t,n,f,r),u=t.memoizedState),(c=Cr||um(t,n,c,r,x,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bv(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Ln(t.type,c),o.props=d,p=t.pendingProps,x=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=Xt(n)?_s:Dt.current,u=vi(t,u));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||x!==u)&&dm(t,o,r,u),Cr=!1,x=t.memoizedState,o.state=x,pl(t,r,o,s);var j=t.memoizedState;c!==p||x!==j||Yt.current||Cr?(typeof S=="function"&&(td(t,n,S,r),j=t.memoizedState),(d=Cr||um(t,n,d,r,x,j,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return id(e,t,n,r,i,s)}function id(e,t,n,r,s,i){py(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&nm(t,n,!1),vr(e,t,i);r=t.stateNode,rj.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,c,i)):qt(e,t,c,i),t.memoizedState=r.state,s&&nm(t,n,!0),t.child}function my(e){var t=e.stateNode;t.pendingContext?tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tm(e,t.context,!1),fh(e,t.containerInfo)}function ym(e,t,n,r,s){return yi(),ah(s),t.flags|=256,qt(e,t,n,r),t.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ad(e){return{baseLanes:e,cachePool:null,transitions:null}}function gy(e,t,n){var r=t.pendingProps,s=it.current,i=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ze(it,s&1),e===null)return Zu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fl(o,r,0,null),e=ws(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ad(n),t.memoizedState=od,e):bh(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return sj(e,t,o,r,c,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Br(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Br(c,i):(i=ws(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ad(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=od,r}return i=e.child,e=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bh(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ta(e,t,n,r){return r!==null&&ah(r),xi(t,e.child,null,n),e=bh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sj(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=iu(Error(K(422))),Ta(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Fl({mode:"visible",children:r.children},s,0,null),i=ws(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&xi(t,e.child,null,o),t.child.memoizedState=ad(o),t.memoizedState=od,i);if(!(t.mode&1))return Ta(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(K(419)),r=iu(i,r,void 0),Ta(e,t,o,r)}if(c=(o&e.childLanes)!==0,Qt||c){if(r=jt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gr(e,s),Fn(r,e,s,-1))}return Eh(),r=iu(Error(K(421))),Ta(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,un=Mr(s.nextSibling),dn=t,rt=!0,Mn=null,e!==null&&(jn[Sn++]=dr,jn[Sn++]=hr,jn[Sn++]=js,dr=e.id,hr=e.overflow,js=t),t=bh(t,r.children),t.flags|=4096,t)}function xm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ed(e.return,t,n)}function ou(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(qt(e,t,r.children,n),r=it.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,n,t);else if(e.tag===19)xm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ze(it,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ml(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ou(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ml(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ou(t,!0,n,null,i);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ij(e,t,n){switch(t.tag){case 3:my(t),yi();break;case 5:qv(t);break;case 1:Xt(t.type)&&cl(t);break;case 4:fh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ze(hl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ze(it,it.current&1),t.flags|=128,null):n&t.child.childLanes?gy(e,t,n):(Ze(it,it.current&1),e=vr(e,t,n),e!==null?e.sibling:null);Ze(it,it.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(it,it.current),r)break;return null;case 22:case 23:return t.lanes=0,fy(e,t,n)}return vr(e,t,n)}var yy,ld,xy,wy;yy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ld=function(){};xy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,vs(tr.current);var i=null;switch(n){case"input":s=Pu(e,s),r=Pu(e,r),i=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":s=Ru(e,s),r=Ru(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}Lu(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&tt("scroll",e),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};wy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ki(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oj(e,t,n){var r=t.pendingProps;switch(oh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return Xt(t.type)&&ll(),It(t),null;case 3:return r=t.stateNode,wi(),nt(Yt),nt(Dt),mh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mn!==null&&(gd(Mn),Mn=null))),ld(e,t),It(t),null;case 5:ph(t);var s=vs(Ao.current);if(n=t.type,e!==null&&t.stateNode!=null)xy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return It(t),null}if(e=vs(tr.current),Ea(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zn]=t,r[To]=i,e=(t.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(s=0;s<no.length;s++)tt(no[s],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":Cp(r,i),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tt("invalid",r);break;case"textarea":Pp(r,i),tt("invalid",r)}Lu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Na(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Na(r.textContent,c,e),s=["children",""+c]):xo.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":ya(r),Tp(r,i,!0);break;case"textarea":ya(r),Ap(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=al)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zn]=t,e[To]=r,yy(e,t,!1,!1),t.stateNode=e;e:{switch(o=$u(n,r),n){case"dialog":tt("cancel",e),tt("close",e),s=r;break;case"iframe":case"object":case"embed":tt("load",e),s=r;break;case"video":case"audio":for(s=0;s<no.length;s++)tt(no[s],e);s=r;break;case"source":tt("error",e),s=r;break;case"img":case"image":case"link":tt("error",e),tt("load",e),s=r;break;case"details":tt("toggle",e),s=r;break;case"input":Cp(e,r),s=Pu(e,r),tt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),tt("invalid",e);break;case"textarea":Pp(e,r),s=Ru(e,r),tt("invalid",e);break;default:s=r}Lu(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?Yg(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Gg(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&wo(e,u):typeof u=="number"&&wo(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&tt("scroll",e):u!=null&&Vd(e,i,u,o))}switch(n){case"input":ya(e),Tp(e,r,!1);break;case"textarea":ya(e),Ap(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ui(e,!!r.multiple,i,!1):r.defaultValue!=null&&ui(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)wy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=vs(Ao.current),vs(tr.current),Ea(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zn]=t,(i=r.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:Na(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=t,t.stateNode=r}return It(t),null;case 13:if(nt(it),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&un!==null&&t.mode&1&&!(t.flags&128))Mv(),yi(),t.flags|=98560,i=!1;else if(i=Ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Zn]=t}else yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),i=!1}else Mn!==null&&(gd(Mn),Mn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?xt===0&&(xt=3):Eh())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return wi(),ld(e,t),e===null&&Eo(t.stateNode.containerInfo),It(t),null;case 10:return uh(t.type._context),It(t),null;case 17:return Xt(t.type)&&ll(),It(t),null;case 19:if(nt(it),i=t.memoizedState,i===null)return It(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ki(i,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ml(e),o!==null){for(t.flags|=128,Ki(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(it,it.current&1|2),t.child}e=e.sibling}i.tail!==null&&ht()>_i&&(t.flags|=128,r=!0,Ki(i,!1),t.lanes=4194304)}else{if(!r)if(e=ml(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return It(t),null}else 2*ht()-i.renderingStartTime>_i&&n!==1073741824&&(t.flags|=128,r=!0,Ki(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ht(),t.sibling=null,n=it.current,Ze(it,r?n&1|2:n&1),t):(It(t),null);case 22:case 23:return Nh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?cn&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function aj(e,t){switch(oh(t),t.tag){case 1:return Xt(t.type)&&ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wi(),nt(Yt),nt(Dt),mh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ph(t),null;case 13:if(nt(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(it),null;case 4:return wi(),null;case 10:return uh(t.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var Pa=!1,Lt=!1,lj=typeof WeakSet=="function"?WeakSet:Set,oe=null;function li(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function cd(e,t,n){try{n()}catch(r){ut(e,t,r)}}var wm=!1;function cj(e,t){if(Hu=sl,e=kv(),sh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,p=e,x=null;t:for(;;){for(var S;p!==n||s!==0&&p.nodeType!==3||(c=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(S=p.firstChild)!==null;)x=p,p=S;for(;;){if(p===e)break t;if(x===n&&++d===s&&(c=o),x===i&&++f===r&&(u=o),(S=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=S}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:e,selectionRange:n},sl=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var C=j.memoizedProps,k=j.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ln(t.type,C),k);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){ut(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return j=wm,wm=!1,j}function ho(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cd(t,n,i)}s=s.next}while(s!==r)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ud(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function by(e){var t=e.alternate;t!==null&&(e.alternate=null,by(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[To],delete t[Qu],delete t[V_],delete t[H_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _y(e){return e.tag===5||e.tag===3||e.tag===4}function bm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(dd(e,t,n),e=e.sibling;e!==null;)dd(e,t,n),e=e.sibling}function hd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hd(e,t,n),e=e.sibling;e!==null;)hd(e,t,n),e=e.sibling}var Nt=null,$n=!1;function Sr(e,t,n){for(n=n.child;n!==null;)jy(e,t,n),n=n.sibling}function jy(e,t,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:Lt||li(n,t);case 6:var r=Nt,s=$n;Nt=null,Sr(e,t,n),Nt=r,$n=s,Nt!==null&&($n?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&($n?(e=Nt,n=n.stateNode,e.nodeType===8?Zc(e.parentNode,n):e.nodeType===1&&Zc(e,n),So(e)):Zc(Nt,n.stateNode));break;case 4:r=Nt,s=$n,Nt=n.stateNode.containerInfo,$n=!0,Sr(e,t,n),Nt=r,$n=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cd(n,t,o),s=s.next}while(s!==r)}Sr(e,t,n);break;case 1:if(!Lt&&(li(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ut(n,t,c)}Sr(e,t,n);break;case 21:Sr(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Sr(e,t,n),Lt=r):Sr(e,t,n);break;default:Sr(e,t,n)}}function _m(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lj),t.forEach(function(r){var s=yj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Nt=c.stateNode,$n=!1;break e;case 3:Nt=c.stateNode.containerInfo,$n=!0;break e;case 4:Nt=c.stateNode.containerInfo,$n=!0;break e}c=c.return}if(Nt===null)throw Error(K(160));jy(i,o,s),Nt=null,$n=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){ut(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sy(t,e),t=t.sibling}function Sy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(t,e),Gn(e),r&4){try{ho(3,e,e.return),Ml(3,e)}catch(C){ut(e,e.return,C)}try{ho(5,e,e.return)}catch(C){ut(e,e.return,C)}}break;case 1:Rn(t,e),Gn(e),r&512&&n!==null&&li(n,n.return);break;case 5:if(Rn(t,e),Gn(e),r&512&&n!==null&&li(n,n.return),e.flags&32){var s=e.stateNode;try{wo(s,"")}catch(C){ut(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Hg(s,i),$u(c,o);var d=$u(c,i);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?Yg(s,p):f==="dangerouslySetInnerHTML"?Gg(s,p):f==="children"?wo(s,p):Vd(s,f,p,d)}switch(c){case"input":Au(s,i);break;case"textarea":Jg(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?ui(s,!!i.multiple,S,!1):x!==!!i.multiple&&(i.defaultValue!=null?ui(s,!!i.multiple,i.defaultValue,!0):ui(s,!!i.multiple,i.multiple?[]:"",!1))}s[To]=i}catch(C){ut(e,e.return,C)}}break;case 6:if(Rn(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(C){ut(e,e.return,C)}}break;case 3:if(Rn(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{So(t.containerInfo)}catch(C){ut(e,e.return,C)}break;case 4:Rn(t,e),Gn(e);break;case 13:Rn(t,e),Gn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sh=ht())),r&4&&_m(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(d=Lt)||f,Rn(t,e),Lt=d):Rn(t,e),Gn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(oe=e,f=e.child;f!==null;){for(p=oe=f;oe!==null;){switch(x=oe,S=x.child,x.tag){case 0:case 11:case 14:case 15:ho(4,x,x.return);break;case 1:li(x,x.return);var j=x.stateNode;if(typeof j.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(C){ut(r,n,C)}}break;case 5:li(x,x.return);break;case 22:if(x.memoizedState!==null){Sm(p);continue}}S!==null?(S.return=x,oe=S):Sm(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Qg("display",o))}catch(C){ut(e,e.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(C){ut(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rn(t,e),Gn(e),r&4&&_m(e);break;case 21:break;default:Rn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_y(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wo(s,""),r.flags&=-33);var i=bm(e);hd(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=bm(e);dd(e,c,o);break;default:throw Error(K(161))}}catch(u){ut(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uj(e,t,n){oe=e,ky(e)}function ky(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pa;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Lt;c=Pa;var d=Lt;if(Pa=o,(Lt=u)&&!d)for(oe=s;oe!==null;)o=oe,u=o.child,o.tag===22&&o.memoizedState!==null?km(s):u!==null?(u.return=o,oe=u):km(s);for(;i!==null;)oe=i,ky(i),i=i.sibling;oe=s,Pa=c,Lt=d}jm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):jm(e)}}function jm(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||Ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ln(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&am(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}am(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&So(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Lt||t.flags&512&&ud(t)}catch(x){ut(t,t.return,x)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Sm(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function km(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ml(4,t)}catch(u){ut(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ut(t,s,u)}}var i=t.return;try{ud(t)}catch(u){ut(t,i,u)}break;case 5:var o=t.return;try{ud(t)}catch(u){ut(t,o,u)}}}catch(u){ut(t,t.return,u)}if(t===e){oe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,oe=c;break}oe=t.return}}var dj=Math.ceil,yl=yr.ReactCurrentDispatcher,_h=yr.ReactCurrentOwner,Nn=yr.ReactCurrentBatchConfig,Ue=0,jt=null,mt=null,Ct=0,cn=0,ci=Jr(0),xt=0,Lo=null,ks=0,Ul=0,jh=0,fo=null,Kt=null,Sh=0,_i=1/0,lr=null,xl=!1,fd=null,Fr=null,Aa=!1,Rr=null,wl=0,po=0,pd=null,Ha=-1,Ja=0;function Wt(){return Ue&6?ht():Ha!==-1?Ha:Ha=ht()}function zr(e){return e.mode&1?Ue&2&&Ct!==0?Ct&-Ct:K_.transition!==null?(Ja===0&&(Ja=cv()),Ja):(e=He,e!==0||(e=window.event,e=e===void 0?16:gv(e.type)),e):1}function Fn(e,t,n,r){if(50<po)throw po=0,pd=null,Error(K(185));zo(e,n,r),(!(Ue&2)||e!==jt)&&(e===jt&&(!(Ue&2)&&(Ul|=n),xt===4&&Pr(e,Ct)),Zt(e,r),n===1&&Ue===0&&!(t.mode&1)&&(_i=ht()+500,Ll&&Kr()))}function Zt(e,t){var n=e.callbackNode;Kb(e,t);var r=rl(e,e===jt?Ct:0);if(r===0)n!==null&&Ip(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ip(n),t===1)e.tag===0?J_(Nm.bind(null,e)):Lv(Nm.bind(null,e)),q_(function(){!(Ue&6)&&Kr()}),n=null;else{switch(uv(r)){case 1:n=Qd;break;case 4:n=av;break;case 16:n=nl;break;case 536870912:n=lv;break;default:n=nl}n=Ry(n,Ny.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ny(e,t){if(Ha=-1,Ja=0,Ue&6)throw Error(K(327));var n=e.callbackNode;if(mi()&&e.callbackNode!==n)return null;var r=rl(e,e===jt?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bl(e,r);else{t=r;var s=Ue;Ue|=2;var i=Cy();(jt!==e||Ct!==t)&&(lr=null,_i=ht()+500,xs(e,t));do try{pj();break}catch(c){Ey(e,c)}while(!0);ch(),yl.current=i,Ue=s,mt!==null?t=0:(jt=null,Ct=0,t=xt)}if(t!==0){if(t===2&&(s=zu(e),s!==0&&(r=s,t=md(e,s))),t===1)throw n=Lo,xs(e,0),Pr(e,r),Zt(e,ht()),n;if(t===6)Pr(e,r);else{if(s=e.current.alternate,!(r&30)&&!hj(s)&&(t=bl(e,r),t===2&&(i=zu(e),i!==0&&(r=i,t=md(e,i))),t===1))throw n=Lo,xs(e,0),Pr(e,r),Zt(e,ht()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:hs(e,Kt,lr);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=Sh+500-ht(),10<t)){if(rl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gu(hs.bind(null,e,Kt,lr),t);break}hs(e,Kt,lr);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Un(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dj(r/1960))-r,10<r){e.timeoutHandle=Gu(hs.bind(null,e,Kt,lr),r);break}hs(e,Kt,lr);break;case 5:hs(e,Kt,lr);break;default:throw Error(K(329))}}}return Zt(e,ht()),e.callbackNode===n?Ny.bind(null,e):null}function md(e,t){var n=fo;return e.current.memoizedState.isDehydrated&&(xs(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&gd(t)),e}function gd(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function hj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!zn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~jh,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Un(t),r=1<<n;e[n]=-1,t&=~r}}function Nm(e){if(Ue&6)throw Error(K(327));mi();var t=rl(e,0);if(!(t&1))return Zt(e,ht()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=zu(e);r!==0&&(t=r,n=md(e,r))}if(n===1)throw n=Lo,xs(e,0),Pr(e,t),Zt(e,ht()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,Kt,lr),Zt(e,ht()),null}function kh(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(_i=ht()+500,Ll&&Kr())}}function Ns(e){Rr!==null&&Rr.tag===0&&!(Ue&6)&&mi();var t=Ue;Ue|=1;var n=Nn.transition,r=He;try{if(Nn.transition=null,He=1,e)return e()}finally{He=r,Nn.transition=n,Ue=t,!(Ue&6)&&Kr()}}function Nh(){cn=ci.current,nt(ci)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,B_(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(oh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ll();break;case 3:wi(),nt(Yt),nt(Dt),mh();break;case 5:ph(r);break;case 4:wi();break;case 13:nt(it);break;case 19:nt(it);break;case 10:uh(r.type._context);break;case 22:case 23:Nh()}n=n.return}if(jt=e,mt=e=Br(e.current,null),Ct=cn=t,xt=0,Lo=null,jh=Ul=ks=0,Kt=fo=null,gs!==null){for(t=0;t<gs.length;t++)if(n=gs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}gs=null}return e}function Ey(e,t){do{var n=mt;try{if(ch(),qa.current=vl,gl){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gl=!1}if(Ss=0,_t=yt=ot=null,uo=!1,Oo=0,_h.current=null,n===null||n.return===null){xt=1,Lo=t,mt=null;break}e:{var i=e,o=n.return,c=n,u=t;if(t=Ct,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=fm(o);if(S!==null){S.flags&=-257,pm(S,o,c,i,t),S.mode&1&&hm(i,d,t),t=S,u=d;var j=t.updateQueue;if(j===null){var C=new Set;C.add(u),t.updateQueue=C}else j.add(u);break e}else{if(!(t&1)){hm(i,d,t),Eh();break e}u=Error(K(426))}}else if(rt&&c.mode&1){var k=fm(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),pm(k,o,c,i,t),ah(bi(u,c));break e}}i=u=bi(u,c),xt!==4&&(xt=2),fo===null?fo=[i]:fo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=uy(i,u,t);om(i,b);break e;case 1:c=u;var y=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fr===null||!Fr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=dy(i,c,t);om(i,_);break e}}i=i.return}while(i!==null)}Py(n)}catch(T){t=T,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function Cy(){var e=yl.current;return yl.current=vl,e===null?vl:e}function Eh(){(xt===0||xt===3||xt===2)&&(xt=4),jt===null||!(ks&268435455)&&!(Ul&268435455)||Pr(jt,Ct)}function bl(e,t){var n=Ue;Ue|=2;var r=Cy();(jt!==e||Ct!==t)&&(lr=null,xs(e,t));do try{fj();break}catch(s){Ey(e,s)}while(!0);if(ch(),Ue=n,yl.current=r,mt!==null)throw Error(K(261));return jt=null,Ct=0,xt}function fj(){for(;mt!==null;)Ty(mt)}function pj(){for(;mt!==null&&!Ub();)Ty(mt)}function Ty(e){var t=Oy(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?Py(e):mt=t,_h.current=null}function Py(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aj(n,t),n!==null){n.flags&=32767,mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,mt=null;return}}else if(n=oj(n,t,cn),n!==null){mt=n;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);xt===0&&(xt=5)}function hs(e,t,n){var r=He,s=Nn.transition;try{Nn.transition=null,He=1,mj(e,t,n,r)}finally{Nn.transition=s,He=r}return null}function mj(e,t,n,r){do mi();while(Rr!==null);if(Ue&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gb(e,i),e===jt&&(mt=jt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Aa||(Aa=!0,Ry(nl,function(){return mi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Nn.transition,Nn.transition=null;var o=He;He=1;var c=Ue;Ue|=4,_h.current=null,cj(e,n),Sy(n,e),L_(Ju),sl=!!Hu,Ju=Hu=null,e.current=n,uj(n),Fb(),Ue=c,He=o,Nn.transition=i}else e.current=n;if(Aa&&(Aa=!1,Rr=e,wl=s),i=e.pendingLanes,i===0&&(Fr=null),qb(n.stateNode),Zt(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xl)throw xl=!1,e=fd,fd=null,e;return wl&1&&e.tag!==0&&mi(),i=e.pendingLanes,i&1?e===pd?po++:(po=0,pd=e):po=0,Kr(),null}function mi(){if(Rr!==null){var e=uv(wl),t=Nn.transition,n=He;try{if(Nn.transition=null,He=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,wl=0,Ue&6)throw Error(K(331));var s=Ue;for(Ue|=4,oe=e.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(oe=d;oe!==null;){var f=oe;switch(f.tag){case 0:case 11:case 15:ho(8,f,i)}var p=f.child;if(p!==null)p.return=f,oe=p;else for(;oe!==null;){f=oe;var x=f.sibling,S=f.return;if(by(f),f===d){oe=null;break}if(x!==null){x.return=S,oe=x;break}oe=S}}}var j=i.alternate;if(j!==null){var C=j.child;if(C!==null){j.child=null;do{var k=C.sibling;C.sibling=null,C=k}while(C!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,oe=b;break e}oe=i.return}}var y=e.current;for(oe=y;oe!==null;){o=oe;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,oe=m;else e:for(o=y;oe!==null;){if(c=oe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ml(9,c)}}catch(T){ut(c,c.return,T)}if(c===o){oe=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,oe=_;break e}oe=c.return}}if(Ue=s,Kr(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Pl,e)}catch{}r=!0}return r}finally{He=n,Nn.transition=t}}return!1}function Em(e,t,n){t=bi(n,t),t=uy(e,t,1),e=Ur(e,t,1),t=Wt(),e!==null&&(zo(e,1,t),Zt(e,t))}function ut(e,t,n){if(e.tag===3)Em(e,e,n);else for(;t!==null;){if(t.tag===3){Em(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){e=bi(n,e),e=dy(t,e,1),t=Ur(t,e,1),e=Wt(),t!==null&&(zo(t,1,e),Zt(t,e));break}}t=t.return}}function gj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(Ct&n)===n&&(xt===4||xt===3&&(Ct&130023424)===Ct&&500>ht()-Sh?xs(e,0):jh|=n),Zt(e,t)}function Ay(e,t){t===0&&(e.mode&1?(t=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):t=1);var n=Wt();e=gr(e,t),e!==null&&(zo(e,t,n),Zt(e,n))}function vj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ay(e,n)}function yj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),Ay(e,n)}var Oy;Oy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qt=!1,ij(e,t,n);Qt=!!(e.flags&131072)}else Qt=!1,rt&&t.flags&1048576&&$v(t,dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var s=vi(t,Dt.current);pi(t,n),s=vh(null,t,r,e,s,n);var i=yh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(r)?(i=!0,cl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hh(t),s.updater=Dl,t.stateNode=s,s._reactInternals=t,nd(t,r,e,n),t=id(null,t,r,!0,i,n)):(t.tag=0,rt&&i&&ih(t),qt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=wj(r),e=Ln(r,e),s){case 0:t=sd(null,t,r,e,n);break e;case 1:t=vm(null,t,r,e,n);break e;case 11:t=mm(null,t,r,e,n);break e;case 14:t=gm(null,t,r,Ln(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ln(r,s),sd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ln(r,s),vm(e,t,r,s,n);case 3:e:{if(my(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Bv(e,t),pl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bi(Error(K(423)),t),t=ym(e,t,r,n,s);break e}else if(r!==s){s=bi(Error(K(424)),t),t=ym(e,t,r,n,s);break e}else for(un=Mr(t.stateNode.containerInfo.firstChild),dn=t,rt=!0,Mn=null,n=Fv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),r===s){t=vr(e,t,n);break e}qt(e,t,r,n)}t=t.child}return t;case 5:return qv(t),e===null&&Zu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ku(r,s)?o=null:i!==null&&Ku(r,i)&&(t.flags|=32),py(e,t),qt(e,t,o,n),t.child;case 6:return e===null&&Zu(t),null;case 13:return gy(e,t,n);case 4:return fh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xi(t,null,r,n):qt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ln(r,s),mm(e,t,r,s,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ze(hl,r._currentValue),r._currentValue=o,i!==null)if(zn(i.value,o)){if(i.children===s.children&&!Yt.current){t=vr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=fr(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ed(i.return,n,t),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ed(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,pi(t,n),s=En(s),r=r(s),t.flags|=1,qt(e,t,r,n),t.child;case 14:return r=t.type,s=Ln(r,t.pendingProps),s=Ln(r.type,s),gm(e,t,r,s,n);case 15:return hy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ln(r,s),Va(e,t),t.tag=1,Xt(r)?(e=!0,cl(t)):e=!1,pi(t,n),cy(t,r,s),nd(t,r,s,n),id(null,t,r,!0,e,n);case 19:return vy(e,t,n);case 22:return fy(e,t,n)}throw Error(K(156,t.tag))};function Ry(e,t){return ov(e,t)}function xj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new xj(e,t,n,r)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wj(e){if(typeof e=="function")return Ch(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jd)return 11;if(e===Kd)return 14}return 2}function Br(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ka(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Ch(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zs:return ws(n.children,s,i,t);case Hd:o=8,s|=8;break;case Nu:return e=kn(12,n,t,s|2),e.elementType=Nu,e.lanes=i,e;case Eu:return e=kn(13,n,t,s),e.elementType=Eu,e.lanes=i,e;case Cu:return e=kn(19,n,t,s),e.elementType=Cu,e.lanes=i,e;case qg:return Fl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zg:o=10;break e;case Bg:o=9;break e;case Jd:o=11;break e;case Kd:o=14;break e;case Er:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=kn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ws(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function Fl(e,t,n,r){return e=kn(22,e,r,t),e.elementType=qg,e.lanes=n,e.stateNode={isHidden:!1},e}function au(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function lu(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bj(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Th(e,t,n,r,s,i,o,c,u){return e=new bj(e,t,n,c,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(i),e}function _j(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Iy(e){if(!e)return Vr;e=e._reactInternals;e:{if(Ts(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Xt(n))return Iv(e,n,t)}return t}function Ly(e,t,n,r,s,i,o,c,u){return e=Th(n,r,!0,e,s,i,o,c,u),e.context=Iy(null),n=e.current,r=Wt(),s=zr(n),i=fr(r,s),i.callback=t??null,Ur(n,i,s),e.current.lanes=s,zo(e,s,r),Zt(e,r),e}function zl(e,t,n,r){var s=t.current,i=Wt(),o=zr(s);return n=Iy(n),t.context===null?t.context=n:t.pendingContext=n,t=fr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ur(s,t,o),e!==null&&(Fn(e,s,o,i),Ba(e,s,o)),o}function _l(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ph(e,t){Cm(e,t),(e=e.alternate)&&Cm(e,t)}function jj(){return null}var $y=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ah(e){this._internalRoot=e}Bl.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));zl(e,t,null,null)};Bl.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){zl(null,e,null,null)}),t[mr]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=fv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tr.length&&t!==0&&t<Tr[n].priority;n++);Tr.splice(n,0,e),n===0&&mv(e)}};function Oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tm(){}function Sj(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=_l(o);i.call(d)}}var o=Ly(t,r,e,0,null,!1,!1,"",Tm);return e._reactRootContainer=o,e[mr]=o.current,Eo(e.nodeType===8?e.parentNode:e),Ns(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=_l(u);c.call(d)}}var u=Th(e,0,!1,null,null,!1,!1,"",Tm);return e._reactRootContainer=u,e[mr]=u.current,Eo(e.nodeType===8?e.parentNode:e),Ns(function(){zl(t,u,n,r)}),u}function Wl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=_l(o);c.call(u)}}zl(t,o,e,s)}else o=Sj(n,t,e,s,r);return _l(o)}dv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=to(t.pendingLanes);n!==0&&(Yd(t,n|1),Zt(t,ht()),!(Ue&6)&&(_i=ht()+500,Kr()))}break;case 13:Ns(function(){var r=gr(e,1);if(r!==null){var s=Wt();Fn(r,e,1,s)}}),Ph(e,1)}};Xd=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var n=Wt();Fn(t,e,134217728,n)}Ph(e,134217728)}};hv=function(e){if(e.tag===13){var t=zr(e),n=gr(e,t);if(n!==null){var r=Wt();Fn(n,e,t,r)}Ph(e,t)}};fv=function(){return He};pv=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};Mu=function(e,t,n){switch(t){case"input":if(Au(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Il(r);if(!s)throw Error(K(90));Vg(r),Au(r,s)}}}break;case"textarea":Jg(e,n);break;case"select":t=n.value,t!=null&&ui(e,!!n.multiple,t,!1)}};ev=kh;tv=Ns;var kj={usingClientEntryPoint:!1,Events:[qo,ri,Il,Xg,Zg,kh]},Gi={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nj={bundleType:Gi.bundleType,version:Gi.version,rendererPackageName:Gi.rendererPackageName,rendererConfig:Gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sv(e),e===null?null:e.stateNode},findFiberByHostInstance:Gi.findFiberByHostInstance||jj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oa.isDisabled&&Oa.supportsFiber)try{Pl=Oa.inject(Nj),er=Oa}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kj;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oh(t))throw Error(K(200));return _j(e,t,null,n)};pn.createRoot=function(e,t){if(!Oh(e))throw Error(K(299));var n=!1,r="",s=$y;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Th(e,1,!1,null,null,n,!1,r,s),e[mr]=t.current,Eo(e.nodeType===8?e.parentNode:e),new Ah(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=sv(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return Ns(e)};pn.hydrate=function(e,t,n){if(!ql(t))throw Error(K(200));return Wl(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!Oh(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$y;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ly(t,null,e,1,n??null,s,!1,i,o),e[mr]=t.current,Eo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bl(t)};pn.render=function(e,t,n){if(!ql(t))throw Error(K(200));return Wl(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!ql(e))throw Error(K(40));return e._reactRootContainer?(Ns(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};pn.unstable_batchedUpdates=kh;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Wl(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function Dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dy)}catch(e){console.error(e)}}Dy(),Dg.exports=pn;var Ej=Dg.exports,My,Pm=Ej;My=Pm.createRoot,Pm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(this,arguments)}var Ir;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ir||(Ir={}));const Am="popstate";function Cj(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:c}=r.location;return vd("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jl(s)}return Pj(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Tj(){return Math.random().toString(36).substr(2,8)}function Om(e,t){return{usr:e.state,key:e.key,idx:t}}function vd(e,t,n,r){return n===void 0&&(n=null),$o({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ti(t):t,{state:n,key:t&&t.key||r||Tj()})}function jl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ti(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Pj(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c=Ir.Pop,u=null,d=f();d==null&&(d=0,o.replaceState($o({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){c=Ir.Pop;let k=f(),b=k==null?null:k-d;d=k,u&&u({action:c,location:C.location,delta:b})}function x(k,b){c=Ir.Push;let y=vd(C.location,k,b);d=f()+1;let m=Om(y,d),_=C.createHref(y);try{o.pushState(m,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(_)}i&&u&&u({action:c,location:C.location,delta:1})}function S(k,b){c=Ir.Replace;let y=vd(C.location,k,b);d=f();let m=Om(y,d),_=C.createHref(y);o.replaceState(m,"",_),i&&u&&u({action:c,location:C.location,delta:0})}function j(k){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof k=="string"?k:jl(k);return y=y.replace(/ $/,"%20"),ft(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let C={get action(){return c},get location(){return e(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Am,p),u=k,()=>{s.removeEventListener(Am,p),u=null}},createHref(k){return t(s,k)},createURL:j,encodeLocation(k){let b=j(k);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:S,go(k){return o.go(k)}};return C}var Rm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rm||(Rm={}));function Aj(e,t,n){return n===void 0&&(n="/"),Oj(e,t,n)}function Oj(e,t,n,r){let s=typeof t=="string"?Ti(t):t,i=Rh(s.pathname||"/",n);if(i==null)return null;let o=Fy(e);Rj(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=Vj(i);c=Bj(o[u],d)}return c}function Fy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ft(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=qr([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Fy(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Fj(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of zy(i.path))s(i,o,u)}),t}function zy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zy(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Rj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ij=/^:[\w-]+$/,Lj=3,$j=2,Dj=1,Mj=10,Uj=-2,Im=e=>e==="*";function Fj(e,t){let n=e.split("/"),r=n.length;return n.some(Im)&&(r+=Uj),t&&(r+=$j),n.filter(s=>!Im(s)).reduce((s,i)=>s+(Ij.test(i)?Lj:i===""?Dj:Mj),r)}function zj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Bj(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=qj({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),x=u.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:qr([i,p.pathname]),pathnameBase:Gj(qr([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=qr([i,p.pathnameBase]))}return o}function qj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Wj(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:x,isOptional:S}=f;if(x==="*"){let C=c[p]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const j=c[p];return S&&!j?d[x]=void 0:d[x]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Wj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Uy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Vj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Hj(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ti(e):e;return{pathname:n?n.startsWith("/")?n:Jj(n,t):t,search:Qj(r),hash:Yj(s)}}function Jj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ih(e,t){let n=Kj(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ti(e):(s=$o({},e),ft(!s.pathname||!s.pathname.includes("?"),cu("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),cu("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),cu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;s.pathname=x.join("/")}c=p>=0?t[p]:"/"}let u=Hj(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const qr=e=>e.join("/").replace(/\/\/+/g,"/"),Gj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const By=["post","put","patch","delete"];new Set(By);const Zj=["get",...By];new Set(Zj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}const $h=v.createContext(null),e1=v.createContext(null),Gr=v.createContext(null),Vl=v.createContext(null),xr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),qy=v.createContext(null);function t1(e,t){let{relative:n}=t===void 0?{}:t;Pi()||ft(!1);let{basename:r,navigator:s}=v.useContext(Gr),{hash:i,pathname:o,search:c}=Vy(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:qr([r,o])),s.createHref({pathname:u,search:c,hash:i})}function Pi(){return v.useContext(Vl)!=null}function wr(){return Pi()||ft(!1),v.useContext(Vl).location}function Wy(e){v.useContext(Gr).static||v.useLayoutEffect(e)}function Jt(){let{isDataRoute:e}=v.useContext(xr);return e?g1():n1()}function n1(){Pi()||ft(!1);let e=v.useContext($h),{basename:t,future:n,navigator:r}=v.useContext(Gr),{matches:s}=v.useContext(xr),{pathname:i}=wr(),o=JSON.stringify(Ih(s,n.v7_relativeSplatPath)),c=v.useRef(!1);return Wy(()=>{c.current=!0}),v.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=Lh(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:qr([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,o,i,e])}const r1=v.createContext(null);function s1(e){let t=v.useContext(xr).outlet;return t&&v.createElement(r1.Provider,{value:e},t)}function Vy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(Gr),{matches:s}=v.useContext(xr),{pathname:i}=wr(),o=JSON.stringify(Ih(s,r.v7_relativeSplatPath));return v.useMemo(()=>Lh(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function i1(e,t){return o1(e,t)}function o1(e,t,n,r){Pi()||ft(!1);let{navigator:s}=v.useContext(Gr),{matches:i}=v.useContext(xr),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=wr(),f;if(t){var p;let k=typeof t=="string"?Ti(t):t;u==="/"||(p=k.pathname)!=null&&p.startsWith(u)||ft(!1),f=k}else f=d;let x=f.pathname||"/",S=x;if(u!=="/"){let k=u.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=Aj(e,{pathname:S}),C=d1(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:qr([u,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:qr([u,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&C?v.createElement(Vl.Provider,{value:{location:Do({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ir.Pop}},C):C}function a1(){let e=m1(),t=Xj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const l1=v.createElement(a1,null);class c1 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(xr.Provider,{value:this.props.routeContext},v.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u1(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext($h);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(xr.Provider,{value:t},r)}function d1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||ft(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:x,errors:S}=n,j=p.route.loader&&x[p.route.id]===void 0&&(!S||S[p.route.id]===void 0);if(p.route.lazy||j){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,x)=>{let S,j=!1,C=null,k=null;n&&(S=c&&p.route.id?c[p.route.id]:void 0,C=p.route.errorElement||l1,u&&(d<0&&x===0?(v1("route-fallback"),j=!0,k=null):d===x&&(j=!0,k=p.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,x+1)),y=()=>{let m;return S?m=C:j?m=k:p.route.Component?m=v.createElement(p.route.Component,null):p.route.element?m=p.route.element:m=f,v.createElement(u1,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:m})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?v.createElement(c1,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var Hy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hy||{}),Jy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jy||{});function h1(e){let t=v.useContext($h);return t||ft(!1),t}function f1(e){let t=v.useContext(e1);return t||ft(!1),t}function p1(e){let t=v.useContext(xr);return t||ft(!1),t}function Ky(e){let t=p1(),n=t.matches[t.matches.length-1];return n.route.id||ft(!1),n.route.id}function m1(){var e;let t=v.useContext(qy),n=f1(),r=Ky();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function g1(){let{router:e}=h1(Hy.UseNavigateStable),t=Ky(Jy.UseNavigateStable),n=v.useRef(!1);return Wy(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Do({fromRouteId:t},i)))},[e,t])}const Lm={};function v1(e,t,n){Lm[e]||(Lm[e]=!0)}function y1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gy(e){let{to:t,replace:n,state:r,relative:s}=e;Pi()||ft(!1);let{future:i,static:o}=v.useContext(Gr),{matches:c}=v.useContext(xr),{pathname:u}=wr(),d=Jt(),f=Lh(t,Ih(c,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(f);return v.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function x1(e){return s1(e.context)}function st(e){ft(!1)}function w1(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ir.Pop,navigator:i,static:o=!1,future:c}=e;Pi()&&ft(!1);let u=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:u,navigator:i,static:o,future:Do({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof r=="string"&&(r=Ti(r));let{pathname:f="/",search:p="",hash:x="",state:S=null,key:j="default"}=r,C=v.useMemo(()=>{let k=Rh(f,u);return k==null?null:{location:{pathname:k,search:p,hash:x,state:S,key:j},navigationType:s}},[u,f,p,x,S,j,s]);return C==null?null:v.createElement(Gr.Provider,{value:d},v.createElement(Vl.Provider,{children:n,value:C}))}function b1(e){let{children:t,location:n}=e;return i1(yd(t),n)}new Promise(()=>{});function yd(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,yd(r.props.children,i));return}r.type!==st&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xd.apply(this,arguments)}function _1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function j1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S1(e,t){return e.button===0&&(!t||t==="_self")&&!j1(e)}function wd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function k1(e,t){let n=wd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const N1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E1="6";try{window.__reactRouterVersion=E1}catch{}const C1="startTransition",$m=gb[C1];function T1(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=Cj({window:s,v5Compat:!0}));let o=i.current,[c,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=v.useCallback(p=>{d&&$m?$m(()=>u(p)):u(p)},[u,d]);return v.useLayoutEffect(()=>o.listen(f),[o,f]),v.useEffect(()=>y1(r),[r]),v.createElement(w1,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=t,x=_1(t,N1),{basename:S}=v.useContext(Gr),j,C=!1;if(typeof d=="string"&&A1.test(d)&&(j=d,P1))try{let m=new URL(window.location.href),_=d.startsWith("//")?new URL(m.protocol+d):new URL(d),T=Rh(_.pathname,S);_.origin===m.origin&&T!=null?d=T+_.search+_.hash:C=!0}catch{}let k=t1(d,{relative:s}),b=O1(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function y(m){r&&r(m),m.defaultPrevented||b(m)}return v.createElement("a",xd({},x,{href:j||k,onClick:C||i?r:y,ref:n,target:u}))});var Dm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dm||(Dm={}));var Mm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mm||(Mm={}));function O1(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:c}=t===void 0?{}:t,u=Jt(),d=wr(),f=Vy(e,{relative:o});return v.useCallback(p=>{if(S1(p,n)){p.preventDefault();let x=r!==void 0?r:jl(d)===jl(f);u(e,{replace:x,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,f,r,s,n,e,i,o,c])}function O2(e){let t=v.useRef(wd(e)),n=v.useRef(!1),r=wr(),s=v.useMemo(()=>k1(r.search,n.current?null:t.current),[r.search]),i=Jt(),o=v.useCallback((c,u)=>{const d=wd(typeof c=="function"?c(s):c);n.current=!0,i("?"+d,u)},[i,s]);return[s,o]}var R1={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(n,r){e.exports=r()})(hn,function(){const n=new Map,r={set(g,l,h){n.has(g)||n.set(g,new Map);const w=n.get(g);w.has(l)||w.size===0?w.set(l,h):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(g,l)=>n.has(g)&&n.get(g).get(l)||null,remove(g,l){if(!n.has(g))return;const h=n.get(g);h.delete(l),h.size===0&&n.delete(g)}},s="transitionend",i=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(l,h)=>`#${CSS.escape(h)}`)),g),o=g=>g==null?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase(),c=g=>{g.dispatchEvent(new Event(s))},u=g=>!(!g||typeof g!="object")&&(g.jquery!==void 0&&(g=g[0]),g.nodeType!==void 0),d=g=>u(g)?g.jquery?g[0]:g:typeof g=="string"&&g.length>0?document.querySelector(i(g)):null,f=g=>{if(!u(g)||g.getClientRects().length===0)return!1;const l=getComputedStyle(g).getPropertyValue("visibility")==="visible",h=g.closest("details:not([open])");if(!h)return l;if(h!==g){const w=g.closest("summary");if(w&&w.parentNode!==h||w===null)return!1}return l},p=g=>!g||g.nodeType!==Node.ELEMENT_NODE||!!g.classList.contains("disabled")||(g.disabled!==void 0?g.disabled:g.hasAttribute("disabled")&&g.getAttribute("disabled")!=="false"),x=g=>{if(!document.documentElement.attachShadow)return null;if(typeof g.getRootNode=="function"){const l=g.getRootNode();return l instanceof ShadowRoot?l:null}return g instanceof ShadowRoot?g:g.parentNode?x(g.parentNode):null},S=()=>{},j=g=>{g.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],b=()=>document.documentElement.dir==="rtl",y=g=>{var l;l=()=>{const h=C();if(h){const w=g.NAME,P=h.fn[w];h.fn[w]=g.jQueryInterface,h.fn[w].Constructor=g,h.fn[w].noConflict=()=>(h.fn[w]=P,g.jQueryInterface)}},document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of k)h()}),k.push(l)):l()},m=(g,l=[],h=g)=>typeof g=="function"?g.call(...l):h,_=(g,l,h=!0)=>{if(!h)return void m(g);const w=(D=>{if(!D)return 0;let{transitionDuration:W,transitionDelay:Y}=window.getComputedStyle(D);const ie=Number.parseFloat(W),le=Number.parseFloat(Y);return ie||le?(W=W.split(",")[0],Y=Y.split(",")[0],1e3*(Number.parseFloat(W)+Number.parseFloat(Y))):0})(l)+5;let P=!1;const O=({target:D})=>{D===l&&(P=!0,l.removeEventListener(s,O),m(g))};l.addEventListener(s,O),setTimeout(()=>{P||c(l)},w)},T=(g,l,h,w)=>{const P=g.length;let O=g.indexOf(l);return O===-1?!h&&w?g[P-1]:g[0]:(O+=h?1:-1,w&&(O=(O+P)%P),g[Math.max(0,Math.min(O,P-1))])},E=/[^.]*(?=\..*)\.|.*/,A=/\..*/,$=/::\d+$/,z={};let I=1;const H={mouseenter:"mouseover",mouseleave:"mouseout"},re=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function X(g,l){return l&&`${l}::${I++}`||g.uidEvent||I++}function U(g){const l=X(g);return g.uidEvent=l,z[l]=z[l]||{},z[l]}function ne(g,l,h=null){return Object.values(g).find(w=>w.callable===l&&w.delegationSelector===h)}function Z(g,l,h){const w=typeof l=="string",P=w?h:l||h;let O=R(g);return re.has(O)||(O=g),[w,P,O]}function ye(g,l,h,w,P){if(typeof l!="string"||!g)return;let[O,D,W]=Z(l,h,w);l in H&&(D=(_e=>function(xe){if(!xe.relatedTarget||xe.relatedTarget!==xe.delegateTarget&&!xe.delegateTarget.contains(xe.relatedTarget))return _e.call(this,xe)})(D));const Y=U(g),ie=Y[W]||(Y[W]={}),le=ne(ie,D,O?h:null);if(le)return void(le.oneOff=le.oneOff&&P);const te=X(D,l.replace(E,"")),Ee=O?function(me,_e,xe){return function je(Je){const Ye=me.querySelectorAll(_e);for(let{target:Re}=Je;Re&&Re!==this;Re=Re.parentNode)for(const ze of Ye)if(ze===Re)return J(Je,{delegateTarget:Re}),je.oneOff&&N.off(me,Je.type,_e,xe),xe.apply(Re,[Je])}}(g,h,D):function(me,_e){return function xe(je){return J(je,{delegateTarget:me}),xe.oneOff&&N.off(me,je.type,_e),_e.apply(me,[je])}}(g,D);Ee.delegationSelector=O?h:null,Ee.callable=D,Ee.oneOff=P,Ee.uidEvent=te,ie[te]=Ee,g.addEventListener(W,Ee,O)}function q(g,l,h,w,P){const O=ne(l[h],w,P);O&&(g.removeEventListener(h,O,!!P),delete l[h][O.uidEvent])}function V(g,l,h,w){const P=l[h]||{};for(const[O,D]of Object.entries(P))O.includes(w)&&q(g,l,h,D.callable,D.delegationSelector)}function R(g){return g=g.replace(A,""),H[g]||g}const N={on(g,l,h,w){ye(g,l,h,w,!1)},one(g,l,h,w){ye(g,l,h,w,!0)},off(g,l,h,w){if(typeof l!="string"||!g)return;const[P,O,D]=Z(l,h,w),W=D!==l,Y=U(g),ie=Y[D]||{},le=l.startsWith(".");if(O===void 0){if(le)for(const te of Object.keys(Y))V(g,Y,te,l.slice(1));for(const[te,Ee]of Object.entries(ie)){const me=te.replace($,"");W&&!l.includes(me)||q(g,Y,D,Ee.callable,Ee.delegationSelector)}}else{if(!Object.keys(ie).length)return;q(g,Y,D,O,P?h:null)}},trigger(g,l,h){if(typeof l!="string"||!g)return null;const w=C();let P=null,O=!0,D=!0,W=!1;l!==R(l)&&w&&(P=w.Event(l,h),w(g).trigger(P),O=!P.isPropagationStopped(),D=!P.isImmediatePropagationStopped(),W=P.isDefaultPrevented());const Y=J(new Event(l,{bubbles:O,cancelable:!0}),h);return W&&Y.preventDefault(),D&&g.dispatchEvent(Y),Y.defaultPrevented&&P&&P.preventDefault(),Y}};function J(g,l={}){for(const[h,w]of Object.entries(l))try{g[h]=w}catch{Object.defineProperty(g,h,{configurable:!0,get:()=>w})}return g}function fe(g){if(g==="true")return!0;if(g==="false")return!1;if(g===Number(g).toString())return Number(g);if(g===""||g==="null")return null;if(typeof g!="string")return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function ge(g){return g.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const we={setDataAttribute(g,l,h){g.setAttribute(`data-bs-${ge(l)}`,h)},removeDataAttribute(g,l){g.removeAttribute(`data-bs-${ge(l)}`)},getDataAttributes(g){if(!g)return{};const l={},h=Object.keys(g.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of h){let P=w.replace(/^bs/,"");P=P.charAt(0).toLowerCase()+P.slice(1),l[P]=fe(g.dataset[w])}return l},getDataAttribute:(g,l)=>fe(g.getAttribute(`data-bs-${ge(l)}`))};class Fe{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,h){const w=u(h)?we.getDataAttribute(h,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...u(h)?we.getDataAttributes(h):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,h=this.constructor.DefaultType){for(const[w,P]of Object.entries(h)){const O=l[w],D=u(O)?"element":o(O);if(!new RegExp(P).test(D))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${D}" but expected type "${P}".`)}}}class F extends Fe{constructor(l,h){super(),(l=d(l))&&(this._element=l,this._config=this._getConfig(h),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),N.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,h,w=!0){_(l,h,w)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(d(l),this.DATA_KEY)}static getOrCreateInstance(l,h={}){return this.getInstance(l)||new this(l,typeof h=="object"?h:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const G=g=>{let l=g.getAttribute("data-bs-target");if(!l||l==="#"){let h=g.getAttribute("href");if(!h||!h.includes("#")&&!h.startsWith("."))return null;h.includes("#")&&!h.startsWith("#")&&(h=`#${h.split("#")[1]}`),l=h&&h!=="#"?h.trim():null}return l?l.split(",").map(h=>i(h)).join(","):null},B={find:(g,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,g)),findOne:(g,l=document.documentElement)=>Element.prototype.querySelector.call(l,g),children:(g,l)=>[].concat(...g.children).filter(h=>h.matches(l)),parents(g,l){const h=[];let w=g.parentNode.closest(l);for(;w;)h.push(w),w=w.parentNode.closest(l);return h},prev(g,l){let h=g.previousElementSibling;for(;h;){if(h.matches(l))return[h];h=h.previousElementSibling}return[]},next(g,l){let h=g.nextElementSibling;for(;h;){if(h.matches(l))return[h];h=h.nextElementSibling}return[]},focusableChildren(g){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(h=>`${h}:not([tabindex^="-"])`).join(",");return this.find(l,g).filter(h=>!p(h)&&f(h))},getSelectorFromElement(g){const l=G(g);return l&&B.findOne(l)?l:null},getElementFromSelector(g){const l=G(g);return l?B.findOne(l):null},getMultipleElementsFromSelector(g){const l=G(g);return l?B.find(l):[]}},M=(g,l="hide")=>{const h=`click.dismiss${g.EVENT_KEY}`,w=g.NAME;N.on(document,h,`[data-bs-dismiss="${w}"]`,function(P){if(["A","AREA"].includes(this.tagName)&&P.preventDefault(),p(this))return;const O=B.getElementFromSelector(this)||this.closest(`.${w}`);g.getOrCreateInstance(O)[l]()})},ee=".bs.alert",de=`close${ee}`,pe=`closed${ee}`;class ve extends F{static get NAME(){return"alert"}close(){if(N.trigger(this._element,de).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),N.trigger(this._element,pe),this.dispose()}static jQueryInterface(l){return this.each(function(){const h=ve.getOrCreateInstance(this);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l](this)}})}}M(ve,"close"),y(ve);const Ae='[data-bs-toggle="button"]';class Me extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const h=Me.getOrCreateInstance(this);l==="toggle"&&h[l]()})}}N.on(document,"click.bs.button.data-api",Ae,g=>{g.preventDefault();const l=g.target.closest(Ae);Me.getOrCreateInstance(l).toggle()}),y(Me);const be=".bs.swipe",Qe=`touchstart${be}`,Oe=`touchmove${be}`,lt=`touchend${be}`,pt=`pointerdown${be}`,Pt=`pointerup${be}`,Tn={endCallback:null,leftCallback:null,rightCallback:null},Yr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class rr extends Fe{constructor(l,h){super(),this._element=l,l&&rr.isSupported()&&(this._config=this._getConfig(h),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Tn}static get DefaultType(){return Yr}static get NAME(){return"swipe"}dispose(){N.off(this._element,be)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),m(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const h=l/this._deltaX;this._deltaX=0,h&&m(h>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(N.on(this._element,pt,l=>this._start(l)),N.on(this._element,Pt,l=>this._end(l)),this._element.classList.add("pointer-event")):(N.on(this._element,Qe,l=>this._start(l)),N.on(this._element,Oe,l=>this._move(l)),N.on(this._element,lt,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const At=".bs.carousel",se=".data-api",Q="ArrowLeft",ae="ArrowRight",Se="next",Ie="prev",ue="left",nn="right",qn=`slide${At}`,Wn=`slid${At}`,St=`keydown${At}`,wt=`mouseenter${At}`,kt=`mouseleave${At}`,rn=`dragstart${At}`,gn=`load${At}${se}`,ce=`click${At}${se}`,Ce="carousel",qe="active",et=".active",Ot=".carousel-item",vn=et+Ot,Pn={[Q]:nn,[ae]:ue},Xo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},rc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class As extends F{constructor(l,h){super(l,h),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=B.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ce&&this.cycle()}static get Default(){return Xo}static get DefaultType(){return rc}static get NAME(){return"carousel"}next(){this._slide(Se)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Ie)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?N.one(this._element,Wn,()=>this.cycle()):this.cycle())}to(l){const h=this._getItems();if(l>h.length-1||l<0)return;if(this._isSliding)return void N.one(this._element,Wn,()=>this.to(l));const w=this._getItemIndex(this._getActive());if(w===l)return;const P=l>w?Se:Ie;this._slide(P,h[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&N.on(this._element,St,l=>this._keydown(l)),this._config.pause==="hover"&&(N.on(this._element,wt,()=>this.pause()),N.on(this._element,kt,()=>this._maybeEnableCycle())),this._config.touch&&rr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const h of B.find(".carousel-item img",this._element))N.on(h,rn,w=>w.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(ue)),rightCallback:()=>this._slide(this._directionToOrder(nn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new rr(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const h=Pn[l.key];h&&(l.preventDefault(),this._slide(this._directionToOrder(h)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const h=B.findOne(et,this._indicatorsElement);h.classList.remove(qe),h.removeAttribute("aria-current");const w=B.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);w&&(w.classList.add(qe),w.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const h=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=h||this._config.defaultInterval}_slide(l,h=null){if(this._isSliding)return;const w=this._getActive(),P=l===Se,O=h||T(this._getItems(),w,P,this._config.wrap);if(O===w)return;const D=this._getItemIndex(O),W=te=>N.trigger(this._element,te,{relatedTarget:O,direction:this._orderToDirection(l),from:this._getItemIndex(w),to:D});if(W(qn).defaultPrevented||!w||!O)return;const Y=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(D),this._activeElement=O;const ie=P?"carousel-item-start":"carousel-item-end",le=P?"carousel-item-next":"carousel-item-prev";O.classList.add(le),j(O),w.classList.add(ie),O.classList.add(ie),this._queueCallback(()=>{O.classList.remove(ie,le),O.classList.add(qe),w.classList.remove(qe,le,ie),this._isSliding=!1,W(Wn)},w,this._isAnimated()),Y&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return B.findOne(vn,this._element)}_getItems(){return B.find(Ot,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return b()?l===ue?Ie:Se:l===ue?Se:Ie}_orderToDirection(l){return b()?l===Ie?ue:nn:l===Ie?nn:ue}static jQueryInterface(l){return this.each(function(){const h=As.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l]()}}else h.to(l)})}}N.on(document,ce,"[data-bs-slide], [data-bs-slide-to]",function(g){const l=B.getElementFromSelector(this);if(!l||!l.classList.contains(Ce))return;g.preventDefault();const h=As.getOrCreateInstance(l),w=this.getAttribute("data-bs-slide-to");return w?(h.to(w),void h._maybeEnableCycle()):we.getDataAttribute(this,"slide")==="next"?(h.next(),void h._maybeEnableCycle()):(h.prev(),void h._maybeEnableCycle())}),N.on(window,gn,()=>{const g=B.find('[data-bs-ride="carousel"]');for(const l of g)As.getOrCreateInstance(l)}),y(As);const Li=".bs.collapse",Xx=`show${Li}`,Zx=`shown${Li}`,e0=`hide${Li}`,t0=`hidden${Li}`,n0=`click${Li}.data-api`,sc="show",Os="collapse",Zo="collapsing",r0=`:scope .${Os} .${Os}`,ic='[data-bs-toggle="collapse"]',s0={parent:null,toggle:!0},i0={parent:"(null|element)",toggle:"boolean"};class Rs extends F{constructor(l,h){super(l,h),this._isTransitioning=!1,this._triggerArray=[];const w=B.find(ic);for(const P of w){const O=B.getSelectorFromElement(P),D=B.find(O).filter(W=>W===this._element);O!==null&&D.length&&this._triggerArray.push(P)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return s0}static get DefaultType(){return i0}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(P=>P!==this._element).map(P=>Rs.getOrCreateInstance(P,{toggle:!1}))),l.length&&l[0]._isTransitioning||N.trigger(this._element,Xx).defaultPrevented)return;for(const P of l)P.hide();const h=this._getDimension();this._element.classList.remove(Os),this._element.classList.add(Zo),this._element.style[h]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${h[0].toUpperCase()+h.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Zo),this._element.classList.add(Os,sc),this._element.style[h]="",N.trigger(this._element,Zx)},this._element,!0),this._element.style[h]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||N.trigger(this._element,e0).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,j(this._element),this._element.classList.add(Zo),this._element.classList.remove(Os,sc);for(const h of this._triggerArray){const w=B.getElementFromSelector(h);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([h],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Zo),this._element.classList.add(Os),N.trigger(this._element,t0)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(sc)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=d(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(ic);for(const h of l){const w=B.getElementFromSelector(h);w&&this._addAriaAndCollapsedClass([h],this._isShown(w))}}_getFirstLevelChildren(l){const h=B.find(r0,this._config.parent);return B.find(l,this._config.parent).filter(w=>!h.includes(w))}_addAriaAndCollapsedClass(l,h){if(l.length)for(const w of l)w.classList.toggle("collapsed",!h),w.setAttribute("aria-expanded",h)}static jQueryInterface(l){const h={};return typeof l=="string"&&/show|hide/.test(l)&&(h.toggle=!1),this.each(function(){const w=Rs.getOrCreateInstance(this,h);if(typeof l=="string"){if(w[l]===void 0)throw new TypeError(`No method named "${l}"`);w[l]()}})}}N.on(document,n0,ic,function(g){(g.target.tagName==="A"||g.delegateTarget&&g.delegateTarget.tagName==="A")&&g.preventDefault();for(const l of B.getMultipleElementsFromSelector(this))Rs.getOrCreateInstance(l,{toggle:!1}).toggle()}),y(Rs);var Mt="top",sn="bottom",on="right",Ut="left",ea="auto",Is=[Mt,sn,on,Ut],Xr="start",Ls="end",Kh="clippingParents",oc="viewport",$s="popper",Gh="reference",ac=Is.reduce(function(g,l){return g.concat([l+"-"+Xr,l+"-"+Ls])},[]),lc=[].concat(Is,[ea]).reduce(function(g,l){return g.concat([l,l+"-"+Xr,l+"-"+Ls])},[]),Qh="beforeRead",Yh="read",Xh="afterRead",Zh="beforeMain",ef="main",tf="afterMain",nf="beforeWrite",rf="write",sf="afterWrite",of=[Qh,Yh,Xh,Zh,ef,tf,nf,rf,sf];function Vn(g){return g?(g.nodeName||"").toLowerCase():null}function an(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var l=g.ownerDocument;return l&&l.defaultView||window}return g}function Zr(g){return g instanceof an(g).Element||g instanceof Element}function yn(g){return g instanceof an(g).HTMLElement||g instanceof HTMLElement}function cc(g){return typeof ShadowRoot<"u"&&(g instanceof an(g).ShadowRoot||g instanceof ShadowRoot)}const uc={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var l=g.state;Object.keys(l.elements).forEach(function(h){var w=l.styles[h]||{},P=l.attributes[h]||{},O=l.elements[h];yn(O)&&Vn(O)&&(Object.assign(O.style,w),Object.keys(P).forEach(function(D){var W=P[D];W===!1?O.removeAttribute(D):O.setAttribute(D,W===!0?"":W)}))})},effect:function(g){var l=g.state,h={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,h.popper),l.styles=h,l.elements.arrow&&Object.assign(l.elements.arrow.style,h.arrow),function(){Object.keys(l.elements).forEach(function(w){var P=l.elements[w],O=l.attributes[w]||{},D=Object.keys(l.styles.hasOwnProperty(w)?l.styles[w]:h[w]).reduce(function(W,Y){return W[Y]="",W},{});yn(P)&&Vn(P)&&(Object.assign(P.style,D),Object.keys(O).forEach(function(W){P.removeAttribute(W)}))})}},requires:["computeStyles"]};function Hn(g){return g.split("-")[0]}var es=Math.max,ta=Math.min,Ds=Math.round;function dc(){var g=navigator.userAgentData;return g!=null&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function af(){return!/^((?!chrome|android).)*safari/i.test(dc())}function Ms(g,l,h){l===void 0&&(l=!1),h===void 0&&(h=!1);var w=g.getBoundingClientRect(),P=1,O=1;l&&yn(g)&&(P=g.offsetWidth>0&&Ds(w.width)/g.offsetWidth||1,O=g.offsetHeight>0&&Ds(w.height)/g.offsetHeight||1);var D=(Zr(g)?an(g):window).visualViewport,W=!af()&&h,Y=(w.left+(W&&D?D.offsetLeft:0))/P,ie=(w.top+(W&&D?D.offsetTop:0))/O,le=w.width/P,te=w.height/O;return{width:le,height:te,top:ie,right:Y+le,bottom:ie+te,left:Y,x:Y,y:ie}}function hc(g){var l=Ms(g),h=g.offsetWidth,w=g.offsetHeight;return Math.abs(l.width-h)<=1&&(h=l.width),Math.abs(l.height-w)<=1&&(w=l.height),{x:g.offsetLeft,y:g.offsetTop,width:h,height:w}}function lf(g,l){var h=l.getRootNode&&l.getRootNode();if(g.contains(l))return!0;if(h&&cc(h)){var w=l;do{if(w&&g.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function sr(g){return an(g).getComputedStyle(g)}function o0(g){return["table","td","th"].indexOf(Vn(g))>=0}function br(g){return((Zr(g)?g.ownerDocument:g.document)||window.document).documentElement}function na(g){return Vn(g)==="html"?g:g.assignedSlot||g.parentNode||(cc(g)?g.host:null)||br(g)}function cf(g){return yn(g)&&sr(g).position!=="fixed"?g.offsetParent:null}function $i(g){for(var l=an(g),h=cf(g);h&&o0(h)&&sr(h).position==="static";)h=cf(h);return h&&(Vn(h)==="html"||Vn(h)==="body"&&sr(h).position==="static")?l:h||function(w){var P=/firefox/i.test(dc());if(/Trident/i.test(dc())&&yn(w)&&sr(w).position==="fixed")return null;var O=na(w);for(cc(O)&&(O=O.host);yn(O)&&["html","body"].indexOf(Vn(O))<0;){var D=sr(O);if(D.transform!=="none"||D.perspective!=="none"||D.contain==="paint"||["transform","perspective"].indexOf(D.willChange)!==-1||P&&D.willChange==="filter"||P&&D.filter&&D.filter!=="none")return O;O=O.parentNode}return null}(g)||l}function fc(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function Di(g,l,h){return es(g,ta(l,h))}function uf(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function df(g,l){return l.reduce(function(h,w){return h[w]=g,h},{})}const hf={name:"arrow",enabled:!0,phase:"main",fn:function(g){var l,h=g.state,w=g.name,P=g.options,O=h.elements.arrow,D=h.modifiersData.popperOffsets,W=Hn(h.placement),Y=fc(W),ie=[Ut,on].indexOf(W)>=0?"height":"width";if(O&&D){var le=function(Ke,Ve){return uf(typeof(Ke=typeof Ke=="function"?Ke(Object.assign({},Ve.rects,{placement:Ve.placement})):Ke)!="number"?Ke:df(Ke,Is))}(P.padding,h),te=hc(O),Ee=Y==="y"?Mt:Ut,me=Y==="y"?sn:on,_e=h.rects.reference[ie]+h.rects.reference[Y]-D[Y]-h.rects.popper[ie],xe=D[Y]-h.rects.reference[Y],je=$i(O),Je=je?Y==="y"?je.clientHeight||0:je.clientWidth||0:0,Ye=_e/2-xe/2,Re=le[Ee],ze=Je-te[ie]-le[me],Te=Je/2-te[ie]/2+Ye,De=Di(Re,Te,ze),We=Y;h.modifiersData[w]=((l={})[We]=De,l.centerOffset=De-Te,l)}},effect:function(g){var l=g.state,h=g.options.element,w=h===void 0?"[data-popper-arrow]":h;w!=null&&(typeof w!="string"||(w=l.elements.popper.querySelector(w)))&&lf(l.elements.popper,w)&&(l.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Us(g){return g.split("-")[1]}var a0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ff(g){var l,h=g.popper,w=g.popperRect,P=g.placement,O=g.variation,D=g.offsets,W=g.position,Y=g.gpuAcceleration,ie=g.adaptive,le=g.roundOffsets,te=g.isFixed,Ee=D.x,me=Ee===void 0?0:Ee,_e=D.y,xe=_e===void 0?0:_e,je=typeof le=="function"?le({x:me,y:xe}):{x:me,y:xe};me=je.x,xe=je.y;var Je=D.hasOwnProperty("x"),Ye=D.hasOwnProperty("y"),Re=Ut,ze=Mt,Te=window;if(ie){var De=$i(h),We="clientHeight",Ke="clientWidth";De===an(h)&&sr(De=br(h)).position!=="static"&&W==="absolute"&&(We="scrollHeight",Ke="scrollWidth"),(P===Mt||(P===Ut||P===on)&&O===Ls)&&(ze=sn,xe-=(te&&De===Te&&Te.visualViewport?Te.visualViewport.height:De[We])-w.height,xe*=Y?1:-1),P!==Ut&&(P!==Mt&&P!==sn||O!==Ls)||(Re=on,me-=(te&&De===Te&&Te.visualViewport?Te.visualViewport.width:De[Ke])-w.width,me*=Y?1:-1)}var Ve,dt=Object.assign({position:W},ie&&a0),ln=le===!0?function(On,Ft){var wn=On.x,bn=On.y,ct=Ft.devicePixelRatio||1;return{x:Ds(wn*ct)/ct||0,y:Ds(bn*ct)/ct||0}}({x:me,y:xe},an(h)):{x:me,y:xe};return me=ln.x,xe=ln.y,Y?Object.assign({},dt,((Ve={})[ze]=Ye?"0":"",Ve[Re]=Je?"0":"",Ve.transform=(Te.devicePixelRatio||1)<=1?"translate("+me+"px, "+xe+"px)":"translate3d("+me+"px, "+xe+"px, 0)",Ve)):Object.assign({},dt,((l={})[ze]=Ye?xe+"px":"",l[Re]=Je?me+"px":"",l.transform="",l))}const pc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(g){var l=g.state,h=g.options,w=h.gpuAcceleration,P=w===void 0||w,O=h.adaptive,D=O===void 0||O,W=h.roundOffsets,Y=W===void 0||W,ie={placement:Hn(l.placement),variation:Us(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:P,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,ff(Object.assign({},ie,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:D,roundOffsets:Y})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,ff(Object.assign({},ie,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Y})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var ra={passive:!0};const mc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var l=g.state,h=g.instance,w=g.options,P=w.scroll,O=P===void 0||P,D=w.resize,W=D===void 0||D,Y=an(l.elements.popper),ie=[].concat(l.scrollParents.reference,l.scrollParents.popper);return O&&ie.forEach(function(le){le.addEventListener("scroll",h.update,ra)}),W&&Y.addEventListener("resize",h.update,ra),function(){O&&ie.forEach(function(le){le.removeEventListener("scroll",h.update,ra)}),W&&Y.removeEventListener("resize",h.update,ra)}},data:{}};var l0={left:"right",right:"left",bottom:"top",top:"bottom"};function sa(g){return g.replace(/left|right|bottom|top/g,function(l){return l0[l]})}var c0={start:"end",end:"start"};function pf(g){return g.replace(/start|end/g,function(l){return c0[l]})}function gc(g){var l=an(g);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function vc(g){return Ms(br(g)).left+gc(g).scrollLeft}function yc(g){var l=sr(g),h=l.overflow,w=l.overflowX,P=l.overflowY;return/auto|scroll|overlay|hidden/.test(h+P+w)}function mf(g){return["html","body","#document"].indexOf(Vn(g))>=0?g.ownerDocument.body:yn(g)&&yc(g)?g:mf(na(g))}function Mi(g,l){var h;l===void 0&&(l=[]);var w=mf(g),P=w===((h=g.ownerDocument)==null?void 0:h.body),O=an(w),D=P?[O].concat(O.visualViewport||[],yc(w)?w:[]):w,W=l.concat(D);return P?W:W.concat(Mi(na(D)))}function xc(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function gf(g,l,h){return l===oc?xc(function(w,P){var O=an(w),D=br(w),W=O.visualViewport,Y=D.clientWidth,ie=D.clientHeight,le=0,te=0;if(W){Y=W.width,ie=W.height;var Ee=af();(Ee||!Ee&&P==="fixed")&&(le=W.offsetLeft,te=W.offsetTop)}return{width:Y,height:ie,x:le+vc(w),y:te}}(g,h)):Zr(l)?function(w,P){var O=Ms(w,!1,P==="fixed");return O.top=O.top+w.clientTop,O.left=O.left+w.clientLeft,O.bottom=O.top+w.clientHeight,O.right=O.left+w.clientWidth,O.width=w.clientWidth,O.height=w.clientHeight,O.x=O.left,O.y=O.top,O}(l,h):xc(function(w){var P,O=br(w),D=gc(w),W=(P=w.ownerDocument)==null?void 0:P.body,Y=es(O.scrollWidth,O.clientWidth,W?W.scrollWidth:0,W?W.clientWidth:0),ie=es(O.scrollHeight,O.clientHeight,W?W.scrollHeight:0,W?W.clientHeight:0),le=-D.scrollLeft+vc(w),te=-D.scrollTop;return sr(W||O).direction==="rtl"&&(le+=es(O.clientWidth,W?W.clientWidth:0)-Y),{width:Y,height:ie,x:le,y:te}}(br(g)))}function vf(g){var l,h=g.reference,w=g.element,P=g.placement,O=P?Hn(P):null,D=P?Us(P):null,W=h.x+h.width/2-w.width/2,Y=h.y+h.height/2-w.height/2;switch(O){case Mt:l={x:W,y:h.y-w.height};break;case sn:l={x:W,y:h.y+h.height};break;case on:l={x:h.x+h.width,y:Y};break;case Ut:l={x:h.x-w.width,y:Y};break;default:l={x:h.x,y:h.y}}var ie=O?fc(O):null;if(ie!=null){var le=ie==="y"?"height":"width";switch(D){case Xr:l[ie]=l[ie]-(h[le]/2-w[le]/2);break;case Ls:l[ie]=l[ie]+(h[le]/2-w[le]/2)}}return l}function Fs(g,l){l===void 0&&(l={});var h=l,w=h.placement,P=w===void 0?g.placement:w,O=h.strategy,D=O===void 0?g.strategy:O,W=h.boundary,Y=W===void 0?Kh:W,ie=h.rootBoundary,le=ie===void 0?oc:ie,te=h.elementContext,Ee=te===void 0?$s:te,me=h.altBoundary,_e=me!==void 0&&me,xe=h.padding,je=xe===void 0?0:xe,Je=uf(typeof je!="number"?je:df(je,Is)),Ye=Ee===$s?Gh:$s,Re=g.rects.popper,ze=g.elements[_e?Ye:Ee],Te=function(Ft,wn,bn,ct){var Jn=wn==="clippingParents"?function(Ge){var zt=Mi(na(Ge)),_n=["absolute","fixed"].indexOf(sr(Ge).position)>=0&&yn(Ge)?$i(Ge):Ge;return Zr(_n)?zt.filter(function(jr){return Zr(jr)&&lf(jr,_n)&&Vn(jr)!=="body"}):[]}(Ft):[].concat(wn),Kn=[].concat(Jn,[bn]),qs=Kn[0],bt=Kn.reduce(function(Ge,zt){var _n=gf(Ft,zt,ct);return Ge.top=es(_n.top,Ge.top),Ge.right=ta(_n.right,Ge.right),Ge.bottom=ta(_n.bottom,Ge.bottom),Ge.left=es(_n.left,Ge.left),Ge},gf(Ft,qs,ct));return bt.width=bt.right-bt.left,bt.height=bt.bottom-bt.top,bt.x=bt.left,bt.y=bt.top,bt}(Zr(ze)?ze:ze.contextElement||br(g.elements.popper),Y,le,D),De=Ms(g.elements.reference),We=vf({reference:De,element:Re,placement:P}),Ke=xc(Object.assign({},Re,We)),Ve=Ee===$s?Ke:De,dt={top:Te.top-Ve.top+Je.top,bottom:Ve.bottom-Te.bottom+Je.bottom,left:Te.left-Ve.left+Je.left,right:Ve.right-Te.right+Je.right},ln=g.modifiersData.offset;if(Ee===$s&&ln){var On=ln[P];Object.keys(dt).forEach(function(Ft){var wn=[on,sn].indexOf(Ft)>=0?1:-1,bn=[Mt,sn].indexOf(Ft)>=0?"y":"x";dt[Ft]+=On[bn]*wn})}return dt}function u0(g,l){l===void 0&&(l={});var h=l,w=h.placement,P=h.boundary,O=h.rootBoundary,D=h.padding,W=h.flipVariations,Y=h.allowedAutoPlacements,ie=Y===void 0?lc:Y,le=Us(w),te=le?W?ac:ac.filter(function(_e){return Us(_e)===le}):Is,Ee=te.filter(function(_e){return ie.indexOf(_e)>=0});Ee.length===0&&(Ee=te);var me=Ee.reduce(function(_e,xe){return _e[xe]=Fs(g,{placement:xe,boundary:P,rootBoundary:O,padding:D})[Hn(xe)],_e},{});return Object.keys(me).sort(function(_e,xe){return me[_e]-me[xe]})}const yf={name:"flip",enabled:!0,phase:"main",fn:function(g){var l=g.state,h=g.options,w=g.name;if(!l.modifiersData[w]._skip){for(var P=h.mainAxis,O=P===void 0||P,D=h.altAxis,W=D===void 0||D,Y=h.fallbackPlacements,ie=h.padding,le=h.boundary,te=h.rootBoundary,Ee=h.altBoundary,me=h.flipVariations,_e=me===void 0||me,xe=h.allowedAutoPlacements,je=l.options.placement,Je=Hn(je),Ye=Y||(Je!==je&&_e?function(Ge){if(Hn(Ge)===ea)return[];var zt=sa(Ge);return[pf(Ge),zt,pf(zt)]}(je):[sa(je)]),Re=[je].concat(Ye).reduce(function(Ge,zt){return Ge.concat(Hn(zt)===ea?u0(l,{placement:zt,boundary:le,rootBoundary:te,padding:ie,flipVariations:_e,allowedAutoPlacements:xe}):zt)},[]),ze=l.rects.reference,Te=l.rects.popper,De=new Map,We=!0,Ke=Re[0],Ve=0;Ve<Re.length;Ve++){var dt=Re[Ve],ln=Hn(dt),On=Us(dt)===Xr,Ft=[Mt,sn].indexOf(ln)>=0,wn=Ft?"width":"height",bn=Fs(l,{placement:dt,boundary:le,rootBoundary:te,altBoundary:Ee,padding:ie}),ct=Ft?On?on:Ut:On?sn:Mt;ze[wn]>Te[wn]&&(ct=sa(ct));var Jn=sa(ct),Kn=[];if(O&&Kn.push(bn[ln]<=0),W&&Kn.push(bn[ct]<=0,bn[Jn]<=0),Kn.every(function(Ge){return Ge})){Ke=dt,We=!1;break}De.set(dt,Kn)}if(We)for(var qs=function(Ge){var zt=Re.find(function(_n){var jr=De.get(_n);if(jr)return jr.slice(0,Ge).every(function(fa){return fa})});if(zt)return Ke=zt,"break"},bt=_e?3:1;bt>0&&qs(bt)!=="break";bt--);l.placement!==Ke&&(l.modifiersData[w]._skip=!0,l.placement=Ke,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xf(g,l,h){return h===void 0&&(h={x:0,y:0}),{top:g.top-l.height-h.y,right:g.right-l.width+h.x,bottom:g.bottom-l.height+h.y,left:g.left-l.width-h.x}}function wf(g){return[Mt,on,sn,Ut].some(function(l){return g[l]>=0})}const bf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(g){var l=g.state,h=g.name,w=l.rects.reference,P=l.rects.popper,O=l.modifiersData.preventOverflow,D=Fs(l,{elementContext:"reference"}),W=Fs(l,{altBoundary:!0}),Y=xf(D,w),ie=xf(W,P,O),le=wf(Y),te=wf(ie);l.modifiersData[h]={referenceClippingOffsets:Y,popperEscapeOffsets:ie,isReferenceHidden:le,hasPopperEscaped:te},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":le,"data-popper-escaped":te})}},_f={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(g){var l=g.state,h=g.options,w=g.name,P=h.offset,O=P===void 0?[0,0]:P,D=lc.reduce(function(le,te){return le[te]=function(Ee,me,_e){var xe=Hn(Ee),je=[Ut,Mt].indexOf(xe)>=0?-1:1,Je=typeof _e=="function"?_e(Object.assign({},me,{placement:Ee})):_e,Ye=Je[0],Re=Je[1];return Ye=Ye||0,Re=(Re||0)*je,[Ut,on].indexOf(xe)>=0?{x:Re,y:Ye}:{x:Ye,y:Re}}(te,l.rects,O),le},{}),W=D[l.placement],Y=W.x,ie=W.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=Y,l.modifiersData.popperOffsets.y+=ie),l.modifiersData[w]=D}},wc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(g){var l=g.state,h=g.name;l.modifiersData[h]=vf({reference:l.rects.reference,element:l.rects.popper,placement:l.placement})},data:{}},jf={name:"preventOverflow",enabled:!0,phase:"main",fn:function(g){var l=g.state,h=g.options,w=g.name,P=h.mainAxis,O=P===void 0||P,D=h.altAxis,W=D!==void 0&&D,Y=h.boundary,ie=h.rootBoundary,le=h.altBoundary,te=h.padding,Ee=h.tether,me=Ee===void 0||Ee,_e=h.tetherOffset,xe=_e===void 0?0:_e,je=Fs(l,{boundary:Y,rootBoundary:ie,padding:te,altBoundary:le}),Je=Hn(l.placement),Ye=Us(l.placement),Re=!Ye,ze=fc(Je),Te=ze==="x"?"y":"x",De=l.modifiersData.popperOffsets,We=l.rects.reference,Ke=l.rects.popper,Ve=typeof xe=="function"?xe(Object.assign({},l.rects,{placement:l.placement})):xe,dt=typeof Ve=="number"?{mainAxis:Ve,altAxis:Ve}:Object.assign({mainAxis:0,altAxis:0},Ve),ln=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,On={x:0,y:0};if(De){if(O){var Ft,wn=ze==="y"?Mt:Ut,bn=ze==="y"?sn:on,ct=ze==="y"?"height":"width",Jn=De[ze],Kn=Jn+je[wn],qs=Jn-je[bn],bt=me?-Ke[ct]/2:0,Ge=Ye===Xr?We[ct]:Ke[ct],zt=Ye===Xr?-Ke[ct]:-We[ct],_n=l.elements.arrow,jr=me&&_n?hc(_n):{width:0,height:0},fa=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},cp=fa[wn],up=fa[bn],pa=Di(0,We[ct],jr[ct]),Bw=Re?We[ct]/2-bt-pa-cp-dt.mainAxis:Ge-pa-cp-dt.mainAxis,qw=Re?-We[ct]/2+bt+pa+up+dt.mainAxis:zt+pa+up+dt.mainAxis,Ic=l.elements.arrow&&$i(l.elements.arrow),Ww=Ic?ze==="y"?Ic.clientTop||0:Ic.clientLeft||0:0,dp=(Ft=ln==null?void 0:ln[ze])!=null?Ft:0,Vw=Jn+qw-dp,hp=Di(me?ta(Kn,Jn+Bw-dp-Ww):Kn,Jn,me?es(qs,Vw):qs);De[ze]=hp,On[ze]=hp-Jn}if(W){var fp,Hw=ze==="x"?Mt:Ut,Jw=ze==="x"?sn:on,ls=De[Te],ma=Te==="y"?"height":"width",pp=ls+je[Hw],mp=ls-je[Jw],Lc=[Mt,Ut].indexOf(Je)!==-1,gp=(fp=ln==null?void 0:ln[Te])!=null?fp:0,vp=Lc?pp:ls-We[ma]-Ke[ma]-gp+dt.altAxis,yp=Lc?ls+We[ma]+Ke[ma]-gp-dt.altAxis:mp,xp=me&&Lc?function(Kw,Gw,$c){var wp=Di(Kw,Gw,$c);return wp>$c?$c:wp}(vp,ls,yp):Di(me?vp:pp,ls,me?yp:mp);De[Te]=xp,On[Te]=xp-ls}l.modifiersData[w]=On}},requiresIfExists:["offset"]};function d0(g,l,h){h===void 0&&(h=!1);var w,P,O=yn(l),D=yn(l)&&function(te){var Ee=te.getBoundingClientRect(),me=Ds(Ee.width)/te.offsetWidth||1,_e=Ds(Ee.height)/te.offsetHeight||1;return me!==1||_e!==1}(l),W=br(l),Y=Ms(g,D,h),ie={scrollLeft:0,scrollTop:0},le={x:0,y:0};return(O||!O&&!h)&&((Vn(l)!=="body"||yc(W))&&(ie=(w=l)!==an(w)&&yn(w)?{scrollLeft:(P=w).scrollLeft,scrollTop:P.scrollTop}:gc(w)),yn(l)?((le=Ms(l,!0)).x+=l.clientLeft,le.y+=l.clientTop):W&&(le.x=vc(W))),{x:Y.left+ie.scrollLeft-le.x,y:Y.top+ie.scrollTop-le.y,width:Y.width,height:Y.height}}function h0(g){var l=new Map,h=new Set,w=[];function P(O){h.add(O.name),[].concat(O.requires||[],O.requiresIfExists||[]).forEach(function(D){if(!h.has(D)){var W=l.get(D);W&&P(W)}}),w.push(O)}return g.forEach(function(O){l.set(O.name,O)}),g.forEach(function(O){h.has(O.name)||P(O)}),w}var Sf={placement:"bottom",modifiers:[],strategy:"absolute"};function kf(){for(var g=arguments.length,l=new Array(g),h=0;h<g;h++)l[h]=arguments[h];return!l.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function ia(g){g===void 0&&(g={});var l=g,h=l.defaultModifiers,w=h===void 0?[]:h,P=l.defaultOptions,O=P===void 0?Sf:P;return function(D,W,Y){Y===void 0&&(Y=O);var ie,le,te={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sf,O),modifiersData:{},elements:{reference:D,popper:W},attributes:{},styles:{}},Ee=[],me=!1,_e={state:te,setOptions:function(je){var Je=typeof je=="function"?je(te.options):je;xe(),te.options=Object.assign({},O,te.options,Je),te.scrollParents={reference:Zr(D)?Mi(D):D.contextElement?Mi(D.contextElement):[],popper:Mi(W)};var Ye,Re,ze=function(Te){var De=h0(Te);return of.reduce(function(We,Ke){return We.concat(De.filter(function(Ve){return Ve.phase===Ke}))},[])}((Ye=[].concat(w,te.options.modifiers),Re=Ye.reduce(function(Te,De){var We=Te[De.name];return Te[De.name]=We?Object.assign({},We,De,{options:Object.assign({},We.options,De.options),data:Object.assign({},We.data,De.data)}):De,Te},{}),Object.keys(Re).map(function(Te){return Re[Te]})));return te.orderedModifiers=ze.filter(function(Te){return Te.enabled}),te.orderedModifiers.forEach(function(Te){var De=Te.name,We=Te.options,Ke=We===void 0?{}:We,Ve=Te.effect;if(typeof Ve=="function"){var dt=Ve({state:te,name:De,instance:_e,options:Ke});Ee.push(dt||function(){})}}),_e.update()},forceUpdate:function(){if(!me){var je=te.elements,Je=je.reference,Ye=je.popper;if(kf(Je,Ye)){te.rects={reference:d0(Je,$i(Ye),te.options.strategy==="fixed"),popper:hc(Ye)},te.reset=!1,te.placement=te.options.placement,te.orderedModifiers.forEach(function(Ve){return te.modifiersData[Ve.name]=Object.assign({},Ve.data)});for(var Re=0;Re<te.orderedModifiers.length;Re++)if(te.reset!==!0){var ze=te.orderedModifiers[Re],Te=ze.fn,De=ze.options,We=De===void 0?{}:De,Ke=ze.name;typeof Te=="function"&&(te=Te({state:te,options:We,name:Ke,instance:_e})||te)}else te.reset=!1,Re=-1}}},update:(ie=function(){return new Promise(function(je){_e.forceUpdate(),je(te)})},function(){return le||(le=new Promise(function(je){Promise.resolve().then(function(){le=void 0,je(ie())})})),le}),destroy:function(){xe(),me=!0}};if(!kf(D,W))return _e;function xe(){Ee.forEach(function(je){return je()}),Ee=[]}return _e.setOptions(Y).then(function(je){!me&&Y.onFirstUpdate&&Y.onFirstUpdate(je)}),_e}}var f0=ia(),p0=ia({defaultModifiers:[mc,wc,pc,uc]}),bc=ia({defaultModifiers:[mc,wc,pc,uc,_f,yf,jf,hf,bf]});const Nf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:tf,afterRead:Xh,afterWrite:sf,applyStyles:uc,arrow:hf,auto:ea,basePlacements:Is,beforeMain:Zh,beforeRead:Qh,beforeWrite:nf,bottom:sn,clippingParents:Kh,computeStyles:pc,createPopper:bc,createPopperBase:f0,createPopperLite:p0,detectOverflow:Fs,end:Ls,eventListeners:mc,flip:yf,hide:bf,left:Ut,main:ef,modifierPhases:of,offset:_f,placements:lc,popper:$s,popperGenerator:ia,popperOffsets:wc,preventOverflow:jf,read:Yh,reference:Gh,right:on,start:Xr,top:Mt,variationPlacements:ac,viewport:oc,write:rf},Symbol.toStringTag,{value:"Module"})),Ef="dropdown",ts=".bs.dropdown",_c=".data-api",m0="ArrowUp",Cf="ArrowDown",g0=`hide${ts}`,v0=`hidden${ts}`,y0=`show${ts}`,x0=`shown${ts}`,Tf=`click${ts}${_c}`,Pf=`keydown${ts}${_c}`,w0=`keyup${ts}${_c}`,zs="show",ns='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',b0=`${ns}.${zs}`,oa=".dropdown-menu",_0=b()?"top-end":"top-start",j0=b()?"top-start":"top-end",S0=b()?"bottom-end":"bottom-start",k0=b()?"bottom-start":"bottom-end",N0=b()?"left-start":"right-start",E0=b()?"right-start":"left-start",C0={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},T0={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class An extends F{constructor(l,h){super(l,h),this._popper=null,this._parent=this._element.parentNode,this._menu=B.next(this._element,oa)[0]||B.prev(this._element,oa)[0]||B.findOne(oa,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return C0}static get DefaultType(){return T0}static get NAME(){return Ef}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!N.trigger(this._element,y0,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const h of[].concat(...document.body.children))N.on(h,"mouseover",S);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(zs),this._element.classList.add(zs),N.trigger(this._element,x0,l)}}hide(){if(p(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!N.trigger(this._element,g0,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))N.off(h,"mouseover",S);this._popper&&this._popper.destroy(),this._menu.classList.remove(zs),this._element.classList.remove(zs),this._element.setAttribute("aria-expanded","false"),we.removeDataAttribute(this._menu,"popper"),N.trigger(this._element,v0,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!u(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${Ef.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(Nf===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let l=this._element;this._config.reference==="parent"?l=this._parent:u(this._config.reference)?l=d(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const h=this._getPopperConfig();this._popper=bc(l,this._menu,h)}_isShown(){return this._menu.classList.contains(zs)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return N0;if(l.classList.contains("dropstart"))return E0;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const h=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?h?j0:_0:h?k0:S0}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(h=>Number.parseInt(h,10)):typeof l=="function"?h=>l(h,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(we.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...m(this._config.popperConfig,[void 0,l])}}_selectMenuItem({key:l,target:h}){const w=B.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(P=>f(P));w.length&&T(w,h,l===Cf,!w.includes(h)).focus()}static jQueryInterface(l){return this.each(function(){const h=An.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const h=B.find(b0);for(const w of h){const P=An.getInstance(w);if(!P||P._config.autoClose===!1)continue;const O=l.composedPath(),D=O.includes(P._menu);if(O.includes(P._element)||P._config.autoClose==="inside"&&!D||P._config.autoClose==="outside"&&D||P._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const W={relatedTarget:P._element};l.type==="click"&&(W.clickEvent=l),P._completeHide(W)}}static dataApiKeydownHandler(l){const h=/input|textarea/i.test(l.target.tagName),w=l.key==="Escape",P=[m0,Cf].includes(l.key);if(!P&&!w||h&&!w)return;l.preventDefault();const O=this.matches(ns)?this:B.prev(this,ns)[0]||B.next(this,ns)[0]||B.findOne(ns,l.delegateTarget.parentNode),D=An.getOrCreateInstance(O);if(P)return l.stopPropagation(),D.show(),void D._selectMenuItem(l);D._isShown()&&(l.stopPropagation(),D.hide(),O.focus())}}N.on(document,Pf,ns,An.dataApiKeydownHandler),N.on(document,Pf,oa,An.dataApiKeydownHandler),N.on(document,Tf,An.clearMenus),N.on(document,w0,An.clearMenus),N.on(document,Tf,ns,function(g){g.preventDefault(),An.getOrCreateInstance(this).toggle()}),y(An);const Af="backdrop",Of="show",Rf=`mousedown.bs.${Af}`,P0={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},A0={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class If extends Fe{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return P0}static get DefaultType(){return A0}static get NAME(){return Af}show(l){if(!this._config.isVisible)return void m(l);this._append();const h=this._getElement();this._config.isAnimated&&j(h),h.classList.add(Of),this._emulateAnimation(()=>{m(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(Of),this._emulateAnimation(()=>{this.dispose(),m(l)})):m(l)}dispose(){this._isAppended&&(N.off(this._element,Rf),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=d(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),N.on(l,Rf,()=>{m(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){_(l,this._getElement(),this._config.isAnimated)}}const aa=".bs.focustrap",O0=`focusin${aa}`,R0=`keydown.tab${aa}`,Lf="backward",I0={autofocus:!0,trapElement:null},L0={autofocus:"boolean",trapElement:"element"};class $f extends Fe{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return I0}static get DefaultType(){return L0}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),N.off(document,aa),N.on(document,O0,l=>this._handleFocusin(l)),N.on(document,R0,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,N.off(document,aa))}_handleFocusin(l){const{trapElement:h}=this._config;if(l.target===document||l.target===h||h.contains(l.target))return;const w=B.focusableChildren(h);w.length===0?h.focus():this._lastTabNavDirection===Lf?w[w.length-1].focus():w[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?Lf:"forward")}}const Df=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mf=".sticky-top",la="padding-right",Uf="margin-right";class jc{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,la,h=>h+l),this._setElementAttributes(Df,la,h=>h+l),this._setElementAttributes(Mf,Uf,h=>h-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,la),this._resetElementAttributes(Df,la),this._resetElementAttributes(Mf,Uf)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,h,w){const P=this.getWidth();this._applyManipulationCallback(l,O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+P)return;this._saveInitialAttribute(O,h);const D=window.getComputedStyle(O).getPropertyValue(h);O.style.setProperty(h,`${w(Number.parseFloat(D))}px`)})}_saveInitialAttribute(l,h){const w=l.style.getPropertyValue(h);w&&we.setDataAttribute(l,h,w)}_resetElementAttributes(l,h){this._applyManipulationCallback(l,w=>{const P=we.getDataAttribute(w,h);P!==null?(we.removeDataAttribute(w,h),w.style.setProperty(h,P)):w.style.removeProperty(h)})}_applyManipulationCallback(l,h){if(u(l))h(l);else for(const w of B.find(l,this._element))h(w)}}const xn=".bs.modal",$0=`hide${xn}`,D0=`hidePrevented${xn}`,Ff=`hidden${xn}`,zf=`show${xn}`,M0=`shown${xn}`,U0=`resize${xn}`,F0=`click.dismiss${xn}`,z0=`mousedown.dismiss${xn}`,B0=`keydown.dismiss${xn}`,q0=`click${xn}.data-api`,Bf="modal-open",qf="show",Sc="modal-static",W0={backdrop:!0,focus:!0,keyboard:!0},V0={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class rs extends F{constructor(l,h){super(l,h),this._dialog=B.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jc,this._addEventListeners()}static get Default(){return W0}static get DefaultType(){return V0}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||N.trigger(this._element,zf,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Bf),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(N.trigger(this._element,$0).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(qf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){N.off(window,xn),N.off(this._dialog,xn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new If({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new $f({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const h=B.findOne(".modal-body",this._dialog);h&&(h.scrollTop=0),j(this._element),this._element.classList.add(qf),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,N.trigger(this._element,M0,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){N.on(this._element,B0,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),N.on(window,U0,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),N.on(this._element,z0,l=>{N.one(this._element,F0,h=>{this._element===l.target&&this._element===h.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Bf),this._resetAdjustments(),this._scrollBar.reset(),N.trigger(this._element,Ff)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(N.trigger(this._element,D0).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,h=this._element.style.overflowY;h==="hidden"||this._element.classList.contains(Sc)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Sc),this._queueCallback(()=>{this._element.classList.remove(Sc),this._queueCallback(()=>{this._element.style.overflowY=h},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,h=this._scrollBar.getWidth(),w=h>0;if(w&&!l){const P=b()?"paddingLeft":"paddingRight";this._element.style[P]=`${h}px`}if(!w&&l){const P=b()?"paddingRight":"paddingLeft";this._element.style[P]=`${h}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,h){return this.each(function(){const w=rs.getOrCreateInstance(this,l);if(typeof l=="string"){if(w[l]===void 0)throw new TypeError(`No method named "${l}"`);w[l](h)}})}}N.on(document,q0,'[data-bs-toggle="modal"]',function(g){const l=B.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),N.one(l,zf,w=>{w.defaultPrevented||N.one(l,Ff,()=>{f(this)&&this.focus()})});const h=B.findOne(".modal.show");h&&rs.getInstance(h).hide(),rs.getOrCreateInstance(l).toggle(this)}),M(rs),y(rs);const ir=".bs.offcanvas",Wf=".data-api",H0=`load${ir}${Wf}`,Vf="show",Hf="showing",Jf="hiding",Kf=".offcanvas.show",J0=`show${ir}`,K0=`shown${ir}`,G0=`hide${ir}`,Gf=`hidePrevented${ir}`,Qf=`hidden${ir}`,Q0=`resize${ir}`,Y0=`click${ir}${Wf}`,X0=`keydown.dismiss${ir}`,Z0={backdrop:!0,keyboard:!0,scroll:!1},ew={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class or extends F{constructor(l,h){super(l,h),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Z0}static get DefaultType(){return ew}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||N.trigger(this._element,J0,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new jc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hf),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Vf),this._element.classList.remove(Hf),N.trigger(this._element,K0,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(N.trigger(this._element,G0).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Jf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Vf,Jf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new jc().reset(),N.trigger(this._element,Qf)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new If({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():N.trigger(this._element,Gf)}:null})}_initializeFocusTrap(){return new $f({trapElement:this._element})}_addEventListeners(){N.on(this._element,X0,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():N.trigger(this._element,Gf))})}static jQueryInterface(l){return this.each(function(){const h=or.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l](this)}})}}N.on(document,Y0,'[data-bs-toggle="offcanvas"]',function(g){const l=B.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),p(this))return;N.one(l,Qf,()=>{f(this)&&this.focus()});const h=B.findOne(Kf);h&&h!==l&&or.getInstance(h).hide(),or.getOrCreateInstance(l).toggle(this)}),N.on(window,H0,()=>{for(const g of B.find(Kf))or.getOrCreateInstance(g).show()}),N.on(window,Q0,()=>{for(const g of B.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(g).position!=="fixed"&&or.getOrCreateInstance(g).hide()}),M(or),y(or);const Yf={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},tw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,rw=(g,l)=>{const h=g.nodeName.toLowerCase();return l.includes(h)?!tw.has(h)||!!nw.test(g.nodeValue):l.filter(w=>w instanceof RegExp).some(w=>w.test(h))},sw={allowList:Yf,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},iw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ow={entry:"(string|element|function|null)",selector:"(string|element)"};class aw extends Fe{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return sw}static get DefaultType(){return iw}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[P,O]of Object.entries(this._config.content))this._setContent(l,O,P);const h=l.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&h.classList.add(...w.split(" ")),h}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[h,w]of Object.entries(l))super._typeCheckConfig({selector:h,entry:w},ow)}_setContent(l,h,w){const P=B.findOne(w,l);P&&((h=this._resolvePossibleFunction(h))?u(h)?this._putElementInTemplate(d(h),P):this._config.html?P.innerHTML=this._maybeSanitize(h):P.textContent=h:P.remove())}_maybeSanitize(l){return this._config.sanitize?function(h,w,P){if(!h.length)return h;if(P&&typeof P=="function")return P(h);const O=new window.DOMParser().parseFromString(h,"text/html"),D=[].concat(...O.body.querySelectorAll("*"));for(const W of D){const Y=W.nodeName.toLowerCase();if(!Object.keys(w).includes(Y)){W.remove();continue}const ie=[].concat(...W.attributes),le=[].concat(w["*"]||[],w[Y]||[]);for(const te of ie)rw(te,le)||W.removeAttribute(te.nodeName)}return O.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return m(l,[void 0,this])}_putElementInTemplate(l,h){if(this._config.html)return h.innerHTML="",void h.append(l);h.textContent=l.textContent}}const lw=new Set(["sanitize","allowList","sanitizeFn"]),kc="fade",ca="show",cw=".tooltip-inner",Xf=".modal",Zf="hide.bs.modal",Ui="hover",Nc="focus",Ec="click",uw={AUTO:"auto",TOP:"top",RIGHT:b()?"left":"right",BOTTOM:"bottom",LEFT:b()?"right":"left"},dw={allowList:Yf,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},hw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ss extends F{constructor(l,h){if(Nf===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(l,h),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dw}static get DefaultType(){return hw}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),N.off(this._element.closest(Xf),Zf,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=N.trigger(this._element,this.constructor.eventName("show")),h=(x(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!h)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:P}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(P.append(w),N.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(ca),"ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))N.on(O,"mouseover",S);this._queueCallback(()=>{N.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!N.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ca),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))N.off(l,"mouseover",S);this._activeTrigger[Ec]=!1,this._activeTrigger[Nc]=!1,this._activeTrigger[Ui]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),N.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const h=this._getTemplateFactory(l).toHtml();if(!h)return null;h.classList.remove(kc,ca),h.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(P=>{do P+=Math.floor(1e6*Math.random());while(document.getElementById(P));return P})(this.constructor.NAME).toString();return h.setAttribute("id",w),this._isAnimated()&&h.classList.add(kc),h}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new aw({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[cw]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(kc)}_isShown(){return this.tip&&this.tip.classList.contains(ca)}_createPopper(l){const h=m(this._config.placement,[this,l,this._element]),w=uw[h.toUpperCase()];return bc(this._element,l,this._getPopperConfig(w))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(h=>Number.parseInt(h,10)):typeof l=="function"?h=>l(h,this._element):l}_resolvePossibleFunction(l){return m(l,[this._element,this._element])}_getPopperConfig(l){const h={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...h,...m(this._config.popperConfig,[void 0,h])}}_setListeners(){const l=this._config.trigger.split(" ");for(const h of l)if(h==="click")N.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>{const P=this._initializeOnDelegatedTarget(w);P._activeTrigger[Ec]=!(P._isShown()&&P._activeTrigger[Ec]),P.toggle()});else if(h!=="manual"){const w=h===Ui?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),P=h===Ui?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");N.on(this._element,w,this._config.selector,O=>{const D=this._initializeOnDelegatedTarget(O);D._activeTrigger[O.type==="focusin"?Nc:Ui]=!0,D._enter()}),N.on(this._element,P,this._config.selector,O=>{const D=this._initializeOnDelegatedTarget(O);D._activeTrigger[O.type==="focusout"?Nc:Ui]=D._element.contains(O.relatedTarget),D._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},N.on(this._element.closest(Xf),Zf,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,h){clearTimeout(this._timeout),this._timeout=setTimeout(l,h)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const h=we.getDataAttributes(this._element);for(const w of Object.keys(h))lw.has(w)&&delete h[w];return l={...h,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:d(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[h,w]of Object.entries(this._config))this.constructor.Default[h]!==w&&(l[h]=w);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const h=ss.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}}y(ss);const fw=".popover-header",pw=".popover-body",mw={...ss.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gw={...ss.DefaultType,content:"(null|string|element|function)"};class ua extends ss{static get Default(){return mw}static get DefaultType(){return gw}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[fw]:this._getTitle(),[pw]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const h=ua.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l]()}})}}y(ua);const Cc=".bs.scrollspy",vw=`activate${Cc}`,ep=`click${Cc}`,yw=`load${Cc}.data-api`,Bs="active",Tc="[href]",tp=".nav-link",xw=`${tp}, .nav-item > ${tp}, .list-group-item`,ww={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},bw={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Fi extends F{constructor(l,h){super(l,h),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ww}static get DefaultType(){return bw}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=d(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(h=>Number.parseFloat(h))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(N.off(this._config.target,ep),N.on(this._config.target,ep,Tc,l=>{const h=this._observableSections.get(l.target.hash);if(h){l.preventDefault();const w=this._rootElement||window,P=h.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:P,behavior:"smooth"});w.scrollTop=P}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(h=>this._observerCallback(h),l)}_observerCallback(l){const h=D=>this._targetLinks.get(`#${D.target.id}`),w=D=>{this._previousScrollData.visibleEntryTop=D.target.offsetTop,this._process(h(D))},P=(this._rootElement||document.documentElement).scrollTop,O=P>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=P;for(const D of l){if(!D.isIntersecting){this._activeTarget=null,this._clearActiveClass(h(D));continue}const W=D.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(O&&W){if(w(D),!P)return}else O||W||w(D)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=B.find(Tc,this._config.target);for(const h of l){if(!h.hash||p(h))continue;const w=B.findOne(decodeURI(h.hash),this._element);f(w)&&(this._targetLinks.set(decodeURI(h.hash),h),this._observableSections.set(h.hash,w))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Bs),this._activateParents(l),N.trigger(this._element,vw,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))B.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Bs);else for(const h of B.parents(l,".nav, .list-group"))for(const w of B.prev(h,xw))w.classList.add(Bs)}_clearActiveClass(l){l.classList.remove(Bs);const h=B.find(`${Tc}.${Bs}`,l);for(const w of h)w.classList.remove(Bs)}static jQueryInterface(l){return this.each(function(){const h=Fi.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l]()}})}}N.on(window,yw,()=>{for(const g of B.find('[data-bs-spy="scroll"]'))Fi.getOrCreateInstance(g)}),y(Fi);const is=".bs.tab",_w=`hide${is}`,jw=`hidden${is}`,Sw=`show${is}`,kw=`shown${is}`,Nw=`click${is}`,Ew=`keydown${is}`,Cw=`load${is}`,Tw="ArrowLeft",np="ArrowRight",Pw="ArrowUp",rp="ArrowDown",Pc="Home",sp="End",os="active",ip="fade",Ac="show",op=".dropdown-toggle",Oc=`:not(${op})`,ap='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Rc=`.nav-link${Oc}, .list-group-item${Oc}, [role="tab"]${Oc}, ${ap}`,Aw=`.${os}[data-bs-toggle="tab"], .${os}[data-bs-toggle="pill"], .${os}[data-bs-toggle="list"]`;class as extends F{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),N.on(this._element,Ew,h=>this._keydown(h)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const h=this._getActiveElem(),w=h?N.trigger(h,_w,{relatedTarget:l}):null;N.trigger(l,Sw,{relatedTarget:h}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(h,l),this._activate(l,h))}_activate(l,h){l&&(l.classList.add(os),this._activate(B.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),N.trigger(l,kw,{relatedTarget:h})):l.classList.add(Ac)},l,l.classList.contains(ip)))}_deactivate(l,h){l&&(l.classList.remove(os),l.blur(),this._deactivate(B.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),N.trigger(l,jw,{relatedTarget:h})):l.classList.remove(Ac)},l,l.classList.contains(ip)))}_keydown(l){if(![Tw,np,Pw,rp,Pc,sp].includes(l.key))return;l.stopPropagation(),l.preventDefault();const h=this._getChildren().filter(P=>!p(P));let w;if([Pc,sp].includes(l.key))w=h[l.key===Pc?0:h.length-1];else{const P=[np,rp].includes(l.key);w=T(h,l.target,P,!0)}w&&(w.focus({preventScroll:!0}),as.getOrCreateInstance(w).show())}_getChildren(){return B.find(Rc,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,h){this._setAttributeIfNotExists(l,"role","tablist");for(const w of h)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const h=this._elemIsActive(l),w=this._getOuterElement(l);l.setAttribute("aria-selected",h),w!==l&&this._setAttributeIfNotExists(w,"role","presentation"),h||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const h=B.getElementFromSelector(l);h&&(this._setAttributeIfNotExists(h,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(h,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,h){const w=this._getOuterElement(l);if(!w.classList.contains("dropdown"))return;const P=(O,D)=>{const W=B.findOne(O,w);W&&W.classList.toggle(D,h)};P(op,os),P(".dropdown-menu",Ac),w.setAttribute("aria-expanded",h)}_setAttributeIfNotExists(l,h,w){l.hasAttribute(h)||l.setAttribute(h,w)}_elemIsActive(l){return l.classList.contains(os)}_getInnerElement(l){return l.matches(Rc)?l:B.findOne(Rc,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const h=as.getOrCreateInstance(this);if(typeof l=="string"){if(h[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);h[l]()}})}}N.on(document,Nw,ap,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),p(this)||as.getOrCreateInstance(this).show()}),N.on(window,Cw,()=>{for(const g of B.find(Aw))as.getOrCreateInstance(g)}),y(as);const _r=".bs.toast",Ow=`mouseover${_r}`,Rw=`mouseout${_r}`,Iw=`focusin${_r}`,Lw=`focusout${_r}`,$w=`hide${_r}`,Dw=`hidden${_r}`,Mw=`show${_r}`,Uw=`shown${_r}`,lp="hide",da="show",ha="showing",Fw={animation:"boolean",autohide:"boolean",delay:"number"},zw={animation:!0,autohide:!0,delay:5e3};class zi extends F{constructor(l,h){super(l,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return zw}static get DefaultType(){return Fw}static get NAME(){return"toast"}show(){N.trigger(this._element,Mw).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(lp),j(this._element),this._element.classList.add(da,ha),this._queueCallback(()=>{this._element.classList.remove(ha),N.trigger(this._element,Uw),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(N.trigger(this._element,$w).defaultPrevented||(this._element.classList.add(ha),this._queueCallback(()=>{this._element.classList.add(lp),this._element.classList.remove(ha,da),N.trigger(this._element,Dw)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(da),super.dispose()}isShown(){return this._element.classList.contains(da)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,h){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=h;break;case"focusin":case"focusout":this._hasKeyboardInteraction=h}if(h)return void this._clearTimeout();const w=l.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){N.on(this._element,Ow,l=>this._onInteraction(l,!0)),N.on(this._element,Rw,l=>this._onInteraction(l,!1)),N.on(this._element,Iw,l=>this._onInteraction(l,!0)),N.on(this._element,Lw,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const h=zi.getOrCreateInstance(this,l);if(typeof l=="string"){if(h[l]===void 0)throw new TypeError(`No method named "${l}"`);h[l](this)}})}}return M(zi),y(zi),{Alert:ve,Button:Me,Carousel:As,Collapse:Rs,Dropdown:An,Modal:rs,Offcanvas:or,Popover:ua,ScrollSpy:Fi,Tab:as,Toast:zi,Tooltip:ss}})})(R1);let Um=!1;const I1=[{href:"/static/css/app.min.css",id:"legacy-app"},{href:"/static/css/main.css",id:"legacy-main"},{href:"/static/css/bootstrap.min.css",id:"legacy-bootstrap"},{href:"/overrides.css",id:"legacy-overrides"}];function L1({href:e,id:t}){if(!e||typeof document>"u"||document.head.querySelector(t?`link[data-legacy-style="${t}"]`:`link[rel="stylesheet"][href*="${e}"]`)||Array.from(document.head.querySelectorAll('link[rel="stylesheet"]')).find(s=>s.href.includes(e)))return;const r=document.createElement("link");r.rel="stylesheet",r.href=e,t&&(r.dataset.legacyStyle=t),document.head.appendChild(r)}function $1(){if(typeof document>"u")return;const e=["icon","shortcut icon","apple-touch-icon"],t=document.querySelector('link[rel="icon"], link[rel="shortcut icon"], link[rel="apple-touch-icon"]'),n=t||document.createElement("link");n.rel=e.includes(n.rel)?n.rel:"icon",n.href="/static/images/favicon.ico",t||document.head.appendChild(n)}function D1(){Um||typeof document>"u"||(Um=!0,I1.forEach(L1),$1())}function Qy(e,t){return function(){return e.apply(t,arguments)}}const{toString:M1}=Object.prototype,{getPrototypeOf:Dh}=Object,{iterator:Hl,toStringTag:Yy}=Symbol,Jl=(e=>t=>{const n=M1.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bn=e=>(e=e.toLowerCase(),t=>Jl(t)===e),Kl=e=>t=>typeof t===e,{isArray:Ai}=Array,Mo=Kl("undefined");function Vo(e){return e!==null&&!Mo(e)&&e.constructor!==null&&!Mo(e.constructor)&&en(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xy=Bn("ArrayBuffer");function U1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xy(e.buffer),t}const F1=Kl("string"),en=Kl("function"),Zy=Kl("number"),Ho=e=>e!==null&&typeof e=="object",z1=e=>e===!0||e===!1,Ga=e=>{if(Jl(e)!=="object")return!1;const t=Dh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Yy in e)&&!(Hl in e)},B1=e=>{if(!Ho(e)||Vo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},q1=Bn("Date"),W1=Bn("File"),V1=Bn("Blob"),H1=Bn("FileList"),J1=e=>Ho(e)&&en(e.pipe),K1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||en(e.append)&&((t=Jl(e))==="formdata"||t==="object"&&en(e.toString)&&e.toString()==="[object FormData]"))},G1=Bn("URLSearchParams"),[Q1,Y1,X1,Z1]=["ReadableStream","Request","Response","Headers"].map(Bn),eS=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ai(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Vo(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(r=0;r<o;r++)c=i[r],t.call(null,e[c],c,e)}}function ex(e,t){if(Vo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tx=e=>!Mo(e)&&e!==ys;function bd(){const{caseless:e}=tx(this)&&this||{},t={},n=(r,s)=>{const i=e&&ex(t,s)||s;Ga(t[i])&&Ga(r)?t[i]=bd(t[i],r):Ga(r)?t[i]=bd({},r):Ai(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Jo(arguments[r],n);return t}const tS=(e,t,n,{allOwnKeys:r}={})=>(Jo(t,(s,i)=>{n&&en(s)?e[i]=Qy(s,n):e[i]=s},{allOwnKeys:r}),e),nS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sS=(e,t,n,r)=>{let s,i,o;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&Dh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},iS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},oS=e=>{if(!e)return null;if(Ai(e))return e;let t=e.length;if(!Zy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},aS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dh(Uint8Array)),lS=(e,t)=>{const r=(e&&e[Hl]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},cS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},uS=Bn("HTMLFormElement"),dS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Fm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),hS=Bn("RegExp"),nx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Jo(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},fS=e=>{nx(e,(t,n)=>{if(en(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(en(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pS=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ai(e)?r(e):r(String(e).split(t)),n},mS=()=>{},gS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vS(e){return!!(e&&en(e.append)&&e[Yy]==="FormData"&&e[Hl])}const yS=e=>{const t=new Array(10),n=(r,s)=>{if(Ho(r)){if(t.indexOf(r)>=0)return;if(Vo(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ai(r)?[]:{};return Jo(r,(o,c)=>{const u=n(o,s+1);!Mo(u)&&(i[c]=u)}),t[s]=void 0,i}}return r};return n(e,0)},xS=Bn("AsyncFunction"),wS=e=>e&&(Ho(e)||en(e))&&en(e.then)&&en(e.catch),rx=((e,t)=>e?setImmediate:t?((n,r)=>(ys.addEventListener("message",({source:s,data:i})=>{s===ys&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ys.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(ys.postMessage)),bS=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||rx,_S=e=>e!=null&&en(e[Hl]),L={isArray:Ai,isArrayBuffer:Xy,isBuffer:Vo,isFormData:K1,isArrayBufferView:U1,isString:F1,isNumber:Zy,isBoolean:z1,isObject:Ho,isPlainObject:Ga,isEmptyObject:B1,isReadableStream:Q1,isRequest:Y1,isResponse:X1,isHeaders:Z1,isUndefined:Mo,isDate:q1,isFile:W1,isBlob:V1,isRegExp:hS,isFunction:en,isStream:J1,isURLSearchParams:G1,isTypedArray:aS,isFileList:H1,forEach:Jo,merge:bd,extend:tS,trim:eS,stripBOM:nS,inherits:rS,toFlatObject:sS,kindOf:Jl,kindOfTest:Bn,endsWith:iS,toArray:oS,forEachEntry:lS,matchAll:cS,isHTMLForm:uS,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:nx,freezeMethods:fS,toObjectSet:pS,toCamelCase:dS,noop:mS,toFiniteNumber:gS,findKey:ex,global:ys,isContextDefined:tx,isSpecCompliantForm:vS,toJSONObject:yS,isAsyncFn:xS,isThenable:wS,setImmediate:rx,asap:bS,isIterable:_S};function Ne(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const sx=Ne.prototype,ix={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ix[e]={value:e}});Object.defineProperties(Ne,ix);Object.defineProperty(sx,"isAxiosError",{value:!0});Ne.from=(e,t,n,r,s,i)=>{const o=Object.create(sx);return L.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Ne.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const jS=null;function _d(e){return L.isPlainObject(e)||L.isArray(e)}function ox(e){return L.endsWith(e,"[]")?e.slice(0,-2):e}function zm(e,t,n){return e?e.concat(t).map(function(s,i){return s=ox(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function SS(e){return L.isArray(e)&&!e.some(_d)}const kS=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function Gl(e,t,n){if(!L.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,k){return!L.isUndefined(k[C])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function d(j){if(j===null)return"";if(L.isDate(j))return j.toISOString();if(L.isBoolean(j))return j.toString();if(!u&&L.isBlob(j))throw new Ne("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(j)||L.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function f(j,C,k){let b=j;if(j&&!k&&typeof j=="object"){if(L.endsWith(C,"{}"))C=r?C:C.slice(0,-2),j=JSON.stringify(j);else if(L.isArray(j)&&SS(j)||(L.isFileList(j)||L.endsWith(C,"[]"))&&(b=L.toArray(j)))return C=ox(C),b.forEach(function(m,_){!(L.isUndefined(m)||m===null)&&t.append(o===!0?zm([C],_,i):o===null?C:C+"[]",d(m))}),!1}return _d(j)?!0:(t.append(zm(k,C,i),d(j)),!1)}const p=[],x=Object.assign(kS,{defaultVisitor:f,convertValue:d,isVisitable:_d});function S(j,C){if(!L.isUndefined(j)){if(p.indexOf(j)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(j),L.forEach(j,function(b,y){(!(L.isUndefined(b)||b===null)&&s.call(t,b,L.isString(y)?y.trim():y,C,x))===!0&&S(b,C?C.concat(y):[y])}),p.pop()}}if(!L.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Bm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mh(e,t){this._pairs=[],e&&Gl(e,this,t)}const ax=Mh.prototype;ax.append=function(t,n){this._pairs.push([t,n])};ax.toString=function(t){const n=t?function(r){return t.call(this,r,Bm)}:Bm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function NS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lx(e,t,n){if(!t)return e;const r=n&&n.encode||NS;L.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=L.isURLSearchParams(t)?t.toString():new Mh(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class qm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ES=typeof URLSearchParams<"u"?URLSearchParams:Mh,CS=typeof FormData<"u"?FormData:null,TS=typeof Blob<"u"?Blob:null,PS={isBrowser:!0,classes:{URLSearchParams:ES,FormData:CS,Blob:TS},protocols:["http","https","file","blob","url","data"]},Uh=typeof window<"u"&&typeof document<"u",jd=typeof navigator=="object"&&navigator||void 0,AS=Uh&&(!jd||["ReactNative","NativeScript","NS"].indexOf(jd.product)<0),OS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RS=Uh&&window.location.href||"http://localhost",IS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uh,hasStandardBrowserEnv:AS,hasStandardBrowserWebWorkerEnv:OS,navigator:jd,origin:RS},Symbol.toStringTag,{value:"Module"})),$t={...IS,...PS};function LS(e,t){return Gl(e,new $t.classes.URLSearchParams,{visitor:function(n,r,s,i){return $t.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function $S(e){return L.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DS(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function ux(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=n.length;return o=!o&&L.isArray(s)?s.length:o,u?(L.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!c):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&L.isArray(s[o])&&(s[o]=DS(s[o])),!c)}if(L.isFormData(e)&&L.isFunction(e.entries)){const n={};return L.forEachEntry(e,(r,s)=>{t($S(r),s,n,0)}),n}return null}function MS(e,t,n){if(L.isString(e))try{return(t||JSON.parse)(e),L.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ko={transitional:cx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=L.isObject(t);if(i&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return s?JSON.stringify(ux(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LS(t,this.formSerializer).toString();if((c=L.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Gl(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),MS(t)):t}],transformResponse:[function(t){const n=this.transitional||Ko.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Ne.from(c,Ne.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],e=>{Ko.headers[e]={}});const US=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FS=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&US[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Wm=Symbol("internals");function Qi(e){return e&&String(e).trim().toLowerCase()}function Qa(e){return e===!1||e==null?e:L.isArray(e)?e.map(Qa):String(e)}function zS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const BS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uu(e,t,n,r,s){if(L.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!L.isString(t)){if(L.isString(r))return t.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(t)}}function qS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function WS(e,t){const n=L.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let tn=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(c,u,d){const f=Qi(u);if(!f)throw new Error("header name must be a non-empty string");const p=L.findKey(s,f);(!p||s[p]===void 0||d===!0||d===void 0&&s[p]!==!1)&&(s[p||u]=Qa(c))}const o=(c,u)=>L.forEach(c,(d,f)=>i(d,f,u));if(L.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(L.isString(t)&&(t=t.trim())&&!BS(t))o(FS(t),n);else if(L.isObject(t)&&L.isIterable(t)){let c={},u,d;for(const f of t){if(!L.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(u=c[d])?L.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Qi(t),t){const r=L.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return zS(s);if(L.isFunction(n))return n.call(this,s,r);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qi(t),t){const r=L.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||uu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Qi(o),o){const c=L.findKey(r,o);c&&(!n||uu(r,r[c],c,n))&&(delete r[c],s=!0)}}return L.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||uu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return L.forEach(this,(s,i)=>{const o=L.findKey(r,i);if(o){n[o]=Qa(s),delete n[i];return}const c=t?qS(i):String(i).trim();c!==i&&delete n[i],n[c]=Qa(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return L.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Wm]=this[Wm]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=Qi(o);r[c]||(WS(s,o),r[c]=!0)}return L.isArray(t)?t.forEach(i):i(t),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(tn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});L.freezeMethods(tn);function du(e,t){const n=this||Ko,r=t||n,s=tn.from(r.headers);let i=r.data;return L.forEach(e,function(c){i=c.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function dx(e){return!!(e&&e.__CANCEL__)}function Oi(e,t,n){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,n),this.name="CanceledError"}L.inherits(Oi,Ne,{__CANCEL__:!0});function hx(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function VS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function HS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=r[i];o||(o=d),n[s]=u,r[s]=d;let p=i,x=0;for(;p!==s;)x+=n[p++],p=p%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const S=f&&d-f;return S?Math.round(x*1e3/S):void 0}}function JS(e,t){let n=0,r=1e3/t,s,i;const o=(d,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),p=f-n;p>=r?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},r-p)))},()=>s&&o(s)]}const Sl=(e,t,n=3)=>{let r=0;const s=HS(50,250);return JS(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-r,d=s(u),f=o<=c;r=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},n)},Vm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Hm=e=>(...t)=>L.asap(()=>e(...t)),KS=$t.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$t.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,GS=$t.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];L.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),L.isString(r)&&o.push("path="+r),L.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function YS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function fx(e,t,n){let r=!QS(t);return e&&(r||n==!1)?YS(e,t):t}const Jm=e=>e instanceof tn?{...e}:e;function Es(e,t){t=t||{};const n={};function r(d,f,p,x){return L.isPlainObject(d)&&L.isPlainObject(f)?L.merge.call({caseless:x},d,f):L.isPlainObject(f)?L.merge({},f):L.isArray(f)?f.slice():f}function s(d,f,p,x){if(L.isUndefined(f)){if(!L.isUndefined(d))return r(void 0,d,p,x)}else return r(d,f,p,x)}function i(d,f){if(!L.isUndefined(f))return r(void 0,f)}function o(d,f){if(L.isUndefined(f)){if(!L.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function c(d,f,p){if(p in t)return r(d,f);if(p in e)return r(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,p)=>s(Jm(d),Jm(f),p,!0)};return L.forEach(Object.keys({...e,...t}),function(f){const p=u[f]||s,x=p(e[f],t[f],f);L.isUndefined(x)&&p!==c||(n[f]=x)}),n}const px=e=>{const t=Es({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=tn.from(o),t.url=lx(fx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(L.isFormData(n)){if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if($t.hasStandardBrowserEnv&&(r&&L.isFunction(r)&&(r=r(t)),r||r!==!1&&KS(t.url))){const d=s&&i&&GS.read(i);d&&o.set(s,d)}return t},XS=typeof XMLHttpRequest<"u",ZS=XS&&function(e){return new Promise(function(n,r){const s=px(e);let i=s.data;const o=tn.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=s,f,p,x,S,j;function C(){S&&S(),j&&j(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function b(){if(!k)return;const m=tn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:m,config:e,request:k};hx(function(A){n(A),C()},function(A){r(A),C()},T),k=null}"onloadend"in k?k.onloadend=b:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(b)},k.onabort=function(){k&&(r(new Ne("Request aborted",Ne.ECONNABORTED,e,k)),k=null)},k.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||cx;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new Ne(_,T.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,k)),k=null},i===void 0&&o.setContentType(null),"setRequestHeader"in k&&L.forEach(o.toJSON(),function(_,T){k.setRequestHeader(T,_)}),L.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),c&&c!=="json"&&(k.responseType=s.responseType),d&&([x,j]=Sl(d,!0),k.addEventListener("progress",x)),u&&k.upload&&([p,S]=Sl(u),k.upload.addEventListener("progress",p),k.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(f=m=>{k&&(r(!m||m.type?new Oi(null,e,k):m),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const y=VS(s.url);if(y&&$t.protocols.indexOf(y)===-1){r(new Ne("Unsupported protocol "+y+":",Ne.ERR_BAD_REQUEST,e));return}k.send(i||null)})},ek=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(d){if(!s){s=!0,c();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Ne?f:new Oi(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new Ne(`timeout ${t} of ms exceeded`,Ne.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>L.asap(c),u}},tk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},nk=async function*(e,t){for await(const n of rk(e))yield*tk(n,t)},rk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Km=(e,t,n,r)=>{const s=nk(e,t);let i=0,o,c=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await s.next();if(d){c(),u.close();return}let p=f.byteLength;if(n){let x=i+=p;n(x)}u.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},Ql=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mx=Ql&&typeof ReadableStream=="function",sk=Ql&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),gx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ik=mx&&gx(()=>{let e=!1;const t=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Gm=64*1024,Sd=mx&&gx(()=>L.isReadableStream(new Response("").body)),kl={stream:Sd&&(e=>e.body)};Ql&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!kl[t]&&(kl[t]=L.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ne(`Response type '${t}' is not supported`,Ne.ERR_NOT_SUPPORT,r)})})})(new Response);const ok=async e=>{if(e==null)return 0;if(L.isBlob(e))return e.size;if(L.isSpecCompliantForm(e))return(await new Request($t.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(L.isArrayBufferView(e)||L.isArrayBuffer(e))return e.byteLength;if(L.isURLSearchParams(e)&&(e=e+""),L.isString(e))return(await sk(e)).byteLength},ak=async(e,t)=>{const n=L.toFiniteNumber(e.getContentLength());return n??ok(t)},lk=Ql&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:u,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:x}=px(e);d=d?(d+"").toLowerCase():"text";let S=ek([s,i&&i.toAbortSignal()],o),j;const C=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let k;try{if(u&&ik&&n!=="get"&&n!=="head"&&(k=await ak(f,r))!==0){let T=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(L.isFormData(r)&&(E=T.headers.get("content-type"))&&f.setContentType(E),T.body){const[A,$]=Vm(k,Sl(Hm(u)));r=Km(T.body,Gm,A,$)}}L.isString(p)||(p=p?"include":"omit");const b="credentials"in Request.prototype;j=new Request(t,{...x,signal:S,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:b?p:void 0});let y=await fetch(j,x);const m=Sd&&(d==="stream"||d==="response");if(Sd&&(c||m&&C)){const T={};["status","statusText","headers"].forEach(z=>{T[z]=y[z]});const E=L.toFiniteNumber(y.headers.get("content-length")),[A,$]=c&&Vm(E,Sl(Hm(c),!0))||[];y=new Response(Km(y.body,Gm,A,()=>{$&&$(),C&&C()}),T)}d=d||"text";let _=await kl[L.findKey(kl,d)||"text"](y,e);return!m&&C&&C(),await new Promise((T,E)=>{hx(T,E,{data:_,headers:tn.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:j})})}catch(b){throw C&&C(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,e,j),{cause:b.cause||b}):Ne.from(b,b&&b.code,e,j)}}),kd={http:jS,xhr:ZS,fetch:lk};L.forEach(kd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qm=e=>`- ${e}`,ck=e=>L.isFunction(e)||e===null||e===!1,vx={getAdapter:e=>{e=L.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!ck(n)&&(r=kd[(o=String(n)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Qm).join(`
`):" "+Qm(i[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:kd};function hu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oi(null,e)}function Ym(e){return hu(e),e.headers=tn.from(e.headers),e.data=du.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vx.getAdapter(e.adapter||Ko.adapter)(e).then(function(r){return hu(e),r.data=du.call(e,e.transformResponse,r),r.headers=tn.from(r.headers),r},function(r){return dx(r)||(hu(e),r&&r.response&&(r.response.data=du.call(e,e.transformResponse,r.response),r.response.headers=tn.from(r.response.headers))),Promise.reject(r)})}const yx="1.11.0",Yl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Xm={};Yl.transitional=function(t,n,r){function s(i,o){return"[Axios v"+yx+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(t===!1)throw new Ne(s(o," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!Xm[o]&&(Xm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,c):!0}};Yl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function uk(e,t,n){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const c=e[i],u=c===void 0||o(c,i,e);if(u!==!0)throw new Ne("option "+i+" must be "+u,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+i,Ne.ERR_BAD_OPTION)}}const Ya={assertOptions:uk,validators:Yl},Qn=Ya.validators;let bs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new qm,response:new qm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Es(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ya.assertOptions(r,{silentJSONParsing:Qn.transitional(Qn.boolean),forcedJSONParsing:Qn.transitional(Qn.boolean),clarifyTimeoutError:Qn.transitional(Qn.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:Ya.assertOptions(s,{encode:Qn.function,serialize:Qn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ya.assertOptions(n,{baseUrl:Qn.spelling("baseURL"),withXsrfToken:Qn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&L.merge(i.common,i[n.method]);i&&L.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),n.headers=tn.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(u=u&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const d=[];this.interceptors.response.forEach(function(C){d.push(C.fulfilled,C.rejected)});let f,p=0,x;if(!u){const j=[Ym.bind(this),void 0];for(j.unshift(...c),j.push(...d),x=j.length,f=Promise.resolve(n);p<x;)f=f.then(j[p++],j[p++]);return f}x=c.length;let S=n;for(p=0;p<x;){const j=c[p++],C=c[p++];try{S=j(S)}catch(k){C.call(this,k);break}}try{f=Ym.call(this,S)}catch(j){return Promise.reject(j)}for(p=0,x=d.length;p<x;)f=f.then(d[p++],d[p++]);return f}getUri(t){t=Es(this.defaults,t);const n=fx(t.baseURL,t.url,t.allowAbsoluteUrls);return lx(n,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){bs.prototype[t]=function(n,r){return this.request(Es(r||{},{method:t,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,c){return this.request(Es(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}bs.prototype[t]=n(),bs.prototype[t+"Form"]=n(!0)});let dk=class xx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,c){r.reason||(r.reason=new Oi(i,o,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new xx(function(s){t=s}),cancel:t}}};function hk(e){return function(n){return e.apply(null,n)}}function fk(e){return L.isObject(e)&&e.isAxiosError===!0}const Nd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nd).forEach(([e,t])=>{Nd[t]=e});function wx(e){const t=new bs(e),n=Qy(bs.prototype.request,t);return L.extend(n,bs.prototype,t,{allOwnKeys:!0}),L.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return wx(Es(e,s))},n}const Be=wx(Ko);Be.Axios=bs;Be.CanceledError=Oi;Be.CancelToken=dk;Be.isCancel=dx;Be.VERSION=yx;Be.toFormData=Gl;Be.AxiosError=Ne;Be.Cancel=Be.CanceledError;Be.all=function(t){return Promise.all(t)};Be.spread=hk;Be.isAxiosError=fk;Be.mergeConfig=Es;Be.AxiosHeaders=tn;Be.formToJSON=e=>ux(L.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=vx.getAdapter;Be.HttpStatusCode=Nd;Be.default=Be;const{Axios:L2,AxiosError:$2,CanceledError:D2,isCancel:M2,CancelToken:U2,VERSION:F2,all:z2,Cancel:B2,isAxiosError:q2,spread:W2,toFormData:V2,AxiosHeaders:H2,HttpStatusCode:J2,formToJSON:K2,getAdapter:G2,mergeConfig:Q2}=Be,pk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>he(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Fh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mk extends Fh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zm extends Fh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class eg extends Fh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ed;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ed||(Ed={}));var gk=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};class vk{constructor(t,{headers:n={},customFetch:r,region:s=Ed.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=pk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return gk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(c["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:f}).catch(C=>{throw new mk(C)}),x=p.headers.get("x-relay-error");if(x&&x==="true")throw new Zm(p);if(!p.ok)throw new eg(p);let S=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield p.json():S==="application/octet-stream"?j=yield p.blob():S==="text/event-stream"?j=p:S==="multipart/form-data"?j=yield p.formData():j=yield p.text(),{data:j,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof eg||s instanceof Zm?s.context:void 0}}})}}var Gt={},zh={},Xl={},Go={},Zl={},ec={},yk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=yk();const xk=Si.fetch,bx=Si.fetch.bind(Si),_x=Si.Headers,wk=Si.Request,bk=Si.Response,Ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:_x,Request:wk,Response:bk,default:bx,fetch:xk},Symbol.toStringTag,{value:"Module"})),_k=eb(Ri);var tc={};Object.defineProperty(tc,"__esModule",{value:!0});let jk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tc.default=jk;var jx=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const Sk=jx(_k),kk=jx(tc);let Nk=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Sk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,c,u,d;let f=null,p=null,x=null,S=i.status,j=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?p=y:p=JSON.parse(y))}const k=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");k&&b&&b.length>1&&(x=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,x=null,S=406,j="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const k=await i.text();try{f=JSON.parse(k),Array.isArray(f)&&i.status===404&&(p=[],f=null,S=200,j="OK")}catch{i.status===404&&k===""?(S=204,j="No Content"):f={message:k}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,S=200,j="OK"),f&&this.shouldThrowOnError)throw new kk.default(f)}return{error:f,data:p,count:x,status:S,statusText:j}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,c,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(c=i==null?void 0:i.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ec.default=Nk;var Ek=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zl,"__esModule",{value:!0});const Ck=Ek(ec);let Tk=class extends Ck.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var c;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Zl.default=Tk;var Pk=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Go,"__esModule",{value:!0});const Ak=Pk(Zl);let Ok=class extends Ak.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Go.default=Ok;var Rk=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xl,"__esModule",{value:!0});const Yi=Rk(Go);let Ik=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Yi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Yi.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Yi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Yi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Xl.default=Ik;var Sx=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zh,"__esModule",{value:!0});const Lk=Sx(Xl),$k=Sx(Go);let Dk=class kx{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Lk.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let c;const u=new URL(`${this.url}/rpc/${t}`);let d;r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{u.searchParams.append(p,x)})):(c="POST",d=n);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new $k.default({method:c,url:u,headers:f,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};zh.default=Dk;var Ii=hn&&hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const Nx=Ii(zh);Gt.PostgrestClient=Nx.default;const Ex=Ii(Xl);Gt.PostgrestQueryBuilder=Ex.default;const Cx=Ii(Go);Gt.PostgrestFilterBuilder=Cx.default;const Tx=Ii(Zl);Gt.PostgrestTransformBuilder=Tx.default;const Px=Ii(ec);Gt.PostgrestBuilder=Px.default;const Ax=Ii(tc);Gt.PostgrestError=Ax.default;var Mk=Gt.default={PostgrestClient:Nx.default,PostgrestQueryBuilder:Ex.default,PostgrestFilterBuilder:Cx.default,PostgrestTransformBuilder:Tx.default,PostgrestBuilder:Px.default,PostgrestError:Ax.default};const{PostgrestClient:Uk,PostgrestQueryBuilder:nC,PostgrestFilterBuilder:rC,PostgrestTransformBuilder:sC,PostgrestBuilder:iC,PostgrestError:oC}=Mk;class Fk{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zk="2.15.1",Bk=`realtime-js/${zk}`,qk="1.0.0",Cd=1e4,Wk=1e3,Vk=100;var mo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mo||(mo={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var Dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dn||(Dn={}));var Td;(function(e){e.websocket="websocket"})(Td||(Td={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class Hk{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=r.decode(t.slice(o,o+s));o=o+s;const u=r.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class Ox{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xe||(Xe={}));const tg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Jk(o,e,t,s),i),{})},Jk=(e,t,n,r)=>{const s=t.find(c=>c.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Rx(i,o):Pd(o)},Rx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Yk(t,n)}switch(e){case Xe.bool:return Kk(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return Gk(t);case Xe.json:case Xe.jsonb:return Qk(t);case Xe.timestamp:return Xk(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Pd(t);default:return Pd(t)}},Pd=e=>e,Kk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Gk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Yk=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Rx(t,c))}return e},Xk=e=>typeof e=="string"?e.replace(" ","T"):e,Ix=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class fu{constructor(t,n,r={},s=Cd){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ng;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ng||(ng={}));class go{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=go.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=go.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=go.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),c={},u={};return this.map(i,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const p=i[d];if(p){const x=f.map(k=>k.presence_ref),S=p.map(k=>k.presence_ref),j=f.filter(k=>S.indexOf(k.presence_ref)<0),C=p.filter(k=>x.indexOf(k.presence_ref)<0);j.length>0&&(c[d]=j),C.length>0&&(u[d]=C)}else c[d]=f}),this.syncDiff(i,{joins:c,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var d;const f=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(u),f.length>0){const p=t[c].map(S=>S.presence_ref),x=f.filter(S=>p.indexOf(S.presence_ref)<0);t[c].unshift(...x)}r(c,f,u)}),this.map(o,(c,u)=>{let d=t[c];if(!d)return;const f=u.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[c]=d,s(c,d,u),d.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rg||(rg={}));var vo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vo||(vo={}));var cr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class Bh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fu(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new Ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new go(this),this.broadcastEndpointURL=Ix(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:i,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[vo.PRESENCE]&&this.bindings[vo.PRESENCE].length>0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(cr.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t==null||t(cr.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,C=(S=j==null?void 0:j.length)!==null&&S!==void 0?S:0,k=[];for(let b=0;b<C;b++){const y=j[b],{filter:{event:m,schema:_,table:T,filter:E}}=y,A=x&&x[b];if(A&&A.event===m&&A.schema===_&&A.table===T&&A.filter===E)k.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(cr.SUBSCRIBED);return}}).receive("error",x=>{this.state=gt.errored,t==null||t(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===gt.joined&&t===vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new fu(this,Dn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fu(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Vk){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:c,error:u,leave:d,join:f}=Dn;if(r&&[c,u,d,f].indexOf(o)>=0&&r!==this._joinRef())return;let x=this._onMessage(o,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(S=>{var j,C,k;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(C=S.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(S=>S.callback(x,r)):(i=this.bindings[o])===null||i===void 0||i.filter(S=>{var j,C,k,b,y,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in S){const _=S.id,T=(j=S.filter)===null||j===void 0?void 0:j.event;return _&&((C=n.ids)===null||C===void 0?void 0:C.includes(_))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(y=(b=S==null?void 0:S.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===o}).map(S=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:C,table:k,commit_timestamp:b,type:y,errors:m}=j;x=Object.assign(Object.assign({},{schema:C,table:k,commit_timestamp:b,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(j))}S.callback(x,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Bh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dn.close,{},t)}_onError(t){this._on(Dn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tg(t.columns,t.old_record)),n}}const sg=()=>{},Ra={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zk=[1e3,2e3,5e3,1e4],eN=1e4,tN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cd,this.transport=null,this.heartbeatIntervalMs=Ra.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sg,this.ref=0,this.reconnectTimer=null,this.logger=sg,this.conn=null,this.sendBuffer=[],this.serializer=new Hk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>he(async()=>{const{default:c}=await Promise.resolve().then(()=>Ri);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Td.websocket}`,this.httpEndpoint=Ix(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qk}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mo.connecting:return ps.Connecting;case mo.open:return ps.Open;case mo.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Bh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wk,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ra.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,c=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([tN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Bk};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Dn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ox(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ra.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Cd,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ra.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>Zk[f-1]||eN,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class qh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rN extends qh{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ad extends qh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var sN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};const Lx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>he(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iN=()=>sN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield he(()=>Promise.resolve().then(()=>Ri),void 0)).Response:Response}),Od=e=>{if(Array.isArray(e))return e.map(n=>Od(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Od(r)}),t},oN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ps=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};const pu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aN=(e,t,n)=>Ps(void 0,void 0,void 0,function*(){const r=yield iN();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new rN(pu(s),i,o))}).catch(s=>{t(new Ad(pu(s),s))}):t(new Ad(pu(e),e))}),lN=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(oN(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Qo(e,t,n,r,s,i){return Ps(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,lN(t,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>aN(u,c,r))})})}function Nl(e,t,n,r){return Ps(this,void 0,void 0,function*(){return Qo(e,"GET",t,n,r)})}function Xn(e,t,n,r,s){return Ps(this,void 0,void 0,function*(){return Qo(e,"POST",t,r,s,n)})}function Rd(e,t,n,r,s){return Ps(this,void 0,void 0,function*(){return Qo(e,"PUT",t,r,s,n)})}function cN(e,t,n,r){return Ps(this,void 0,void 0,function*(){return Qo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function $x(e,t,n,r,s){return Ps(this,void 0,void 0,function*(){return Qo(e,"DELETE",t,r,s,n)})}var Bt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};const uN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dN{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Lx(s)}uploadOrUpdate(t,n,r,s){return Bt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ig),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),p=yield(t=="PUT"?Rd:Xn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:ig.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield Rd(this.fetch,c.toString(),u,{headers:f});return{data:{path:i,fullPath:p.Key},error:null}}catch(u){if(vt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return Bt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new qh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Bt(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Xn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Bt(this,void 0,void 0,function*(){try{const s=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}download(t,n){return Bt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Nl(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}info(t){return Bt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Od(r),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}exists(t){return Bt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(vt(r)&&r instanceof Ad){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(t){return Bt(this,void 0,void 0,function*(){try{return{data:yield $x(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uN),n),{prefix:t||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}listV2(t,n){return Bt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hN="2.11.0",fN={"X-Client-Info":`storage-js/${hN}`};var Vs=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};class pN{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},fN),n),this.fetch=Lx(r)}listBuckets(){return Vs(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return Vs(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Vs(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Vs(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Vs(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Vs(this,void 0,void 0,function*(){try{return{data:yield $x(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}}class mN extends pN{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new dN(this.url,this.headers,t,this.fetch)}}const gN="2.56.0";let ro="";typeof Deno<"u"?ro="deno":typeof document<"u"?ro="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ro="react-native":ro="node";const vN={"X-Client-Info":`supabase-js-${ro}/${gN}`},yN={headers:vN},xN={schema:"public"},wN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bN={};var _N=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};const jN=e=>{let t;return e?t=e:typeof fetch>"u"?t=bx:t=fetch,(...n)=>t(...n)},SN=()=>typeof Headers>"u"?_x:Headers,kN=(e,t,n)=>{const r=jN(n),s=SN();return(i,o)=>_N(void 0,void 0,void 0,function*(){var c;const u=(c=yield t())!==null&&c!==void 0?c:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var NN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};function EN(e){return e.endsWith("/")?e:e+"/"}function CN(e,t){var n,r;const{db:s,auth:i,realtime:o,global:c}=e,{db:u,auth:d,realtime:f,global:p}=t,x={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>NN(this,void 0,void 0,function*(){return""})};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}const Dx="2.71.1",Qs=30*1e3,Id=3,mu=Id*Qs,TN="http://localhost:9999",PN="supabase.auth.token",AN={"X-Client-Info":`gotrue-js/${Dx}`},Ld="X-Supabase-Api-Version",Mx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ON=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RN=10*60*1e3;class Wh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IN extends Wh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function LN(e){return ke(e)&&e.name==="AuthApiError"}class Ux extends Wh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qr extends Wh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Nr extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $N(e){return ke(e)&&e.name==="AuthSessionMissingError"}class Ia extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class La extends Qr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $a extends Qr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DN(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class og extends Qr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $d extends Qr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function gu(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class ag extends Qr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dd extends Qr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const El="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lg=` 	
\r=`.split(""),MN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lg.length;t+=1)e[lg[t].charCodeAt(0)]=-2;for(let t=0;t<El.length;t+=1)e[El[t].charCodeAt(0)]=t;return e})();function cg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(El[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(El[r]),t.queuedBits-=6}}function Fx(e,t,n){const r=MN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ug(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{zN(o,r,n)};for(let o=0;o<e.length;o+=1)Fx(e.charCodeAt(o),s,i);return t.join("")}function UN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}UN(r,t)}}function zN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function BN(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Fx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function qN(e){const t=[];return FN(e,n=>t.push(n)),new Uint8Array(t)}function WN(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>cg(s,n,r)),cg(null,n,r),t.join("")}function VN(e){return Math.round(Date.now()/1e3)+e}function HN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const In=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},zx=()=>{if(!In())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function JN(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Bx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>he(async()=>{const{default:r}=await Promise.resolve().then(()=>Ri);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},KN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ys=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},us=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kr=async(e,t)=>{await e.removeItem(t)};class nc{constructor(){this.promise=new nc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nc.promiseConstructor=Promise;function vu(e){const t=e.split(".");if(t.length!==3)throw new Dd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ON.test(t[r]))throw new Dd("JWT not in base64url format");return{header:JSON.parse(ug(t[0])),payload:JSON.parse(ug(t[1])),signature:BN(t[2]),raw:{header:t[0],payload:t[1]}}}async function GN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QN(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function YN(e){return("0"+e.toString(16)).substr(-2)}function XN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,YN).join("")}async function ZN(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function eE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ZN(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(e,t,n=!1){const r=XN();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ys(e,`${t}-code-verifier`,s);const i=await eE(r);return[i,r===i?"plain":"s256"]}const tE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nE(e){const t=e.headers.get(Ld);if(!t||!t.match(tE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Js(e){if(!iE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dg(e){return JSON.parse(JSON.stringify(e))}var oE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aE=[502,503,504];async function hg(e){var t;if(!KN(e))throw new $d(fs(e),0);if(aE.includes(e.status))throw new $d(fs(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ux(fs(i),i)}let r;const s=nE(e);if(s&&s.getTime()>=Mx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ag(fs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ag(fs(n),e.status,n.weak_password.reasons);throw new IN(fs(n),e.status||500,r)}const lE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Le(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ld]||(i[Ld]=Mx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await cE(e,t,n+c,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function cE(e,t,n,r,s,i){const o=lE(t,r,s,i);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new $d(fs(u),0)}if(c.ok||await hg(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(u){await hg(u)}}function ar(e){var t;let n=null;fE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=VN(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fg(e){const t=ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uE(e){return{data:e,error:null}}function dE(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=oE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function hE(e){return e}function fE(e){return e.access_token&&e.refresh_token&&e.expires_in}const xu=["global","local","others"];var pE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class mE{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Bx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=xu[0]){if(xu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xu.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ar})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=pE(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hE});if(f.error)throw f.error;const p=await f.json(),x=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,S=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return S.length>0&&(S.forEach(j=>{const C=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);d[`${k}Page`]=C}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ke(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Js(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Js(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Js(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ar})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Js(t.userId);try{const{data:n,error:r}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Js(t.userId),Js(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}function pg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function gE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ks={debug:!!(globalThis&&zx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vE extends qx{}async function yE(e,t,n){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ks.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gE();const xE={url:TN,storageKey:PN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mg(e,t,n){return await n()}const Gs={};class Uo{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uo.nextInstanceID,Uo.nextInstanceID+=1,this.instanceID>0&&In()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xE),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bx(s.fetch),this.lock=s.lock||mg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:In()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yE:this.lock=mg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:zx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=pg(this.memoryStorage)),In()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=JN(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),In()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),DN(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new Ux("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ar}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:f,password:p,options:x}=t;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Hs(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:f,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:j},xform:ar})}else if("phone"in t){const{phone:f,password:p,options:x}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ar})}else throw new La("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:c}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:fg})}else if("phone"in t){const{phone:i,password:o,options:c}=t;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:fg})}else throw new La("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ia}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,c,u,d,f,p,x,S;let j,C;if("message"in t)j=t.message,C=t.signature;else{const{chain:k,wallet:b,statement:y,options:m}=t;let _;if(In())if(typeof b=="object")_=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),y?{statement:y}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)j=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),C=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${T.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((d=m==null?void 0:m.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((p=(f=m==null?void 0:m.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...m.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(j),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=E}}try{const{data:k,error:b}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:WN(C)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ar});if(b)throw b;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Ia}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:b})}catch(k){if(ke(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await us(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ar});if(await kr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ia}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,c=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ar}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ia}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:c,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Hs(this.storage,this.storageKey));const{error:p}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:c,options:u}=t,{data:d,error:f}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new La("You must provide either an email or phone number.")}catch(c){if(ke(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:c}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ar});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Hs(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:uE})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Nr;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:c}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new La("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<mu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=yu()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,d,f)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async n=>{var r,s,i;const{data:o,error:c}=n;if(c)throw c;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ar})})}catch(n){if(ke(n))return $N(n)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Nr;const o=s.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await Hs(this.storage,this.storageKey));const{data:d,error:f}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:Ar});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=vu(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Nr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!In())throw new $a("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $a(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $a("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new og("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=t;if(!i||!c||!o||!d)throw new $a("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(c);let x=f+p;u&&(x=parseInt(u));const S=x-f;S*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${p}s`);const j=x-p;f-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,f):f-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,f);const{data:C,error:k}=await this._getUser(i);if(k)throw k;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:x,refresh_token:o,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(LN(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=HN(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Hs(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,c,u,d,f;const{data:p,error:x}=i;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",S,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return In()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await QN(async s=>(s>0&&await GN(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ar})),(s,i)=>{const o=200*Math.pow(2,s);return i&&gu(i)&&Date.now()+o-r<Qs})}catch(r){if(this._debug(n,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),In()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await us(this.storage,this.storageKey);if(s&&this.userStorage){let o=await us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ys(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:yu()}else if(s&&!s.user&&!s.user){const o=await us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await kr(this.storage,this.storageKey+"-user"),await Ys(this.storage,this.storageKey,s)):s.user=yu()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mu;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${mu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),gu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Nr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),ke(i)){const o={session:null,error:i};return gu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ys(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=dg(s);await Ys(this.storage,this.storageKey,i)}else{const s=dg(n);await Ys(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&In()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qs}ms, refresh threshold is ${Id} ticks`),s<=Id&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!In()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:c}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vu(s.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+RN>s)return r;const{data:i,error:o}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:S,error:j}=await this.getSession();if(j||!S.session)return{data:null,error:j};r=S.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:u}}=vu(r);n!=null&&n.allowExpired||rE(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:i,header:s,signature:o},error:null}}const f=sE(s.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,qN(`${c}.${u}`)))throw new Dd("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}Uo.nextInstanceID=0;const wE=Uo;class bE extends wE{constructor(t){super(t)}}var _E=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(r.next(f))}catch(p){o(p)}}function u(f){try{d(r.throw(f))}catch(p){o(p)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((r=r.apply(e,t||[])).next())})};class jE{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=EN(t),u=new URL(c);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:xN,realtime:bN,auth:Object.assign(Object.assign({},wN),{storageKey:d}),global:yN},p=CN(r??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=kN(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Uk(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new mN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new vk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return _E(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:c,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bE({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new nN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SE=(e,t,n)=>new jE(e,t,n);function kE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kE()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cl="https://ofhklmyaioxznrqiolad.supabase.co".trim(),Wx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maGtsbXlhaW94em5ycWlvbGFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMTY4NjYsImV4cCI6MjA3MjU5Mjg2Nn0.idw8ArFNe8wgM2iELJkVLxjrW1yPDJ81tiqvXzo6JM8".trim();if(!Cl||!Wx)throw new Error("[supabase] Missing env. Set VITE_SUPABASE_URL (https://<project-ref>.supabase.co) and VITE_SUPABASE_ANON_KEY in client/.env, then restart `npm run dev`.");try{new URL(Cl)}catch(e){throw new Error(`[supabase] Invalid VITE_SUPABASE_URL "${Cl}". Expected a full https URL, e.g. https://xyzcompany.supabase.co. Original error: ${e instanceof Error?e.message:String(e)}`)}const Et=SE(Cl,Wx);var kg;const wu=typeof window<"u"&&((kg=window.location)!=null&&kg.origin)?`${window.location.origin.replace(/\/$/,"")}/api`:"http://localhost:3001/api";function NE(){const e="https://zelia.io/api".trim();if(!e)return wu;try{return new URL(e).toString().replace(/\/$/,"")}catch(t){return console.warn(`[api] Invalid VITE_API_URL "${e}" – falling back to ${wu}.`,t),wu}}const EE=NE(),Pe=Be.create({baseURL:EE,headers:{"Content-Type":"application/json"}});Pe.interceptors.request.use(async e=>{var t;try{const{data:n}=await Et.auth.getSession(),r=(t=n==null?void 0:n.session)==null?void 0:t.access_token,s=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),i=r||s;i&&(e.headers=e.headers||{},e.headers.Authorization||(e.headers.Authorization=`Bearer ${i}`))}catch{const n=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");n&&(e.headers=e.headers||{},e.headers.Authorization||(e.headers.Authorization=`Bearer ${n}`))}return e},e=>Promise.reject(e));Pe.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&localStorage.removeItem("supabase_auth_token"),Promise.reject(e)});const nr={getProfile:()=>Pe.get("/users/profile"),updateProfile:e=>Pe.put("/users/profile",e),getCurrentUser:()=>Pe.get("/users/me"),saveExtraInfo:e=>Pe.post("/users/profile/extra-info",{entries:e})},aC={getAll:(e={})=>Pe.get("/formations",{params:e}),getById:e=>Pe.get(`/formations/${e}`),create:e=>Pe.post("/formations",e),update:(e,t)=>Pe.put(`/formations/${e}`,t),delete:e=>Pe.delete(`/formations/${e}`)},yo={getMyResults:()=>Pe.get("/analysis/my-results"),evaluateJob:({job:e})=>Pe.post("/analysis/level9/evaluate-job",{job:e}),saveShareImage:({dataUrl:e,questionnaireType:t="mbti",metadata:n})=>Pe.post("/analysis/share-image",{image:e,questionnaireType:t,metadata:n})},CE={aiChat:({mode:e,persona:t,message:n,history:r})=>Pe.post("/chat/ai",{mode:e,persona:t,message:n,history:r})},gg={suggest:({q:e,type:t})=>Pe.get("/letter/suggest",{params:{q:e,type:t}}),generate:({selection:e,style:t,emploi_selection:n,formation_selection:r})=>Pe.post("/letter/generate",{selection:e,style:t,emploi_selection:n,formation_selection:r})},Vh={get:async()=>{var n;const{data:e}=await Et.auth.getUser(),t=(n=e==null?void 0:e.user)==null?void 0:n.id;if(!t)throw new Error("No user");return Pe.get(`/progression/${t}`)},update:async({level:e,xp:t,quests:n,perks:r})=>{var o;const{data:s}=await Et.auth.getUser(),i=(o=s==null?void 0:s.user)==null?void 0:o.id;if(!i)throw new Error("No user");return Pe.post(`/progression/${i}`,{level:e,xp:t,quests:n,perks:r})}},lC={getConfig:()=>Pe.get("/payments/config"),createCheckout:(e={})=>Pe.post("/payments/checkout",e),verifySession:e=>Pe.post("/payments/verify",{sessionId:e})},cC={sendResults:(e={})=>Pe.post("/share/results",e)};function TE(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState("student"),[o,c]=v.useState(""),[u,d]=v.useState(!1),f=Jt();async function p(x){var S,j,C;x.preventDefault(),c(""),d(!0);try{const{data:k,error:b}=await Et.auth.signInWithPassword({email:e,password:n});if(b)throw b;if((S=k.session)!=null&&S.access_token&&localStorage.setItem("supabase_auth_token",k.session.access_token),s)try{const{data:m}=await Et.from("profiles").upsert({id:k.user.id,profile_type:s,updated_at:new Date().toISOString()})}catch(m){console.warn("Profile update failed:",m)}if(localStorage.getItem("answers_cache"))try{localStorage.removeItem("answers_cache"),f("/app/results");return}catch(m){console.warn("Failed to submit cached answers:",m)}f("/app")}catch(k){const b=(k==null?void 0:k.message)||(k==null?void 0:k.error_description)||((C=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:C.error)||"Échec de connexion";c(b)}finally{d(!1)}}return a.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:a.jsxs("div",{className:"w-full max-w-xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Se connecter"}),a.jsx("p",{className:"text-text-secondary",children:"Sélectionnez votre profil et connectez-vous pour continuer."})]}),a.jsxs("form",{onSubmit:p,className:"bg-surface border border-line rounded-xl shadow-card p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"email",placeholder:"Email",value:e,onChange:x=>t(x.target.value),required:!0}),a.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"password",placeholder:"Mot de passe",value:n,onChange:x=>r(x.target.value),required:!0})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="student"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("student"),children:"Étudiant"}),a.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="company"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("company"),children:"Entreprise"})]}),o&&a.jsx("div",{className:"text-red-600 text-sm",children:o}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:u,className:"w-full bg-black text-white rounded-lg h-11 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Connexion...":"Se connecter"})})]}),a.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Pas de compte ? ",a.jsx(ji,{to:"/avatar",className:"underline",children:"S'inscrire"})]})]})})}function PE(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,c]=v.useState(""),[u,d]=v.useState("18"),[f,p]=v.useState(""),[x,S]=v.useState(""),[j,C]=v.useState(""),[k,b]=v.useState(""),[y,m]=v.useState(""),[_,T]=v.useState(""),[E,A]=v.useState(!1);Jt();const $=v.useMemo(()=>[{code:"01",name:"Ain"},{code:"02",name:"Aisne"},{code:"03",name:"Allier"},{code:"04",name:"Alpes-de-Haute-Provence"},{code:"05",name:"Hautes-Alpes"},{code:"06",name:"Alpes-Maritimes"},{code:"07",name:"Ardèche"},{code:"08",name:"Ardennes"},{code:"09",name:"Ariège"},{code:"10",name:"Aube"},{code:"11",name:"Aude"},{code:"12",name:"Aveyron"},{code:"13",name:"Bouches-du-Rhône"},{code:"14",name:"Calvados"},{code:"15",name:"Cantal"},{code:"16",name:"Charente"},{code:"17",name:"Charente-Maritime"},{code:"18",name:"Cher"},{code:"19",name:"Corrèze"},{code:"2A",name:"Corse-du-Sud"},{code:"2B",name:"Haute-Corse"},{code:"21",name:"Côte-d’Or"},{code:"22",name:"Côtes-d’Armor"},{code:"23",name:"Creuse"},{code:"24",name:"Dordogne"},{code:"25",name:"Doubs"},{code:"26",name:"Drôme"},{code:"27",name:"Eure"},{code:"28",name:"Eure-et-Loir"},{code:"29",name:"Finistère"},{code:"30",name:"Gard"},{code:"31",name:"Haute-Garonne"},{code:"32",name:"Gers"},{code:"33",name:"Gironde"},{code:"34",name:"Hérault"},{code:"35",name:"Ille-et-Vilaine"},{code:"36",name:"Indre"},{code:"37",name:"Indre-et-Loire"},{code:"38",name:"Isère"},{code:"39",name:"Jura"},{code:"40",name:"Landes"},{code:"41",name:"Loir-et-Cher"},{code:"42",name:"Loire"},{code:"43",name:"Haute-Loire"},{code:"44",name:"Loire-Atlantique"},{code:"45",name:"Loiret"},{code:"46",name:"Lot"},{code:"47",name:"Lot-et-Garonne"},{code:"48",name:"Lozère"},{code:"49",name:"Maine-et-Loire"},{code:"50",name:"Manche"},{code:"51",name:"Marne"},{code:"52",name:"Haute-Marne"},{code:"53",name:"Mayenne"},{code:"54",name:"Meurthe-et-Moselle"},{code:"55",name:"Meuse"},{code:"56",name:"Morbihan"},{code:"57",name:"Moselle"},{code:"58",name:"Nièvre"},{code:"59",name:"Nord"},{code:"60",name:"Oise"},{code:"61",name:"Orne"},{code:"62",name:"Pas-de-Calais"},{code:"63",name:"Puy-de-Dôme"},{code:"64",name:"Pyrénées-Atlantiques"},{code:"65",name:"Hautes-Pyrénées"},{code:"66",name:"Pyrénées-Orientales"},{code:"67",name:"Bas-Rhin"},{code:"68",name:"Haut-Rhin"},{code:"69",name:"Rhône"},{code:"70",name:"Haute-Saône"},{code:"71",name:"Saône-et-Loire"},{code:"72",name:"Sarthe"},{code:"73",name:"Savoie"},{code:"74",name:"Haute-Savoie"},{code:"75",name:"Paris"},{code:"76",name:"Seine-Maritime"},{code:"77",name:"Seine-et-Marne"},{code:"78",name:"Yvelines"},{code:"79",name:"Deux-Sèvres"},{code:"80",name:"Somme"},{code:"81",name:"Tarn"},{code:"82",name:"Tarn-et-Garonne"},{code:"83",name:"Var"},{code:"84",name:"Vaucluse"},{code:"85",name:"Vendée"},{code:"86",name:"Vienne"},{code:"87",name:"Haute-Vienne"},{code:"88",name:"Vosges"},{code:"89",name:"Yonne"},{code:"90",name:"Territoire de Belfort"},{code:"91",name:"Essonne"},{code:"92",name:"Hauts-de-Seine"},{code:"93",name:"Seine-Saint-Denis"},{code:"94",name:"Val-de-Marne"},{code:"95",name:"Val-d’Oise"},{code:"971",name:"Guadeloupe"},{code:"972",name:"Martinique"},{code:"973",name:"Guyane"},{code:"974",name:"La Réunion"},{code:"976",name:"Mayotte"}],[]);async function z(I){var H,re;I.preventDefault(),m("");try{if(n!==_){m("Les mots de passe ne correspondent pas");return}const X=localStorage.getItem("avatar_cfg"),U=localStorage.getItem("avatar_url"),ne=localStorage.getItem("answers_cache");let Z=null,ye=null;if(X&&U)try{Z={...JSON.parse(X),url:U,provider:"dicebear/lorelei"}}catch(R){console.warn("Failed to parse avatar config:",R)}if(ne)try{const R=JSON.parse(ne);ye=R.answers||R.responses||[]}catch(R){console.warn("Failed to parse questionnaire cache:",R)}const q={profile_type:"student",nom:s,prenom:o,age:Number(u),genre:f,departement:x,ecole:j,numeroTelephone:k,first_name:o,last_name:s,gender:f,department:x,school:j,phone_number:k},V=await Be.post("/api/auth/register",{email:e,password:n,userData:q,avatarData:Z,questionnaireResponses:ye});A(!0),Z&&(localStorage.removeItem("avatar_cfg"),localStorage.removeItem("avatar_url")),ye&&(localStorage.removeItem("answers_cache"),localStorage.removeItem("answers_progress"))}catch(X){const U=((re=(H=X==null?void 0:X.response)==null?void 0:H.data)==null?void 0:re.error)||(X==null?void 0:X.message)||(X==null?void 0:X.error_description)||"Échec d'inscription";m(U)}}return a.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:a.jsxs("div",{className:"w-full max-w-5xl py-10",children:[a.jsx("style",{children:`
        /* Helper to remove outlines / rings / transitions */
        .no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
        .no-outline::-moz-focus-inner { border: 0 !important; }
        `}),E?a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 7.89a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Email de confirmation envoyé !"}),a.jsxs("p",{className:"text-text-secondary mb-4",children:["Nous avons envoyé un email de confirmation à ",a.jsx("strong",{children:e})]}),a.jsx("p",{className:"text-text-secondary",children:"Veuillez cliquer sur le lien dans l'email pour valider votre compte et accéder à votre tableau de bord."})]}),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-sm font-medium",children:"Vérifiez votre boîte de réception"})]}),a.jsx("p",{className:"text-sm text-text-secondary",children:"L'email peut prendre quelques minutes à arriver. Pensez à vérifier votre dossier spam si vous ne le recevez pas."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Créer un compte"}),a.jsx("p",{className:"text-text-secondary",children:"Choisissez votre type de profil pour une expérience personnalisée."})]}),a.jsx("div",{className:"mb-4 flex gap-2",children:a.jsx("button",{type:"button",className:"h-11 px-4 rounded-none border border-line bg-white text-sm text-text-primary cursor-default",disabled:!0,children:"Étudiant"})}),a.jsx("form",{onSubmit:z,className:"bg-surface border border-line rounded-xl shadow-card p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Prénom *"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Votre prénom",value:o,onChange:I=>c(I.target.value),required:!0})]}),a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom *"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Votre nom",value:s,onChange:I=>i(I.target.value),required:!0})]}),a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Âge *"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"number",min:"10",max:"100",placeholder:"Votre âge",value:u,onChange:I=>d(I.target.value),required:!0})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Département *"}),a.jsxs("select",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:x,onChange:I=>S(I.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Sélectionnez votre département"}),$.map(I=>a.jsxs("option",{value:`${I.code} - ${I.name}`,children:[I.code," - ",I.name]},I.code))]})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Genre *"}),a.jsxs("select",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:f,onChange:I=>p(I.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Sélectionnez un genre"}),a.jsx("option",{value:"Homme",children:"Homme"}),a.jsx("option",{value:"Femme",children:"Femme"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"École/Formation"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Nom de votre école...",value:j,onChange:I=>C(I.target.value)}),a.jsx("small",{className:"text-text-secondary",children:"Facultatif - Saisissez le nom de votre école"})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Numéro de téléphone"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"tel",placeholder:"ex: 06 12 34 56 78",value:k,onChange:I=>b(I.target.value)}),a.jsx("small",{className:"text-text-secondary",children:"Facultatif"})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse Email *"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"email",placeholder:"Entrez votre adresse email",value:e,onChange:I=>t(I.target.value),required:!0})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Mot de passe *"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"password",placeholder:"Entrez votre mot de passe",value:n,onChange:I=>r(I.target.value),required:!0})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Confirmer le mot de passe *"}),a.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"password",placeholder:"Confirmez votre mot de passe",value:_,onChange:I=>T(I.target.value),required:!0})]}),y&&a.jsx("div",{className:"md:col-span-12 text-red-600 text-sm",children:y}),a.jsx("div",{className:"md:col-span-12",children:a.jsx("button",{type:"submit",className:"w-full bg-black text-white rounded-none h-11",children:"S'inscrire"})})]})}),a.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Vous avez déjà un compte ? ",a.jsx(ji,{to:"/login",className:"underline",children:"Se connecter"})]})]})]})})}function AE({size:e=90}){const[t,n]=v.useState(()=>localStorage.getItem("avatar_url")||null);return v.useEffect(()=>{if(!t)try{const r=localStorage.getItem("avatar_cfg");if(r){const s=JSON.parse(r),i=OE(s,256);n(i),localStorage.setItem("avatar_url",i)}}catch{}},[t]),t?a.jsx("img",{src:t,alt:"avatar",width:e,height:e,style:{borderRadius:8,background:"#fff",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"}}):a.jsx("div",{style:{width:e,height:e,borderRadius:8,background:"#f5f5f5",display:"grid",placeItems:"center",color:"#999",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"},children:"🙂"})}function bu(e){return(e||"").replace("#","")}function OE(e,t){const n="https://api.dicebear.com/9.x/lorelei/svg",r=new URLSearchParams;return r.set("seed",e.seed||"zelia"),r.set("size",String(t)),r.set("radius",String(e.radius??30)),e.bg&&(r.set("backgroundType","solid"),r.set("backgroundColor",bu(e.bg))),e.skin&&r.set("skinColor",bu(e.skin)),e.hair&&r.set("hairColor",bu(e.hair)),e.glasses===!0?(r.set("accessories","glasses"),r.set("accessoriesProbability","100")):r.set("accessoriesProbability","0"),`${n}?${r.toString()}`}function RE(){const[e,t]=v.useState([]),[n,r]=v.useState(0),[s,i]=v.useState(()=>{try{return JSON.parse(localStorage.getItem("answers_progress")||"{}")}catch{return{}}}),[o,c]=v.useState(!0),[u,d]=v.useState(""),f=Jt();v.useEffect(()=>{(async()=>{try{const{data:y}=await Be.get("/api/questionnaire/questions");t(y)}catch{d("Impossible de charger les questions")}finally{c(!1)}})()},[]);const p=e[n],x=v.useMemo(()=>{const y=p==null?void 0:p.contenu;if(typeof y!="string")return y;if(y.startsWith("(")){const m=y.indexOf('"'),_=y.indexOf('"',m+1);if(m!==-1&&_!==-1)return y.slice(m+1,_)}return y},[p]),S=v.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]);async function j(){const y={answers:Object.entries(s).map(([T,E])=>({question_id:Number(T),answer:E}))},m=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");let _=!1;if(m)try{const T={Authorization:`Bearer ${m}`};await Be.get("/api/users/me",{headers:T}),_=!0}catch{localStorage.removeItem("supabase_auth_token"),localStorage.removeItem("token"),_=!1}if(_)try{const T={Authorization:`Bearer ${m}`};await Be.post("/api/questionnaire/submit",y,{headers:T}),await Be.post("/api/results/generate",{},{headers:T}),localStorage.setItem("answers_cache",JSON.stringify(y)),f("/app/results");return}catch(T){console.warn("Failed to submit authenticated questionnaire:",T)}localStorage.setItem("answers_cache",JSON.stringify(y)),f("/register?after=results")}function C(y){const m=p==null?void 0:p.id;if(!m)return;const _=n+1,T={...s,[m]:y};i(T),localStorage.setItem("answers_progress",JSON.stringify(T)),_<e.length&&r(_)}const k=e.length?Math.round((n+1)/e.length*100):0,b=p?s[p.id]!=null:!1;return o?a.jsx("div",{className:"min-h-screen grid place-items-center text-text-secondary",children:"Chargement…"}):u?a.jsx("div",{className:"min-h-screen grid place-items-center text-red-600",children:u}):a.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:a.jsxs("div",{className:"w-full max-w-3xl py-10",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Questionnaire"}),a.jsx("p",{className:"text-text-secondary",children:"Répondez pour affiner votre profil et vos recommandations."})]}),a.jsx("div",{className:"hidden sm:block",children:a.jsx(AE,{size:72})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-line h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-black",style:{width:`${k}%`}})}),a.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-text-secondary",children:[a.jsxs("span",{children:[Math.min(n+1,e.length)," / ",e.length]}),a.jsxs("span",{children:[k,"%"]})]})]}),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-3",children:x}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((y,m)=>a.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s[p==null?void 0:p.id]===y?"border-black bg-black text-white":"border-line"}`,onClick:()=>C(y),children:y},m))}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>r(y=>Math.max(0,y-1)),disabled:n===0,children:"Précédent"}),n<e.length-1?a.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>r(y=>Math.min(e.length-1,y+1)),disabled:!b,children:"Suivant"}):a.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:j,disabled:!b,children:"Terminer"})]})]})]})})}function IE(e,t){const[n,r]=v.useState(""),[s,i]=v.useState(!1),o=v.useRef(0);v.useEffect(()=>{if(r(""),i(!1),!e)return;const u=Math.max(1,Math.floor(t/30));let d=0;const f=()=>{d++;const p=Math.min(e.length,Math.floor(d/u*e.length));if(r(e.slice(0,p)),p>=e.length){i(!0);return}o.current=requestAnimationFrame(f)};return o.current=requestAnimationFrame(f),()=>cancelAnimationFrame(o.current)},[e,t]);const c=v.useCallback(()=>{r(e||""),i(!0)},[e]);return{text:n,done:s,skip:c}}function LE(e="zelia"){return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"320",radius:"15"}).toString()}`}function vg(e,t={}){try{const n=new URL(e);return Object.entries(t).forEach(([r,s])=>{s===null?n.searchParams.delete(r):Array.isArray(s)?(n.searchParams.delete(r),s.forEach(i=>n.searchParams.append(r,i))):n.searchParams.set(r,String(s))}),n.toString()}catch{return e}}function $E(){const e=Jt(),t=wr(),n=v.useRef(null),r=v.useRef(!1);v.useEffect(()=>{if(localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")){e("/app",{replace:!0});return}const _=new URLSearchParams(t.hash.substring(1)),T=_.get("access_token");_.get("type")==="signup"&&T&&e(`/email-confirmation#${t.hash.substring(1)}`,{replace:!0})},[t,e]),v.useEffect(()=>{const m=window.matchMedia("(prefers-reduced-motion: reduce)").matches;r.current=m;const _=n.current;if(!_||m)return;let T=0;const E={x:0,y:0},A={x:0,y:0},$=I=>{const H=_.getBoundingClientRect(),re=H.left+H.width/2,X=H.top+H.height/2;E.x=(I.clientX-re)/H.width,E.y=(I.clientY-X)/H.height},z=()=>{A.x+=(E.x-A.x)*.06,A.y+=(E.y-A.y)*.06,_.querySelectorAll("[data-depth]").forEach(H=>{const re=parseFloat(H.getAttribute("data-depth")||"0"),X=A.x*re*30,U=A.y*re*30;H.style.transform=`translate3d(${X}px, ${U}px, 0)`}),T=requestAnimationFrame(z)};return _.addEventListener("mousemove",$),T=requestAnimationFrame(z),()=>{cancelAnimationFrame(T),_.removeEventListener("mousemove",$)}},[]);const s=v.useMemo(()=>[{text:"Salut, je suis Zélia.",durationMs:1200},{text:"On va explorer tes intérêts et tes forces pour t'éclairer sur des métiers et des études.",durationMs:3800},{text:"Tu es prêt ? C'est simple et ça ne prend que quelques minutes.",durationMs:2600}],[]),[i,o]=v.useState(0),c=s[i]||{text:"",durationMs:1e3},{text:u,done:d,skip:f}=IE(c.text,c.durationMs),p=d&&i<s.length-1,x=d&&i===s.length-1,S=()=>o(m=>Math.min(m+1,s.length-1)),j=()=>e("/avatar"),[C,k]=v.useState(!1),b=!d;v.useEffect(()=>{if(!b)return;const m=setInterval(()=>k(_=>!_),280);return()=>clearInterval(m)},[b]);const y=v.useMemo(()=>{const m=LE("zelia");return b?vg(m,{mouth:C?"happy05":"happy08"}):vg(m,{mouth:"happy05"})},[b,C]);return v.useEffect(()=>{const m=Array.from(document.querySelectorAll(".reveal"));if(!m.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){m.forEach(E=>E.classList.add("show"));return}const T=new IntersectionObserver(E=>{E.forEach(A=>{A.isIntersecting&&A.target.classList.add("show")})},{threshold:.15});return m.forEach(E=>T.observe(E)),()=>T.disconnect()},[]),a.jsxs("div",{className:"aximo-all-section landing-lock",style:{background:"#fffbf7",color:"#000"},children:[a.jsxs("section",{className:"landing-hero parallax-hero fullscreen",ref:n,children:[a.jsxs("div",{className:"parallax-scene","aria-hidden":"true",children:[a.jsx("div",{className:"layer layer-sky","data-depth":"0.05"}),a.jsx("div",{className:"layer layer-hill-1","data-depth":"0.18"}),a.jsx("div",{className:"layer layer-hill-2","data-depth":"0.26"}),a.jsx("div",{className:"layer layer-dots","data-depth":"0.35"})]}),a.jsx("nav",{className:"hero-overlay-nav modern-nav",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"nav-content",children:[a.jsx(ji,{to:"/",className:"brand-logo","aria-label":"Accueil",children:a.jsx("img",{src:"/assets/images/logo-dark.png",alt:"Zélia",className:"logo-image"})}),a.jsxs("div",{className:"nav-actions",children:[a.jsxs("button",{className:"nav-link-btn",onClick:()=>e("/avatar"),children:[a.jsx("span",{children:"Questionnaire"}),a.jsx("div",{className:"btn-highlight"})]}),a.jsx("button",{className:"nav-cta-btn",onClick:()=>e("/login"),children:a.jsx("span",{children:"Se connecter"})})]})]})})}),a.jsx("div",{className:"container position-relative hero-center",style:{zIndex:2},children:a.jsxs("div",{className:"row align-items-center justify-content-between g-5 hero-two-col",children:[a.jsx("div",{className:"col-lg-6",children:a.jsxs("div",{className:"chat-section reveal",children:[a.jsxs("div",{className:"chat-container",children:[a.jsx("div",{className:"chat-header",children:a.jsxs("div",{className:"chat-status",children:[a.jsx("span",{className:"status-dot active"}),a.jsx("span",{className:"status-text",children:"Zélia est en ligne"})]})}),a.jsx("div",{className:"chat-messages",children:a.jsxs("div",{className:`message-bubble ${d?"complete":"typing"}`,children:[a.jsx("div",{className:"message-content",children:a.jsxs("p",{className:"message-text",children:[u,a.jsx("span",{className:`typing-cursor ${d?"hide":""}`,children:"▍"})]})}),a.jsxs("div",{className:"message-actions",children:[p&&a.jsxs("button",{className:"action-btn secondary",onClick:S,children:[a.jsx("span",{children:"Suivant"}),a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M9 18l6-6-6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!p&&!x&&a.jsx("button",{className:"action-btn ghost",onClick:f,children:a.jsx("span",{children:"Passer"})}),x&&a.jsxs("button",{className:"action-btn primary",onClick:j,children:[a.jsx("span",{children:"Commencer maintenant"}),a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),a.jsx("div",{className:"conversation-progress",children:s.map((m,_)=>a.jsx("div",{className:`progress-dot ${_<=i?"active":""}`},_))})]})})]}),a.jsx("div",{className:"avatar-container",children:a.jsxs("div",{className:`avatar-frame modern ${d?"idle":"speaking"}`,children:[a.jsx("div",{className:"avatar-image",children:a.jsx("img",{src:y,alt:"Avatar Zélia",loading:"eager"})}),a.jsx("div",{className:"avatar-ring"})]})})]})}),a.jsx("div",{className:"col-lg-5",children:a.jsx("div",{className:"brand-section reveal",children:a.jsxs("div",{className:"brand-content",children:[a.jsxs("h1",{className:"brand-title",children:["zé",a.jsx("span",{className:"accent-text",children:"li"}),"a"]}),a.jsxs("div",{className:"brand-tagline",children:[a.jsx("div",{className:"tagline-icon",children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",fill:"currentColor"})})}),a.jsx("span",{className:"tagline-text",children:"LA COPILOTE DE L'AVENIR PROFESSIONNEL"})]}),a.jsx("div",{className:"brand-stats",children:a.jsxs("div",{className:"stat-item",children:[a.jsx("div",{className:"stat-number",children:"98%"}),a.jsx("div",{className:"stat-label",children:"des utilisateurs ont appris quelque chose sur eux-mêmes"})]})}),a.jsxs("div",{className:"brand-features",children:[a.jsx("div",{className:"feature-item",children:a.jsx("span",{children:"Jeu d'orientation intelligent"})}),a.jsx("div",{className:"feature-item",children:a.jsx("span",{children:"Orientation ultra personnalisée"})}),a.jsx("div",{className:"feature-item",children:a.jsx("span",{children:"Accompagnement continu"})})]})]})})})]})})]}),a.jsx("section",{className:"levels-section",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"levels-content",children:[a.jsx("div",{className:"levels-grid",children:[{levels:"1-5",title:"Exploration",emoji:"🌟",description:"Découvre tes premiers intérêts",current:!0},{levels:"6-10",title:"Intérêts & Forces",emoji:"💪",description:"Identifie tes points forts"},{levels:"11-15",title:"Recherche Métiers",emoji:"🔍",description:"Explore les métiers qui te correspondent"},{levels:"16-20",title:"Immersions",emoji:"🤝",description:"Rencontre des professionnels"},{levels:"21-25",title:"Compétences",emoji:"🎯",description:"Développe tes soft skills"},{levels:"26-30",title:"CV & LM",emoji:"📄",description:"Crée tes premiers documents"},{levels:"31-35",title:"Parcoursup",emoji:"🎓",description:"Prépare ton dossier d'excellence"},{levels:"36-40",title:"Oraux",emoji:"🎤",description:"Maîtrise tes entretiens"}].map((m,_)=>a.jsxs("div",{className:`level-card ${m.current?"current":""}`,children:[a.jsx("div",{className:"level-emoji",children:m.emoji}),a.jsxs("div",{className:"level-info",children:[a.jsxs("div",{className:"level-range",children:["Niveaux ",m.levels]}),a.jsx("div",{className:"level-title",children:m.title}),a.jsx("div",{className:"level-description",children:m.description})]}),m.current&&a.jsx("div",{className:"current-badge",children:a.jsx("span",{children:"En cours"})})]},_))}),a.jsxs("div",{className:"levels-cta",children:[a.jsx("p",{className:"levels-cta-text",children:"Prêt(e) à commencer ton parcours d'orientation personnalisé ?"}),a.jsx("button",{onClick:()=>e("/app/questionnaire"),className:"levels-cta-btn",children:"Débuter le Niveau 1"})]})]})})})]})}function _u(e){return(e||"").replace("#","")}function yg(e,t){const n="https://api.dicebear.com/9.x/lorelei/svg",r=new URLSearchParams;return r.set("seed",e.seed||"zelia"),r.set("size",String(t)),r.set("radius",String(e.radius??30)),e.bg&&(r.set("backgroundType","solid"),r.set("backgroundColor",_u(e.bg))),e.skin&&r.set("skinColor",_u(e.skin)),e.hair&&r.set("hairColor",_u(e.hair)),e.glasses===!0?(r.set("accessories","glasses"),r.set("accessoriesProbability","100")):r.set("accessoriesProbability","0"),`${n}?${r.toString()}`}const DE=["#F2F4F7","#E3F2FD","#FFF7E6","#FDE7E9","#EAF7F0","#F3E8FF","#FFFFFF"],ME=["#f9d7b8","#f1c89e","#d9a275","#c68642","#8d5524","#6d3b1f"],UE=["#2f2f2f","#3b2c2a","#6b4423","#a55728","#b58143","#e6c28b"];function FE(){const e=Jt(),[t,n]=v.useState({seed:"zelia",bg:"#F2F4F7",skin:"#f7c9a9",hair:"#3b2c2a",glasses:!1,radius:30}),[r,s]=v.useState(!1);localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");const i=v.useMemo(()=>yg(t,360),[t]);function o(f){n(p=>({...p,...f}))}function c(f){return f[Math.floor(Math.random()*f.length)]}function u(){n(f=>({...f,seed:Math.random().toString(36).slice(2,10),bg:c(DE),skin:c(ME),hair:c(UE),glasses:Math.random()>.6}))}async function d(){s(!0);const f=yg(t,256);localStorage.setItem("avatar_cfg",JSON.stringify(t)),localStorage.setItem("avatar_url",f);try{await Be.post("/api/results/avatar/temp",{...t,url:f,provider:"dicebear/lorelei"})}catch(p){console.warn("Failed to store avatar temporarily:",p)}finally{e("/questionnaire"),s(!1)}}return a.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:a.jsxs("div",{className:"w-full max-w-5xl py-10",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Crée ton avatar"}),a.jsx("p",{className:"text-text-secondary",children:"Personnalise ton avatar, il te suivra tout au long de l'expérience."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[a.jsx("div",{className:"md:col-span-5",children:a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6 grid place-items-center",children:a.jsx("img",{src:i,alt:"avatar",className:"max-w-full"})})}),a.jsxs("div",{className:"md:col-span-7",children:[a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom (seed)"}),a.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",value:t.seed,onChange:f=>o({seed:f.target.value})})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Rayon"}),a.jsx("input",{className:"w-full",type:"range",min:"0",max:"50",value:t.radius,onChange:f=>o({radius:Number(f.target.value)})})]}),a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Fond"}),a.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.bg,onChange:f=>o({bg:f.target.value})})]}),a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Peau"}),a.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.skin,onChange:f=>o({skin:f.target.value})})]}),a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cheveux"}),a.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.hair,onChange:f=>o({hair:f.target.value})})]}),a.jsxs("div",{className:"md:col-span-6 flex items-center gap-2 mt-2",children:[a.jsx("input",{id:"glasses",type:"checkbox",className:"h-4 w-4",checked:t.glasses,onChange:f=>o({glasses:f.target.checked})}),a.jsx("label",{htmlFor:"glasses",className:"text-sm text-text-secondary",children:"Lunettes"})]})]})}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("button",{className:"h-10 px-4 rounded-lg border border-line",onClick:u,children:"Au hasard"}),a.jsx("button",{className:"h-10 px-4 rounded-lg bg-black text-white",onClick:d,disabled:r,children:"Enregistrer"})]})]})]})]})})}class so extends Error{}so.prototype.name="InvalidTokenError";function zE(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function BE(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return zE(t)}catch{return atob(t)}}function Vx(e,t){if(typeof e!="string")throw new so("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new so(`Invalid token specified: missing part #${n+1}`);let s;try{s=BE(r)}catch(i){throw new so(`Invalid token specified: invalid base64 for part #${n+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new so(`Invalid token specified: invalid json for part #${n+1} (${i.message})`)}}function qE(){const[e,t]=v.useState(null),[n,r]=v.useState(!0),[s,i]=v.useState(""),[o,c]=v.useState({type:"",analysis:"",skills:"",jobs:"",studies:""}),[u,d]=v.useState("orientation"),[f,p]=v.useState(null),x=()=>{const _=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!_)return null;try{const T=Vx(_);return T.sub||T.user_id||T.id}catch(T){return console.error("Error decoding token:",T),null}};v.useEffect(()=>{C(),S()},[]);const S=async()=>{var _,T,E;try{const A=await Vh.get().catch(()=>null),$=((_=A==null?void 0:A.data)==null?void 0:_.level)||((E=(T=A==null?void 0:A.data)==null?void 0:T.progression)==null?void 0:E.level)||null;$&&p($)}catch(A){console.warn("Progression load failed (non-blocking):",A)}},j=(_,T,{seed:E,eyes:A,mouth:$}={})=>{let z=typeof _=="string"&&_.startsWith("http")?_:"https://api.dicebear.com/7.x/adventurer/svg";try{const I=new URL(z);return E&&!I.searchParams.has("seed")&&I.searchParams.set("seed",String(E)),A&&I.searchParams.set("eyes",A),$&&I.searchParams.set("mouth",$),I.toString()}catch{return`https://api.dicebear.com/7.x/adventurer/svg?seed=${encodeURIComponent(E||"user")}`}};v.useEffect(()=>{if(!e)return;const _=x()||"user",T=e.avatarUrlBase||"",E=e.avatarConfig||null,A=Array.from({length:24},(H,re)=>`variant${String(re+1).padStart(2,"0")}`),$=["happy01","happy02","happy03"],z=H=>H[Math.floor(Math.random()*H.length)],I=(H={})=>j(T,E,{seed:_,...H});c({type:I({eyes:z(A)}),analysis:I({mouth:z($)}),skills:I({eyes:z(A),mouth:z($)}),jobs:I({eyes:z(A)}),studies:I({mouth:z($)})})},[e]);const C=async()=>{var _,T,E,A,$,z,I;r(!0),i("");try{const H=await Pe.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});t(H.data.results)}catch(H){if(((_=H.response)==null?void 0:_.status)===404){const re=x();if(re)try{await Pe.post("/analysis/generate-analysis",{userId:re});const X=await Pe.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});t(X.data.results);return}catch{try{await Pe.post("/results/generate");const U=await Pe.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});if((T=U==null?void 0:U.data)!=null&&T.results&&(U.data.results.personalityAnalysis||U.data.results.skillsAssessment||(U.data.results.jobRecommendations??[]).length>0||(U.data.results.studyRecommendations??[]).length>0)){t(U.data.results);return}const ne=await Pe.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Z=(A=(E=ne==null?void 0:ne.data)==null?void 0:E.results)==null?void 0:A.analysis;if(Z){const ye=k(Z);t(ye);return}}catch(U){console.error("Fallback analysis failed:",U)}}t(null)}else(($=H.response)==null?void 0:$.status)===401?i("Utilisateur non authentifié"):(console.error("Error loading results:",H),i(((I=(z=H.response)==null?void 0:z.data)==null?void 0:I.error)||"Erreur lors du chargement des résultats"))}finally{r(!1)}},k=_=>{var T,E,A;return{personalityType:_.personality_type||"Profil non déterminé",personalityAnalysis:[(T=_.strengths)!=null&&T.length?`Forces clés: ${_.strengths.join(", ")}`:null,(E=_.recommendations)!=null&&E.length?`Recommandations: ${_.recommendations.join(`
- `)}`:null].filter(Boolean).join(`

`),skillsAssessment:(A=_.strengths)!=null&&A.length?`Compétences mises en avant: ${_.strengths.join(", ")}`:"",jobRecommendations:(_.career_matches||[]).map($=>({title:$.title,skills:[]})),studyRecommendations:[],avatarUrlBase:null,avatarConfig:null,createdAt:_.completion_date,updatedAt:_.completion_date}};if(n)return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),a.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de votre questionnaire"})]}),m(),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement..."})]})]});if(s)return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),a.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de votre questionnaire"})]}),m(),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Erreur"}),a.jsx("p",{className:"text-text-secondary",children:s})]})]});if(!e)return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),a.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de votre questionnaire"})]}),m(),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun résultat disponible"}),a.jsx("p",{className:"text-text-secondary",children:"Vous n'avez pas encore de résultats enregistrés. Une fois le questionnaire complété et l'analyse effectuée, vos résultats apparaîtront ici."})]})]});const b=()=>{const _=e.inscriptionResults||e;return _?a.jsxs("div",{className:"space-y-6",children:[_.personalityType&&a.jsxs("div",{className:"relative bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Profil d'orientation"})]}),a.jsx("p",{className:"text-gray-800 font-semibold text-lg",children:_.personalityType})]}),_.personalityAnalysis&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Analyse d'orientation"})]}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:_.personalityAnalysis})})]}),_.skillsAssessment&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Compétences clés"})]}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:_.skillsAssessment})})]}),_.jobRecommendations&&_.jobRecommendations.length>0&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Idées de métiers"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.jobRecommendations.map((T,E)=>a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:T.title}),(T.skills||[]).length>0&&a.jsx("ul",{className:"text-sm text-orange-700 list-disc list-inside",children:T.skills.map((A,$)=>a.jsx("li",{children:A},$))})]},E))})]}),_.studyRecommendations&&_.studyRecommendations.length>0&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Pistes d'études"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.studyRecommendations.map((T,E)=>a.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:T.degree}),a.jsx("p",{className:"text-sm text-teal-700",children:T.type})]},E))})]})]}):null},y=()=>(f||0)<4?a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center shadow-card",children:[a.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Analyse de personnalité"}),a.jsx("p",{className:"text-yellow-700",children:"Sera disponible au niveau 4."}),f!==null&&a.jsxs("p",{className:"mt-2 text-sm text-yellow-600",children:["Niveau actuel : ",f]})]}):a.jsxs("div",{className:"space-y-6",children:[e.personalityType&&a.jsxs("div",{className:"relative bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-card p-6",children:[o.type&&a.jsx("img",{src:o.type,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"Type de personnalité"})]}),a.jsx("p",{className:"text-blue-800 font-semibold text-lg",children:e.personalityType})]}),e.personalityAnalysis&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[o.analysis&&a.jsx("img",{src:o.analysis,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Analyse de personnalité"})]}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:e.personalityAnalysis})})]}),e.skillsAssessment&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[o.skills&&a.jsx("img",{src:o.skills,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Évaluation des compétences"})]}),a.jsx("div",{className:"prose max-w-none",children:a.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:e.skillsAssessment})})]}),e.jobRecommendations&&e.jobRecommendations.length>0&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[o.jobs&&a.jsx("img",{src:o.jobs,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jobRecommendations.map((_,T)=>a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:_.title}),a.jsxs("div",{className:"text-sm text-orange-700",children:[a.jsx("span",{className:"font-medium",children:"Compétences requises:"}),a.jsx("ul",{className:"mt-1 list-disc list-inside",children:(_.skills||[]).map((E,A)=>a.jsx("li",{children:E},A))})]})]},T))})]}),e.studyRecommendations&&e.studyRecommendations.length>0&&a.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[o.studies&&a.jsx("img",{src:o.studies,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'études"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.studyRecommendations.map((_,T)=>a.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:_.degree}),a.jsx("p",{className:"text-sm text-teal-700",children:_.type})]},T))})]})]});function m(){return a.jsxs("div",{className:"flex gap-3 mt-4",children:[a.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border transition ${u==="orientation"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,onClick:()=>d("orientation"),children:"Résultats d'orientation"}),a.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border transition ${u==="personality"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,onClick:()=>d("personality"),children:"Analyse de personnalité"})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),a.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée basée sur vos réponses"}),m()]}),u==="orientation"?b():y()]})}function Hx(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")try{const r=new URL(e.avatar);return r.searchParams.has("seed")||r.searchParams.set("seed",String(t)),r.searchParams.has("size")||r.searchParams.set("size","300"),r.toString()}catch{}if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,o])=>{o!=null&&o!==""&&s.set(i,String(o))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function WE(e,t="zelia"){if(!e)return"";try{if(e.avatarUrlBase&&typeof e.avatarUrlBase=="string")try{const n=new URL(e.avatarUrlBase);return n.searchParams.has("seed")||n.searchParams.set("seed",String(t)),n.searchParams.has("size")||n.searchParams.set("size","300"),n.toString()}catch{}if(e.avatarConfig){let n=e.avatarConfig;if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const s=new URL(n.url);return s.searchParams.has("seed")||s.searchParams.set("seed",String(t)),s.searchParams.has("size")||s.searchParams.set("size","300"),s.toString()}catch{}const r=new URLSearchParams;return r.set("seed",String(t)),Object.entries(n).forEach(([s,i])=>{i!=null&&i!==""&&r.set(s,String(i))}),r.has("size")||r.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${r.toString()}`}}}catch{}return""}function VE({profile:e,analysis:t,seed:n="zelia"}){const r=WE(t,n);return r||Hx(e,n)}const ki=50,Jx=10,HE=[{id:"complete_test",label:"Test d'orientation"},{id:"explore_interests",label:"Explorer mes centres d'intérêt"},{id:"watch_intro",label:"Vidéo d'introduction"},{id:"strengths_quiz",label:"Quiz sur mes forces"},{id:"personality_test",label:"Test de personnalité"},{id:"values_exploration",label:"Définir mes valeurs"},{id:"job_research",label:"Rechercher des métiers"},{id:"salary_analysis",label:"Analyser les salaires"},{id:"job_videos",label:"Vidéos métiers"},{id:"schedule_meeting",label:"Planifier un entretien"},{id:"prepare_questions",label:"Préparer des questions"},{id:"company_visit",label:"Visite d'entreprise virtuelle"},{id:"soft_skills_assessment",label:"Éval. des soft skills"},{id:"star_method",label:"Méthode STAR"},{id:"leadership_test",label:"Test de leadership"},{id:"cv_builder",label:"Générateur de CV"},{id:"cover_letter",label:"Lettre de motivation"},{id:"cv_review",label:"Révision du CV"},{id:"projet_motive",label:"Projet motivé"},{id:"voeux_strategy",label:"Stratégie de vœux"},{id:"calendar_planning",label:"Planifier le calendrier"},{id:"pitch_practice",label:"Pitch 60s"},{id:"interview_simulation",label:"Simulation d'entretien"},{id:"confidence_building",label:"Confiance en soi"},{id:"portfolio_review",label:"Révision du portfolio"},{id:"coherence_check",label:"Vérification de cohérence"},{id:"final_polish",label:"Finitions"},{id:"mentor_others",label:"Mentorat"},{id:"success_story",label:"Partager mon histoire"},{id:"expert_badge",label:"Badge expert"}],Hh=Array.from({length:ki},(e,t)=>{const n=t+1,r=HE[t];if(r)return{level:n,id:r.id,label:r.label};const s=String(n).padStart(2,"0");return{level:n,id:`level_${s}`,label:`Mission Niveau ${n}`}}),JE=new Map(Hh.map(e=>[e.level,e.id])),xg=new Map(Hh.map(e=>[e.id,e.label])),uC=Hh.map(e=>e.id),Kx={level:1,xp:0,quests:[],perks:[]};function KE(e){const t=Number(e);if(!Number.isFinite(t))return null;const n=Math.max(1,Math.min(Math.floor(t),ki));return JE.get(n)||null}function dC(e){if(!e)return"";if(xg.has(e))return xg.get(e);const t=/^level_(\d{1,3})$/.exec(String(e));if(t){const n=Number(t[1]);if(Number.isFinite(n))return`Mission Niveau ${n}`}return e}function Xa(){return{...Kx}}async function Jh(){try{const e=await Vh.get();return{...Kx,...(e==null?void 0:e.data)||{}}}catch(e){return console.warn("fetchProgression failed, returning default progression",e),Xa()}}async function Yo({minLevel:e=null,xpReward:t=0}={}){const n=await Jh(),r=Number(n.level)||1;let s=Math.min(r+1,ki);e&&s<e&&(s=Math.min(e,ki));const i=(Number(n.xp)||0)+(Number(t)||0),o=Array.isArray(n.quests)?n.quests.filter(Boolean):[],c=[];if(s>r)for(let d=r;d<s;d+=1){const f=KE(d);f&&c.push(f)}const u=Array.from(new Set([...o,...c]));return await Vh.update({level:s,xp:i,quests:u,perks:n.perks||[]}),{previousLevel:r,newLevel:s,xp:i,questsCompleted:c}}function hC({targetLevel:e,progression:t,hasPaid:n,paidGateLevel:r=Jx}){const s=Math.max(1,Math.min(Number(e)||1,ki)),i=Math.max(1,Number(t==null?void 0:t.level)||1);return s<=i||s===i+1?!(s>r&&!n):!1}function fC({progression:e,hasPaid:t,paidGateLevel:n=Jx}){const r=Math.max(1,Number(e==null?void 0:e.level)||1),s=t?ki:n;return r>s?s:r}const GE={bg:"#f7f9fc",accent1:"#c1ff72",accent2:"#f68fff",text:"#000000"},QE="/assets/images/logo-dark.png",wg={ISTJ:["Comptable","Contrôleur qualité","Analyste financier","Gestionnaire logistique","Responsable conformité"],ISFJ:["Assistant social","Infirmier","Gestionnaire RH","Coordinateur pédagogique","Orthophoniste"],INFJ:["Psychologue","Coach","Rédacteur","UX Writer","Conseiller d’orientation"],INTJ:["Data Scientist","Architecte logiciel","Consultant stratégie","Chercheur","Chef de produit technique"],ISTP:["Technicien industriel","Développeur embarqué","Mécanicien de précision","Pilote de ligne","Secops Analyst"],ISFP:["Designer graphique","Photographe","Styliste","Illustrateur","Ergonome"],INFP:["Écrivain","Psychologue","UX Designer","Métiers de l’édition","Chargé de communication"],INTP:["Développeur","Chercheur IA","Analyste systèmes","Ingénieur R&D","Architecte données"],ESTP:["Commercial","Entrepreneur","Chef de chantier","Événementiel","Responsable opérations"],ESFP:["Animateur","Community Manager","Événementiel","Vente retail","Chargé de projets culturels"],ENFP:["Créatif publicitaire","Chef de projet innovation","Conseiller en insertion","Chargé de communication","Formateur"],ENTP:["Growth Hacker","Entrepreneur","Consultant innovation","Chef de produit","Stratège digital"],ESTJ:["Chef de projet","Manager logistique","Responsable qualité","Administrateur systèmes","Gestion de production"],ESFJ:["RH","Conseiller clientèle","Enseignant","Coordinateur événementiel","Chargé de mission associative"],ENFJ:["Coach","Formateur","Consultant RH","Responsable partenariats","Chef de projet communautaire"],ENTJ:["Directeur produit","Consultant stratégie","Sales Manager","Entrepreneur","Project Director"]};function YE(e){if(!e)return null;const t=e.match(/\(([IE][NS][FT][JP])\)/i);return t?t[1].toUpperCase():null}function XE(e,t=34){return!e||typeof e!="string"?"":e.length>t?`${e.slice(0,t-1)}…`:e}function ZE(e,t=3){if(!e||typeof e!="string")return[];const n=e.split(/\r?\n/).map(s=>s.trim()).filter(Boolean),r=[];for(const s of n){let i=s.replace(/^[-•–]\s+/,"").replace(/^\d+\.\s*/,"").trim();if(i.includes(":")&&(i=i.split(":")[0].trim()),i.length>60&&(i=`${i.slice(0,57)}…`),i&&r.push(i),r.length>=t)break}return r}function bg(e){return new Promise((t,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>t(r),r.onerror=n,r.src=e})}async function e2(){if(!(typeof document>"u"||!("fonts"in document)))try{const e=new FontFace("ClashGroteskSemibold",'url(/static/fonts/ClashGroteskSemibold.woff2) format("woff2")');await e.load(),document.fonts.add(e);try{const t=new FontFace("Bricolage Grotesque",'url("https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap")');await t.load(),document.fonts.add(t)}catch(t){console.warn("Bricolage Grotesque not available, using ClashGroteskSemibold",t)}await document.fonts.load('800 88px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 64px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 48px "Bricolage Grotesque", "ClashGroteskSemibold"')}catch(e){console.warn("Canvas font load failed, falling back to system fonts",e)}}function t2(e){if(!e)return[];const t=Array.isArray(e==null?void 0:e.jobRecommendations)?e.jobRecommendations.slice(0,3):[];if(t.length>0)return t;const n=YE(e==null?void 0:e.personalityType);return n&&wg[n]?wg[n].slice(0,3).map(r=>({title:r})):[]}async function Gx({analysis:e,avatarUrl:t,logoPath:n=QE,colors:r=GE,width:s=1080,height:i=1920}){if(!e)return"";try{await e2();const o=document.createElement("canvas");o.width=s,o.height=i;const c=o.getContext("2d"),u=c.createLinearGradient(0,0,0,i);u.addColorStop(0,r.bg),u.addColorStop(1,"#ffffff"),c.fillStyle=u,c.fillRect(0,0,s,i),c.fillStyle=r.accent1,c.fillRect(0,0,s,80),c.fillStyle="#c1ff72",c.fillRect(0,i-200,s,200);try{const _=await bg(n),E=280*.6,A=_.height/_.width*E,$=(s-E)/2,z=i-180+(180-A)/2;c.drawImage(_,$,z,E,A)}catch(_){console.warn("Logo not loaded for share image",_)}const d=(e==null?void 0:e.personalityType)||"Profil MBTI";c.fillStyle=r.text,c.font='800 120px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, -apple-system, sans-serif',c.textAlign="center",c.textBaseline="top";const f=d.split(" ");let p="",x=630;const S=s-80;for(let _=0;_<f.length;_+=1){const T=`${p}${f[_]} `;c.measureText(T).width>S&&_>0?(c.fillText(p.trim(),s/2,x),p=`${f[_]} `,x+=130):p=T}if(c.fillText(p.trim(),s/2,x),t)try{const _=await bg(t),T=420,E=(s-T)/2,A=180;c.save(),c.shadowColor="rgba(0,0,0,0.15)",c.shadowBlur=20,c.shadowOffsetY=10,c.beginPath(),c.arc(E+T/2,A+T/2,T/2,0,Math.PI*2),c.closePath(),c.clip(),c.drawImage(_,E,A,T,T),c.restore(),c.beginPath(),c.arc(E+T/2,A+T/2,T/2+8,0,Math.PI*2),c.strokeStyle=r.accent1,c.lineWidth=6,c.stroke()}catch(_){console.warn("Avatar not loaded for share image",_)}const j=ZE((e==null?void 0:e.skillsAssessment)||"",3);c.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',c.fillStyle=r.text,c.textAlign="center";const C=x+150;c.fillText("Qualités",s/2,C),c.font="600 40px system-ui, -apple-system, sans-serif";let k=C+80;j.forEach((_,T)=>{const $=c.measureText(_).width,z=Math.min($+30*2,s-80),I=70,H=(s-z)/2,re=k,X=c.createLinearGradient(H,re,H+z,re+I),U=T%2===0?r.accent1:r.accent2,ne=T%2===0?"#a8f542":"#e859d9";X.addColorStop(0,U),X.addColorStop(1,ne),c.fillStyle=X,c.beginPath();const Z=35;c.moveTo(H+Z,re),c.arcTo(H+z,re,H+z,re+I,Z),c.arcTo(H+z,re+I,H,re+I,Z),c.arcTo(H,re+I,H,re,Z),c.arcTo(H,re,H+z,re,Z),c.closePath(),c.fill(),c.fillStyle="#000",c.font="600 40px system-ui, -apple-system, sans-serif",c.textAlign="center",c.fillText(_,H+z/2,re+20+10),k+=I+25});const b=t2(e),y=k+20;c.fillStyle=r.text,c.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',c.fillText("Top métiers",s/2+20,y),c.font="600 50px system-ui, -apple-system, sans-serif",c.fillStyle=r.text;let m=y+80;return b.forEach((_,T)=>{const E=typeof _=="string"?_:(_==null?void 0:_.title)||"";if(!E)return;const A=XE(E,35);c.save(),c.fillStyle=T%2===0?r.accent1:r.accent2;const $=s/2-250,z=m+25;c.beginPath(),c.arc($,z,25,0,Math.PI*2),c.fill(),c.fillStyle="#000",c.font="700 28px system-ui, sans-serif",c.textAlign="center",c.fillText(String(T+1),$,z-2),c.restore(),c.fillStyle=r.text,c.font="600 50px system-ui, -apple-system, sans-serif",c.textAlign="center",c.fillText(A,s/2+30,m+5),m+=70}),o.toDataURL("image/png")}catch(o){return console.error("Share image generation failed",o),""}}const n2=4,r2=[{key:"firstName",label:"Prénom",type:"text",placeholder:"Votre prénom"},{key:"lastName",label:"Nom",type:"text",placeholder:"Votre nom"},{key:"age",label:"Âge",type:"number",placeholder:"ex: 18"},{key:"gender",label:"Genre",type:"text",placeholder:"ex: Femme / Homme / Autre"},{key:"department",label:"Département",type:"text",placeholder:"ex: 75"},{key:"school",label:"École / Formation",type:"text",placeholder:"Votre établissement"},{key:"phoneNumber",label:"Téléphone",type:"tel",placeholder:"ex: 06 12 34 56 78"}];function ju(e){return{firstName:(e==null?void 0:e.first_name)||(e==null?void 0:e.prenom)||"",lastName:(e==null?void 0:e.last_name)||(e==null?void 0:e.nom)||"",age:(e==null?void 0:e.age)!=null?String(e.age):"",gender:(e==null?void 0:e.gender)||(e==null?void 0:e.genre)||"",department:(e==null?void 0:e.department)||(e==null?void 0:e.departement)||"",school:(e==null?void 0:e.school)||(e==null?void 0:e.ecole)||"",phoneNumber:(e==null?void 0:e.phone_number)||(e==null?void 0:e.numero_telephone)||(e==null?void 0:e.numeroTelephone)||""}}function _g(e){return e?Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(Boolean).join(`
`):typeof e=="string"?e.trim():"":""}function s2(e){return Array.isArray(e)?e.map((t,n)=>{if(!t)return null;if(typeof t=="string")return{id:n,title:t.trim(),skills:[]};if(typeof t=="object"){const r=(t.title||t.role||t.name||"").trim(),s=t.skills||t.requiredSkills||t.competences||t.tags;let i=[];return Array.isArray(s)?i=s.map(o=>typeof o=="string"?o.trim():"").filter(Boolean):typeof s=="string"&&(i=s.split(/[,;•\n-]/).map(o=>o.trim()).filter(Boolean)),r?{id:n,title:r,skills:i}:null}return null}).filter(Boolean):[]}function i2(){const[e,t]=v.useState(null),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,c]=v.useState(Xa()),[u,d]=v.useState(!0),[f,p]=v.useState(""),[x,S]=v.useState(!1),[j,C]=v.useState(!1),[k,b]=v.useState(""),[y,m]=v.useState(""),[_,T]=v.useState(ju(null)),[E,A]=v.useState(""),[$,z]=v.useState(!1),[I,H]=v.useState(""),[re,X]=v.useState(!1),U=v.useRef(!0);v.useEffect(()=>{let M=!0;return d(!0),(async()=>{var ee,de;try{const pe=nr.getProfile(),ve=nr.getCurrentUser().catch(()=>null),Ae=yo.getMyResults().then(Pt=>{var Tn;return((Tn=Pt==null?void 0:Pt.data)==null?void 0:Tn.results)||null}).catch(Pt=>{var Tn;if(((Tn=Pt==null?void 0:Pt.response)==null?void 0:Tn.status)===404)return null;throw Pt}),Me=Jh().catch(()=>Xa()),[be,Qe,Oe,lt]=await Promise.all([pe,ve,Ae,Me]);if(!M)return;const pt=((ee=be==null?void 0:be.data)==null?void 0:ee.profile)||(be==null?void 0:be.data)||null;t(pt),r(((de=Qe==null?void 0:Qe.data)==null?void 0:de.user)||null),i(Oe),c(lt||Xa())}catch(pe){if(console.error("Profile load error",pe),!M)return;p("Impossible de charger les informations du profil.")}finally{M&&d(!1)}})(),()=>{M=!1}},[]),v.useEffect(()=>{T(ju(e))},[e]),v.useEffect(()=>()=>{U.current=!1},[]);const ne=n==null?void 0:n.id,Z=Number((o==null?void 0:o.level)||0)>=n2,ye=v.useMemo(()=>{if(!e&&!s)return"";const M=ne||(e==null?void 0:e.id)||"zelia";return VE({profile:e,analysis:s,seed:M})},[s,ne,e]),q=v.useMemo(()=>{var ee,de;const M=(e==null?void 0:e.profile_type)||((ee=e==null?void 0:e.institution_data)==null?void 0:ee.profile_type)||((de=n==null?void 0:n.user_metadata)==null?void 0:de.profile_type)||"";if(!M)return"Étudiant";switch(M){case"student":return"Étudiant";case"company":return"Entreprise";default:return M}},[n,e]),V=v.useMemo(()=>{if(!s)return null;const M=s.inscriptionResults||null,ee=s.personalityType||(M==null?void 0:M.personalityType)||(M==null?void 0:M.personality_type)||"",de=_g(s.personalityAnalysis||(M==null?void 0:M.personalityAnalysis)||(M==null?void 0:M.personality_analysis)),pe=_g(s.skillsAssessment||(M==null?void 0:M.skillsAssessment)||(M==null?void 0:M.skills_assessment)),ve=s2(s.jobRecommendations||(M==null?void 0:M.jobRecommendations)||(M==null?void 0:M.job_recommendations));return{...s,personalityType:ee,personalityAnalysis:de,skillsAssessment:pe,jobRecommendations:ve}},[s]),R=(n==null?void 0:n.email)||(e==null?void 0:e.email)||"",N=v.useCallback(async()=>{var M;try{const ee=await yo.getMyResults(),de=((M=ee==null?void 0:ee.data)==null?void 0:M.results)||null;return de?(i(pe=>pe?{...pe,...de}:de),de):null}catch(ee){return console.warn("Failed to refresh analysis snapshot",ee),null}},[]),J=v.useCallback(async({silent:M=!1,force:ee=!1}={})=>{var de;if(!U.current)return"";if(!Z||!V||!ye)return M||H("Tu dois atteindre le niveau 4 et avoir un avatar pour partager ton analyse."),A(""),"";if($&&!ee)return E||V.shareImageUrl||"";if(!ee&&V.shareImageUrl)return E!==V.shareImageUrl&&A(V.shareImageUrl),H(""),V.shareImageUrl;z(!0),M||H("");try{const pe=await N(),ve=pe?{...V,...pe}:V;if(!ee&&(ve!=null&&ve.shareImageUrl))return U.current&&(A(ve.shareImageUrl),i(be=>be&&{...be,shareImageUrl:ve.shareImageUrl})),ve.shareImageUrl;const Ae=await Gx({analysis:ve,avatarUrl:ye});if(!Ae)throw new Error("Empty dataUrl from share image generator");U.current&&A(Ae);let Me="";try{const be=await yo.saveShareImage({dataUrl:Ae,questionnaireType:"mbti",metadata:{source:"profile",userId:ne||(e==null?void 0:e.id)||(ve==null?void 0:ve.userId)||(ve==null?void 0:ve.user_id)||null}});Me=((de=be==null?void 0:be.data)==null?void 0:de.url)||""}catch(be){console.warn("Failed to upload share image to Cloudinary, keeping local copy",be)}return Me?(U.current&&(i(be=>be&&{...be,shareImageUrl:Me}),A(Me)),Me):Ae}catch(pe){return console.error("Profile share image generation failed",pe),M||H("Impossible de générer l'image à partager."),""}finally{U.current&&z(!1)}},[ne,ye,Z,e==null?void 0:e.id,N,V,E,$]),fe=Z&&!!V;v.useEffect(()=>{if(!fe){A(""),H(""),z(!1);return}if(V!=null&&V.shareImageUrl){E!==V.shareImageUrl&&A(V.shareImageUrl),H("");return}if(E)return;let M=!1;return(async()=>{const ee=await J({silent:!0});!M&&ee&&A(ee)})(),()=>{M=!0}},[J,V==null?void 0:V.shareImageUrl,fe,E]);const ge=v.useCallback(async()=>{const M=E||await J();if(M)try{const ee=document.createElement("a");ee.href=M,ee.download="zelia-mbti-story.png",ee.rel="noopener",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)}catch(ee){console.error("Share image download failed",ee)}},[J,E]),we=v.useCallback(async()=>{const M=E||await J();if(M){X(!0),H("");try{const de=await(await fetch(M)).blob(),pe=new File([de],"zelia-mbti-story.png",{type:"image/png"});typeof navigator<"u"&&navigator.canShare&&navigator.canShare({files:[pe]})?await navigator.share({title:(V==null?void 0:V.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zélia — ${(V==null?void 0:V.personalityType)||""}`.trim(),files:[pe]}):(await ge(),U.current&&H("Le partage natif n'est pas disponible sur cet appareil. L'image a été téléchargée."))}catch(ee){console.warn("Native share failed, falling back to download",ee),await ge(),U.current&&H("Une erreur est survenue lors du partage. L'image a été téléchargée pour un partage manuel.")}finally{U.current&&X(!1)}}},[J,ge,V,E]),Fe=v.useCallback(async()=>{await J({force:!0})},[J]),F=M=>ee=>{const de=ee.target.value;T(pe=>({...pe,[M]:de})),y&&m(""),k&&b("")},G=()=>{T(ju(e)),S(!1),b(""),m("")},B=async M=>{var ee,de;M.preventDefault(),C(!0),b(""),m("");try{const pe={first_name:_.firstName.trim()||null,last_name:_.lastName.trim()||null,age:_.age?Number(_.age):null,gender:_.gender||null,department:_.department||null,school:_.school||null,phone_number:_.phoneNumber||null},{data:ve}=await nr.updateProfile(pe),Ae=(ve==null?void 0:ve.profile)||ve||{};t(Me=>({...Me||{},...Ae})),m("Profil mis à jour avec succès."),S(!1)}catch(pe){console.error("Profile update error",pe);const ve=((de=(ee=pe==null?void 0:pe.response)==null?void 0:ee.data)==null?void 0:de.error)||"Impossible de mettre à jour le profil.";b(ve)}finally{C(!1)}};return u?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),a.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI à partager"})]}),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]})]}):f?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),a.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI à partager"})]}),a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[a.jsx("div",{className:"text-red-600 text-4xl",children:"!"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:f})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),a.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI à partager"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card flex flex-col items-center text-center",children:[Z?ye?a.jsx("img",{src:ye,alt:"Avatar utilisateur",className:"w-40 h-40 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white"}):a.jsx("div",{className:"w-40 h-40 rounded-2xl border border-dashed border-gray-300 flex items-center justify-center text-sm text-gray-500",children:"Avatar indisponible"}):a.jsx("div",{className:"w-40 h-40 rounded-2xl border border-dashed border-gray-300 flex items-center justify-center px-4 text-sm text-gray-500",children:"Une image apparaitra au niveau 4"}),a.jsxs("div",{className:"mt-5 space-y-2 text-sm text-gray-700 w-full",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:"Niveau actuel"}),a.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.level)||1})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:"Expérience"}),a.jsxs("span",{className:"font-semibold",children:[(o==null?void 0:o.xp)||0," XP"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-text-secondary",children:"Profil"}),a.jsx("span",{className:"font-semibold",children:q})]})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Informations personnelles"}),a.jsx("p",{className:"text-text-secondary text-sm",children:"Mettez à jour vos coordonnées et préférences"})]}),!x&&a.jsx("button",{type:"button",onClick:()=>{S(!0),m(""),b("")},className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition",children:"Modifier"})]}),y&&a.jsx("div",{className:"mb-4 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:y}),k&&a.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:k}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r2.map(M=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:M.label}),x?a.jsx("input",{type:M.type,value:_[M.key]||"",onChange:F(M.key),placeholder:M.placeholder,className:"w-full h-11 px-3 rounded-lg border border-line focus:border-black focus:outline-none"}):a.jsx("p",{className:"text-text-primary font-medium min-h-[2.75rem] flex items-center",children:_[M.key]?_[M.key]:"Non spécifié"})]},M.key)),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse email"}),a.jsx("p",{className:"text-text-primary font-medium min-h-[2.75rem] flex items-center",children:R||"Non spécifié"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Identifiant utilisateur"}),a.jsx("p",{className:"text-text-primary font-medium break-all min-h-[2.75rem] flex items-center",children:ne||(e==null?void 0:e.id)||"Non disponible"})]})]}),x&&a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 rounded-lg border border-line bg-white text-gray-700 hover:bg-gray-50",disabled:j,children:"Annuler"}),a.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition disabled:opacity-60",disabled:j,children:j?"Enregistrement…":"Enregistrer"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Mon image Niveau 4"}),a.jsx("p",{className:"text-text-secondary text-sm",children:"Téléchargez ou partagez votre visuel MBTI débloqué au niveau 4."})]}),((V==null?void 0:V.updatedAt)||(s==null?void 0:s.updatedAt))&&a.jsxs("span",{className:"text-xs text-text-secondary",children:["Mis à jour le ",new Date((V==null?void 0:V.updatedAt)||(s==null?void 0:s.updatedAt)).toLocaleDateString("fr-FR")]})]}),fe?a.jsxs("div",{className:"space-y-5",children:[I&&a.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 px-4 py-3 text-sm text-yellow-800",children:I}),a.jsx("div",{className:"relative border border-line rounded-2xl bg-surface/70 p-4 flex items-center justify-center min-h-[320px]",children:$?a.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-text-secondary",children:"Génération de votre visuel…"})]}):E?a.jsx("img",{src:E,alt:"Aperçu partage MBTI",className:"w-full max-w-[260px] sm:max-w-[320px] md:max-w-[360px] rounded-xl border border-gray-200 shadow-md"}):a.jsx("div",{className:"text-center text-sm text-text-secondary",children:"Cliquez sur « Régénérer » pour créer votre image MBTI."})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Fe,className:"px-4 py-2 rounded-lg border border-line bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:$,children:$?"Patientez…":"Régénérer"}),a.jsx("button",{type:"button",onClick:ge,className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition disabled:opacity-60",disabled:!E||$,children:"Télécharger"}),a.jsx("button",{type:"button",onClick:we,className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200 hover:opacity-95 transition disabled:opacity-60",disabled:!E||$||re,children:re?"Partage…":"Partager"})]}),a.jsxs("p",{className:"text-xs text-text-secondary",children:["Astuce : publiez votre story et taguez ",a.jsx("span",{className:"font-semibold",children:"@zelia"})," pour que nous puissions la repartager."]})]}):a.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[a.jsx("div",{className:"text-text-secondary text-4xl mb-2",children:"✨"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terminez le niveau 4"}),a.jsx("p",{className:"text-text-secondary",children:"Débloquez le niveau 4 pour générer votre image MBTI prête à partager sur vos réseaux."})]})]})]})]})]})}function o2(){const e=Jt(),t=wr(),[n,r]=v.useState(!1),[s,i]=v.useState(!1),o=v.useRef(null),[c,u]=v.useState(1);v.useEffect(()=>{function j(C){o.current&&!o.current.contains(C.target)&&i(!1)}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),v.useEffect(()=>{let j=!0;return(async()=>{try{const C=await Jh();j&&C&&Number.isFinite(Number(C.level))&&u(Number(C.level)||1)}catch{}})(),()=>{j=!1}},[]);const d=j=>j==="/app"?t.pathname==="/app"||t.pathname==="/app/":t.pathname.startsWith(j),f=v.useMemo(()=>{const C=[{match:"/app/profile",label:"Profil"},{match:"/app/formations",label:"Formations"},{match:"/app/emplois",label:"Emplois"},{match:"/app/activites",label:"Activités"},{match:"/app/lettre",label:"Lettre"},{match:"/app/chat",label:"Chat"},{match:"/app/results",label:"Résultats"}].find(k=>t.pathname.startsWith(k.match));return["​",(C==null?void 0:C.label)||"Activités"]},[t.pathname]);function p(){localStorage.removeItem("token"),localStorage.removeItem("supabase_auth_token"),e("/")}const x={formations:6,emplois:9,lettre:12,chat:15},S=j=>Number(c)>=Number(j);return a.jsxs("div",{className:"min-h-screen bg-white text-text-primary",children:[a.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white border-r border-line z-40 transition-transform ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[a.jsx("div",{className:"h-16 flex items-center justify-center px-6 border-b border-line",children:a.jsx(ji,{to:"/app",className:"flex items-center justify-center",children:a.jsx("img",{src:"/static/images/logo-dark.png",alt:"Logo",className:"h-8"})})}),a.jsxs("nav",{className:"py-4",children:[a.jsx(Xi,{to:"/app",icon:"ph-activity",active:d("/app"),onClick:()=>r(!1),locked:!1,children:"Activités"}),a.jsx(Xi,{to:"/app/formations",icon:"ph-graduation-cap",active:d("/app/formations"),onClick:()=>r(!1),locked:!S(x.formations),lockTitle:`Niveau ${x.formations}`,children:"Formations"}),a.jsx(Xi,{to:"/app/emplois",icon:"ph-briefcase",active:d("/app/emplois"),onClick:()=>r(!1),locked:!S(x.emplois),lockTitle:`Niveau ${x.emplois}`,children:"Emplois"}),a.jsx(Xi,{to:"/app/lettre",icon:"ph-file-text",active:d("/app/lettre"),onClick:()=>r(!1),locked:!S(x.lettre),lockTitle:`Niveau ${x.lettre}`,children:"Lettre de motivation"}),a.jsx(Xi,{to:"/app/chat",icon:"ph-chats",active:d("/app/chat"),onClick:()=>r(!1),locked:!S(x.chat),lockTitle:`Niveau ${x.chat}`,children:"Chat"})]})]}),a.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-line md:pl-64",children:a.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{className:"md:hidden p-2 rounded-lg border border-line",onClick:()=>r(!n),"aria-label":"Toggle sidebar",children:a.jsx("i",{className:"ph ph-list text-xl"})}),a.jsx("nav",{className:"text-sm text-text-secondary",children:a.jsx("span",{className:"text-text-primary font-medium",children:f[1]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 border border-line rounded-lg w-72",children:[a.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),a.jsx("input",{className:"w-full outline-none text-sm bg-transparent",placeholder:"Search shop"}),a.jsx("span",{className:"text-xs text-text-secondary",children:"⌘ K"})]}),a.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50","aria-label":"Notifications",children:a.jsx("i",{className:"ph ph-bell text-xl"})}),a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50",onClick:()=>i(!s),children:[a.jsx("img",{src:"/static/images/logo-dark.png",className:"w-8 h-8 rounded-full bg-white p-1",alt:"Avatar"}),a.jsx("span",{className:"hidden sm:block text-sm",children:"Utilisateur"}),a.jsx("i",{className:"ph ph-caret-down"})]}),s&&a.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-line rounded-lg shadow-lg z-50",children:a.jsxs("div",{className:"py-1",children:[a.jsxs(ji,{to:"/app/profile",onClick:()=>i(!1),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx("i",{className:"ph ph-user"}),"Profil"]}),a.jsxs("button",{onClick:p,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx("i",{className:"ph ph-sign-out"}),"Déconnexion"]})]})})]})]})]})}),a.jsx("main",{className:"md:pl-64",children:a.jsx("div",{className:"px-4 sm:px-6 py-6",children:a.jsx(x1,{})})})]})}function Xi({to:e,icon:t,active:n,children:r,onClick:s,locked:i=!1,lockTitle:o=""}){const c=u=>{i&&(u.preventDefault(),u.stopPropagation()),s&&s(u)};return a.jsxs(ji,{to:e,onClick:c,"aria-disabled":i,title:i?o:void 0,className:`group flex items-center gap-3 px-4 py-2.5 text-sm text-text-primary relative ${n?"bg-gray-50":"hover:bg-gray-50"} ${i?"pointer-events-auto select-none":""}`,children:[a.jsx("span",{className:`absolute left-0 top-0 h-full w-1 ${n?"bg-black":"bg-transparent"} rounded-r`}),a.jsxs("div",{className:`flex items-center gap-3 ${i?"blur-[1px] opacity-60":""}`,children:[a.jsx("i",{className:`ph ${t} text-lg ${n?"text-black":"text-text-secondary"} group-hover:text-black`}),a.jsx("span",{className:`${n?"font-medium":""}`,children:r})]}),i&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3",children:a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-text-secondary bg-gray-100 border border-line rounded-full px-2 py-0.5",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-[#f68fff]"}),o]})})]})}function a2(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,c]=v.useState(1),[u,d]=v.useState([]),[f,p]=v.useState(0),[x,S]=v.useState([]),[j,C]=v.useState(null),[k,b]=v.useState(!1),[y,m]=v.useState(!1),[_,T]=v.useState(null),[E,A]=v.useState(!1),$=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),z=R=>{if(R==null)return;const N=String(R).trim();if(!N)return;const J=N.toLowerCase();if(!(J==="nan"||J==="null"||J==="undefined"))return N};async function I(R=o){b(!0);try{const N=y?50:20,{data:J}=await Be.get("/api/catalog/formations/search",{params:{q:e,region:n||void 0,departement:s||void 0,page:R,page_size:N},headers:$?{Authorization:`Bearer ${$}`}:{}});d(J.items),p(J.total),c(R),S([]),C(null)}finally{b(!1)}}v.useEffect(()=>{let R=!1;return(async()=>{y&&await U(),R||await I(1)})(),()=>{R=!0}},[y]);const H=u.length>0&&x.length===u.length,re=()=>S(H?[]:u.map(R=>R.id)),X=R=>S(N=>N.includes(R)?N.filter(J=>J!==R):[...N,R]);async function U(){var R;if(!(_||!$)){A(!0);try{const{data:N}=await Be.get("/api/analysis/my-results",{headers:{Authorization:`Bearer ${$}`}}),J=(R=N==null?void 0:N.results)==null?void 0:R.studyRecommendations;Array.isArray(J)&&T(J)}catch{}finally{A(!1)}}}const ne=R=>R?String(R).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",Z=(R,N)=>{const J=new Set(ne(R).split(" ").filter(Boolean)),fe=new Set(ne(N).split(" ").filter(Boolean));if(J.size===0||fe.size===0)return 0;let ge=0;return J.forEach(we=>{fe.has(we)&&ge++}),ge/(J.size+fe.size-ge)},ye=R=>{if(!Array.isArray(_)||_.length===0)return 0;const J=(Array.isArray(R.nm)?R.nm:[]).find(ge=>ge)||"";let fe=0;for(const ge of _){const we=Z(J,ge.type),Fe=Z(J,ge.degree),F=Math.max(we,Fe);F>fe&&(fe=F)}return fe},q=Bd.useMemo(()=>{let R=[...u];return y&&!E&&Array.isArray(_)&&_.length>0&&(R=R.map(N=>({it:N,score:ye(N)})).filter(N=>N.score>=.2).sort((N,J)=>J.score-N.score).map(N=>N.it)),R.sort((N,J)=>{const fe=Array.isArray(N.nm)?N.nm.find(F=>F):void 0,ge=Array.isArray(J.nm)?J.nm.find(F=>F):void 0,we=fe?0:1,Fe=ge?0:1;return we!==Fe?we-Fe:(J.id||0)-(N.id||0)})},[u,y,_]),V=()=>{m(R=>!R)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }

			/* Remove any input focus outlines/rings/transition animations */
			.no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
			.no-outline::-moz-focus-inner { border: 0 !important; }
			.no-outline::-webkit-search-decoration,
			.no-outline::-webkit-search-cancel-button,
			.no-outline::-webkit-search-results-button,
			.no-outline::-webkit-search-results-decoration { display: none !important; }
			`}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Formations"}),a.jsx("p",{className:"text-text-secondary",children:"Explorez les formations en France"})]}),a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),a.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3 transition-none focus-within:ring-0 focus-within:outline-none focus-within:shadow-none",children:[a.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),a.jsx("input",{className:"w-full text-sm bg-transparent outline-none border-0 ring-0 focus:outline-none focus:ring-0 focus:border-transparent appearance-none transition-none shadow-none focus:shadow-none no-outline",value:e,onChange:R=>t(R.target.value),placeholder:"Nom, code, ville..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Région"}),a.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:n,onChange:R=>r(R.target.value),placeholder:"ex: Île-de-France"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Département"}),a.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:s,onChange:R=>i(R.target.value),placeholder:"ex: Paris"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${y?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:V,disabled:k||E,title:"Filtrer par recommandations",children:E?a.jsx("i",{className:"ph ph-circle-notch animate-spin"}):a.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),a.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:k,onClick:()=>I(1),children:k?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-10 px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:H,onChange:re})}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Image"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitulé (nm)"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Établissement"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Département"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lien"}),a.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),a.jsxs("tbody",{children:[k&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:a.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des résultats…"]})})}),q.map(R=>{const N=Array.isArray(R.nm)?R.nm.filter(fe=>fe&&fe!=="BUT - Génie biologique parcours sciences de l'aliment et biotechnologie"):[],J=N.length?N[0]:"Intitulé non renseigné";return a.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 align-middle",children:a.jsx("input",{type:"checkbox",checked:x.includes(R.id),onChange:()=>X(R.id)})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("img",{src:R.image||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:fe=>{fe.currentTarget.onerror=null,fe.currentTarget.src="/static/images/logo-dark.png"}})}),a.jsx("td",{className:"px-4 py-3 text-text-primary",children:J}),a.jsx("td",{className:"px-4 py-3",children:z(R.etab_nom)||"Établissement non renseigné"}),a.jsx("td",{className:"px-4 py-3",children:z(R.departement)||"Département non renseigné"}),a.jsx("td",{className:"px-4 py-3",children:R.etab_url?a.jsx("a",{href:R.etab_url,target:"_blank",className:"inline-flex items-center px-3 py-1.5 border border-line rounded-lg text-sm hover:bg-gray-50",children:"Voir"}):"Lien non disponible"}),a.jsxs("td",{className:"px-4 py-3 text-right relative",children:[a.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>C(j===R.id?null:R.id),children:a.jsx("i",{className:"ph ph-dots-three-vertical"})}),j===R.id&&a.jsx("div",{className:"absolute right-2 mt-2 w-56 bg-white border border-line rounded-lg shadow-lg z-10",children:a.jsxs("ul",{className:"py-1 text-sm",children:[R.facebook&&a.jsx("li",{children:a.jsxs("a",{href:R.facebook,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-facebook-logo"}),a.jsx("span",{children:"Facebook"})]})}),R.linkedin&&a.jsx("li",{children:a.jsxs("a",{href:R.linkedin,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-linkedin-logo"}),a.jsx("span",{children:"LinkedIn"})]})}),R.youtube&&a.jsx("li",{children:a.jsxs("a",{href:R.youtube,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-youtube-logo"}),a.jsx("span",{children:"YouTube"})]})}),R.email&&a.jsx("li",{children:a.jsxs("a",{href:`mailto:${R.email}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-envelope"}),a.jsx("span",{children:"Envoyer un mail"})]})}),R.telephone&&a.jsx("li",{children:a.jsxs("a",{href:`tel:${R.telephone}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-phone"}),a.jsx("span",{children:"Appeler"})]})})]})})]})]},R.id)}),u.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun résultat"})})]})]})})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-text-secondary text-sm",children:[q.length," / ",f," résultats",y?" (recommandés)":""]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:o<=1,onClick:()=>I(o-1),children:"Précédent"}),a.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:o*(y?50:20)>=f,onClick:()=>I(o+1),children:"Suivant"})]})]})]})}function l2(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,c]=v.useState(1),[u,d]=v.useState([]),[f,p]=v.useState(0),[x,S]=v.useState(!0),[j,C]=v.useState([]),[k,b]=v.useState(null),[y,m]=v.useState(null),[_,T]=v.useState(!1),[E,A]=v.useState(!1),[$,z]=v.useState(null),[I,H]=v.useState(!1),re=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),X=()=>{const F=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!F)return null;try{const G=Vx(F);return G.sub||G.user_id||G.id||null}catch{return null}},U=F=>{if(F==null)return;const G=String(F).trim();if(!G)return;const B=G.toLowerCase();if(!(B==="nan"||B==="null"||B==="undefined"))return G},ne=(F,G)=>{const B=U(F.origine_offre_url_origine??F.origineoffre_urlorigine),M=U(F.contact_url_postulation??F.contact_urlpostulation),ee=U(F.romecode);return[U(F.id)??`row-${G}`,B,M,ee].filter(Boolean).join("|")||`row-${G}`};async function Z(F=o){const B={page:F,page_size:E?50:20};e&&String(e).trim()!==""&&(B.q=e),n&&(B.typecontrat=n),s&&(B.alternance=s==="true"),T(!0);try{const{data:M}=await Be.get("/api/catalog/metiers/search",{params:B,headers:re?{Authorization:`Bearer ${re}`}:{}});d(M.items),S(!!M.has_more),typeof M.total=="number"&&p(M.total),c(F),C([]),b(null)}finally{T(!1)}}async function ye(){var G;if($)return;const F=X();if(F){H(!0);try{const{data:B}=await Be.get(`/api/analysis/results/${F}`),M=(G=B==null?void 0:B.results)==null?void 0:G.jobRecommendations;Array.isArray(M)&&z(M)}catch{}finally{H(!1)}}}const q=F=>F?String(F).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",V=F=>{const G=q(F);return G?G.split(" ").filter(Boolean).map(B=>B.endsWith("s")?B.slice(0,-1):B):[]},R=(F,G)=>{const B=new Set(V(F)),M=new Set(V(G));if(B.size===0||M.size===0)return 0;let ee=0;return B.forEach(de=>{M.has(de)&&ee++}),ee/(B.size+M.size-ee)},N=F=>{if(!Array.isArray($)||$.length===0)return 0;const G=U(F.intitule),B=U(F.romecode),M=[G,B].filter(Boolean).join(" ");let ee=0;for(const de of $){const pe=R(M,de.title);let ve=0;if(Array.isArray(de.skills))for(const Me of de.skills){const be=R(M,Me);ve=Math.max(ve,be)}const Ae=pe*.8+ve*.2;Ae>ee&&(ee=Ae)}return ee};v.useEffect(()=>{let F=!1;return(async()=>{E&&await ye(),F||await Z(1)})(),()=>{F=!0}},[E]);const J=u.length>0&&j.length===u.length,fe=()=>{C(J?[]:u.map((F,G)=>ne(F,G)))},ge=F=>{C(G=>G.includes(F)?G.filter(B=>B!==F):[...G,F])},we=Bd.useMemo(()=>!E||I||!Array.isArray($)||$.length===0?u:u.map(F=>({it:F,score:N(F)})).filter(F=>F.score>=.1).sort((F,G)=>G.score-F.score).map(F=>F.it),[u,E,$,I]),Fe=()=>{A(F=>!F)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }

			/* Remove any input focus outlines/rings/transition animations */
			.no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
			.no-outline::-moz-focus-inner { border: 0 !important; }
			.no-outline::-webkit-search-decoration,
			.no-outline::-webkit-search-cancel-button,
			.no-outline::-webkit-search-results-button,
			.no-outline::-webkit-search-results-decoration { display: none !important; }
			`}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Métiers"}),a.jsx("p",{className:"text-text-secondary",children:"Offres et fiches métiers"})]}),a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),a.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3 transition-none focus-within:ring-0 focus-within:outline-none focus-within:shadow-none",children:[a.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),a.jsx("input",{className:"w-full text-sm bg-transparent outline-none border-0 ring-0 focus:outline-none focus:ring-0 focus:border-transparent appearance-none transition-none shadow-none focus:shadow-none no-outline",value:e,onChange:F=>t(F.target.value),placeholder:"Intitulé, secteur, code ROME..."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Type de contrat"}),a.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:n,onChange:F=>r(F.target.value),placeholder:"ex: CDI"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Alternance"}),a.jsxs("select",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:s,onChange:F=>i(F.target.value),children:[a.jsx("option",{value:"",children:"Tous"}),a.jsx("option",{value:"true",children:"Oui"}),a.jsx("option",{value:"false",children:"Non"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${E?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:Fe,disabled:_||I,title:"Filtrer par recommandations",children:I?a.jsx("i",{className:"ph ph-circle-notch animate-spin"}):a.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),a.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:_,onClick:()=>Z(1),children:_?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-10 px-4 py-3",children:a.jsx("input",{type:"checkbox",checked:J,onChange:fe})}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Logo"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitulé"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Contrat"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lieu"}),a.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Entreprise"}),a.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),a.jsxs("tbody",{children:[_&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:a.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des résultats…"]})})}),we.map((F,G)=>{const B=U(F.entreprise_logo),M=F.type_contrat||F.typecontrat,ee=F.lieu_travail_libelle||F.lieutravail_libelle||F.lieu,de=F.entreprise_nom||F.entreprise,pe=U(F.origine_offre_url_origine||F.origineoffre_urlorigine),ve=U(F.contact_url_postulation||F.contact_urlpostulation),Ae=U(F.lieu_travail_latitude??F.lieutravail_latitude),Me=U(F.lieu_travail_longitude??F.lieutravail_longitude),be=Ae!==void 0?parseFloat(Ae):void 0,Qe=Me!==void 0?parseFloat(Me):void 0,Oe=Number.isFinite(be)&&Number.isFinite(Qe),lt=ne(F,G);return a.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 align-middle",children:a.jsx("input",{type:"checkbox",checked:j.includes(lt),onChange:()=>ge(lt)})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("img",{src:B||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:pt=>{pt.currentTarget.onerror=null,pt.currentTarget.src="/static/images/logo-dark.png"}})}),a.jsx("td",{className:"px-4 py-3 text-text-primary",children:U(F.intitule)||"Intitulé non renseigné"}),a.jsx("td",{className:"px-4 py-3",children:M?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700",children:[a.jsx("i",{className:"ph ph-file-text"}),M]}):"-"}),a.jsx("td",{className:"px-4 py-3",children:U(ee)||"Lieu non renseigné"}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx("i",{className:"ph ph-buildings text-text-secondary"}),a.jsx("span",{children:U(de)||"Pas de nom d'entreprise"})]})}),a.jsxs("td",{className:"px-4 py-3 text-right relative",children:[a.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>b(k===lt?null:lt),children:a.jsx("i",{className:"ph ph-dots-three-vertical"})}),k===lt&&a.jsx("div",{className:"absolute right-2 mt-2 w-64 bg-white border border-line rounded-lg shadow-lg z-10",children:a.jsxs("ul",{className:"py-1 text-sm",children:[pe&&a.jsx("li",{children:a.jsxs("a",{href:pe,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-arrow-up-right"}),a.jsx("span",{children:"Postuler (site d'origine)"})]})}),ve&&a.jsx("li",{children:a.jsxs("a",{href:ve,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[a.jsx("i",{className:"ph ph-paper-plane-tilt"}),a.jsx("span",{children:"Contacter"})]})}),Oe&&a.jsx("li",{children:a.jsxs("button",{className:"w-full text-left flex items-center gap-2 px-3 py-2 hover:bg-gray-50",onClick:()=>m({lat:be,lon:Qe,title:F.intitule||de||"Localisation"}),children:[a.jsx("i",{className:"ph ph-map-pin"}),a.jsx("span",{children:"Voir sur la carte"})]})})]})})]})]},lt)}),we.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun résultat"})})]})]})})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>m(null),children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-[90vw] max-w-2xl overflow-hidden",onClick:F=>F.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line",children:[a.jsx("h3",{className:"font-semibold text-text-primary",children:y.title}),a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",onClick:()=>m(null),"aria-label":"Fermer",children:a.jsx("i",{className:"ph ph-x"})})]}),a.jsxs("div",{className:"p-0",children:[a.jsx("iframe",{title:"map",className:"w-full h-[60vh]",src:`https://www.openstreetmap.org/export/embed.html?bbox=${Number(y.lon)-.05}%2C${Number(y.lat)-.05}%2C${Number(y.lon)+.05}%2C${Number(y.lat)+.05}&layer=mapnik&marker=${y.lat}%2C${y.lon}`,style:{border:0},allowFullScreen:!0}),a.jsx("div",{className:"p-3 text-right",children:a.jsxs("a",{className:"inline-flex items-center gap-2 px-3 py-2 border border-line rounded-lg text-sm hover:bg-gray-50",target:"_blank",href:`https://www.openstreetmap.org/?mlat=${y.lat}&mlon=${y.lon}#map=12/${y.lat}/${y.lon}`,children:[a.jsx("i",{className:"ph ph-arrow-up-right"}),a.jsx("span",{children:"Ouvrir dans OpenStreetMap"})]})})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-text-secondary text-sm",children:[we.length," résultats",E?" (recommandés)":""]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:o<=1,onClick:()=>Z(o-1),children:"Précédent"}),a.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:!x,onClick:()=>Z(o+1),children:"Suivant"})]})]})]})}function c2(){const[e,t]=v.useState("metier"),[n,r]=v.useState(""),[s,i]=v.useState(null),[o,c]=v.useState([]),[u,d]=v.useState(!1),[f,p]=v.useState("sobre"),[x,S]=v.useState(""),[j,C]=v.useState(!1),k=v.useRef(null),b=v.useRef(null);v.useEffect(()=>{if(!n||n.length<2){c([]);return}return k.current&&clearTimeout(k.current),k.current=setTimeout(async()=>{try{const{data:E}=await gg.suggest({q:n,type:e});c(E.items||[]),d(!0)}catch{c([])}},250),()=>k.current&&clearTimeout(k.current)},[n,e]);function y(E){i(E),r(E.label),d(!1)}async function m(){C(!0),S("");try{const E=s?{selection:s,style:f}:{style:f};!s&&n&&(e==="metier"?E.emploi_selection=n:E.formation_selection=n);const{data:A}=await gg.generate(E);S(A.letter)}catch{S("Erreur de génération. Réessayez.")}finally{C(!1)}}function _(){var E;x&&((E=navigator.clipboard)==null||E.writeText(x))}function T(){if(!x)return;const E=window.open("","_blank");E.document.write(`<pre style="white-space: pre-wrap; font-family: serif;">${x.replace(/</g,"&lt;")}</pre>`),E.document.close(),E.focus(),E.print(),E.close()}return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Lettre de motivation"}),a.jsx("p",{className:"text-text-secondary",children:"Générée à partir de votre profil"})]}),a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2 relative",children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cible"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("button",{className:`px-3 py-1 rounded border ${e==="metier"?"bg-black text-white":"border-line"}`,onClick:()=>{t("metier"),i(null)},children:"Métier"}),a.jsx("button",{className:`px-3 py-1 rounded border ${e==="formation"?"bg-black text-white":"border-line"}`,onClick:()=>{t("formation"),i(null)},children:"Formation"})]}),a.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:n,onChange:E=>{r(E.target.value),i(null)},placeholder:e==="metier"?"ex: Développeur web":"ex: BUT Informatique"}),u&&o.length>0&&a.jsx("div",{ref:b,className:"absolute z-10 mt-1 w-full max-h-60 overflow-auto border border-line rounded-lg bg-white shadow",children:o.map(E=>a.jsxs("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>y(E),children:[a.jsx("div",{className:"text-sm",children:E.label}),a.jsx("div",{className:"text-xs text-text-secondary",children:E.type==="metier"?"Métier":"Formation"})]},`${E.type}-${E.id}`))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Style"}),a.jsxs("select",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:f,onChange:E=>p(E.target.value),children:[a.jsx("option",{value:"sobre",children:"Sobre"}),a.jsx("option",{value:"enthousiaste",children:"Enthousiaste"}),a.jsx("option",{value:"professionnel",children:"Professionnel"})]})]}),a.jsx("div",{children:a.jsx("button",{className:"w-full bg-black text-white rounded-lg h-10 disabled:opacity-50",onClick:m,disabled:j||!s&&!n,children:j?"Génération...":"Générer"})})]})}),a.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:j?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Génération en cours..."})]}):x?a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Votre lettre de motivation"}),a.jsx("div",{className:"bg-gray-50 border border-line p-3 rounded-lg whitespace-pre-wrap font-mono",children:x}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:_,children:"Copier"}),a.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:T,children:"Télécharger PDF"})]})]}):a.jsxs("div",{className:"text-center text-text-secondary",children:[a.jsx("div",{className:"text-4xl",children:"📝"}),a.jsx("p",{className:"mt-2",children:"Recherchez un métier ou une formation, choisissez le style, puis cliquez sur Générer pour créer votre lettre de motivation personnalisée."})]})})]})}function u2(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,o])=>{o!=null&&o!==""&&s.set(i,String(o))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function Qx(e,t){const[n,r]=v.useState(""),[s,i]=v.useState(!1),o=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{const d=e||"";r(""),i(!1);let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return o.current=setInterval(()=>{f++,r(d.slice(0,f)),f>=d.length&&clearInterval(o.current)},p),c.current=setTimeout(()=>{clearInterval(o.current),r(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current)}},[e,t]),{text:n,done:s,skip:()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current),r(e||""),i(!0)}}}function d2(){var Q,ae,Se,Ie,ue,nn,qn,Wn,St,wt,kt,rn,gn;const e=Jt(),[t,n]=v.useState(null),[r,s]=v.useState(""),[i,o]=v.useState(null),[c,u]=v.useState(!0),[d,f]=v.useState(""),[p,x]=v.useState("intro"),[S,j]=v.useState(""),[C,k]=v.useState(""),[b,y]=v.useState(!1),[m,_]=v.useState(0),[T,E]=v.useState({}),[A,$]=v.useState(0),[z,I]=v.useState({}),[H,re]=v.useState(!1),[X,U]=v.useState(0),[ne,Z]=v.useState(!1),[ye,q]=v.useState(null),[V,R]=v.useState(!1),[N,J]=v.useState(!1);function fe(ce,Ce={}){try{const qe=new URL(ce);return/api\.dicebear\.com/.test(qe.host)&&/\/lorelei\/svg/.test(qe.pathname)?(Object.entries(Ce).forEach(([Ot,vn])=>{vn==null||vn===""?qe.searchParams.delete(Ot):qe.searchParams.set(Ot,String(vn))}),qe.searchParams.has("size")||qe.searchParams.set("size","300"),qe.toString()):ce}catch{return ce}}v.useEffect(()=>{let ce=!0;return(async()=>{var Ce,qe,et;try{const{data:{user:Ot}}=await Et.auth.getUser();if(!Ot){e("/login");return}const[vn,Pn]=await Promise.all([nr.getProfile().catch(()=>null),Pe.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}).catch(rc=>rc)]);if(!ce)return;const Xo=((Ce=vn==null?void 0:vn.data)==null?void 0:Ce.profile)||null;n(Xo),s(u2(Xo,Ot.id)),(qe=Pn==null?void 0:Pn.data)!=null&&qe.results?o(Pn.data.results):((et=Pn==null?void 0:Pn.response)==null?void 0:et.status)===404?o(null):Pn instanceof Error&&f("Erreur lors du chargement des résultats")}catch(Ot){if(console.error(Ot),!ce)return;f("Erreur de chargement")}finally{ce&&u(!1)}})(),()=>{ce=!1}},[e]);const ge=v.useMemo(()=>[{text:"Bienvenue sur Zélia",durationMs:1500},{text:"Nous allons t'expliquer comment nous allons t'aider à trouver le métier de tes rêves",durationMs:5e3},{text:"Nous allons faire en sorte d'y arriver ensemble, et allons te donner des tips tout au long de ton parcours",durationMs:6e3},{text:"Commençons",durationMs:1e3}],[]),[we,Fe]=v.useState(0),F=ge[we]||{text:"",durationMs:1500},{text:G,done:B,skip:M}=Qx(F.text,F.durationMs),ee=p==="intro"&&!B||N;v.useEffect(()=>{if(!ee)return;const ce=setInterval(()=>R(Ce=>!Ce),200);return()=>clearInterval(ce)},[ee]),v.useEffect(()=>{function ce(Ce){const qe=!!(Ce&&Ce.detail&&Ce.detail.active);J(qe)}return window.addEventListener("niv1-typing",ce),()=>window.removeEventListener("niv1-typing",ce)},[]);const de=((ae=(Q=i==null?void 0:i.jobRecommendations)==null?void 0:Q[0])==null?void 0:ae.title)||"",pe=((Ie=(Se=i==null?void 0:i.jobRecommendations)==null?void 0:Se[1])==null?void 0:Ie.title)||"",ve=p==="ask_fit",Ae=p==="await_input",Me=()=>{if(!B){M();return}we+1<ge.length?Fe(we+1):x("ask_fit")},be=v.useMemo(()=>{let ce=r;if(!ce)return ce;try{const Ce=new URL(ce);return/api\.dicebear\.com/.test(Ce.host)&&/\/lorelei\/svg/.test(Ce.pathname)&&(ce=fe(ce,{mouth:ee&&V?"happy08":null})),ce}catch{return ce}},[r,ee,V]),Qe=[{id:"salary_expectation",type:"buttons",text:"Est-ce que tu t'attendais à ce salaire là ?",options:["Oui","Non","Je ne sais pas"]},{id:"good_salary",type:"input",text:"Pour toi c'est quoi un bon salaire?",placeholder:"Ex: 2500€ net/mois"},{id:"motivation_salary",type:"buttons",text:"Est-ce que tu fais ce métier pour le salaire ?",options:["Oui","Non","Partiellement"]}],Oe=v.useMemo(()=>[{id:"learn_overview",type:"text",text:"Durant ton parcours, je vais t'apprendre à te repérer parmi les métiers et à poser un cap clair."},{id:"english_test",type:"text",text:"On fera un test d'anglais rapide pour évaluer ton niveau et te proposer des pistes pour progresser."},{id:"cv_build",type:"text",text:"On va créer ton CV étape par étape, avec des exemples et un modèle qui te ressemble."},{id:"sell_yourself",type:"text",text:"Tu apprendras à te vendre: valoriser tes expériences, tes forces et tes réussites."},{id:"pitch",type:"text",text:"On travaillera ton pitch 60 secondes pour faire forte impression."},{id:"schools",type:"text",text:"On repèrera des écoles et formations qui collent vraiment à ton projet."},{id:"calendar",type:"text",text:"On t'aidera à organiser ton calendrier Parcoursup et tes échéances."},{id:"tips",type:"text",text:"Tu auras des tips concrets à chaque étape pour gagner du temps."},{id:"interview",type:"text",text:"On préparera tes entretiens: questions fréquentes, pièges et réponses efficaces."},{id:"checklist",type:"text",text:"Tu auras une checklist personnalisée pour rester au top jusqu'au bout."},{id:"motivated",type:"buttons",text:"Est-ce que tu es motivé pour cela ?",options:["Oui","Mitigé","Non"]},{id:"explore_another",type:"buttons",text:"Veux-tu explorer une autre fiche métier ?",options:["Oui","Non"]},{id:"why_attraction",type:"buttons",text:"Qu'est-ce qui t'attire le plus dans ce métier ?",options:["Le sens","Le salaire","Les études","Le quotidien"]},{id:"study_length",type:"buttons",text:"Tu te vois plutôt études longues ou entrer vite dans le concret ?",options:["Études longues","Rapide et pro","Je ne sais pas"]},{id:"team_or_solo",type:"buttons",text:"Tu préfères travailler en équipe ou plutôt en solo ?",options:["Équipe","Solo","Peu importe"]},{id:"five_years",type:"input",text:"Tu te vois où dans 5 ans ?",placeholder:"Décris en une phrase"},{id:"favorite_subjects",type:"buttons",text:"Quelles matières te plaisent le plus ?",options:["Sciences","Langues","Littérature","Éco/Gestion","Art/Design"]},{id:"learn_style",type:"buttons",text:"Tu apprends mieux en faisant ou en lisant ?",options:["En faisant","En lisant","Mix des deux"]},{id:"english_level",type:"buttons",text:"Ton niveau d’anglais approximatif ?",options:["Débutant","Intermédiaire","Avancé"]},{id:"proud_project",type:"input",text:"Tu as un projet perso dont tu es fier ?",placeholder:"Dis-m’en un mot"},{id:"geo_constraints",type:"buttons",text:"Tu as des contraintes géographiques ?",options:["Oui","Non"]},{id:"action_plan",type:"buttons",text:"Tu veux qu’on bâtisse un plan d’action ensemble ?",options:["Oui","Plus tard"]}],[]),lt=v.useMemo(()=>Oe.findIndex(ce=>ce.id==="explore_another"),[Oe]);async function pt(ce){var Ce;y(!0),k(""),x("generating");try{const qe=`FICHE MÉTIER pour "${ce}".
Contraintes de sortie OBLIGATOIRES:
- Réponds uniquement en français, en tutoyant (utilise "tu").
- AUCUNE salutation, introduction ou phrase d'ouverture (n'écris pas Bonjour, pas de phrase avant la section 1).
- AUCUN séparateur ou décoration (pas de '---', pas de tables, pas de code).
- AUCUN gras ni markdown (n'utilise jamais **, #, ##, etc.).

Structure EXACTE et dans cet ordre:
1) Description du métier (150-200 mots)
2) Salaire en France (débutant et médian)
3) Écoles/études pour y arriver (3 à 5 exemples précis)

Format: titres courts en clair (pas de markdown), listes à puces simples '-' quand pertinent.`,et=await CE.aiChat({mode:"advisor",message:qe,history:[],jobTitles:[ce],advisorType:"fiche-metier"});let Ot=((Ce=et==null?void 0:et.data)==null?void 0:Ce.reply)||"";Ot=Ot.replace(/\*\*/g,""),k(Ot),U(vn=>Math.min(2,vn+1)),x("fiche")}catch(qe){console.error("AI fiche error",qe),k("Une erreur est survenue lors de la génération de la fiche métier."),x("fiche")}finally{y(!1)}}const Pt=async ce=>{ce==="oui"?(await new Promise(Ce=>setTimeout(Ce,250)),await pt(de||"Métier")):x("await_input")},Tn=async()=>{const ce=(S||"").trim();if(ce){y(!0);try{await nr.updateProfile({home_preference:ce}),await pt(ce)}catch(Ce){console.error("Update profile error",Ce),y(!1)}}};function Yr(){A+1<Oe.length?$(A+1):At()}function rr(ce){const Ce=Oe[A];if(I({...z,[Ce.id]:ce}),Ce.id==="explore_another"&&ce==="Oui"&&pe&&X<2){Z(!0),lt>=0&&q(lt+1),pt(pe);return}Yr()}function At(){x("success"),re(!0),setTimeout(()=>{},2e3);const ce=100;(async()=>{try{await Yo({minLevel:2,xpReward:ce})}catch(Ce){console.warn("Progression update failed (non-blocking):",Ce)}})()}async function se(){try{const ce=Qe.map(et=>({question_id:et.id,question_text:et.text,answer_text:T[et.id]??""})),Ce=Oe.map(et=>({question_id:et.id,question_text:et.text,answer_text:z[et.id]??""})),qe=[...ce,...Ce].filter(et=>et.question_id&&et.question_text);qe.length&&await nr.saveExtraInfo(qe)}catch(ce){console.error("Persist extra info failed",ce)}}return c?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):d?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:d})}):a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[a.jsx("img",{src:be,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),a.jsxs("div",{className:"flex-1 w-full",children:[a.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[a.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?a.jsx(a.Fragment,{children:G}):ve?"Est-ce que ces métiers recommandés te conviennent ?":Ae?"Peux-tu nous dire le métier de tes rêves ?":p==="generating"?"Je suis en train de rechercher les infomations du métier qui te concerne...":p==="fiche"?a.jsx(a.Fragment,{children:ne?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"Voici une seconde fiche pour t'offrir un autre angle."}),a.jsx("div",{children:"Lis-la si tu veux, puis on passe directement à la suite."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"Super, continuons."}),S?a.jsxs("div",{children:["Très bien je vois que tu es ambitieux ! « ",S," » est un beau métier."]}):null,a.jsx("div",{children:"Tu peux lire la fiche, puis on en discute 👇"})]})}):p==="post_fiche"?a.jsx(a.Fragment,{children:((ue=Qe[m])==null?void 0:ue.text)||""}):p==="conversation"?a.jsx(a.Fragment,{children:((nn=Oe[A])==null?void 0:nn.type)==="text"?a.jsx(h2,{text:Oe[A].text,onNext:()=>{Yr(),A+1>=Oe.length&&se()}}):((qn=Oe[A])==null?void 0:qn.text)||""}):""}),a.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&a.jsx("div",{className:"mt-3",children:a.jsx("button",{onClick:Me,className:"inline-flex items-center px-4 py-2 rounded-md bg-[#c1ff72] text-black border border-gray-200",children:"Suivant"})}),ve&&a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx("button",{onClick:()=>Pt("oui"),disabled:!de,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50 w-full sm:w-auto",children:"Oui"}),a.jsx("button",{onClick:()=>Pt("mitige"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Mitigé"}),a.jsx("button",{onClick:()=>Pt("non"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Non"})]}),Ae&&a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 w-full",children:[a.jsx("input",{type:"text",value:S,onChange:ce=>j(ce.target.value),placeholder:"Ton métier de rêve",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full"}),a.jsx("button",{onClick:Tn,disabled:b||!S.trim(),className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-50 w-full sm:w-auto",children:"Valider"})]}),p==="fiche"&&!ne&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>x("post_fiche"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Discuter de la fiche"})}),p==="fiche"&&ne&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{x("conversation"),ye!=null&&ye<Oe.length&&$(ye),Z(!1)},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Continuer"})}),p==="post_fiche"&&a.jsxs("div",{className:"mt-4 space-y-3",children:[((Wn=Qe[m])==null?void 0:Wn.type)==="buttons"&&a.jsx("div",{className:"flex flex-wrap gap-3",children:Qe[m].options.map((ce,Ce)=>a.jsx("button",{onClick:()=>{E({...T,[Qe[m].id]:ce}),m+1<Qe.length?_(m+1):(x("conversation"),$(0),se())},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:ce},Ce))}),((St=Qe[m])==null?void 0:St.type)==="input"&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[a.jsx("input",{type:"text",placeholder:Qe[m].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:T[Qe[m].id]||"",onChange:ce=>E({...T,[Qe[m].id]:ce.target.value})}),a.jsx("button",{onClick:()=>{m+1<Qe.length?_(m+1):(x("conversation"),$(0),se())},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]})]}),p==="conversation"&&a.jsxs("div",{className:"mt-4 space-y-3",children:[((wt=Oe[A])==null?void 0:wt.type)==="buttons"&&a.jsx("div",{className:"flex flex-wrap gap-3",children:(Oe[A].options||[]).map((ce,Ce)=>a.jsx("button",{onClick:()=>{rr(ce),A+1>=Oe.length&&se()},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:ce},Ce))}),((kt=Oe[A])==null?void 0:kt.type)==="input"&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[a.jsx("input",{type:"text",placeholder:Oe[A].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:z[Oe[A].id]||"",onChange:ce=>I({...z,[Oe[A].id]:ce.target.value})}),a.jsx("button",{onClick:()=>{Yr(),A+1>=Oe.length&&se()},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]}),((rn=Oe[A])==null?void 0:rn.type)==="text"&&null]}),!1,!1]})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[p==="ask_fit"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center text-white",children:"💼"}),a.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),(gn=i==null?void 0:i.jobRecommendations)!=null&&gn.length?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jobRecommendations.map((ce,Ce)=>{var qe;return a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:ce.title}),(qe=ce.skills)!=null&&qe.length?a.jsxs("div",{className:"text-sm text-orange-700",children:[a.jsx("div",{className:"font-medium",children:"Compétences requises:"}),a.jsx("ul",{className:"mt-1 list-disc list-inside",children:ce.skills.map((et,Ot)=>a.jsx("li",{children:et},Ot))})]}):null]},Ce)})}):a.jsx("div",{className:"text-text-secondary",children:"Aucune recommandation disponible pour le moment."})]}),(p==="fiche"||p==="post_fiche"||p==="conversation"||p==="generating")&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:"📘"}),a.jsx("h2",{className:"text-xl font-bold",children:"Fiche métier"})]}),b&&a.jsx("div",{className:"text-sm text-text-secondary",children:"Génération…"}),a.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-gray-800",children:C})]})]})]}),H&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[a.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),a.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 1 réussi !"}),a.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as terminé l\\'introduction et exploré tes premières pistes."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:a.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})}),a.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function h2({text:e,onNext:t}){const n=v.useMemo(()=>Math.min(8e3,Math.max(1500,(e||"").length*40)),[e]),{text:r,done:s,skip:i}=Qx(e||"",n);return v.useEffect(()=>{const o=new CustomEvent("niv1-typing",{detail:{active:!s}});window.dispatchEvent(o)},[s]),a.jsxs("div",{children:[a.jsx("div",{className:"mb-3 whitespace-pre-wrap",children:r}),a.jsx("button",{onClick:()=>{s?t():i()},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})]})}function f2(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,o])=>{o!=null&&o!==""&&s.set(i,String(o))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function p2(e,t){const[n,r]=v.useState(""),[s,i]=v.useState(!1),o=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{r(""),i(!1);const d=e||"";let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return o.current=setInterval(()=>{f++,r(d.slice(0,f)),f>=d.length&&clearInterval(o.current)},p),c.current=setTimeout(()=>{clearInterval(o.current),r(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current)}},[e,t]),{text:n,done:s,skip:()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current),r(e||""),i(!0)}}}function m2(){const e=Jt(),[t,n]=v.useState(null),[r,s]=v.useState(""),[i,o]=v.useState(!0),[c,u]=v.useState(""),[d,f]=v.useState(0),[p,x]=v.useState("intro"),S=v.useRef(null),j=v.useRef(!1),[C,k]=v.useState(!1),[b,y]=v.useState("");v.useEffect(()=>{let U=!0;return(async()=>{var ne;try{const{data:{user:Z}}=await Et.auth.getUser();if(!Z){e("/login");return}y(Z.id);const ye=await nr.getProfile().catch(()=>null);if(!U)return;const q=((ne=ye==null?void 0:ye.data)==null?void 0:ne.profile)||null;n(q),s(f2(q,Z.id))}catch(Z){if(console.error(Z),!U)return;u("Erreur de chargement")}finally{U&&o(!1)}})(),()=>{U=!1}},[e]);const m=v.useMemo(()=>[{text:"Bon t'es passé au niveau 2, c'était assez simple mais ça se corsera plus tard, pour l'instant on a besoin de comprendre à qui on a affaire et t'expliquer tous les futurs niveaux",durationMs:8e3},{text:"On va te faire rencontrer une personne qui était plus ou moins dans ton cas",durationMs:3e3},{text:"C'est nicolas, le fondateur de la plateforme Zélia qui a fait une vidéo pour toi",durationMs:3e3},{text:"Le but c'est de t'expliquer les bases de l'orientation, de pourquoi c'est important, même si tu le sais probablement déjà",durationMs:7500},{text:"Je te laisse voir cette vidéo, tu pourras avoir son retour d'expérience avec l'orientation et comment il s'en est sorti",durationMs:4e3},{text:"Bon faut vraiment que j'arrête de parler moi",durationMs:1500}],[]),_=m[d]||{text:"",durationMs:1500},{text:T,done:E,skip:A}=p2(_.text,_.durationMs);v.useEffect(()=>{if(p!=="intro"||E)return;const U=setInterval(()=>k(ne=>!ne),200);return()=>clearInterval(U)},[p,E]);function $(U,ne={}){try{const Z=new URL(U);return/api\.dicebear\.com/.test(Z.host)&&/\/lorelei\/svg/.test(Z.pathname)?(Object.entries(ne).forEach(([q,V])=>{V==null||V===""?Z.searchParams.delete(q):Z.searchParams.set(q,String(V))}),Z.searchParams.has("size")||Z.searchParams.set("size","300"),Z.toString()):U}catch{return U}}const z=v.useMemo(()=>{let U=r;return!U||!(()=>{try{const Z=new URL(U);return/api\.dicebear\.com/.test(Z.host)&&/\/lorelei\/svg/.test(Z.pathname)}catch{return!1}})()||(p==="intro"&&d===5?U=$(U,{eyes:"variant16"}):U=$(U,{}),p==="intro"&&!E?U=$(U,{mouth:C?"happy08":null}):U=$(U,{mouth:null})),U},[r,p,d,E,C]);v.useEffect(()=>{if(p!=="watch")return;function U(){if(!(S.current||j.current))try{const ne=window.YT;if(!ne||!ne.Player)return;S.current=new ne.Player("niv2Player",{height:"315",width:"560",videoId:"WgUmD_sZRrI",playerVars:{rel:0,modestbranding:1,playsinline:1},events:{onReady:()=>{j.current=!0},onStateChange:Z=>{Z.data===window.YT.PlayerState.ENDED&&X()}}})}catch(ne){console.warn("YT init failed",ne)}}if(!window.YT||!window.YT.Player){if(!document.getElementById("youtube-iframe-api")){const ye=document.createElement("script");ye.src="https://www.youtube.com/iframe_api",ye.id="youtube-iframe-api",document.body.appendChild(ye)}const Z=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){if(typeof Z=="function")try{Z()}catch{}U()}}else U();return()=>{try{const ne=S.current;ne&&ne.destroy&&ne.destroy()}catch{}S.current=null,j.current=!1}},[p]);function I(){if(!E){A();return}d+1<m.length?f(U=>U+1):x("watch")}const[H,re]=v.useState(!1);function X(){re(!0),(async()=>{try{await Yo({minLevel:2,xpReward:120})}catch(U){console.warn("Progression update failed (non-blocking):",U)}})()}return i?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):c?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:c})}):a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[a.jsx("img",{src:z,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),a.jsxs("div",{className:"flex-1 w-full",children:[a.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[a.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?a.jsx(a.Fragment,{children:T}):p==="watch"?a.jsx(a.Fragment,{children:"Regarde la vidéo à droite, puis on continue."}):null}),a.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:I,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:d===m.length-1?"Oui laisse moi voir la vidéo":"Suivant"})})]})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:"🎬"}),a.jsx("h2",{className:"text-xl font-bold",children:"Vidéo"})]}),p!=="watch"?a.jsx("div",{className:"text-text-secondary",children:"La vidéo apparaîtra ici."}):a.jsxs("div",{children:[a.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:a.jsx("div",{id:"niv2Player",className:"absolute inset-0"})}),a.jsx("noscript",{children:a.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/WgUmD_sZRrI?si=9_DuCyLC6Gw_mF2Z",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:X,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"J'ai terminé la vidéo"})})]})]})]}),H&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[a.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),a.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 2 réussi !"}),a.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as regardé la vidéo d'introduction à l'orientation."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:a.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})}),a.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function g2(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,o])=>{o!=null&&o!==""&&s.set(i,String(o))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function v2(e,t){const[n,r]=v.useState(""),[s,i]=v.useState(!1),o=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{r(""),i(!1);const d=e||"";let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return o.current=setInterval(()=>{f++,r(d.slice(0,f)),f>=d.length&&clearInterval(o.current)},p),c.current=setTimeout(()=>{clearInterval(o.current),r(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current)}},[e,t]),{text:n,done:s,skip:()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current),r(e||""),i(!0)}}}function y2(){const e=Jt(),[t,n]=v.useState(null),[r,s]=v.useState(""),[i,o]=v.useState(!0),[c,u]=v.useState(""),[d,f]=v.useState(0),[p,x]=v.useState("intro"),[S,j]=v.useState(!1),[C,k]=v.useState(""),[b,y]=v.useState(""),m=v.useRef(null),[_,T]=v.useState(!1),E=v.useRef([]),[A,$]=v.useState(""),[z,I]=v.useState(7),[H,re]=v.useState(!1),[X,U]=v.useState(!1);v.useEffect(()=>{let G=!0;return(async()=>{var B,M,ee,de,pe,ve,Ae;try{const{data:{user:Me}}=await Et.auth.getUser();if(!Me){e("/login");return}k(Me.id);const be=await nr.getProfile().catch(()=>null);if(!G)return;const Qe=((B=be==null?void 0:be.data)==null?void 0:B.profile)||(be==null?void 0:be.data)||null;n(Qe),s(g2(Qe,Me.id));try{const Oe=await Pe.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),lt=((M=Oe==null?void 0:Oe.data)==null?void 0:M.results)||{},pt=lt.jobRecommendations||lt.job_recommandations||[];Array.isArray(pt)&&pt.length>0&&y(((ee=pt[0])==null?void 0:ee.title)||"")}catch{try{const Oe=await Pe.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),lt=((pe=(de=Oe==null?void 0:Oe.data)==null?void 0:de.results)==null?void 0:pe.analysis)||((ve=Oe==null?void 0:Oe.data)==null?void 0:ve.results)||{},pt=lt.jobRecommendations||lt.job_recommandations||lt.career_matches||[];Array.isArray(pt)&&pt.length>0&&y(((Ae=pt[0])==null?void 0:Ae.title)||"")}catch{}}}catch(Me){if(console.error(Me),!G)return;u("Erreur de chargement")}finally{G&&o(!1)}})(),()=>{G=!1}},[e]);const ne=v.useMemo(()=>[{text:"Re, on passe au niveau 3, on va rentrer dans le vif du sujet, sur ce module on va apprendre comment se vendre auprès des autres",durationMs:5e3},{text:"On va bosser ensemble sur un pitch de 60s, tant que tu es pas satisfait de toi même, on continue",durationMs:3e3},{text:"Alors je sais que ça peut paraître un peu complexe ou ça peut te mettre mal à l'aise, isole toi si c'est le cas",durationMs:4e3},{text:"Essaye de répéter ce texte, de manière détendue, personne ne te juge à part moi, mais je suis qu'un assistant",durationMs:4e3}],[]),Z=ne[d]||{text:"",durationMs:1500},{text:ye,done:q,skip:V}=v2(Z.text,Z.durationMs);v.useEffect(()=>{if(p!=="intro"||q)return;const G=setInterval(()=>j(B=>!B),200);return()=>clearInterval(G)},[p,q]);function R(G,B={}){try{const M=new URL(G);return/api\.dicebear\.com/.test(M.host)&&/\/lorelei\/svg/.test(M.pathname)?(Object.entries(B).forEach(([de,pe])=>{pe==null||pe===""?M.searchParams.delete(de):M.searchParams.set(de,String(pe))}),M.searchParams.has("size")||M.searchParams.set("size","300"),M.toString()):G}catch{return G}}const N=v.useMemo(()=>{let G=r;return!G||!(()=>{try{const M=new URL(G);return/api\.dicebear\.com/.test(M.host)&&/\/lorelei\/svg/.test(M.pathname)}catch{return!1}})()||(p==="intro"&&d===3?G=R(G,{eyes:"variant16"}):G=R(G,{}),p==="intro"&&!q?G=R(G,{mouth:S?"happy08":null}):G=R(G,{mouth:null})),G},[r,p,d,q,S]);function J(){if(!q){V();return}d+1<ne.length?f(G=>G+1):x("practice")}const fe=v.useMemo(()=>{const G=(t==null?void 0:t.first_name)||"",B=(t==null?void 0:t.last_name)||"",M=(t==null?void 0:t.department)||"",ee=(t==null?void 0:t.home_preference)||"",de=String(ee).toLowerCase()==="questionnaire"?b||"un métier qui me correspond":ee||b||"un métier qui me correspond";return`Bonjour, je m'appelle ${G} ${B}, j'habite actuellement dans le ${M}. Ce qui me motive profondément dans le métier de ${de}, c’est de comprendre comment les choses fonctionnent et comment les améliorer. Je ne me contente jamais de la première réponse ; ma curiosité me pousse à explorer différentes perspectives avant d’agir.

J'aborde chaque nouveau défi avec la même méthode : j’écoute, j’apprends vite, et je connecte les idées et les gens pour construire quelque chose qui a du sens. Je crois fermement que les meilleures solutions naissent de la collaboration et d'une vision d'ensemble.

Mon objectif n'est pas simplement d'accomplir des tâches, mais d'apporter une énergie positive et une volonté de faire avancer les projets. Je cherche à m'investir dans un environnement où je pourrai continuer à apprendre et avoir un impact concret.`},[t,b]),ge=async()=>{try{U(!1),$("");const G=await navigator.mediaDevices.getUserMedia({audio:!0}),B=new MediaRecorder(G);E.current=[],B.ondataavailable=M=>{M.data&&M.data.size>0&&E.current.push(M.data)},B.onstop=()=>{const M=new Blob(E.current,{type:"audio/webm"}),ee=URL.createObjectURL(M);$(ee),x("rate"),T(!1),G.getTracks().forEach(de=>de.stop())},m.current=B,B.start(),T(!0)}catch(G){console.error("Recording start failed",G),alert("Impossible d’accéder au micro. Autorisez le micro puis réessayez.")}},we=()=>{var G;try{(G=m.current)==null||G.stop()}catch{}},Fe=()=>{$(""),I(7),x("practice")},F=async()=>{z>=8?(re(!0),(async()=>{try{await Yo({minLevel:3,xpReward:150})}catch(G){console.warn("Progression update failed (non-blocking):",G)}})()):U(!0)};return i?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):c?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:c})}):a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[a.jsx("img",{src:N,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),a.jsxs("div",{className:"flex-1 w-full",children:[a.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[a.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?a.jsx(a.Fragment,{children:ye}):p==="practice"?a.jsx(a.Fragment,{children:"Tu peux lire le texte à droite et t'enregistrer quand tu veux."}):p==="rate"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-3",children:"Alors combien tu te noterais sur 10 ?"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:"0",max:"10",value:z,onChange:G=>I(Number(G.target.value)),className:"w-full"}),a.jsx("div",{className:"w-10 text-center font-bold",children:z})]}),a.jsx("button",{onClick:F,className:"mt-3 px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Valider"})]}):X?a.jsx(a.Fragment,{children:"C'est déjà pas trop mal, on va essayer de le refaire, recommençons ensemble."}):null}),a.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:J,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:d===ne.length-1?"Afficher le texte":"Suivant"})}),X&&p!=="intro"&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:Fe,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Recommencer"})})]})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:"🎤"}),a.jsx("h2",{className:"text-xl font-bold",children:"Pitch 60s"})]}),a.jsx("div",{className:"text-text-primary whitespace-pre-wrap mb-4",children:fe}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!_&&a.jsx("button",{onClick:ge,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"S'enregistrer"}),_&&a.jsx("button",{onClick:we,className:"px-4 py-2 rounded-lg bg-red-500 text-white border border-red-600",children:"Arrêter"}),A&&!_&&a.jsxs(a.Fragment,{children:[a.jsx("audio",{controls:!0,src:A,className:"w-full max-w-md"}),a.jsx("button",{onClick:Fe,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Réenregistrer"})]})]})]})]}),H&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[a.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),a.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 3 réussi !"}),a.jsx("p",{className:"text-text-secondary mb-4",children:"Félicitations, ton pitch est prêt. Tu sais te présenter efficacement."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:a.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})}),a.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}let Su=null;async function jg(){return Su||(Su=he(()=>import("./jspdf.es.min-DY3eKUkh.js"),[]).then(e=>e.jsPDF)),Su}function x2(e,t){const[n,r]=v.useState(""),[s,i]=v.useState(!1),o=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{const d=e||"";r(""),i(!1);let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return o.current=setInterval(()=>{f++,r(d.slice(0,f)),f>=d.length&&clearInterval(o.current)},p),c.current=setTimeout(()=>{clearInterval(o.current),r(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current)}},[e,t]),{text:n,done:s,skip:()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current),r(e||""),i(!0)}}}function w2(){const e=Jt(),[t,n]=v.useState(null),[r,s]=v.useState(""),[i,o]=v.useState(!0),[c,u]=v.useState(""),[d,f]=v.useState("intro"),[p,x]=v.useState(0),[S,j]=v.useState(0),[C,k]=v.useState([]),[b,y]=v.useState({}),[m,_]=v.useState(null),[T,E]=v.useState(""),[A,$]=v.useState(!1),[z,I]=v.useState(!1),[H,re]=v.useState(!1),[X,U]=v.useState(""),[ne,Z]=v.useState(!1),[ye,q]=v.useState(!1),[V,R]=v.useState(!1),[N,J]=v.useState(!1),[fe,ge]=v.useState(!1),[we,Fe]=v.useState("actions"),F="@zelia";v.useEffect(()=>{let se=!0;return(async()=>{var Q;try{const{data:{user:ae}}=await Et.auth.getUser();if(!ae){e("/login");return}E(ae.id);const Se=await nr.getProfile().catch(()=>null);if(!se)return;const Ie=((Q=Se==null?void 0:Se.data)==null?void 0:Q.profile)||null;n(Ie),s(Hx(Ie,ae.id));const ue=await Pe.get("/questionnaire/questions",{params:{type:"mbti",_:Date.now()}}),nn=Array.isArray(ue==null?void 0:ue.data)?ue.data:[];k(nn)}catch(ae){if(console.error("Niv4 init error",ae),!se)return;u("Erreur de chargement")}finally{se&&o(!1)}})(),()=>{se=!1}},[e]);const G=v.useMemo(()=>[{text:"Yo, niveau 4 ! On passe au MBTI pour mieux cerner ton style.",durationMs:3500},{text:"Je te pose quelques questions, tu réponds à l'instinct.",durationMs:3500},{text:"Ensuite j'analyse tes réponses et je te sors une analyse MBTI bien complète (≈ 1000 mots).",durationMs:4500},{text:"Objectif: que tu comprennes comment tu fonctionnes et quels métiers te collent à la peau.",durationMs:4500},{text:"Prêt(e) ? On démarre tranquille.",durationMs:2500}],[]),B=G[p]||{text:"",durationMs:1500},{text:M,done:ee,skip:de}=x2(B.text,B.durationMs);v.useEffect(()=>{if(d!=="intro"||ee)return;const se=setInterval(()=>I(Q=>!Q),200);return()=>clearInterval(se)},[d,ee]),v.useEffect(()=>{if(!(d!=="results"||!m)){if(m.shareImageUrl){U(m.shareImageUrl);return}At()}},[m,At,d]);function pe(){if(!ee){de();return}p+1<G.length?x(p+1):(f("quiz"),j(0))}const ve=v.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]),Ae=C[S],Me=v.useMemo(()=>{const se=Ae&&(Ae.content??Ae.contenu);if(typeof se!="string")return se;if(se.startsWith("(")){const Q=se.indexOf('"'),ae=se.indexOf('"',Q+1);if(Q!==-1&&ae!==-1)return se.slice(Q+1,ae)}return se},[Ae]),be=C.length?Math.round((S+1)/C.length*100):0,Qe=Ae?b[Ae.id]!=null:!1;async function Oe(){var se;$(!0);try{const Q={answers:Object.entries(b).map(([Ie,ue])=>({question_id:Number(Ie),answer:ue})),questionnaireType:"mbti"};await Pe.post("/questionnaire/submit?type=mbti",Q);const ae=await Pe.post("/analysis/generate-analysis-by-type",{userId:T,questionnaireType:"mbti"}),Se=(se=ae==null?void 0:ae.data)==null?void 0:se.analysis;Se&&(_(Se),Se.shareImageUrl&&U(Se.shareImageUrl)),f("results")}catch(Q){console.error("MBTI submit/analyze error",Q),u("Impossible de générer l'analyse MBTI")}finally{$(!1)}}function lt(){f("success"),(async()=>{try{await Yo({minLevel:4,xpReward:180})}catch(se){console.warn("Progression update failed (non-blocking):",se)}})()}async function pt(se){try{R(!0);const Q=await jg(),ae=new Q({orientation:"p",unit:"mm",format:"a4"}),Se=ae.internal.pageSize.getWidth(),Ie=ae.internal.pageSize.getHeight(),ue=new Image,nn=await(await fetch(se)).blob(),qn=URL.createObjectURL(nn);await new Promise((qe,et)=>{ue.onload=()=>qe(),ue.onerror=et,ue.src=qn});const Wn=ue.width,St=ue.height,wt=Wn/St,kt=Se/Ie;let rn,gn;wt>kt?(rn=Se,gn=rn/wt):(gn=Ie,rn=gn*wt);const ce=(Se-rn)/2,Ce=(Ie-gn)/2;ae.addImage(se,"PNG",ce,Ce,rn,gn,void 0,"FAST"),ae.save("zelia-mbti-resultat.pdf"),URL.revokeObjectURL(qn)}catch(Q){console.error("PDF generation failed",Q)}finally{R(!1)}}async function Pt(){if(m){J(!0);try{const se=await At();se&&(U(se),re(!0))}finally{J(!1)}}}async function Tn(){if(m){Z(!0);try{const se=await At();if(!se)throw new Error("no image");const ae=await(await fetch(se)).blob(),Se=new File([ae],"zelia-mbti-story.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[Se]})){await navigator.share({title:(m==null?void 0:m.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zélia — ${(m==null?void 0:m.personalityType)||""}`.trim(),files:[Se]});return}U(se),re(!0)}catch(se){console.warn("Native share failed, falling back to modal",se);const Q=await At();Q&&U(Q),re(!0)}finally{Z(!1)}}}async function Yr(){if(m)try{ge(!0);const se=await jg(),Q=new se({orientation:"p",unit:"mm",format:"a4"}),ae=15,Se=Q.internal.pageSize.getWidth(),Ie=Se-ae*2;let ue=ae;Q.setFont("helvetica","bold"),Q.setFontSize(18);const nn=m!=null&&m.personalityType?`Résultats MBTI — ${m.personalityType}`:"Résultats MBTI";if(Q.text(nn,ae,ue),ue+=8,Q.setDrawColor(0),Q.setLineWidth(.5),Q.line(ae,ue,Se-ae,ue),ue+=6,m!=null&&m.personalityAnalysis){Q.setFont("helvetica","bold"),Q.setFontSize(14),Q.text("Analyse de personnalité",ae,ue),ue+=6,Q.setFont("helvetica","normal"),Q.setFontSize(11);const St=Q.splitTextToSize(m.personalityAnalysis,Ie);for(const wt of St)ue>280&&(Q.addPage(),ue=ae),Q.text(wt,ae,ue),ue+=6;ue+=2}if(m!=null&&m.skillsAssessment){ue>270&&(Q.addPage(),ue=ae),Q.setFont("helvetica","bold"),Q.setFontSize(14),Q.text("Points forts",ae,ue),ue+=6,Q.setFont("helvetica","normal"),Q.setFontSize(11);const St=Q.splitTextToSize(m.skillsAssessment,Ie);for(const wt of St)ue>280&&(Q.addPage(),ue=ae),Q.text(wt,ae,ue),ue+=6;ue+=2}if(Array.isArray(m==null?void 0:m.jobRecommendations)&&m.jobRecommendations.length){ue>270&&(Q.addPage(),ue=ae),Q.setFont("helvetica","bold"),Q.setFontSize(14),Q.text("Recommandations d'emploi",ae,ue),ue+=6,Q.setFont("helvetica","normal"),Q.setFontSize(11);const St=m.jobRecommendations;for(let wt=0;wt<St.length;wt++){const kt=St[wt],rn=typeof kt=="string"?kt:(kt==null?void 0:kt.title)||"";if(rn){if(ue>275&&(Q.addPage(),ue=ae),Q.setFont("helvetica","bold"),Q.text(`• ${rn}`,ae,ue),ue+=6,Q.setFont("helvetica","normal"),Array.isArray(kt==null?void 0:kt.skills)&&kt.skills.length){const gn=`Compétences clés: ${kt.skills.join(", ")}`,ce=Q.splitTextToSize(gn,Ie);for(const Ce of ce)ue>280&&(Q.addPage(),ue=ae),Q.text(Ce,ae+4,ue),ue+=6}ue+=2}}}Q.setFont("helvetica","italic"),Q.setFontSize(9);const qn="Généré par Zélia — Niveau 4 MBTI",Wn=Q.getNumberOfPages();for(let St=1;St<=Wn;St++){Q.setPage(St);const wt=Q.getTextWidth(qn);Q.text(qn,(Se-wt)/2,295)}Q.save("zelia-mbti-resultats.pdf")}catch(se){console.error("PDF report generation failed",se)}finally{ge(!1)}}const rr=v.useCallback(async()=>{var se;if(!m)return null;try{const Q=await yo.getMyResults(),ae=((se=Q==null?void 0:Q.data)==null?void 0:se.results)||null;if(!ae)return m;const Se={...m,personalityType:(m==null?void 0:m.personalityType)||ae.personalityType||null,personalityAnalysis:(m==null?void 0:m.personalityAnalysis)||ae.personalityAnalysis||null,skillsAssessment:(m==null?void 0:m.skillsAssessment)||ae.skillsAssessment||null,jobRecommendations:Array.isArray(m==null?void 0:m.jobRecommendations)&&m.jobRecommendations.length?m.jobRecommendations:ae.jobRecommendations||[],shareImageUrl:ae.shareImageUrl||(m==null?void 0:m.shareImageUrl)||null};return _(Ie=>Ie?{...Ie,...Se}:Se),Se}catch(Q){return console.warn("Failed to refresh analysis snapshot",Q),m}},[m]),At=v.useCallback(async()=>{var Q;if(!m)return"";if(m.shareImageUrl)return U(m.shareImageUrl),m.shareImageUrl;if(ye)return X||"";const se=await rr()||m;if(!se)return"";q(!0);try{const ae=await Gx({analysis:se,avatarUrl:r});if(!ae)return"";U(ae);let Se="";try{const Ie=await yo.saveShareImage({dataUrl:ae,questionnaireType:"mbti",metadata:{source:"niveau4",userId:T}});Se=((Q=Ie==null?void 0:Ie.data)==null?void 0:Q.url)||""}catch(Ie){console.warn("Failed to upload share image to Cloudinary, using local copy instead",Ie)}return Se?(_(Ie=>Ie&&{...Ie,shareImageUrl:Se}),U(Se),Se):ae}catch(ae){return console.error("Share image generation failed",ae),""}finally{q(!1)}},[m,r,rr,X,ye,T]);return i?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):c?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:c})}):a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[a.jsx("img",{src:r,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),a.jsxs("div",{className:"flex-1 w-full",children:[a.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[a.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:d==="intro"?a.jsx(a.Fragment,{children:M}):d==="quiz"?a.jsx(a.Fragment,{children:"Réponds aux questions MBTI, puis termine pour lancer l'analyse."}):d==="generating"?a.jsx(a.Fragment,{children:"J'analyse tes réponses…"}):d==="results"?a.jsx(a.Fragment,{children:we==="confirm"?"Hésite pas à nous taguer dans ta story pour qu'on te republie si t'as aimé les résultats":a.jsxs(a.Fragment,{children:["Voici ton analyse MBTI. Si tu veux, tu peux la partager en story et me taguer ",a.jsx("strong",{children:"@zelia"})," pour que je la reposte ✨"]})}):d==="success"?a.jsx(a.Fragment,{children:"Niveau 4 réussi !"}):null}),a.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),d==="intro"&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:pe,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})}),d==="results"&&a.jsx("div",{className:"mt-4",children:we==="actions"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:[a.jsx("button",{onClick:Pt,disabled:N,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:a.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[a.jsx("path",{d:"M2 12s4-8 10-8 10 8 10 8-4 8-10 8S2 12 2 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),a.jsx("span",{className:"font-medium",children:N?"Préparation…":"Aperçu"})]})}),a.jsx("button",{onClick:Yr,disabled:fe,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:a.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[a.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"}),a.jsx("path",{d:"M14 2v6h6"}),a.jsx("path",{d:"M8 14h8M8 18h5"})]}),a.jsx("span",{className:"font-medium",children:fe?"Création du PDF…":"PDF"})]})}),a.jsx("button",{onClick:Tn,disabled:ne,className:"w-full h-12 px-3 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:a.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[a.jsx("path",{d:"M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"}),a.jsx("path",{d:"M12 16V4"}),a.jsx("path",{d:"m8 8 4-4 4 4"})]}),a.jsx("span",{className:"font-medium",children:ne?"Préparation…":"Partager"})]})}),a.jsx("button",{onClick:()=>Fe("confirm"),className:"w-full h-12 px-3 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:a.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"Continuer"}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:a.jsx("path",{d:"m9 18 6-6-6-6",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}):a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:lt,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Valider et terminer"})})})]})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[d==="quiz"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Test de personnalité MBTI"}),(()=>{const Q=C.length||0,ae=Q>=38&&Q<=40?40:Math.max(2+Q,3),Se=3+S;return a.jsxs("div",{className:"text-sm text-text-secondary",children:[Se," / ",ae," • ",be,"%"]})})()]}),a.jsx("div",{className:"mb-4 text-text-primary whitespace-pre-wrap",children:Me}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ve.map((se,Q)=>a.jsx("button",{type:"button",onClick:()=>y({...b,[Ae==null?void 0:Ae.id]:se}),className:`px-3 py-2 rounded-lg border ${b[Ae==null?void 0:Ae.id]===se?"border-black bg-black text-white":"border-line"}`,children:se},Q))}),a.jsxs("div",{className:"flex items-center justify-between mt-6",children:[a.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>j(se=>Math.max(0,se-1)),disabled:S===0,children:"Précédent"}),S<C.length-1?a.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>j(se=>Math.min(C.length-1,se+1)),disabled:!Qe,children:"Suivant"}):a.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>{f("generating"),Oe()},disabled:!Qe||A,children:A?"Analyse…":"Terminer"})]})]}),d==="results"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Mes Résultats (MBTI)"}),a.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de ton test MBTI"})]}),a.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyse de personnalité"}),a.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:(m==null?void 0:m.personalityAnalysis)||"—"})]}),Array.isArray(m==null?void 0:m.jobRecommendations)&&m.jobRecommendations.length>0&&a.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommandations d'emploi"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.jobRecommendations.map((se,Q)=>{var ae;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold mb-2",children:se.title}),!!((ae=se.skills)!=null&&ae.length)&&a.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700",children:se.skills.map((Se,Ie)=>a.jsx("li",{children:Se},Ie))})]},Q)})})]})]})]})]}),d==="success"&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[a.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),a.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 4 réussi !"}),a.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as complété le test MBTI et découvert ton profil."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"}),a.jsx("button",{onClick:()=>e("/app/results"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Voir mes résultats"})]}),a.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),a.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})}),H&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 overscroll-contain",onClick:()=>re(!1),children:a.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-[92%] max-w-[360px] sm:max-w-[420px] md:max-w-[560px] lg:max-w-[720px] p-4 md:p-5 border border-gray-200 max-h-[88vh] sm:max-h-[90vh] overflow-y-auto",onClick:se=>se.stopPropagation(),children:[a.jsx("button",{onClick:()=>re(!1),"aria-label":"Fermer",className:"absolute top-3 right-3 h-8 w-8 rounded-full bg-black text-white flex items-center justify-center shadow-sm hover:opacity-90",children:"✕"}),a.jsx("h3",{className:"text-lg font-bold pr-8",children:"Prévisualisation à partager"}),X?a.jsx("img",{src:X,alt:"Zélia MBTI Story",className:"mt-3 w-full h-auto rounded-lg border border-gray-200"}):a.jsx("div",{className:"text-center py-10",children:"Génération de l'image…"}),a.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3 opacity-80",children:[a.jsx("img",{src:"/assets/images/social/instagram.svg",alt:"Instagram",className:"w-7 h-7"}),a.jsx("img",{src:"/assets/images/social/twitter.svg",alt:"Twitter",className:"w-7 h-7"}),a.jsx("img",{src:"/assets/images/social/snapchat.svg",alt:"Snapchat",className:"w-7 h-7"})]}),a.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:["Astuce: Partage la story sur Instagram et tag ",F," pour qu'on puisse la republier."]}),a.jsx("div",{className:"sticky bottom-0 pt-3 mt-3 bg-white/95 supports-[backdrop-filter]:bg-white/80 backdrop-blur border-t border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[a.jsx("div",{className:"flex-1 text-left",children:X&&a.jsx("button",{onClick:()=>pt(X),disabled:V,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 mr-2",children:V?"Création du PDF…":"Télécharger PDF"})}),X&&a.jsx("a",{href:X,download:"zelia-mbti-story.png",className:"px-4 py-2 rounded-lg bg-black text-white border border-gray-200",children:"Enregistrer l'image"}),X&&a.jsx("button",{onClick:async()=>{try{const Q=await(await fetch(X)).blob(),ae=new File([Q],"zelia-mbti-story.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[ae]})?(await navigator.share({title:(m==null?void 0:m.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zélia — ${(m==null?void 0:m.personalityType)||""}`.trim(),files:[ae]}),re(!1)):alert("Le partage natif n'est pas supporté sur cet appareil. Vous pouvez enregistrer l'image puis la partager manuellement.")}catch(se){console.warn("Share from modal failed",se)}},className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:"Partager"}),a.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Fermer"})]})})]})})]})}function b2(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let r=e.avatar_json;if(typeof r=="string")try{r=JSON.parse(r)}catch{}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const i=new URL(r.url);if(i.protocol.startsWith("http"))return i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(r).forEach(([i,o])=>{o!=null&&o!==""&&s.set(i,String(o))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function _2(e,t){const[n,r]=v.useState(""),[s,i]=v.useState(!1),o=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{r(""),i(!1);const d=e||"";let f=0;const p=Math.max(15,Math.floor(t/Math.max(1,d.length)));return o.current=setInterval(()=>{f++,r(d.slice(0,f)),f>=d.length&&clearInterval(o.current)},p),c.current=setTimeout(()=>{clearInterval(o.current),r(d),i(!0)},Math.max(t,(d.length+1)*p)),()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current)}},[e,t]),{text:n,done:s,skip:()=>{o.current&&clearInterval(o.current),c.current&&clearTimeout(c.current),r(e||""),i(!0)}}}function j2(){const e=Jt(),[t,n]=v.useState(null),[r,s]=v.useState(""),[i,o]=v.useState(!0),[c,u]=v.useState(""),[d,f]=v.useState(""),[p,x]=v.useState(0),[S,j]=v.useState({}),[C,k]=v.useState(!1),[b,y]=v.useState(!1),[m,_]=v.useState(!1),[T,E]=v.useState(""),A=R=>{if("speechSynthesis"in window){const N=new SpeechSynthesisUtterance(R);N.lang="en-US",N.rate=.8,window.speechSynthesis.speak(N)}};v.useEffect(()=>{let R=!0;return(async()=>{var N;try{const{data:{user:J}}=await Et.auth.getUser();if(!J){e("/login");return}f(J.id);const fe=await nr.getProfile().catch(()=>null);if(!R)return;const ge=((N=fe==null?void 0:fe.data)==null?void 0:N.profile)||(fe==null?void 0:fe.data)||null;n(ge),s(b2(ge,J.id))}catch(J){if(console.error(J),!R)return;u("Erreur de chargement")}finally{R&&o(!1)}})(),()=>{R=!1}},[e]);const $=v.useMemo(()=>[{type:"text",text:"Hey! Welcome to Level 5. We're going to test your English skills in a fun conversation. I'll ask you questions, play some audio, and at the end, I'll tell you your CEFR level from A1 to C2. Ready?",durationMs:6e3},{type:"text",text:"First, let's test your listening. I'll play a short audio. Listen carefully and answer the question after.",durationMs:4e3},{type:"audio",text:"Listen: 'Hello, my name is John. I live in London and I work as a teacher. I like reading books and playing football.' What is John's job?",audioText:"Hello, my name is John. I live in London and I work as a teacher. I like reading books and playing football."},{type:"input",id:"listening1",placeholder:"Your answer..."},{type:"text",text:"Good! Now, another listening test. Listen: 'The weather is sunny today. I am going to the park with my friends. We will have a picnic and play games.' Where are they going?",durationMs:4e3},{type:"audio",text:"Listen carefully.",audioText:"The weather is sunny today. I am going to the park with my friends. We will have a picnic and play games."},{type:"input",id:"listening2",placeholder:"Your answer..."},{type:"text",text:"Great listening! Now, speaking. Describe your favorite hobby in English. Be as detailed as you can.",durationMs:3e3},{type:"input",id:"speaking1",placeholder:"Describe your hobby..."},{type:"text",text:"Nice! Reading test. Read this: 'Cats are popular pets. They are independent and playful. Many people love cats because they are cute and fun.' What are cats described as?",durationMs:5e3},{type:"input",id:"reading1",placeholder:"Your answer..."},{type:"text",text:"Good. Writing test. Write a short paragraph about your daily routine. Use at least 5 sentences.",durationMs:3e3},{type:"input",id:"writing1",placeholder:"Write your paragraph..."},{type:"text",text:"Vocabulary: What does 'happy' mean? Choose: a) sad, b) joyful, c) angry",durationMs:3e3},{type:"input",id:"vocab1",placeholder:"a, b, or c..."},{type:"text",text:"Grammar: Fill in the blank: 'I ___ to school every day.' (go, goes, going)",durationMs:3e3},{type:"input",id:"grammar1",placeholder:"Your answer..."},{type:"text",text:"Conversation: What do you think about learning English? Why is it important?",durationMs:3e3},{type:"input",id:"conversation1",placeholder:"Your opinion..."},{type:"text",text:"Thanks for participating! Now, let's calculate your English level based on your answers.",durationMs:3e3},{type:"result"}],[]),z=$[p]||{type:"text",text:"",durationMs:1e3},{text:I,done:H,skip:re}=_2(z.type==="text"||z.type==="audio"?z.text:"",z.durationMs||1500);v.useEffect(()=>{if(z.type!=="text"&&z.type!=="audio"||H)return;const R=setInterval(()=>y(N=>!N),200);return()=>clearInterval(R)},[z,H]);function X(R,N={}){try{const J=new URL(R);return/api\.dicebear\.com/.test(J.host)&&/\/lorelei\/svg/.test(J.pathname)?(Object.entries(N).forEach(([ge,we])=>{we==null||we===""?J.searchParams.delete(ge):J.searchParams.set(ge,String(we))}),J.searchParams.has("size")||J.searchParams.set("size","300"),J.toString()):R}catch{return R}}const U=v.useMemo(()=>{let R=r;return!R||!(()=>{try{const J=new URL(R);return/api\.dicebear\.com/.test(J.host)&&/\/lorelei\/svg/.test(J.pathname)}catch{return!1}})()||(z.type==="text"&&!H?R=X(R,{mouth:b?"happy08":null}):R=X(R,{mouth:null})),R},[r,z,H,b]),ne=()=>z.type==="text"||z.type==="audio"?H:z.type==="input"?S[z.id]&&S[z.id].trim().length>0:(z.type==="result",!0),Z=()=>{if(z.type==="text"&&!H){re();return}if(ne())if(p+1<$.length){const R=p+1;x(R);const N=$[R];N&&N.type==="audio"&&A(N.audioText),N&&N.type==="result"&&E(q(S))}else V()};function ye(R){return{A1:`Your English level is: A1 (Beginner)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires. À ce niveau débutant, concentrez-vous sur les bases : vocabulaire quotidien, phrases simples. Avec de la pratique régulière, vous progresserez rapidement vers des niveaux plus avancés qui ouvriront des opportunités internationales.`,A2:`Your English level is: A2 (Elementary)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires et de la technologie. À ce niveau élémentaire, vous pouvez déjà communiquer sur des sujets familiers. Continuez à pratiquer pour atteindre B1 et améliorer votre employabilité sur le marché international.`,B1:`Your English level is: B1 (Intermediate)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau intermédiaire, vous pouvez discuter de sujets variés et comprendre des textes complexes. Cela vous donne déjà un avantage compétitif ; visez B2 pour des opportunités plus élevées.`,B2:`Your English level is: B2 (Upper Intermediate)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau avancé, vous maîtrisez la langue couramment. Cela ouvre des portes vers des postes internationaux et des carrières dans des entreprises multinationales. Continuez à perfectionner pour atteindre C1.`,C1:`Your English level is: C1 (Advanced)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau avancé, vous utilisez l'anglais avec aisance et précision. Cela vous positionne pour des rôles de leadership international et des opportunités dans des secteurs de pointe. Visez C2 pour une maîtrise totale.`,C2:`Your English level is: C2 (Proficient)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau expert, vous maîtrisez parfaitement l'anglais. Cela vous donne accès aux meilleures opportunités professionnelles mondiales, y compris dans des domaines spécialisés et innovants. Félicitations pour ce niveau exceptionnel !`}[R]||"Your English level is: "+R+`

L'anglais est essentiel pour votre avenir professionnel. Continuez à pratiquer !`}function q(R){var M,ee,de,pe,ve,Ae,Me;let N=0;((M=R.listening1)!=null&&M.toLowerCase().includes("teacher")||(ee=R.listening1)!=null&&ee.toLowerCase().includes("professor"))&&(N+=25),((de=R.listening2)!=null&&de.toLowerCase().includes("park")||(pe=R.listening2)!=null&&pe.toLowerCase().includes("garden"))&&(N+=25);const J=R.speaking1||"";J.split(/\s+/).length>20&&(N+=15),J.includes("I")&&J.includes("like")&&(N+=10),(J.includes("because")||J.includes("so"))&&(N+=5);const ge=((ve=R.reading1)==null?void 0:ve.toLowerCase())||"";(ge.includes("independent")||ge.includes("playful")||ge.includes("cute")||ge.includes("fun"))&&(N+=20);const we=R.writing1||"",Fe=we.split(/\s+/).length;we.split(/[.!?]+/).filter(be=>be.trim().length>0).length>=5&&(N+=15),Fe>50&&(N+=10),we.includes("I ")&&we.includes("my ")&&(N+=5),((Ae=R.vocab1)==null?void 0:Ae.toLowerCase().trim())==="b"&&(N+=15),((Me=R.grammar1)==null?void 0:Me.toLowerCase().trim())==="go"&&(N+=15);const G=R.conversation1||"";return G.split(/\s+/).length>30&&(N+=10),(G.includes("important")||G.includes("because")||G.includes("future"))&&(N+=10),N<=30?"A1":N<=60?"A2":N<=90?"B1":N<=120?"B2":N<=150?"C1":"C2"}function V(){const R=q(S);E(R),k(!0),(async()=>{try{try{await Pe.post("/questionnaire/niveau5",{answers:S,englishLevel:R})}catch{}try{await Yo({minLevel:5,xpReward:180})}catch(N){console.warn("Progression update failed",N)}_(!0)}finally{k(!1)}})()}return i?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):c?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:c})}):a.jsxs("div",{className:"p-4 md:p-6",children:[a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[a.jsx("img",{src:U,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),a.jsxs("div",{className:"flex-1 w-full",children:[(z.type==="text"||z.type==="audio")&&a.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[a.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:I}),a.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),z.type==="result"&&a.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[a.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:ye(T)}),a.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),z.type==="input"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"font-medium text-text-primary block",children:"Réponse"}),a.jsx("textarea",{className:"w-full rounded-xl border border-gray-300 p-3 focus:outline-none focus:ring-2 focus:ring-black min-h-[140px]",placeholder:z.placeholder||"Ta réponse...",value:S[z.id],onChange:R=>j(N=>({...N,[z.id]:R.target.value}))})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx("button",{onClick:Z,disabled:!ne()||C,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50",children:p+1<$.length?(z.type==="text"||z.type==="audio")&&!H?"Passer":"Suivant":"Terminer"}),a.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Quitter"})]})]})]})})}),m&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[a.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🎯"}),a.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 5 terminé !"}),a.jsxs("p",{className:"text-text-secondary mb-4",children:["Ton niveau d'anglais est : ",a.jsx("strong",{children:T}),". Continue à pratiquer pour progresser !"]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:a.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})})]})})]})}function S2(){const[e,t]=v.useState("loading"),[n,r]=v.useState(""),s=Jt(),i=wr();return v.useEffect(()=>{(async()=>{try{const c=new URLSearchParams(i.hash.substring(1)),u=c.get("access_token"),d=c.get("refresh_token");if(c.get("type")==="signup"&&u){const{data:p,error:x}=await Et.auth.setSession({access_token:u,refresh_token:d});if(x){console.error("Error setting session:",x),t("error"),r("Erreur lors de la validation de l'email");return}localStorage.setItem("supabase_auth_token",u),t("success"),r("Email validé"),setTimeout(()=>{alert("Email validé");const S=localStorage.getItem("answers_cache");s(S?"/app/results":"/app")},1e3)}else t("error"),r("Lien de confirmation invalide")}catch(c){console.error("Email confirmation error:",c),t("error"),r("Erreur lors de la validation de l'email")}})()},[i,s]),a.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:a.jsxs("div",{className:"w-full max-w-md text-center",children:[e==="loading"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsxs("svg",{className:"w-8 h-8 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Validation en cours..."}),a.jsx("p",{className:"text-text-secondary",children:"Nous validons votre email, veuillez patienter."})]}),e==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:n}),a.jsx("p",{className:"text-text-secondary",children:"Redirection vers votre tableau de bord..."})]}),e==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Erreur"}),a.jsx("p",{className:"text-text-secondary mb-4",children:n}),a.jsx("button",{onClick:()=>s("/login"),className:"bg-black text-white px-6 py-2 rounded-lg",children:"Retour à la connexion"})]})]})})}const k2=new Set(["joris.geerdes@zelia.io","nicolas.wiegele@zelia.io"]);function N2(){const[e,t]=v.useState("student"),[n,r]=v.useState(null),[s,i]=v.useState(!0),[o,c]=v.useState(""),[u,d]=v.useState([]),[f,p]=v.useState(""),x=v.useRef(null),[S,j]=v.useState([]),[C,k]=v.useState(""),[b,y]=v.useState(!1),[m,_]=v.useState([]),[T,E]=v.useState(null);v.useEffect(()=>{let I=!0;return(async()=>{var H,re,X,U;try{i(!0);let ne=null;const{data:{user:Z},error:ye}=await Et.auth.getUser();if(Z&&!ye)ne={id:Z.id,email:Z.email};else try{const N=await Pe.get("/users/me");ne={id:N.data.user.id,email:N.data.user.email}}catch{throw new Error("Non authentifié")}if(!I)return;r(ne);const{data:q,error:V}=await Et.from("global_chat").select("*").order("created_at",{ascending:!0}).limit(200);if(V)throw V;if(!I)return;d(q||[]);try{let N=[];try{const J=await Pe.get(`/analysis/results/${ne.id}`);N=((re=(H=J==null?void 0:J.data)==null?void 0:H.results)==null?void 0:re.jobRecommendations)||[]}catch{try{const fe=await Pe.get("/analysis/my-results");N=((U=(X=fe==null?void 0:fe.data)==null?void 0:X.results)==null?void 0:U.jobRecommendations)||[]}catch{}}_(N),N.length>0&&E(N[0])}catch{}const R=Et.channel("global_chat_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"global_chat"},N=>{d(J=>[...J,N.new])}).subscribe();return()=>{Et.removeChannel(R)}}catch(ne){I&&c(ne.message||"Erreur de chargement")}finally{I&&i(!1)}})(),()=>{I=!1}},[]),v.useEffect(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[u,S]);const A=async()=>{const I=f.trim();if(!I||!n)return;p("");const H={id:Date.now(),user_id:n.id,user_email:n.email,content:I,created_at:new Date().toISOString()};d(X=>[...X,H]);const{error:re}=await Et.from("global_chat").insert({user_id:n.id,user_email:n.email,content:I});re&&(c(re.message),d(X=>X.filter(U=>U!==H)),p(I))},$=I=>I&&k2.has(I.toLowerCase()),z=async()=>{var re;const I=C.trim();if(!I)return;const H=[...S,{role:"user",content:I}];j(H),k(""),y(!0);try{const{data:{session:X}}=await Et.auth.getSession(),U=(X==null?void 0:X.access_token)||localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),ne=U?{Authorization:`Bearer ${U}`}:{},Z=await Pe.post("/chat/ai",{mode:T?"persona":"advisor",persona:T||void 0,message:I,history:H.slice(-10),jobTitles:(m||[]).map(q=>q==null?void 0:q.title).filter(Boolean),advisorType:(T==null?void 0:T.title)||"conseiller-ia"},{headers:ne}),ye=((re=Z==null?void 0:Z.data)==null?void 0:re.reply)||"Je n'ai pas pu générer de réponse.";j(q=>[...q,{role:"assistant",content:ye}])}catch(X){j(U=>{var ne,Z;return[...U,{role:"assistant",content:"Erreur IA: "+(((Z=(ne=X==null?void 0:X.response)==null?void 0:ne.data)==null?void 0:Z.error)||X.message)}]})}finally{y(!1)}};return s?a.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full border-4 border-gray-200 relative",children:[a.jsx("div",{className:"absolute inset-1 rounded-full border-4",style:{borderColor:"#c1ff72"}}),a.jsx("div",{className:"absolute right-0 bottom-0 h-3 w-3 rounded-full",style:{background:"#f68fff"}})]}),a.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Chargement du chat…"})]})}):o?a.jsx("div",{className:"p-6 text-red-600",children:o}):a.jsx("div",{className:"min-h-screen bg-white p-4 flex flex-col",children:a.jsxs("div",{className:"w-full space-y-6 flex flex-col",children:[a.jsx("div",{className:"bg-white rounded-3xl p-6 border border-gray-200 shadow-card",children:a.jsx("div",{className:"flex flex-col items-center gap-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${e==="student"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>t("student"),children:"Étudiant"}),a.jsx("span",{className:"text-gray-400",children:"/"}),a.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${e==="ai"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>t("ai"),children:"IA"})]})})}),e==="student"?a.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[a.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Chat global"}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c1ff72] text-black border border-gray-200",children:"Tous les utilisateurs"})]}),a.jsx("div",{ref:x,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:u.map(I=>a.jsx("div",{className:`flex ${I.user_id===n.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${I.user_id===n.id?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[a.jsxs("div",{className:"text-xs mb-1 flex items-center gap-2",children:[$(I.user_email)?a.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-[#f68fff] text-white",children:"Admin"}):a.jsx("span",{className:"text-gray-600",children:I.user_email||"Utilisateur"}),a.jsxs("span",{className:"text-gray-400",children:["· ",new Date(I.created_at).toLocaleTimeString()]})]}),a.jsx("div",{className:"whitespace-pre-wrap break-words",children:I.content})]})},I.id))}),a.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:"Écrire un message…",value:f,onChange:I=>p(I.target.value),onKeyDown:I=>{I.key==="Enter"&&A()}}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-black text-white",onClick:A,children:"Envoyer"})]})})]}):a.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[a.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2 flex-wrap",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center",children:"Conseiller IA"}),m.length>0?a.jsxs("div",{className:"mt-3 w-full flex flex-wrap items-center justify-center gap-2",children:[a.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${T?"bg-white border-line":"bg-black text-white border-black"}`,onClick:()=>E(null),title:"Conseiller général",children:"Général"},"general"),m.map((I,H)=>{var re;return a.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${(T==null?void 0:T.title)===I.title?"bg-black text-white border-black":"bg-white border-line"}`,onClick:()=>E(I),title:(re=I.skills)==null?void 0:re.join(", "),children:I.title},H)})]}):a.jsx("p",{className:"text-sm text-text-secondary text-center mt-1",children:"Conseiller d'orientation"})]}),a.jsxs("div",{ref:x,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:[S.map((I,H)=>a.jsx("div",{className:`flex ${I.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${I.role==="user"?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[a.jsx("div",{className:"text-xs mb-1 text-gray-600",children:I.role==="user"?"Vous":T?T.title:"Conseiller IA"}),a.jsx("div",{className:"whitespace-pre-wrap break-words",children:I.content})]})},H)),b&&a.jsx("div",{className:"text-sm text-gray-500",children:"L'IA rédige une réponse…"})]}),a.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:T?`Parler avec ${T.title}…`:"Poser une question d'orientation…",value:C,onChange:I=>k(I.target.value),onKeyDown:I=>{I.key==="Enter"&&z()}}),a.jsx("button",{disabled:b,className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-60",onClick:z,children:"Envoyer"})]})})]})]})})}const Sg=v.lazy(()=>he(()=>import("./Activites-Dqg6_ofx.js"),[])),E2=Object.assign({"./pages/niveau/Niveau10.jsx":()=>he(()=>import("./Niveau10-BgOpyagp.js"),[]),"./pages/niveau/Niveau11.jsx":()=>he(()=>import("./Niveau11-CEy-NuTy.js"),__vite__mapDeps([0,1])),"./pages/niveau/Niveau12.jsx":()=>he(()=>import("./Niveau12-BPLynVtb.js"),__vite__mapDeps([2,1])),"./pages/niveau/Niveau13.jsx":()=>he(()=>import("./Niveau13-D2YkiANe.js"),__vite__mapDeps([3,1])),"./pages/niveau/Niveau14.jsx":()=>he(()=>import("./Niveau14-C-gTYf2z.js"),__vite__mapDeps([4,1])),"./pages/niveau/Niveau15.jsx":()=>he(()=>import("./Niveau15-D0xOegRV.js"),__vite__mapDeps([5,1])),"./pages/niveau/Niveau16.jsx":()=>he(()=>import("./Niveau16-D7m8vI5u.js"),__vite__mapDeps([6,1])),"./pages/niveau/Niveau17.jsx":()=>he(()=>import("./Niveau17-Bkr7b-Qj.js"),__vite__mapDeps([7,1])),"./pages/niveau/Niveau18.jsx":()=>he(()=>import("./Niveau18-xpLvuBYQ.js"),__vite__mapDeps([8,1])),"./pages/niveau/Niveau19.jsx":()=>he(()=>import("./Niveau19-TFbE1e5m.js"),__vite__mapDeps([9,1])),"./pages/niveau/Niveau20.jsx":()=>he(()=>import("./Niveau20-BNmjwYeY.js"),__vite__mapDeps([10,1])),"./pages/niveau/Niveau21.jsx":()=>he(()=>import("./Niveau21-6jrmvraG.js"),__vite__mapDeps([11,1])),"./pages/niveau/Niveau22.jsx":()=>he(()=>import("./Niveau22-BEwOptpZ.js"),__vite__mapDeps([12,1])),"./pages/niveau/Niveau23.jsx":()=>he(()=>import("./Niveau23-CwJtvtCi.js"),__vite__mapDeps([13,1])),"./pages/niveau/Niveau24.jsx":()=>he(()=>import("./Niveau24-B6hjX_Bu.js"),__vite__mapDeps([14,1])),"./pages/niveau/Niveau25.jsx":()=>he(()=>import("./Niveau25-DTmYlV21.js"),__vite__mapDeps([15,1])),"./pages/niveau/Niveau26.jsx":()=>he(()=>import("./Niveau26-CTz0MvFv.js"),__vite__mapDeps([16,1])),"./pages/niveau/Niveau27.jsx":()=>he(()=>import("./Niveau27-C0PoXnZ2.js"),__vite__mapDeps([17,1])),"./pages/niveau/Niveau28.jsx":()=>he(()=>import("./Niveau28-CeHM6WbT.js"),__vite__mapDeps([18,1])),"./pages/niveau/Niveau29.jsx":()=>he(()=>import("./Niveau29-DxfzX9l-.js"),__vite__mapDeps([19,1])),"./pages/niveau/Niveau30.jsx":()=>he(()=>import("./Niveau30-D4cWuU-B.js"),__vite__mapDeps([20,1])),"./pages/niveau/Niveau31.jsx":()=>he(()=>import("./Niveau31-DoeUNXwH.js"),__vite__mapDeps([21,1])),"./pages/niveau/Niveau32.jsx":()=>he(()=>import("./Niveau32-BanjJDp8.js"),__vite__mapDeps([22,1])),"./pages/niveau/Niveau33.jsx":()=>he(()=>import("./Niveau33-8oiIk-ot.js"),__vite__mapDeps([23,1])),"./pages/niveau/Niveau34.jsx":()=>he(()=>import("./Niveau34-B9ur8K1E.js"),__vite__mapDeps([24,1])),"./pages/niveau/Niveau35.jsx":()=>he(()=>import("./Niveau35-DwumOAfQ.js"),__vite__mapDeps([25,1])),"./pages/niveau/Niveau36.jsx":()=>he(()=>import("./Niveau36-LHmdxo-4.js"),__vite__mapDeps([26,1])),"./pages/niveau/Niveau37.jsx":()=>he(()=>import("./Niveau37-CNjhJGCk.js"),__vite__mapDeps([27,1])),"./pages/niveau/Niveau38.jsx":()=>he(()=>import("./Niveau38-DAjfMDhk.js"),__vite__mapDeps([28,1])),"./pages/niveau/Niveau39.jsx":()=>he(()=>import("./Niveau39-DX23oKz5.js"),__vite__mapDeps([29,1])),"./pages/niveau/Niveau40.jsx":()=>he(()=>import("./Niveau40-D3UAH4qW.js"),__vite__mapDeps([30,1])),"./pages/niveau/Niveau41.jsx":()=>he(()=>import("./Niveau41-w3CwREkN.js"),__vite__mapDeps([31,1])),"./pages/niveau/Niveau42.jsx":()=>he(()=>import("./Niveau42-C6c8CtUF.js"),__vite__mapDeps([32,1])),"./pages/niveau/Niveau43.jsx":()=>he(()=>import("./Niveau43-ttu6AU2Z.js"),__vite__mapDeps([33,1])),"./pages/niveau/Niveau44.jsx":()=>he(()=>import("./Niveau44-Bol7OcfG.js"),__vite__mapDeps([34,1])),"./pages/niveau/Niveau45.jsx":()=>he(()=>import("./Niveau45-dKP7tnfN.js"),__vite__mapDeps([35,1])),"./pages/niveau/Niveau46.jsx":()=>he(()=>import("./Niveau46-bG-QnYJQ.js"),__vite__mapDeps([36,1])),"./pages/niveau/Niveau47.jsx":()=>he(()=>import("./Niveau47-CJyg38kW.js"),__vite__mapDeps([37,1])),"./pages/niveau/Niveau48.jsx":()=>he(()=>import("./Niveau48-DRjjE7Xl.js"),__vite__mapDeps([38,1])),"./pages/niveau/Niveau49.jsx":()=>he(()=>import("./Niveau49-CG57Lqg6.js"),__vite__mapDeps([39,1])),"./pages/niveau/Niveau50.jsx":()=>he(()=>import("./Niveau50-D51-AImj.js"),__vite__mapDeps([40,1])),"./pages/niveau/Niveau6.jsx":()=>he(()=>import("./Niveau6-BpwvHKM_.js"),[]),"./pages/niveau/Niveau7.jsx":()=>he(()=>import("./Niveau7-C9aHZNPa.js"),[]),"./pages/niveau/Niveau8.jsx":()=>he(()=>import("./Niveau8-BzLK67UT.js"),[]),"./pages/niveau/Niveau9.jsx":()=>he(()=>import("./Niveau9-iO4Rf_sp.js"),[])}),Yx=Object.entries(E2).reduce((e,[t,n])=>{const r=t.match(/Niveau(\d+)\.jsx$/);if(!r)return e;const s=Number(r[1]);return Number.isNaN(s)||s<=5||(e[s]=v.lazy(()=>n())),e},{});D1();const C2=Object.keys(Yx).map(e=>Number(e)).sort((e,t)=>e-t);function T2(){return a.jsx(T1,{children:a.jsxs(b1,{children:[a.jsx(st,{path:"/",element:a.jsx($E,{})}),a.jsx(st,{path:"/login",element:a.jsx(TE,{})}),a.jsx(st,{path:"/register",element:a.jsx(PE,{})}),a.jsx(st,{path:"/email-confirmation",element:a.jsx(S2,{})}),a.jsx(st,{path:"/avatar",element:a.jsx(FE,{})}),a.jsx(st,{path:"/questionnaire",element:a.jsx(RE,{})}),a.jsxs(st,{path:"/app",element:a.jsx(A2,{children:a.jsx(o2,{})}),children:[a.jsx(st,{index:!0,element:a.jsx(v.Suspense,{fallback:a.jsx("div",{className:"p-6 text-center",children:"Chargement des activités…"}),children:a.jsx(Sg,{})})}),a.jsx(st,{path:"profile",element:a.jsx(i2,{})}),a.jsx(st,{path:"results",element:a.jsx(qE,{})}),a.jsx(st,{path:"formations",element:a.jsx(a2,{})}),a.jsx(st,{path:"emplois",element:a.jsx(l2,{})}),a.jsx(st,{path:"activites",element:a.jsx(v.Suspense,{fallback:a.jsx("div",{className:"p-6 text-center",children:"Chargement des activités…"}),children:a.jsx(Sg,{})})}),a.jsx(st,{path:"lettre",element:a.jsx(c2,{})}),a.jsx(st,{path:"chat",element:a.jsx(N2,{})}),a.jsx(st,{path:"niveau/1",element:a.jsx(d2,{})}),a.jsx(st,{path:"niveau/2",element:a.jsx(m2,{})}),a.jsx(st,{path:"niveau/3",element:a.jsx(y2,{})}),a.jsx(st,{path:"niveau/4",element:a.jsx(w2,{})}),a.jsx(st,{path:"niveau/5",element:a.jsx(j2,{})}),C2.map(e=>{const t=Yx[e];return a.jsx(st,{path:`niveau/${e}`,element:a.jsx(v.Suspense,{fallback:a.jsx("div",{className:"p-6 text-center",children:"Chargement du niveau…"}),children:a.jsx(t,{})})},e)})]}),a.jsx(st,{path:"*",element:a.jsx(Gy,{to:"/"})})]})})}const P2=My(document.getElementById("root"));P2.render(a.jsx(T2,{}));function A2({children:e}){return localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")?e:a.jsx(Gy,{to:"/login"})}export{uC as A,Jx as P,he as _,nr as a,Pe as b,O2 as c,cC as d,fC as e,Jh as f,aC as g,yo as h,hC as i,a as j,hn as k,Yo as l,Zw as m,lC as p,dC as q,v as r,Et as s,Jt as u};
