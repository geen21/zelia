function xx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const bx="modulepreload",_x=function(t){return"/"+t},Tg={},ti=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=_x(c),c in Tg)return;Tg[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":bx,d||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Y2={exports:{}},hh={},X2={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),jx=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),Px=Symbol.for("react.provider"),Cx=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),Tx=Symbol.for("react.suspense"),Ix=Symbol.for("react.memo"),Rx=Symbol.for("react.lazy"),Ig=Symbol.iterator;function Ox(t){return t===null||typeof t!="object"?null:(t=Ig&&t[Ig]||t["@@iterator"],typeof t=="function"?t:null)}var Q2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z2=Object.assign,ev={};function il(t,e,r){this.props=t,this.context=e,this.refs=ev,this.updater=r||Q2}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tv(){}tv.prototype=il.prototype;function Km(t,e,r){this.props=t,this.context=e,this.refs=ev,this.updater=r||Q2}var Ym=Km.prototype=new tv;Ym.constructor=Km;Z2(Ym,il.prototype);Ym.isPureReactComponent=!0;var Rg=Array.isArray,rv=Object.prototype.hasOwnProperty,Xm={current:null},nv={key:!0,ref:!0,__self:!0,__source:!0};function sv(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)rv.call(e,n)&&!nv.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Wc,type:t,key:i,ref:a,props:s,_owner:Xm.current}}function Fx(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function Mx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Og=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mx(""+t.key):e.toString(36)}function gd(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wc:case jx:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Tf(a,0):n,Rg(s)?(r="",t!=null&&(r=t.replace(Og,"$&/")+"/"),gd(s,e,r,"",function(d){return d})):s!=null&&(Qm(s)&&(s=Fx(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Og,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Rg(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Tf(i,o);a+=gd(i,e,r,c,s)}else if(c=Ox(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Tf(i,o++),a+=gd(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Hu(t,e,r){if(t==null)return t;var n=[],s=0;return gd(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Dx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},vd={transition:null},Bx={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:vd,ReactCurrentOwner:Xm};function iv(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:Hu,forEach:function(t,e,r){Hu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!Qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=il;Nt.Fragment=kx;Nt.Profiler=Lx;Nt.PureComponent=Km;Nt.StrictMode=Ax;Nt.Suspense=Tx;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx;Nt.act=iv;Nt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Z2({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Xm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)rv.call(e,c)&&!nv.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Wc,type:t.type,key:s,ref:i,props:n,_owner:a}};Nt.createContext=function(t){return t={$$typeof:Cx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Px,_context:t},t.Consumer=t};Nt.createElement=sv;Nt.createFactory=function(t){var e=sv.bind(null,t);return e.type=t,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:Ex,render:t}};Nt.isValidElement=Qm;Nt.lazy=function(t){return{$$typeof:Rx,_payload:{_status:-1,_result:t},_init:Dx}};Nt.memo=function(t,e){return{$$typeof:Ix,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=vd.transition;vd.transition={};try{t()}finally{vd.transition=e}};Nt.unstable_act=iv;Nt.useCallback=function(t,e){return dn.current.useCallback(t,e)};Nt.useContext=function(t){return dn.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Nt.useEffect=function(t,e){return dn.current.useEffect(t,e)};Nt.useId=function(){return dn.current.useId()};Nt.useImperativeHandle=function(t,e,r){return dn.current.useImperativeHandle(t,e,r)};Nt.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return dn.current.useMemo(t,e)};Nt.useReducer=function(t,e,r){return dn.current.useReducer(t,e,r)};Nt.useRef=function(t){return dn.current.useRef(t)};Nt.useState=function(t){return dn.current.useState(t)};Nt.useSyncExternalStore=function(t,e,r){return dn.current.useSyncExternalStore(t,e,r)};Nt.useTransition=function(){return dn.current.useTransition()};Nt.version="18.3.1";X2.exports=Nt;var D=X2.exports;const Zm=Nx(D),Ux=xx({__proto__:null,default:Zm},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=D,zx=Symbol.for("react.element"),$x=Symbol.for("react.fragment"),Wx=Object.prototype.hasOwnProperty,Hx=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vx={key:!0,ref:!0,__self:!0,__source:!0};function av(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Wx.call(e,n)&&!Vx.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:zx,type:t,key:i,ref:a,props:s,_owner:Hx.current}}hh.Fragment=$x;hh.jsx=av;hh.jsxs=av;Y2.exports=hh;var u=Y2.exports,ov={exports:{}},Dn={},lv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,oe){var Y=V.length;V.push(oe);e:for(;0<Y;){var ge=Y-1>>>1,k=V[ge];if(0<s(k,oe))V[ge]=oe,V[Y]=k,Y=ge;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var oe=V[0],Y=V.pop();if(Y!==oe){V[0]=Y;e:for(var ge=0,k=V.length,B=k>>>1;ge<B;){var W=2*(ge+1)-1,X=V[W],te=W+1,J=V[te];if(0>s(X,Y))te<k&&0>s(J,X)?(V[ge]=J,V[te]=Y,ge=te):(V[ge]=X,V[W]=Y,ge=W);else if(te<k&&0>s(J,Y))V[ge]=J,V[te]=Y,ge=te;else break e}}return oe}function s(V,oe){var Y=V.sortIndex-oe.sortIndex;return Y!==0?Y:V.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],f=1,p=null,y=3,g=!1,N=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var oe=r(d);oe!==null;){if(oe.callback===null)n(d);else if(oe.startTime<=V)n(d),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=r(d)}}function I(V){if(S=!1,b(V),!N)if(r(c)!==null)N=!0,se(q);else{var oe=r(d);oe!==null&&de(I,oe.startTime-V)}}function q(V,oe){N=!1,S&&(S=!1,w(M),M=-1),g=!0;var Y=y;try{for(b(oe),p=r(c);p!==null&&(!(p.expirationTime>oe)||V&&!T());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,y=p.priorityLevel;var k=ge(p.expirationTime<=oe);oe=t.unstable_now(),typeof k=="function"?p.callback=k:p===r(c)&&n(c),b(oe)}else n(c);p=r(c)}if(p!==null)var B=!0;else{var W=r(d);W!==null&&de(I,W.startTime-oe),B=!1}return B}finally{p=null,y=Y,g=!1}}var $=!1,U=null,M=-1,ae=5,Z=-1;function T(){return!(t.unstable_now()-Z<ae)}function R(){if(U!==null){var V=t.unstable_now();Z=V;var oe=!0;try{oe=U(!0,V)}finally{oe?K():($=!1,U=null)}}else $=!1}var K;if(typeof x=="function")K=function(){x(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ce=F.port2;F.port1.onmessage=R,K=function(){ce.postMessage(null)}}else K=function(){j(R,0)};function se(V){U=V,$||($=!0,K())}function de(V,oe){M=j(function(){V(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){N||g||(N=!0,se(q))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(V){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var Y=y;y=oe;try{return V()}finally{y=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,oe){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=y;y=V;try{return oe()}finally{y=Y}},t.unstable_scheduleCallback=function(V,oe,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,V){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,V={id:f++,callback:oe,priorityLevel:V,startTime:Y,expirationTime:k,sortIndex:-1},Y>ge?(V.sortIndex=Y,e(d,V),r(c)===null&&V===r(d)&&(S?(w(M),M=-1):S=!0,de(I,Y-ge))):(V.sortIndex=k,e(c,V),N||g||(N=!0,se(q))),V},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(V){var oe=y;return function(){var Y=y;y=oe;try{return V.apply(this,arguments)}finally{y=Y}}}})(cv);lv.exports=cv;var Gx=lv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=D,Mn=Gx;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uv=new Set,_c={};function Oa(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(_c[t]=e,t=0;t<e.length;t++)uv.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=Object.prototype.hasOwnProperty,Kx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},Mg={};function Yx(t){return kp.call(Mg,t)?!0:kp.call(Fg,t)?!1:Kx.test(t)?Mg[t]=!0:(Fg[t]=!0,!1)}function Xx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qx(t,e,r,n){if(e===null||typeof e>"u"||Xx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var e0=/[\-:]([a-z])/g;function t0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e0,t0);zr[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e0,t0);zr[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e0,t0);zr[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function r0(t,e,r,n){var s=zr.hasOwnProperty(e)?zr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qx(e,r,s,n)&&(r=null),n||s===null?Yx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ai=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),Pp=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),fv=Symbol.for("react.offscreen"),Dg=Symbol.iterator;function Wl(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var ir=Object.assign,If;function nc(t){if(If===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Rf=!1;function Of(t,e){if(!t||Rf)return"";Rf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{Rf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nc(t):""}function Zx(t){switch(t.tag){case 5:return nc(t.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return t=Of(t.type,!1),t;case 11:return t=Of(t.type.render,!1),t;case 1:return t=Of(t.type,!0),t;default:return""}}function Cp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case ko:return"Portal";case Ap:return"Profiler";case n0:return"StrictMode";case Lp:return"Suspense";case Pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hv:return(t.displayName||"Context")+".Consumer";case dv:return(t._context.displayName||"Context")+".Provider";case s0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:Cp(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return Cp(t(e))}catch{}}return null}function eb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tb(t){var e=pv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gu(t){t._valueTracker||(t._valueTracker=tb(t))}function mv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=pv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ep(t,e){var r=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Bg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Hi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gv(t,e){e=e.checked,e!=null&&r0(t,"checked",e,!1)}function Tp(t,e){gv(t,e);var r=Hi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ip(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ip(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ug(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ip(t,e,r){(e!=="number"||Od(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sc=Array.isArray;function Bo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Hi(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Rp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Re(92));if(sc(r)){if(1<r.length)throw Error(Re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Hi(r)}}function vv(t,e){var r=Hi(e.value),n=Hi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,wv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){rb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function xv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function bv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=xv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var nb=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fp(t,e){if(e){if(nb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function Mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp=null;function a0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bp=null,Uo=null,qo=null;function $g(t){if(t=Gc(t)){if(typeof Bp!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=vh(e),Bp(t.stateNode,t.type,e))}}function _v(t){Uo?qo?qo.push(t):qo=[t]:Uo=t}function Nv(){if(Uo){var t=Uo,e=qo;if(qo=Uo=null,$g(t),e)for(t=0;t<e.length;t++)$g(e[t])}}function Sv(t,e){return t(e)}function jv(){}var Ff=!1;function kv(t,e,r){if(Ff)return t(e,r);Ff=!0;try{return Sv(t,e,r)}finally{Ff=!1,(Uo!==null||qo!==null)&&(jv(),Nv())}}function Sc(t,e){var r=t.stateNode;if(r===null)return null;var n=vh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Re(231,e,typeof r));return r}var Up=!1;if(ri)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Up=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Up=!1}function sb(t,e,r,n,s,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(f){this.onError(f)}}var uc=!1,Fd=null,Md=!1,qp=null,ib={onError:function(t){uc=!0,Fd=t}};function ab(t,e,r,n,s,i,a,o,c){uc=!1,Fd=null,sb.apply(ib,arguments)}function ob(t,e,r,n,s,i,a,o,c){if(ab.apply(this,arguments),uc){if(uc){var d=Fd;uc=!1,Fd=null}else throw Error(Re(198));Md||(Md=!0,qp=d)}}function Fa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Av(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wg(t){if(Fa(t)!==t)throw Error(Re(188))}function lb(t){var e=t.alternate;if(!e){if(e=Fa(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Wg(s),t;if(i===n)return Wg(s),e;i=i.sibling}throw Error(Re(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?t:e}function Lv(t){return t=lb(t),t!==null?Pv(t):null}function Pv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pv(t);if(e!==null)return e;t=t.sibling}return null}var Cv=Mn.unstable_scheduleCallback,Hg=Mn.unstable_cancelCallback,cb=Mn.unstable_shouldYield,ub=Mn.unstable_requestPaint,gr=Mn.unstable_now,db=Mn.unstable_getCurrentPriorityLevel,o0=Mn.unstable_ImmediatePriority,Ev=Mn.unstable_UserBlockingPriority,Dd=Mn.unstable_NormalPriority,hb=Mn.unstable_LowPriority,Tv=Mn.unstable_IdlePriority,fh=null,Rs=null;function fb(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(fh,t,void 0,(t.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:gb,pb=Math.log,mb=Math.LN2;function gb(t){return t>>>=0,t===0?32:31-(pb(t)/mb|0)|0}var Ku=64,Yu=4194304;function ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=ic(o):(i&=a,i!==0&&(n=ic(i)))}else a=r&~s,a!==0?n=ic(a):i!==0&&(n=ic(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gs(e),s=1<<r,n|=t[r],e&=~s;return n}function vb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-gs(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=vb(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function zp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iv(){var t=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),t}function Mf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gs(e),t[e]=r}function wb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-gs(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function l0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gs(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Bt=0;function Rv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ov,c0,Fv,Mv,Dv,$p=!1,Xu=[],Fi=null,Mi=null,Di=null,jc=new Map,kc=new Map,Pi=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vg(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Vl(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gc(e),e!==null&&c0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bb(t,e,r,n,s){switch(e){case"focusin":return Fi=Vl(Fi,t,e,r,n,s),!0;case"dragenter":return Mi=Vl(Mi,t,e,r,n,s),!0;case"mouseover":return Di=Vl(Di,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return jc.set(i,Vl(jc.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,Vl(kc.get(i)||null,t,e,r,n,s)),!0}return!1}function Bv(t){var e=ba(t.target);if(e!==null){var r=Fa(e);if(r!==null){if(e=r.tag,e===13){if(e=Av(r),e!==null){t.blockedOn=e,Dv(t.priority,function(){Fv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Dp=n,r.target.dispatchEvent(n),Dp=null}else return e=Gc(r),e!==null&&c0(e),t.blockedOn=r,!1;e.shift()}return!0}function Gg(t,e,r){yd(t)&&r.delete(e)}function _b(){$p=!1,Fi!==null&&yd(Fi)&&(Fi=null),Mi!==null&&yd(Mi)&&(Mi=null),Di!==null&&yd(Di)&&(Di=null),jc.forEach(Gg),kc.forEach(Gg)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,$p||($p=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,_b)))}function Ac(t){function e(s){return Gl(s,t)}if(0<Xu.length){Gl(Xu[0],t);for(var r=1;r<Xu.length;r++){var n=Xu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fi!==null&&Gl(Fi,t),Mi!==null&&Gl(Mi,t),Di!==null&&Gl(Di,t),jc.forEach(e),kc.forEach(e),r=0;r<Pi.length;r++)n=Pi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pi.length&&(r=Pi[0],r.blockedOn===null);)Bv(r),r.blockedOn===null&&Pi.shift()}var zo=ai.ReactCurrentBatchConfig,Ud=!0;function Nb(t,e,r,n){var s=Bt,i=zo.transition;zo.transition=null;try{Bt=1,u0(t,e,r,n)}finally{Bt=s,zo.transition=i}}function Sb(t,e,r,n){var s=Bt,i=zo.transition;zo.transition=null;try{Bt=4,u0(t,e,r,n)}finally{Bt=s,zo.transition=i}}function u0(t,e,r,n){if(Ud){var s=Wp(t,e,r,n);if(s===null)Gf(t,e,n,qd,r),Vg(t,n);else if(bb(s,t,e,r,n))n.stopPropagation();else if(Vg(t,n),e&4&&-1<xb.indexOf(t)){for(;s!==null;){var i=Gc(s);if(i!==null&&Ov(i),i=Wp(t,e,r,n),i===null&&Gf(t,e,n,qd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Gf(t,e,n,null,r)}}var qd=null;function Wp(t,e,r,n){if(qd=null,t=a0(n),t=ba(t),t!==null)if(e=Fa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Av(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qd=t,null}function Uv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(db()){case o0:return 1;case Ev:return 4;case Dd:case hb:return 16;case Tv:return 536870912;default:return 16}default:return 16}}var Ti=null,d0=null,wd=null;function qv(){if(wd)return wd;var t,e=d0,r=e.length,n,s="value"in Ti?Ti.value:Ti.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return wd=s.slice(t,1<n?1-n:void 0)}function xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qu(){return!0}function Jg(){return!1}function Bn(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qu:Jg,this.isPropagationStopped=Jg,this}return ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h0=Bn(al),Vc=ir({},al,{view:0,detail:0}),jb=Bn(Vc),Df,Bf,Jl,ph=ir({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(Df=t.screenX-Jl.screenX,Bf=t.screenY-Jl.screenY):Bf=Df=0,Jl=t),Df)},movementY:function(t){return"movementY"in t?t.movementY:Bf}}),Kg=Bn(ph),kb=ir({},ph,{dataTransfer:0}),Ab=Bn(kb),Lb=ir({},Vc,{relatedTarget:0}),Uf=Bn(Lb),Pb=ir({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=Bn(Pb),Eb=ir({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tb=Bn(Eb),Ib=ir({},al,{data:0}),Yg=Bn(Ib),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fb[t])?!!e[t]:!1}function f0(){return Mb}var Db=ir({},Vc,{key:function(t){if(t.key){var e=Rb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ob[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(t){return t.type==="keypress"?xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bb=Bn(Db),Ub=ir({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xg=Bn(Ub),qb=ir({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),zb=Bn(qb),$b=ir({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=Bn($b),Hb=ir({},ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=Bn(Hb),Gb=[9,13,27,32],p0=ri&&"CompositionEvent"in window,dc=null;ri&&"documentMode"in document&&(dc=document.documentMode);var Jb=ri&&"TextEvent"in window&&!dc,zv=ri&&(!p0||dc&&8<dc&&11>=dc),Qg=" ",Zg=!1;function $v(t,e){switch(t){case"keyup":return Gb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function Kb(t,e){switch(t){case"compositionend":return Wv(e);case"keypress":return e.which!==32?null:(Zg=!0,Qg);case"textInput":return t=e.data,t===Qg&&Zg?null:t;default:return null}}function Yb(t,e){if(Lo)return t==="compositionend"||!p0&&$v(t,e)?(t=qv(),wd=d0=Ti=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zv&&e.locale!=="ko"?null:e.data;default:return null}}var Xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xb[t.type]:e==="textarea"}function Hv(t,e,r,n){_v(n),e=zd(e,"onChange"),0<e.length&&(r=new h0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hc=null,Lc=null;function Qb(t){r5(t,0)}function mh(t){var e=Eo(t);if(mv(e))return t}function Zb(t,e){if(t==="change")return e}var Vv=!1;if(ri){var qf;if(ri){var zf="oninput"in document;if(!zf){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),zf=typeof t1.oninput=="function"}qf=zf}else qf=!1;Vv=qf&&(!document.documentMode||9<document.documentMode)}function r1(){hc&&(hc.detachEvent("onpropertychange",Gv),Lc=hc=null)}function Gv(t){if(t.propertyName==="value"&&mh(Lc)){var e=[];Hv(e,Lc,t,a0(t)),kv(Qb,e)}}function e4(t,e,r){t==="focusin"?(r1(),hc=e,Lc=r,hc.attachEvent("onpropertychange",Gv)):t==="focusout"&&r1()}function t4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mh(Lc)}function r4(t,e){if(t==="click")return mh(e)}function n4(t,e){if(t==="input"||t==="change")return mh(e)}function s4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ys=typeof Object.is=="function"?Object.is:s4;function Pc(t,e){if(ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!kp.call(e,s)||!ys(t[s],e[s]))return!1}return!0}function n1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s1(t,e){var r=n1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n1(r)}}function Jv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kv(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Od(t.document)}return e}function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i4(t){var e=Kv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Jv(r.ownerDocument.documentElement,r)){if(n!==null&&m0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=s1(r,i);var a=s1(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a4=ri&&"documentMode"in document&&11>=document.documentMode,Po=null,Hp=null,fc=null,Vp=!1;function i1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vp||Po==null||Po!==Od(n)||(n=Po,"selectionStart"in n&&m0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&Pc(fc,n)||(fc=n,n=zd(Hp,"onSelect"),0<n.length&&(e=new h0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Po)))}function Zu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Co={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},$f={},Yv={};ri&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function gh(t){if($f[t])return $f[t];if(!Co[t])return t;var e=Co[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Yv)return $f[t]=e[r];return t}var Xv=gh("animationend"),Qv=gh("animationiteration"),Zv=gh("animationstart"),e5=gh("transitionend"),t5=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){t5.set(t,e),Oa(e,[t])}for(var Wf=0;Wf<a1.length;Wf++){var Hf=a1[Wf],o4=Hf.toLowerCase(),l4=Hf[0].toUpperCase()+Hf.slice(1);Yi(o4,"on"+l4)}Yi(Xv,"onAnimationEnd");Yi(Qv,"onAnimationIteration");Yi(Zv,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(e5,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function o1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ob(n,e,void 0,t),t.currentTarget=null}function r5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;o1(s,o,d),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;o1(s,o,d),i=c}}}if(Md)throw t=qp,Md=!1,qp=null,t}function Yt(t,e){var r=e[Xp];r===void 0&&(r=e[Xp]=new Set);var n=t+"__bubble";r.has(n)||(n5(e,t,2,!1),r.add(n))}function Vf(t,e,r){var n=0;e&&(n|=4),n5(r,t,n,e)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[ed]){t[ed]=!0,uv.forEach(function(r){r!=="selectionchange"&&(c4.has(r)||Vf(r,!1,t),Vf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ed]||(e[ed]=!0,Vf("selectionchange",!1,e))}}function n5(t,e,r,n){switch(Uv(e)){case 1:var s=Nb;break;case 4:s=Sb;break;default:s=u0}r=s.bind(null,e,r,t),s=void 0,!Up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Gf(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ba(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}kv(function(){var d=i,f=a0(r),p=[];e:{var y=t5.get(t);if(y!==void 0){var g=h0,N=t;switch(t){case"keypress":if(xd(r)===0)break e;case"keydown":case"keyup":g=Bb;break;case"focusin":N="focus",g=Uf;break;case"focusout":N="blur",g=Uf;break;case"beforeblur":case"afterblur":g=Uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zb;break;case Xv:case Qv:case Zv:g=Cb;break;case e5:g=Wb;break;case"scroll":g=jb;break;case"wheel":g=Vb;break;case"copy":case"cut":case"paste":g=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xg}var S=(e&4)!==0,j=!S&&t==="scroll",w=S?y!==null?y+"Capture":null:y;S=[];for(var x=d,b;x!==null;){b=x;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,w!==null&&(I=Sc(x,w),I!=null&&S.push(Ec(x,I,b)))),j)break;x=x.return}0<S.length&&(y=new g(y,N,null,r,f),p.push({event:y,listeners:S}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",y&&r!==Dp&&(N=r.relatedTarget||r.fromElement)&&(ba(N)||N[ni]))break e;if((g||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,g?(N=r.relatedTarget||r.toElement,g=d,N=N?ba(N):null,N!==null&&(j=Fa(N),N!==j||N.tag!==5&&N.tag!==6)&&(N=null)):(g=null,N=d),g!==N)){if(S=Kg,I="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(S=Xg,I="onPointerLeave",w="onPointerEnter",x="pointer"),j=g==null?y:Eo(g),b=N==null?y:Eo(N),y=new S(I,x+"leave",g,r,f),y.target=j,y.relatedTarget=b,I=null,ba(f)===d&&(S=new S(w,x+"enter",N,r,f),S.target=b,S.relatedTarget=j,I=S),j=I,g&&N)t:{for(S=g,w=N,x=0,b=S;b;b=po(b))x++;for(b=0,I=w;I;I=po(I))b++;for(;0<x-b;)S=po(S),x--;for(;0<b-x;)w=po(w),b--;for(;x--;){if(S===w||w!==null&&S===w.alternate)break t;S=po(S),w=po(w)}S=null}else S=null;g!==null&&l1(p,y,g,S,!1),N!==null&&j!==null&&l1(p,j,N,S,!0)}}e:{if(y=d?Eo(d):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var q=Zb;else if(e1(y))if(Vv)q=n4;else{q=t4;var $=e4}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(q=r4);if(q&&(q=q(t,d))){Hv(p,q,r,f);break e}$&&$(t,y,d),t==="focusout"&&($=y._wrapperState)&&$.controlled&&y.type==="number"&&Ip(y,"number",y.value)}switch($=d?Eo(d):window,t){case"focusin":(e1($)||$.contentEditable==="true")&&(Po=$,Hp=d,fc=null);break;case"focusout":fc=Hp=Po=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,i1(p,r,f);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":i1(p,r,f)}var U;if(p0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Lo?$v(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(zv&&r.locale!=="ko"&&(Lo||M!=="onCompositionStart"?M==="onCompositionEnd"&&Lo&&(U=qv()):(Ti=f,d0="value"in Ti?Ti.value:Ti.textContent,Lo=!0)),$=zd(d,M),0<$.length&&(M=new Yg(M,t,null,r,f),p.push({event:M,listeners:$}),U?M.data=U:(U=Wv(r),U!==null&&(M.data=U)))),(U=Jb?Kb(t,r):Yb(t,r))&&(d=zd(d,"onBeforeInput"),0<d.length&&(f=new Yg("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:d}),f.data=U))}r5(p,e)})}function Ec(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zd(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sc(t,r),i!=null&&n.unshift(Ec(t,i,s)),i=Sc(t,e),i!=null&&n.push(Ec(t,i,s))),t=t.return}return n}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l1(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,s?(c=Sc(r,i),c!=null&&a.unshift(Ec(r,c,o))):s||(c=Sc(r,i),c!=null&&a.push(Ec(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var u4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function c1(t){return(typeof t=="string"?t:""+t).replace(u4,`
`).replace(d4,"")}function td(t,e,r){if(e=c1(e),c1(t)!==e&&r)throw Error(Re(425))}function $d(){}var Gp=null,Jp=null;function Kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yp=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,f4=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(t){return u1.resolve(null).then(t).catch(p4)}:Yp;function p4(t){setTimeout(function(){throw t})}function Jf(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ac(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ac(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Ts="__reactFiber$"+ol,Tc="__reactProps$"+ol,ni="__reactContainer$"+ol,Xp="__reactEvents$"+ol,m4="__reactListeners$"+ol,g4="__reactHandles$"+ol;function ba(t){var e=t[Ts];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ni]||r[Ts]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=d1(t);t!==null;){if(r=t[Ts])return r;t=d1(t)}return e}t=r,r=t.parentNode}return null}function Gc(t){return t=t[Ts]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function vh(t){return t[Tc]||null}var Qp=[],To=-1;function Xi(t){return{current:t}}function Qt(t){0>To||(t.current=Qp[To],Qp[To]=null,To--)}function Kt(t,e){To++,Qp[To]=t.current,t.current=e}var Vi={},tn=Xi(Vi),bn=Xi(!1),Pa=Vi;function Xo(t,e){var r=t.type.contextTypes;if(!r)return Vi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function Wd(){Qt(bn),Qt(tn)}function h1(t,e,r){if(tn.current!==Vi)throw Error(Re(168));Kt(tn,e),Kt(bn,r)}function s5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Re(108,eb(t)||"Unknown",s));return ir({},r,n)}function Hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Pa=tn.current,Kt(tn,t),Kt(bn,bn.current),!0}function f1(t,e,r){var n=t.stateNode;if(!n)throw Error(Re(169));r?(t=s5(t,e,Pa),n.__reactInternalMemoizedMergedChildContext=t,Qt(bn),Qt(tn),Kt(tn,t)):Qt(bn),Kt(bn,r)}var Xs=null,yh=!1,Kf=!1;function i5(t){Xs===null?Xs=[t]:Xs.push(t)}function v4(t){yh=!0,i5(t)}function Qi(){if(!Kf&&Xs!==null){Kf=!0;var t=0,e=Bt;try{var r=Xs;for(Bt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Xs=null,yh=!1}catch(s){throw Xs!==null&&(Xs=Xs.slice(t+1)),Cv(o0,Qi),s}finally{Bt=e,Kf=!1}}return null}var Io=[],Ro=0,Vd=null,Gd=0,Kn=[],Yn=0,Ca=null,Qs=1,Zs="";function ma(t,e){Io[Ro++]=Gd,Io[Ro++]=Vd,Vd=t,Gd=e}function a5(t,e,r){Kn[Yn++]=Qs,Kn[Yn++]=Zs,Kn[Yn++]=Ca,Ca=t;var n=Qs;t=Zs;var s=32-gs(n)-1;n&=~(1<<s),r+=1;var i=32-gs(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Qs=1<<32-gs(e)+s|r<<s|n,Zs=i+t}else Qs=1<<i|r<<s|n,Zs=t}function g0(t){t.return!==null&&(ma(t,1),a5(t,1,0))}function v0(t){for(;t===Vd;)Vd=Io[--Ro],Io[Ro]=null,Gd=Io[--Ro],Io[Ro]=null;for(;t===Ca;)Ca=Kn[--Yn],Kn[Yn]=null,Zs=Kn[--Yn],Kn[Yn]=null,Qs=Kn[--Yn],Kn[Yn]=null}var Fn=null,Rn=null,tr=!1,ms=null;function o5(t,e){var r=Xn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function p1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Rn=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ca!==null?{id:Qs,overflow:Zs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Fn=t,Rn=null,!0):!1;default:return!1}}function Zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function em(t){if(tr){var e=Rn;if(e){var r=e;if(!p1(t,e)){if(Zp(t))throw Error(Re(418));e=Bi(r.nextSibling);var n=Fn;e&&p1(t,e)?o5(n,r):(t.flags=t.flags&-4097|2,tr=!1,Fn=t)}}else{if(Zp(t))throw Error(Re(418));t.flags=t.flags&-4097|2,tr=!1,Fn=t}}}function m1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function rd(t){if(t!==Fn)return!1;if(!tr)return m1(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kp(t.type,t.memoizedProps)),e&&(e=Rn)){if(Zp(t))throw l5(),Error(Re(418));for(;e;)o5(t,e),e=Bi(e.nextSibling)}if(m1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rn=Bi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Fn?Bi(t.stateNode.nextSibling):null;return!0}function l5(){for(var t=Rn;t;)t=Bi(t.nextSibling)}function Qo(){Rn=Fn=null,tr=!1}function y0(t){ms===null?ms=[t]:ms.push(t)}var y4=ai.ReactCurrentBatchConfig;function Kl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,t))}return t}function nd(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g1(t){var e=t._init;return e(t._payload)}function c5(t){function e(w,x){if(t){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=$i(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,x,b,I){return x===null||x.tag!==6?(x=rp(b,w.mode,I),x.return=w,x):(x=s(x,b),x.return=w,x)}function c(w,x,b,I){var q=b.type;return q===Ao?f(w,x,b.props.children,I,b.key):x!==null&&(x.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ai&&g1(q)===x.type)?(I=s(x,b.props),I.ref=Kl(w,x,b),I.return=w,I):(I=Ad(b.type,b.key,b.props,null,w.mode,I),I.ref=Kl(w,x,b),I.return=w,I)}function d(w,x,b,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=np(b,w.mode,I),x.return=w,x):(x=s(x,b.children||[]),x.return=w,x)}function f(w,x,b,I,q){return x===null||x.tag!==7?(x=ka(b,w.mode,I,q),x.return=w,x):(x=s(x,b),x.return=w,x)}function p(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=rp(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vu:return b=Ad(x.type,x.key,x.props,null,w.mode,b),b.ref=Kl(w,null,x),b.return=w,b;case ko:return x=np(x,w.mode,b),x.return=w,x;case Ai:var I=x._init;return p(w,I(x._payload),b)}if(sc(x)||Wl(x))return x=ka(x,w.mode,b,null),x.return=w,x;nd(w,x)}return null}function y(w,x,b,I){var q=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return q!==null?null:o(w,x,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:return b.key===q?c(w,x,b,I):null;case ko:return b.key===q?d(w,x,b,I):null;case Ai:return q=b._init,y(w,x,q(b._payload),I)}if(sc(b)||Wl(b))return q!==null?null:f(w,x,b,I,null);nd(w,b)}return null}function g(w,x,b,I,q){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(b)||null,o(x,w,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Vu:return w=w.get(I.key===null?b:I.key)||null,c(x,w,I,q);case ko:return w=w.get(I.key===null?b:I.key)||null,d(x,w,I,q);case Ai:var $=I._init;return g(w,x,b,$(I._payload),q)}if(sc(I)||Wl(I))return w=w.get(b)||null,f(x,w,I,q,null);nd(x,I)}return null}function N(w,x,b,I){for(var q=null,$=null,U=x,M=x=0,ae=null;U!==null&&M<b.length;M++){U.index>M?(ae=U,U=null):ae=U.sibling;var Z=y(w,U,b[M],I);if(Z===null){U===null&&(U=ae);break}t&&U&&Z.alternate===null&&e(w,U),x=i(Z,x,M),$===null?q=Z:$.sibling=Z,$=Z,U=ae}if(M===b.length)return r(w,U),tr&&ma(w,M),q;if(U===null){for(;M<b.length;M++)U=p(w,b[M],I),U!==null&&(x=i(U,x,M),$===null?q=U:$.sibling=U,$=U);return tr&&ma(w,M),q}for(U=n(w,U);M<b.length;M++)ae=g(U,w,M,b[M],I),ae!==null&&(t&&ae.alternate!==null&&U.delete(ae.key===null?M:ae.key),x=i(ae,x,M),$===null?q=ae:$.sibling=ae,$=ae);return t&&U.forEach(function(T){return e(w,T)}),tr&&ma(w,M),q}function S(w,x,b,I){var q=Wl(b);if(typeof q!="function")throw Error(Re(150));if(b=q.call(b),b==null)throw Error(Re(151));for(var $=q=null,U=x,M=x=0,ae=null,Z=b.next();U!==null&&!Z.done;M++,Z=b.next()){U.index>M?(ae=U,U=null):ae=U.sibling;var T=y(w,U,Z.value,I);if(T===null){U===null&&(U=ae);break}t&&U&&T.alternate===null&&e(w,U),x=i(T,x,M),$===null?q=T:$.sibling=T,$=T,U=ae}if(Z.done)return r(w,U),tr&&ma(w,M),q;if(U===null){for(;!Z.done;M++,Z=b.next())Z=p(w,Z.value,I),Z!==null&&(x=i(Z,x,M),$===null?q=Z:$.sibling=Z,$=Z);return tr&&ma(w,M),q}for(U=n(w,U);!Z.done;M++,Z=b.next())Z=g(U,w,M,Z.value,I),Z!==null&&(t&&Z.alternate!==null&&U.delete(Z.key===null?M:Z.key),x=i(Z,x,M),$===null?q=Z:$.sibling=Z,$=Z);return t&&U.forEach(function(R){return e(w,R)}),tr&&ma(w,M),q}function j(w,x,b,I){if(typeof b=="object"&&b!==null&&b.type===Ao&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vu:e:{for(var q=b.key,$=x;$!==null;){if($.key===q){if(q=b.type,q===Ao){if($.tag===7){r(w,$.sibling),x=s($,b.props.children),x.return=w,w=x;break e}}else if($.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ai&&g1(q)===$.type){r(w,$.sibling),x=s($,b.props),x.ref=Kl(w,$,b),x.return=w,w=x;break e}r(w,$);break}else e(w,$);$=$.sibling}b.type===Ao?(x=ka(b.props.children,w.mode,I,b.key),x.return=w,w=x):(I=Ad(b.type,b.key,b.props,null,w.mode,I),I.ref=Kl(w,x,b),I.return=w,w=I)}return a(w);case ko:e:{for($=b.key;x!==null;){if(x.key===$)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(w,x.sibling),x=s(x,b.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=np(b,w.mode,I),x.return=w,w=x}return a(w);case Ai:return $=b._init,j(w,x,$(b._payload),I)}if(sc(b))return N(w,x,b,I);if(Wl(b))return S(w,x,b,I);nd(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(w,x.sibling),x=s(x,b),x.return=w,w=x):(r(w,x),x=rp(b,w.mode,I),x.return=w,w=x),a(w)):r(w,x)}return j}var Zo=c5(!0),u5=c5(!1),Jd=Xi(null),Kd=null,Oo=null,w0=null;function x0(){w0=Oo=Kd=null}function b0(t){var e=Jd.current;Qt(Jd),t._currentValue=e}function tm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $o(t,e){Kd=t,w0=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function es(t){var e=t._currentValue;if(w0!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(Kd===null)throw Error(Re(308));Oo=t,Kd.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var _a=null;function _0(t){_a===null?_a=[t]:_a.push(t)}function d5(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,_0(e)):(r.next=s.next,s.next=r),e.interleaved=r,si(t,n)}function si(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Li=!1;function N0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,si(t,r)}return s=n.interleaved,s===null?(e.next=e,_0(n)):(e.next=s.next,s.next=e),n.interleaved=e,si(t,r)}function bd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,l0(t,r)}}function v1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Yd(t,e,r,n){var s=t.updateQueue;Li=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,f=d=c=null,o=i;do{var y=o.lane,g=o.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=t,S=o;switch(y=e,g=r,S.tag){case 1:if(N=S.payload,typeof N=="function"){p=N.call(g,p,y);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,y=typeof N=="function"?N.call(g,p,y):N,y==null)break e;p=ir({},p,y);break e;case 2:Li=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[o]:y.push(o))}else g={eventTime:g,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=g,c=p):f=f.next=g,a|=y;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;y=o,o=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ta|=a,t.lanes=a,t.memoizedState=p}}function y1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Re(191,s));s.call(n)}}}var Jc={},Os=Xi(Jc),Ic=Xi(Jc),Rc=Xi(Jc);function Na(t){if(t===Jc)throw Error(Re(174));return t}function S0(t,e){switch(Kt(Rc,e),Kt(Ic,t),Kt(Os,Jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}Qt(Os),Kt(Os,e)}function el(){Qt(Os),Qt(Ic),Qt(Rc)}function f5(t){Na(Rc.current);var e=Na(Os.current),r=Op(e,t.type);e!==r&&(Kt(Ic,t),Kt(Os,r))}function j0(t){Ic.current===t&&(Qt(Os),Qt(Ic))}var nr=Xi(0);function Xd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yf=[];function k0(){for(var t=0;t<Yf.length;t++)Yf[t]._workInProgressVersionPrimary=null;Yf.length=0}var _d=ai.ReactCurrentDispatcher,Xf=ai.ReactCurrentBatchConfig,Ea=0,sr=null,Pr=null,Or=null,Qd=!1,pc=!1,Oc=0,w4=0;function Hr(){throw Error(Re(321))}function A0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ys(t[r],e[r]))return!1;return!0}function L0(t,e,r,n,s,i){if(Ea=i,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_d.current=t===null||t.memoizedState===null?N4:S4,t=r(n,s),pc){i=0;do{if(pc=!1,Oc=0,25<=i)throw Error(Re(301));i+=1,Or=Pr=null,e.updateQueue=null,_d.current=j4,t=r(n,s)}while(pc)}if(_d.current=Zd,e=Pr!==null&&Pr.next!==null,Ea=0,Or=Pr=sr=null,Qd=!1,e)throw Error(Re(300));return t}function P0(){var t=Oc!==0;return Oc=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?sr.memoizedState=Or=t:Or=Or.next=t,Or}function ts(){if(Pr===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Pr.next;var e=Or===null?sr.memoizedState:Or.next;if(e!==null)Or=e,Pr=t;else{if(t===null)throw Error(Re(310));Pr=t,t={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Or===null?sr.memoizedState=Or=t:Or=Or.next=t}return Or}function Fc(t,e){return typeof e=="function"?e(t):e}function Qf(t){var e=ts(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=Pr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,d=i;do{var f=d.lane;if((Ea&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,a=n):c=c.next=p,sr.lanes|=f,Ta|=f}d=d.next}while(d!==null&&d!==i);c===null?a=n:c.next=o,ys(n,e.memoizedState)||(xn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,sr.lanes|=i,Ta|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zf(t){var e=ts(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ys(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function p5(){}function m5(t,e){var r=sr,n=ts(),s=e(),i=!ys(n.memoizedState,s);if(i&&(n.memoizedState=s,xn=!0),n=n.queue,C0(y5.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Or!==null&&Or.memoizedState.tag&1){if(r.flags|=2048,Mc(9,v5.bind(null,r,n,s,e),void 0,null),Mr===null)throw Error(Re(349));Ea&30||g5(r,e,s)}return s}function g5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function v5(t,e,r,n){e.value=r,e.getSnapshot=n,w5(e)&&x5(t)}function y5(t,e,r){return r(function(){w5(e)&&x5(t)})}function w5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ys(t,r)}catch{return!0}}function x5(t){var e=si(t,1);e!==null&&vs(e,t,1,-1)}function w1(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:t},e.queue=t,t=t.dispatch=_4.bind(null,sr,t),[e.memoizedState,t]}function Mc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function b5(){return ts().memoizedState}function Nd(t,e,r,n){var s=Cs();sr.flags|=t,s.memoizedState=Mc(1|e,r,void 0,n===void 0?null:n)}function wh(t,e,r,n){var s=ts();n=n===void 0?null:n;var i=void 0;if(Pr!==null){var a=Pr.memoizedState;if(i=a.destroy,n!==null&&A0(n,a.deps)){s.memoizedState=Mc(e,r,i,n);return}}sr.flags|=t,s.memoizedState=Mc(1|e,r,i,n)}function x1(t,e){return Nd(8390656,8,t,e)}function C0(t,e){return wh(2048,8,t,e)}function _5(t,e){return wh(4,2,t,e)}function N5(t,e){return wh(4,4,t,e)}function S5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j5(t,e,r){return r=r!=null?r.concat([t]):null,wh(4,4,S5.bind(null,e,t),r)}function E0(){}function k5(t,e){var r=ts();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&A0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function A5(t,e){var r=ts();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&A0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function L5(t,e,r){return Ea&21?(ys(r,e)||(r=Iv(),sr.lanes|=r,Ta|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=r)}function x4(t,e){var r=Bt;Bt=r!==0&&4>r?r:4,t(!0);var n=Xf.transition;Xf.transition={};try{t(!1),e()}finally{Bt=r,Xf.transition=n}}function P5(){return ts().memoizedState}function b4(t,e,r){var n=zi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},C5(t))E5(e,r);else if(r=d5(t,e,r,n),r!==null){var s=un();vs(r,t,n,s),T5(r,e,n)}}function _4(t,e,r){var n=zi(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(C5(t))E5(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ys(o,a)){var c=e.interleaved;c===null?(s.next=s,_0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=d5(t,e,s,n),r!==null&&(s=un(),vs(r,t,n,s),T5(r,e,n))}}function C5(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function E5(t,e){pc=Qd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function T5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,l0(t,r)}}var Zd={readContext:es,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},N4={readContext:es,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:es,useEffect:x1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Nd(4194308,4,S5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nd(4,2,t,e)},useMemo:function(t,e){var r=Cs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Cs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=b4.bind(null,sr,t),[n.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:w1,useDebugValue:E0,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=w1(!1),e=t[0];return t=x4.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=sr,s=Cs();if(tr){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=e(),Mr===null)throw Error(Re(349));Ea&30||g5(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,x1(y5.bind(null,n,i,t),[t]),n.flags|=2048,Mc(9,v5.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Cs(),e=Mr.identifierPrefix;if(tr){var r=Zs,n=Qs;r=(n&~(1<<32-gs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Oc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=w4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S4={readContext:es,useCallback:k5,useContext:es,useEffect:C0,useImperativeHandle:j5,useInsertionEffect:_5,useLayoutEffect:N5,useMemo:A5,useReducer:Qf,useRef:b5,useState:function(){return Qf(Fc)},useDebugValue:E0,useDeferredValue:function(t){var e=ts();return L5(e,Pr.memoizedState,t)},useTransition:function(){var t=Qf(Fc)[0],e=ts().memoizedState;return[t,e]},useMutableSource:p5,useSyncExternalStore:m5,useId:P5,unstable_isNewReconciler:!1},j4={readContext:es,useCallback:k5,useContext:es,useEffect:C0,useImperativeHandle:j5,useInsertionEffect:_5,useLayoutEffect:N5,useMemo:A5,useReducer:Zf,useRef:b5,useState:function(){return Zf(Fc)},useDebugValue:E0,useDeferredValue:function(t){var e=ts();return Pr===null?e.memoizedState=t:L5(e,Pr.memoizedState,t)},useTransition:function(){var t=Zf(Fc)[0],e=ts().memoizedState;return[t,e]},useMutableSource:p5,useSyncExternalStore:m5,useId:P5,unstable_isNewReconciler:!1};function ds(t,e){if(t&&t.defaultProps){e=ir({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function rm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ir({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xh={isMounted:function(t){return(t=t._reactInternals)?Fa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=un(),s=zi(t),i=ei(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ui(t,i,s),e!==null&&(vs(e,t,s,n),bd(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=un(),s=zi(t),i=ei(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ui(t,i,s),e!==null&&(vs(e,t,s,n),bd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=un(),n=zi(t),s=ei(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ui(t,s,n),e!==null&&(vs(e,t,n,r),bd(e,t,n))}};function b1(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Pc(r,n)||!Pc(s,i):!0}function I5(t,e,r){var n=!1,s=Vi,i=e.contextType;return typeof i=="object"&&i!==null?i=es(i):(s=_n(e)?Pa:tn.current,n=e.contextTypes,i=(n=n!=null)?Xo(t,s):Vi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xh.enqueueReplaceState(e,e.state,null)}function nm(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},N0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=es(i):(i=_n(e)?Pa:tn.current,s.context=Xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(rm(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xh.enqueueReplaceState(s,s.state,null),Yd(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tl(t,e){try{var r="",n=e;do r+=Zx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ep(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function sm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var k4=typeof WeakMap=="function"?WeakMap:Map;function R5(t,e,r){r=ei(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){th||(th=!0,pm=n),sm(t,e)},r}function O5(t,e,r){r=ei(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){sm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sm(t,e),typeof n!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function N1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new k4;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=U4.bind(null,t,e,r),e.then(t,t))}function S1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function j1(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ei(-1,1),e.tag=2,Ui(r,e,1))),r.lanes|=1),t)}var A4=ai.ReactCurrentOwner,xn=!1;function cn(t,e,r,n){e.child=t===null?u5(e,null,r,n):Zo(e,t.child,r,n)}function k1(t,e,r,n,s){r=r.render;var i=e.ref;return $o(e,s),n=L0(t,e,r,n,i,s),r=P0(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ii(t,e,s)):(tr&&r&&g0(e),e.flags|=1,cn(t,e,n,s),e.child)}function A1(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!B0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,F5(t,e,i,n,s)):(t=Ad(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Pc,r(a,n)&&t.ref===e.ref)return ii(t,e,s)}return e.flags|=1,t=$i(i,n),t.ref=e.ref,t.return=e,e.child=t}function F5(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Pc(i,n)&&t.ref===e.ref)if(xn=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,ii(t,e,s)}return im(t,e,r,n,s)}function M5(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Mo,In),In|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kt(Mo,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Kt(Mo,In),In|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Kt(Mo,In),In|=n;return cn(t,e,s,r),e.child}function D5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function im(t,e,r,n,s){var i=_n(r)?Pa:tn.current;return i=Xo(e,i),$o(e,s),r=L0(t,e,r,n,i,s),n=P0(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ii(t,e,s)):(tr&&n&&g0(e),e.flags|=1,cn(t,e,r,s),e.child)}function L1(t,e,r,n,s){if(_n(r)){var i=!0;Hd(e)}else i=!1;if($o(e,s),e.stateNode===null)Sd(t,e),I5(e,r,n),nm(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=es(d):(d=_n(r)?Pa:tn.current,d=Xo(e,d));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==d)&&_1(e,a,n,d),Li=!1;var y=e.memoizedState;a.state=y,Yd(e,n,a,s),c=e.memoizedState,o!==n||y!==c||bn.current||Li?(typeof f=="function"&&(rm(e,r,f,n),c=e.memoizedState),(o=Li||b1(e,r,o,n,y,c,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,h5(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:ds(e.type,o),a.props=d,p=e.pendingProps,y=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=es(c):(c=_n(r)?Pa:tn.current,c=Xo(e,c));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||y!==c)&&_1(e,a,n,c),Li=!1,y=e.memoizedState,a.state=y,Yd(e,n,a,s);var N=e.memoizedState;o!==p||y!==N||bn.current||Li?(typeof g=="function"&&(rm(e,r,g,n),N=e.memoizedState),(d=Li||b1(e,r,d,n,y,N,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,N,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=N),a.props=n,a.state=N,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return am(t,e,r,n,i,s)}function am(t,e,r,n,s,i){D5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&f1(e,r,!1),ii(t,e,i);n=e.stateNode,A4.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zo(e,t.child,null,i),e.child=Zo(e,null,o,i)):cn(t,e,o,i),e.memoizedState=n.state,s&&f1(e,r,!0),e.child}function B5(t){var e=t.stateNode;e.pendingContext?h1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h1(t,e.context,!1),S0(t,e.containerInfo)}function P1(t,e,r,n,s){return Qo(),y0(s),e.flags|=256,cn(t,e,r,n),e.child}var om={dehydrated:null,treeContext:null,retryLane:0};function lm(t){return{baseLanes:t,cachePool:null,transitions:null}}function U5(t,e,r){var n=e.pendingProps,s=nr.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Kt(nr,s&1),t===null)return em(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Nh(a,n,0,null),t=ka(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lm(r),e.memoizedState=om,t):T0(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return L4(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=$i(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=$i(o,i):(i=ka(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?lm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=om,n}return i=t.child,t=i.sibling,n=$i(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function T0(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sd(t,e,r,n){return n!==null&&y0(n),Zo(e,t.child,null,r),t=T0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L4(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=ep(Error(Re(422))),sd(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Nh({mode:"visible",children:n.children},s,0,null),i=ka(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Zo(e,t.child,null,a),e.child.memoizedState=lm(a),e.memoizedState=om,i);if(!(e.mode&1))return sd(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Re(419)),n=ep(i,n,void 0),sd(t,e,a,n)}if(o=(a&t.childLanes)!==0,xn||o){if(n=Mr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,si(t,s),vs(n,t,s,-1))}return D0(),n=ep(Error(Re(421))),sd(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=q4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rn=Bi(s.nextSibling),Fn=e,tr=!0,ms=null,t!==null&&(Kn[Yn++]=Qs,Kn[Yn++]=Zs,Kn[Yn++]=Ca,Qs=t.id,Zs=t.overflow,Ca=e),e=T0(e,n.children),e.flags|=4096,e)}function C1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),tm(t.return,e,r)}function tp(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function q5(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(cn(t,e,n.children,r),n=nr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C1(t,r,e);else if(t.tag===19)C1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Kt(nr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Xd(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),tp(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xd(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}tp(e,!0,r,null,i);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ta|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,r=$i(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$i(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function P4(t,e,r){switch(e.tag){case 3:B5(e),Qo();break;case 5:f5(e);break;case 1:_n(e.type)&&Hd(e);break;case 4:S0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Kt(Jd,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Kt(nr,nr.current&1),e.flags|=128,null):r&e.child.childLanes?U5(t,e,r):(Kt(nr,nr.current&1),t=ii(t,e,r),t!==null?t.sibling:null);Kt(nr,nr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return q5(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Kt(nr,nr.current),n)break;return null;case 22:case 23:return e.lanes=0,M5(t,e,r)}return ii(t,e,r)}var z5,cm,$5,W5;z5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cm=function(){};$5=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Na(Os.current);var i=null;switch(r){case"input":s=Ep(t,s),n=Ep(t,n),i=[];break;case"select":s=ir({},s,{value:void 0}),n=ir({},n,{value:void 0}),i=[];break;case"textarea":s=Rp(t,s),n=Rp(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$d)}Fp(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_c.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_c.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Yt("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};W5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yl(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function C4(t,e,r){var n=e.pendingProps;switch(v0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(e),null;case 1:return _n(e.type)&&Wd(),Vr(e),null;case 3:return n=e.stateNode,el(),Qt(bn),Qt(tn),k0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ms!==null&&(vm(ms),ms=null))),cm(t,e),Vr(e),null;case 5:j0(e);var s=Na(Rc.current);if(r=e.type,t!==null&&e.stateNode!=null)$5(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return Vr(e),null}if(t=Na(Os.current),rd(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ts]=e,n[Tc]=i,t=(e.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<ac.length;s++)Yt(ac[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Bg(n,i),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",n);break;case"textarea":qg(n,i),Yt("invalid",n)}Fp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&td(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&td(n.textContent,o,t),s=["children",""+o]):_c.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Yt("scroll",n)}switch(r){case"input":Gu(n),Ug(n,i,!0);break;case"textarea":Gu(n),zg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$d)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ts]=e,t[Tc]=n,z5(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mp(r,n),r){case"dialog":Yt("cancel",t),Yt("close",t),s=n;break;case"iframe":case"object":case"embed":Yt("load",t),s=n;break;case"video":case"audio":for(s=0;s<ac.length;s++)Yt(ac[s],t);s=n;break;case"source":Yt("error",t),s=n;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),s=n;break;case"details":Yt("toggle",t),s=n;break;case"input":Bg(t,n),s=Ep(t,n),Yt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ir({},n,{value:void 0}),Yt("invalid",t);break;case"textarea":qg(t,n),s=Rp(t,n),Yt("invalid",t);break;default:s=n}Fp(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?bv(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wv(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nc(t,c):typeof c=="number"&&Nc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_c.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Yt("scroll",t):c!=null&&r0(t,i,c,a))}switch(r){case"input":Gu(t),Ug(t,n,!1);break;case"textarea":Gu(t),zg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Hi(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Bo(t,!!n.multiple,i,!1):n.defaultValue!=null&&Bo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$d)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vr(e),null;case 6:if(t&&e.stateNode!=null)W5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));if(r=Na(Rc.current),Na(Os.current),rd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ts]=e,(i=n.nodeValue!==r)&&(t=Fn,t!==null))switch(t.tag){case 3:td(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&td(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ts]=e,e.stateNode=n}return Vr(e),null;case 13:if(Qt(nr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&Rn!==null&&e.mode&1&&!(e.flags&128))l5(),Qo(),e.flags|=98560,i=!1;else if(i=rd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[Ts]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),i=!1}else ms!==null&&(vm(ms),ms=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||nr.current&1?Cr===0&&(Cr=3):D0())),e.updateQueue!==null&&(e.flags|=4),Vr(e),null);case 4:return el(),cm(t,e),t===null&&Cc(e.stateNode.containerInfo),Vr(e),null;case 10:return b0(e.type._context),Vr(e),null;case 17:return _n(e.type)&&Wd(),Vr(e),null;case 19:if(Qt(nr),i=e.memoizedState,i===null)return Vr(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Yl(i,!1);else{if(Cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Xd(t),a!==null){for(e.flags|=128,Yl(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Kt(nr,nr.current&1|2),e.child}t=t.sibling}i.tail!==null&&gr()>rl&&(e.flags|=128,n=!0,Yl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Xd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tr)return Vr(e),null}else 2*gr()-i.renderingStartTime>rl&&r!==1073741824&&(e.flags|=128,n=!0,Yl(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gr(),e.sibling=null,r=nr.current,Kt(nr,n?r&1|2:r&1),e):(Vr(e),null);case 22:case 23:return M0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?In&1073741824&&(Vr(e),e.subtreeFlags&6&&(e.flags|=8192)):Vr(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function E4(t,e){switch(v0(e),e.tag){case 1:return _n(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return el(),Qt(bn),Qt(tn),k0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return j0(e),null;case 13:if(Qt(nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(nr),null;case 4:return el(),null;case 10:return b0(e.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var id=!1,Xr=!1,T4=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Fo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(t,e,n)}else r.current=null}function um(t,e,r){try{r()}catch(n){dr(t,e,n)}}var E1=!1;function I4(t,e){if(Gp=Ud,t=Kv(),m0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,d=0,f=0,p=t,y=null;t:for(;;){for(var g;p!==r||s!==0&&p.nodeType!==3||(o=a+s),p!==i||n!==0&&p.nodeType!==3||(c=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)y=p,p=g;for(;;){if(p===t)break t;if(y===r&&++d===s&&(o=a),y===i&&++f===n&&(c=a),(g=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=g}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jp={focusedElem:t,selectionRange:r},Ud=!1,Je=e;Je!==null;)if(e=Je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Je=t;else for(;Je!==null;){e=Je;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,j=N.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:ds(e.type,S),j);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(I){dr(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Je=t;break}Je=e.return}return N=E1,E1=!1,N}function mc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&um(e,r,i)}s=s.next}while(s!==n)}}function bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function dm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function H5(t){var e=t.alternate;e!==null&&(t.alternate=null,H5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ts],delete e[Tc],delete e[Xp],delete e[m4],delete e[g4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function V5(t){return t.tag===5||t.tag===3||t.tag===4}function T1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$d));else if(n!==4&&(t=t.child,t!==null))for(hm(t,e,r),t=t.sibling;t!==null;)hm(t,e,r),t=t.sibling}function fm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fm(t,e,r),t=t.sibling;t!==null;)fm(t,e,r),t=t.sibling}var Ur=null,fs=!1;function _i(t,e,r){for(r=r.child;r!==null;)G5(t,e,r),r=r.sibling}function G5(t,e,r){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(fh,r)}catch{}switch(r.tag){case 5:Xr||Fo(r,e);case 6:var n=Ur,s=fs;Ur=null,_i(t,e,r),Ur=n,fs=s,Ur!==null&&(fs?(t=Ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ur.removeChild(r.stateNode));break;case 18:Ur!==null&&(fs?(t=Ur,r=r.stateNode,t.nodeType===8?Jf(t.parentNode,r):t.nodeType===1&&Jf(t,r),Ac(t)):Jf(Ur,r.stateNode));break;case 4:n=Ur,s=fs,Ur=r.stateNode.containerInfo,fs=!0,_i(t,e,r),Ur=n,fs=s;break;case 0:case 11:case 14:case 15:if(!Xr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&um(r,e,a),s=s.next}while(s!==n)}_i(t,e,r);break;case 1:if(!Xr&&(Fo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){dr(r,e,o)}_i(t,e,r);break;case 21:_i(t,e,r);break;case 22:r.mode&1?(Xr=(n=Xr)||r.memoizedState!==null,_i(t,e,r),Xr=n):_i(t,e,r);break;default:_i(t,e,r)}}function I1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new T4),e.forEach(function(n){var s=z4.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function os(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ur=o.stateNode,fs=!1;break e;case 3:Ur=o.stateNode.containerInfo,fs=!0;break e;case 4:Ur=o.stateNode.containerInfo,fs=!0;break e}o=o.return}if(Ur===null)throw Error(Re(160));G5(i,a,s),Ur=null,fs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){dr(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J5(e,t),e=e.sibling}function J5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(os(e,t),As(t),n&4){try{mc(3,t,t.return),bh(3,t)}catch(S){dr(t,t.return,S)}try{mc(5,t,t.return)}catch(S){dr(t,t.return,S)}}break;case 1:os(e,t),As(t),n&512&&r!==null&&Fo(r,r.return);break;case 5:if(os(e,t),As(t),n&512&&r!==null&&Fo(r,r.return),t.flags&32){var s=t.stateNode;try{Nc(s,"")}catch(S){dr(t,t.return,S)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&gv(s,i),Mp(o,a);var d=Mp(o,i);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?bv(s,p):f==="dangerouslySetInnerHTML"?wv(s,p):f==="children"?Nc(s,p):r0(s,f,p,d)}switch(o){case"input":Tp(s,i);break;case"textarea":vv(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Bo(s,!!i.multiple,g,!1):y!==!!i.multiple&&(i.defaultValue!=null?Bo(s,!!i.multiple,i.defaultValue,!0):Bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tc]=i}catch(S){dr(t,t.return,S)}}break;case 6:if(os(e,t),As(t),n&4){if(t.stateNode===null)throw Error(Re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){dr(t,t.return,S)}}break;case 3:if(os(e,t),As(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ac(e.containerInfo)}catch(S){dr(t,t.return,S)}break;case 4:os(e,t),As(t);break;case 13:os(e,t),As(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(O0=gr())),n&4&&I1(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Xr=(d=Xr)||f,os(e,t),Xr=d):os(e,t),As(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Je=t,f=t.child;f!==null;){for(p=Je=f;Je!==null;){switch(y=Je,g=y.child,y.tag){case 0:case 11:case 14:case 15:mc(4,y,y.return);break;case 1:Fo(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(S){dr(n,r,S)}}break;case 5:Fo(y,y.return);break;case 22:if(y.memoizedState!==null){O1(p);continue}}g!==null?(g.return=y,Je=g):O1(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=xv("display",a))}catch(S){dr(t,t.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(S){dr(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:os(e,t),As(t),n&4&&I1(t);break;case 21:break;default:os(e,t),As(t)}}function As(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(V5(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Nc(s,""),n.flags&=-33);var i=T1(t);fm(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=T1(t);hm(t,o,a);break;default:throw Error(Re(161))}}catch(c){dr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R4(t,e,r){Je=t,K5(t)}function K5(t,e,r){for(var n=(t.mode&1)!==0;Je!==null;){var s=Je,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||id;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Xr;o=id;var d=Xr;if(id=a,(Xr=c)&&!d)for(Je=s;Je!==null;)a=Je,c=a.child,a.tag===22&&a.memoizedState!==null?F1(s):c!==null?(c.return=a,Je=c):F1(s);for(;i!==null;)Je=i,K5(i),i=i.sibling;Je=s,id=o,Xr=d}R1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Je=i):R1(t)}}function R1(t){for(;Je!==null;){var e=Je;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xr||bh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ds(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&y1(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}y1(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ac(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Xr||e.flags&512&&dm(e)}catch(y){dr(e,e.return,y)}}if(e===t){Je=null;break}if(r=e.sibling,r!==null){r.return=e.return,Je=r;break}Je=e.return}}function O1(t){for(;Je!==null;){var e=Je;if(e===t){Je=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Je=r;break}Je=e.return}}function F1(t){for(;Je!==null;){var e=Je;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bh(4,e)}catch(c){dr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){dr(e,s,c)}}var i=e.return;try{dm(e)}catch(c){dr(e,i,c)}break;case 5:var a=e.return;try{dm(e)}catch(c){dr(e,a,c)}}}catch(c){dr(e,e.return,c)}if(e===t){Je=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Je=o;break}Je=e.return}}var O4=Math.ceil,eh=ai.ReactCurrentDispatcher,I0=ai.ReactCurrentOwner,Qn=ai.ReactCurrentBatchConfig,Et=0,Mr=null,Sr=null,qr=0,In=0,Mo=Xi(0),Cr=0,Dc=null,Ta=0,_h=0,R0=0,gc=null,yn=null,O0=0,rl=1/0,Ks=null,th=!1,pm=null,qi=null,ad=!1,Ii=null,rh=0,vc=0,mm=null,jd=-1,kd=0;function un(){return Et&6?gr():jd!==-1?jd:jd=gr()}function zi(t){return t.mode&1?Et&2&&qr!==0?qr&-qr:y4.transition!==null?(kd===0&&(kd=Iv()),kd):(t=Bt,t!==0||(t=window.event,t=t===void 0?16:Uv(t.type)),t):1}function vs(t,e,r,n){if(50<vc)throw vc=0,mm=null,Error(Re(185));Hc(t,r,n),(!(Et&2)||t!==Mr)&&(t===Mr&&(!(Et&2)&&(_h|=r),Cr===4&&Ci(t,qr)),Nn(t,n),r===1&&Et===0&&!(e.mode&1)&&(rl=gr()+500,yh&&Qi()))}function Nn(t,e){var r=t.callbackNode;yb(t,e);var n=Bd(t,t===Mr?qr:0);if(n===0)r!==null&&Hg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Hg(r),e===1)t.tag===0?v4(M1.bind(null,t)):i5(M1.bind(null,t)),f4(function(){!(Et&6)&&Qi()}),r=null;else{switch(Rv(n)){case 1:r=o0;break;case 4:r=Ev;break;case 16:r=Dd;break;case 536870912:r=Tv;break;default:r=Dd}r=ny(r,Y5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Y5(t,e){if(jd=-1,kd=0,Et&6)throw Error(Re(327));var r=t.callbackNode;if(Wo()&&t.callbackNode!==r)return null;var n=Bd(t,t===Mr?qr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=nh(t,n);else{e=n;var s=Et;Et|=2;var i=Q5();(Mr!==t||qr!==e)&&(Ks=null,rl=gr()+500,ja(t,e));do try{D4();break}catch(o){X5(t,o)}while(!0);x0(),eh.current=i,Et=s,Sr!==null?e=0:(Mr=null,qr=0,e=Cr)}if(e!==0){if(e===2&&(s=zp(t),s!==0&&(n=s,e=gm(t,s))),e===1)throw r=Dc,ja(t,0),Ci(t,n),Nn(t,gr()),r;if(e===6)Ci(t,n);else{if(s=t.current.alternate,!(n&30)&&!F4(s)&&(e=nh(t,n),e===2&&(i=zp(t),i!==0&&(n=i,e=gm(t,i))),e===1))throw r=Dc,ja(t,0),Ci(t,n),Nn(t,gr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Re(345));case 2:ga(t,yn,Ks);break;case 3:if(Ci(t,n),(n&130023424)===n&&(e=O0+500-gr(),10<e)){if(Bd(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yp(ga.bind(null,t,yn,Ks),e);break}ga(t,yn,Ks);break;case 4:if(Ci(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-gs(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*O4(n/1960))-n,10<n){t.timeoutHandle=Yp(ga.bind(null,t,yn,Ks),n);break}ga(t,yn,Ks);break;case 5:ga(t,yn,Ks);break;default:throw Error(Re(329))}}}return Nn(t,gr()),t.callbackNode===r?Y5.bind(null,t):null}function gm(t,e){var r=gc;return t.current.memoizedState.isDehydrated&&(ja(t,e).flags|=256),t=nh(t,e),t!==2&&(e=yn,yn=r,e!==null&&vm(e)),t}function vm(t){yn===null?yn=t:yn.push.apply(yn,t)}function F4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ys(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~R0,e&=~_h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gs(e),n=1<<r;t[r]=-1,e&=~n}}function M1(t){if(Et&6)throw Error(Re(327));Wo();var e=Bd(t,0);if(!(e&1))return Nn(t,gr()),null;var r=nh(t,e);if(t.tag!==0&&r===2){var n=zp(t);n!==0&&(e=n,r=gm(t,n))}if(r===1)throw r=Dc,ja(t,0),Ci(t,e),Nn(t,gr()),r;if(r===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ga(t,yn,Ks),Nn(t,gr()),null}function F0(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(rl=gr()+500,yh&&Qi())}}function Ia(t){Ii!==null&&Ii.tag===0&&!(Et&6)&&Wo();var e=Et;Et|=1;var r=Qn.transition,n=Bt;try{if(Qn.transition=null,Bt=1,t)return t()}finally{Bt=n,Qn.transition=r,Et=e,!(Et&6)&&Qi()}}function M0(){In=Mo.current,Qt(Mo)}function ja(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,h4(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(v0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wd();break;case 3:el(),Qt(bn),Qt(tn),k0();break;case 5:j0(n);break;case 4:el();break;case 13:Qt(nr);break;case 19:Qt(nr);break;case 10:b0(n.type._context);break;case 22:case 23:M0()}r=r.return}if(Mr=t,Sr=t=$i(t.current,null),qr=In=e,Cr=0,Dc=null,R0=_h=Ta=0,yn=gc=null,_a!==null){for(e=0;e<_a.length;e++)if(r=_a[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}_a=null}return t}function X5(t,e){do{var r=Sr;try{if(x0(),_d.current=Zd,Qd){for(var n=sr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qd=!1}if(Ea=0,Or=Pr=sr=null,pc=!1,Oc=0,I0.current=null,r===null||r.return===null){Cr=1,Dc=e,Sr=null;break}e:{var i=t,a=r.return,o=r,c=e;if(e=qr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=S1(a);if(g!==null){g.flags&=-257,j1(g,a,o,i,e),g.mode&1&&N1(i,d,e),e=g,c=d;var N=e.updateQueue;if(N===null){var S=new Set;S.add(c),e.updateQueue=S}else N.add(c);break e}else{if(!(e&1)){N1(i,d,e),D0();break e}c=Error(Re(426))}}else if(tr&&o.mode&1){var j=S1(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),j1(j,a,o,i,e),y0(tl(c,o));break e}}i=c=tl(c,o),Cr!==4&&(Cr=2),gc===null?gc=[i]:gc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=R5(i,c,e);v1(i,w);break e;case 1:o=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qi===null||!qi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=O5(i,o,e);v1(i,I);break e}}i=i.return}while(i!==null)}ey(r)}catch(q){e=q,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function Q5(){var t=eh.current;return eh.current=Zd,t===null?Zd:t}function D0(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Mr===null||!(Ta&268435455)&&!(_h&268435455)||Ci(Mr,qr)}function nh(t,e){var r=Et;Et|=2;var n=Q5();(Mr!==t||qr!==e)&&(Ks=null,ja(t,e));do try{M4();break}catch(s){X5(t,s)}while(!0);if(x0(),Et=r,eh.current=n,Sr!==null)throw Error(Re(261));return Mr=null,qr=0,Cr}function M4(){for(;Sr!==null;)Z5(Sr)}function D4(){for(;Sr!==null&&!cb();)Z5(Sr)}function Z5(t){var e=ry(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?ey(t):Sr=e,I0.current=null}function ey(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=E4(r,e),r!==null){r.flags&=32767,Sr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cr=6,Sr=null;return}}else if(r=C4(r,e,In),r!==null){Sr=r;return}if(e=e.sibling,e!==null){Sr=e;return}Sr=e=t}while(e!==null);Cr===0&&(Cr=5)}function ga(t,e,r){var n=Bt,s=Qn.transition;try{Qn.transition=null,Bt=1,B4(t,e,r,n)}finally{Qn.transition=s,Bt=n}return null}function B4(t,e,r,n){do Wo();while(Ii!==null);if(Et&6)throw Error(Re(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(wb(t,i),t===Mr&&(Sr=Mr=null,qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ad||(ad=!0,ny(Dd,function(){return Wo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var a=Bt;Bt=1;var o=Et;Et|=4,I0.current=null,I4(t,r),J5(r,t),i4(Jp),Ud=!!Gp,Jp=Gp=null,t.current=r,R4(r),ub(),Et=o,Bt=a,Qn.transition=i}else t.current=r;if(ad&&(ad=!1,Ii=t,rh=s),i=t.pendingLanes,i===0&&(qi=null),fb(r.stateNode),Nn(t,gr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(th)throw th=!1,t=pm,pm=null,t;return rh&1&&t.tag!==0&&Wo(),i=t.pendingLanes,i&1?t===mm?vc++:(vc=0,mm=t):vc=0,Qi(),null}function Wo(){if(Ii!==null){var t=Rv(rh),e=Qn.transition,r=Bt;try{if(Qn.transition=null,Bt=16>t?16:t,Ii===null)var n=!1;else{if(t=Ii,Ii=null,rh=0,Et&6)throw Error(Re(331));var s=Et;for(Et|=4,Je=t.current;Je!==null;){var i=Je,a=i.child;if(Je.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Je=d;Je!==null;){var f=Je;switch(f.tag){case 0:case 11:case 15:mc(8,f,i)}var p=f.child;if(p!==null)p.return=f,Je=p;else for(;Je!==null;){f=Je;var y=f.sibling,g=f.return;if(H5(f),f===d){Je=null;break}if(y!==null){y.return=g,Je=y;break}Je=g}}}var N=i.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}Je=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Je=a;else e:for(;Je!==null;){if(i=Je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Je=w;break e}Je=i.return}}var x=t.current;for(Je=x;Je!==null;){a=Je;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Je=b;else e:for(a=x;Je!==null;){if(o=Je,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bh(9,o)}}catch(q){dr(o,o.return,q)}if(o===a){Je=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Je=I;break e}Je=o.return}}if(Et=s,Qi(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(fh,t)}catch{}n=!0}return n}finally{Bt=r,Qn.transition=e}}return!1}function D1(t,e,r){e=tl(r,e),e=R5(t,e,1),t=Ui(t,e,1),e=un(),t!==null&&(Hc(t,1,e),Nn(t,e))}function dr(t,e,r){if(t.tag===3)D1(t,t,r);else for(;e!==null;){if(e.tag===3){D1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qi===null||!qi.has(n))){t=tl(r,t),t=O5(e,t,1),e=Ui(e,t,1),t=un(),e!==null&&(Hc(e,1,t),Nn(e,t));break}}e=e.return}}function U4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&r,Mr===t&&(qr&r)===r&&(Cr===4||Cr===3&&(qr&130023424)===qr&&500>gr()-O0?ja(t,0):R0|=r),Nn(t,e)}function ty(t,e){e===0&&(t.mode&1?(e=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):e=1);var r=un();t=si(t,e),t!==null&&(Hc(t,e,r),Nn(t,r))}function q4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ty(t,r)}function z4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(e),ty(t,r)}var ry;ry=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)xn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xn=!1,P4(t,e,r);xn=!!(t.flags&131072)}else xn=!1,tr&&e.flags&1048576&&a5(e,Gd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Sd(t,e),t=e.pendingProps;var s=Xo(e,tn.current);$o(e,r),s=L0(null,e,n,t,s,r);var i=P0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(n)?(i=!0,Hd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,N0(e),s.updater=xh,e.stateNode=s,s._reactInternals=e,nm(e,n,t,r),e=am(null,e,n,!0,i,r)):(e.tag=0,tr&&i&&g0(e),cn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Sd(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=W4(n),t=ds(n,t),s){case 0:e=im(null,e,n,t,r);break e;case 1:e=L1(null,e,n,t,r);break e;case 11:e=k1(null,e,n,t,r);break e;case 14:e=A1(null,e,n,ds(n.type,t),r);break e}throw Error(Re(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),im(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),L1(t,e,n,s,r);case 3:e:{if(B5(e),t===null)throw Error(Re(387));n=e.pendingProps,i=e.memoizedState,s=i.element,h5(t,e),Yd(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tl(Error(Re(423)),e),e=P1(t,e,n,r,s);break e}else if(n!==s){s=tl(Error(Re(424)),e),e=P1(t,e,n,r,s);break e}else for(Rn=Bi(e.stateNode.containerInfo.firstChild),Fn=e,tr=!0,ms=null,r=u5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qo(),n===s){e=ii(t,e,r);break e}cn(t,e,n,r)}e=e.child}return e;case 5:return f5(e),t===null&&em(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Kp(n,s)?a=null:i!==null&&Kp(n,i)&&(e.flags|=32),D5(t,e),cn(t,e,a,r),e.child;case 6:return t===null&&em(e),null;case 13:return U5(t,e,r);case 4:return S0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zo(e,null,n,r):cn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),k1(t,e,n,s,r);case 7:return cn(t,e,e.pendingProps,r),e.child;case 8:return cn(t,e,e.pendingProps.children,r),e.child;case 12:return cn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Kt(Jd,n._currentValue),n._currentValue=a,i!==null)if(ys(i.value,a)){if(i.children===s.children&&!bn.current){e=ii(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ei(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),tm(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Re(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),tm(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}cn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,$o(e,r),s=es(s),n=n(s),e.flags|=1,cn(t,e,n,r),e.child;case 14:return n=e.type,s=ds(n,e.pendingProps),s=ds(n.type,s),A1(t,e,n,s,r);case 15:return F5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ds(n,s),Sd(t,e),e.tag=1,_n(n)?(t=!0,Hd(e)):t=!1,$o(e,r),I5(e,n,s),nm(e,n,s,r),am(null,e,n,!0,t,r);case 19:return q5(t,e,r);case 22:return M5(t,e,r)}throw Error(Re(156,e.tag))};function ny(t,e){return Cv(t,e)}function $4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,r,n){return new $4(t,e,r,n)}function B0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W4(t){if(typeof t=="function")return B0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===s0)return 11;if(t===i0)return 14}return 2}function $i(t,e){var r=t.alternate;return r===null?(r=Xn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ad(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")B0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ao:return ka(r.children,s,i,e);case n0:a=8,s|=8;break;case Ap:return t=Xn(12,r,e,s|2),t.elementType=Ap,t.lanes=i,t;case Lp:return t=Xn(13,r,e,s),t.elementType=Lp,t.lanes=i,t;case Pp:return t=Xn(19,r,e,s),t.elementType=Pp,t.lanes=i,t;case fv:return Nh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dv:a=10;break e;case hv:a=9;break e;case s0:a=11;break e;case i0:a=14;break e;case Ai:a=16,n=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=Xn(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ka(t,e,r,n){return t=Xn(7,t,n,e),t.lanes=r,t}function Nh(t,e,r,n){return t=Xn(22,t,n,e),t.elementType=fv,t.lanes=r,t.stateNode={isHidden:!1},t}function rp(t,e,r){return t=Xn(6,t,null,e),t.lanes=r,t}function np(t,e,r){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H4(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function U0(t,e,r,n,s,i,a,o,c){return t=new H4(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(i),t}function V4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sy(t){if(!t)return Vi;t=t._reactInternals;e:{if(Fa(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var r=t.type;if(_n(r))return s5(t,r,e)}return e}function iy(t,e,r,n,s,i,a,o,c){return t=U0(r,n,!0,t,s,i,a,o,c),t.context=sy(null),r=t.current,n=un(),s=zi(r),i=ei(n,s),i.callback=e??null,Ui(r,i,s),t.current.lanes=s,Hc(t,s,n),Nn(t,n),t}function Sh(t,e,r,n){var s=e.current,i=un(),a=zi(s);return r=sy(r),e.context===null?e.context=r:e.pendingContext=r,e=ei(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ui(s,e,a),t!==null&&(vs(t,s,a,i),bd(t,s,a)),a}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function q0(t,e){B1(t,e),(t=t.alternate)&&B1(t,e)}function G4(){return null}var ay=typeof reportError=="function"?reportError:function(t){console.error(t)};function z0(t){this._internalRoot=t}jh.prototype.render=z0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));Sh(t,e,null,null)};jh.prototype.unmount=z0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ia(function(){Sh(null,t,null,null)}),e[ni]=null}};function jh(t){this._internalRoot=t}jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pi.length&&e!==0&&e<Pi[r].priority;r++);Pi.splice(r,0,t),r===0&&Bv(t)}};function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U1(){}function J4(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=sh(a);i.call(d)}}var a=iy(e,n,t,0,null,!1,!1,"",U1);return t._reactRootContainer=a,t[ni]=a.current,Cc(t.nodeType===8?t.parentNode:t),Ia(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=sh(c);o.call(d)}}var c=U0(t,0,!1,null,null,!1,!1,"",U1);return t._reactRootContainer=c,t[ni]=c.current,Cc(t.nodeType===8?t.parentNode:t),Ia(function(){Sh(e,c,r,n)}),c}function Ah(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=sh(a);o.call(c)}}Sh(e,a,t,s)}else a=J4(r,e,t,s,n);return sh(a)}Ov=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ic(e.pendingLanes);r!==0&&(l0(e,r|1),Nn(e,gr()),!(Et&6)&&(rl=gr()+500,Qi()))}break;case 13:Ia(function(){var n=si(t,1);if(n!==null){var s=un();vs(n,t,1,s)}}),q0(t,1)}};c0=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var r=un();vs(e,t,134217728,r)}q0(t,134217728)}};Fv=function(t){if(t.tag===13){var e=zi(t),r=si(t,e);if(r!==null){var n=un();vs(r,t,e,n)}q0(t,e)}};Mv=function(){return Bt};Dv=function(t,e){var r=Bt;try{return Bt=t,e()}finally{Bt=r}};Bp=function(t,e,r){switch(e){case"input":if(Tp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=vh(n);if(!s)throw Error(Re(90));mv(n),Tp(n,s)}}}break;case"textarea":vv(t,r);break;case"select":e=r.value,e!=null&&Bo(t,!!r.multiple,e,!1)}};Sv=F0;jv=Ia;var K4={usingClientEntryPoint:!1,Events:[Gc,Eo,vh,_v,Nv,F0]},Xl={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lv(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||G4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{fh=od.inject(Y4),Rs=od}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K4;Dn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(e))throw Error(Re(200));return V4(t,e,null,r)};Dn.createRoot=function(t,e){if(!$0(t))throw Error(Re(299));var r=!1,n="",s=ay;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=U0(t,1,!1,null,null,r,!1,n,s),t[ni]=e.current,Cc(t.nodeType===8?t.parentNode:t),new z0(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=Lv(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Ia(t)};Dn.hydrate=function(t,e,r){if(!kh(e))throw Error(Re(200));return Ah(null,t,e,!0,r)};Dn.hydrateRoot=function(t,e,r){if(!$0(t))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ay;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=iy(e,null,t,1,r??null,s,!1,i,a),t[ni]=e.current,Cc(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new jh(e)};Dn.render=function(t,e,r){if(!kh(e))throw Error(Re(200));return Ah(null,t,e,!1,r)};Dn.unmountComponentAtNode=function(t){if(!kh(t))throw Error(Re(40));return t._reactRootContainer?(Ia(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};Dn.unstable_batchedUpdates=F0;Dn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kh(r))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return Ah(t,e,r,!1,n)};Dn.version="18.3.1-next-f1338f8080-20240426";function oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oy)}catch(t){console.error(t)}}oy(),ov.exports=Dn;var X4=ov.exports,ly,q1=X4;ly=q1.createRoot,q1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bc.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const z1="popstate";function Q4(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return ym("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ih(s)}return e3(e,r,null,t)}function xr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z4(){return Math.random().toString(36).substr(2,8)}function $1(t,e){return{usr:t.state,key:t.key,idx:e}}function ym(t,e,r,n){return r===void 0&&(r=null),Bc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ll(e):e,{state:r,key:e&&e.key||n||Z4()})}function ih(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ll(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function e3(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ri.Pop,c=null,d=f();d==null&&(d=0,a.replaceState(Bc({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){o=Ri.Pop;let j=f(),w=j==null?null:j-d;d=j,c&&c({action:o,location:S.location,delta:w})}function y(j,w){o=Ri.Push;let x=ym(S.location,j,w);d=f()+1;let b=$1(x,d),I=S.createHref(x);try{a.pushState(b,"",I)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(I)}i&&c&&c({action:o,location:S.location,delta:1})}function g(j,w){o=Ri.Replace;let x=ym(S.location,j,w);d=f();let b=$1(x,d),I=S.createHref(x);a.replaceState(b,"",I),i&&c&&c({action:o,location:S.location,delta:0})}function N(j){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof j=="string"?j:ih(j);return x=x.replace(/ $/,"%20"),xr(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let S={get action(){return o},get location(){return t(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(z1,p),c=j,()=>{s.removeEventListener(z1,p),c=null}},createHref(j){return e(s,j)},createURL:N,encodeLocation(j){let w=N(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:g,go(j){return a.go(j)}};return S}var W1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W1||(W1={}));function t3(t,e,r){return r===void 0&&(r="/"),r3(t,e,r)}function r3(t,e,r,n){let s=typeof e=="string"?ll(e):e,i=W0(s.pathname||"/",r);if(i==null)return null;let a=uy(t);n3(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=m3(i);o=h3(a[c],d)}return o}function uy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(xr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Wi([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(xr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),uy(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:u3(d,i.index),routesMeta:f})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of dy(i.path))s(i,a,c)}),e}function dy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=dy(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function n3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:d3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const s3=/^:[\w-]+$/,i3=3,a3=2,o3=1,l3=10,c3=-2,H1=t=>t==="*";function u3(t,e){let r=t.split("/"),n=r.length;return r.some(H1)&&(n+=c3),e&&(n+=a3),r.filter(s=>!H1(s)).reduce((s,i)=>s+(s3.test(i)?i3:i===""?o3:l3),n)}function d3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function h3(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=f3({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),y=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Wi([i,p.pathname]),pathnameBase:w3(Wi([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=Wi([i,p.pathnameBase]))}return a}function f3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=p3(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,f,p)=>{let{paramName:y,isOptional:g}=f;if(y==="*"){let S=o[p]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const N=o[p];return g&&!N?d[y]=void 0:d[y]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function p3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function m3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function W0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function g3(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ll(t):t;return{pathname:r?r.startsWith("/")?r:v3(r,e):e,search:x3(n),hash:b3(s)}}function v3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function sp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function H0(t,e){let r=y3(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function V0(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ll(t):(s=Bc({},t),xr(!s.pathname||!s.pathname.includes("?"),sp("?","pathname","search",s)),xr(!s.pathname||!s.pathname.includes("#"),sp("#","pathname","hash",s)),xr(!s.search||!s.search.includes("#"),sp("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}o=p>=0?e[p]:"/"}let c=g3(s,o),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),w3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hy=["post","put","patch","delete"];new Set(hy);const N3=["get",...hy];new Set(N3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uc.apply(this,arguments)}const G0=D.createContext(null),S3=D.createContext(null),Zi=D.createContext(null),Lh=D.createContext(null),oi=D.createContext({outlet:null,matches:[],isDataRoute:!1}),fy=D.createContext(null);function j3(t,e){let{relative:r}=e===void 0?{}:e;cl()||xr(!1);let{basename:n,navigator:s}=D.useContext(Zi),{hash:i,pathname:a,search:o}=my(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Wi([n,a])),s.createHref({pathname:c,search:o,hash:i})}function cl(){return D.useContext(Lh)!=null}function ea(){return cl()||xr(!1),D.useContext(Lh).location}function py(t){D.useContext(Zi).static||D.useLayoutEffect(t)}function Un(){let{isDataRoute:t}=D.useContext(oi);return t?U3():k3()}function k3(){cl()||xr(!1);let t=D.useContext(G0),{basename:e,future:r,navigator:n}=D.useContext(Zi),{matches:s}=D.useContext(oi),{pathname:i}=ea(),a=JSON.stringify(H0(s,r.v7_relativeSplatPath)),o=D.useRef(!1);return py(()=>{o.current=!0}),D.useCallback(function(d,f){if(f===void 0&&(f={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let p=V0(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Wi([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,i,t])}const A3=D.createContext(null);function L3(t){let e=D.useContext(oi).outlet;return e&&D.createElement(A3.Provider,{value:t},e)}function my(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=D.useContext(Zi),{matches:s}=D.useContext(oi),{pathname:i}=ea(),a=JSON.stringify(H0(s,n.v7_relativeSplatPath));return D.useMemo(()=>V0(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function P3(t,e){return C3(t,e)}function C3(t,e,r,n){cl()||xr(!1);let{navigator:s}=D.useContext(Zi),{matches:i}=D.useContext(oi),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=ea(),f;if(e){var p;let j=typeof e=="string"?ll(e):e;c==="/"||(p=j.pathname)!=null&&p.startsWith(c)||xr(!1),f=j}else f=d;let y=f.pathname||"/",g=y;if(c!=="/"){let j=c.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=t3(t,{pathname:g}),S=O3(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Wi([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Wi([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return e&&S?D.createElement(Lh.Provider,{value:{location:Uc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ri.Pop}},S):S}function E3(){let t=B3(),e=_3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:s},r):null,null)}const T3=D.createElement(E3,null);class I3 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?D.createElement(oi.Provider,{value:this.props.routeContext},D.createElement(fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R3(t){let{routeContext:e,match:r,children:n}=t,s=D.useContext(G0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),D.createElement(oi.Provider,{value:e},n)}function O3(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||xr(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:y,errors:g}=r,N=p.route.loader&&y[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||N){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let g,N=!1,S=null,j=null;r&&(g=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||T3,c&&(d<0&&y===0?(q3("route-fallback"),N=!0,j=null):d===y&&(N=!0,j=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,y+1)),x=()=>{let b;return g?b=S:N?b=j:p.route.Component?b=D.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,D.createElement(R3,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:b})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?D.createElement(I3,{location:r.location,revalidation:r.revalidation,component:S,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var gy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gy||{}),vy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vy||{});function F3(t){let e=D.useContext(G0);return e||xr(!1),e}function M3(t){let e=D.useContext(S3);return e||xr(!1),e}function D3(t){let e=D.useContext(oi);return e||xr(!1),e}function yy(t){let e=D3(),r=e.matches[e.matches.length-1];return r.route.id||xr(!1),r.route.id}function B3(){var t;let e=D.useContext(fy),r=M3(),n=yy();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function U3(){let{router:t}=F3(gy.UseNavigateStable),e=yy(vy.UseNavigateStable),r=D.useRef(!1);return py(()=>{r.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Uc({fromRouteId:e},i)))},[t,e])}const V1={};function q3(t,e,r){V1[t]||(V1[t]=!0)}function z3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wy(t){let{to:e,replace:r,state:n,relative:s}=t;cl()||xr(!1);let{future:i,static:a}=D.useContext(Zi),{matches:o}=D.useContext(oi),{pathname:c}=ea(),d=Un(),f=V0(e,H0(o,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(f);return D.useEffect(()=>d(JSON.parse(p),{replace:r,state:n,relative:s}),[d,p,s,r,n]),null}function $3(t){return L3(t.context)}function mr(t){xr(!1)}function W3(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ri.Pop,navigator:i,static:a=!1,future:o}=t;cl()&&xr(!1);let c=e.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:i,static:a,future:Uc({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof n=="string"&&(n=ll(n));let{pathname:f="/",search:p="",hash:y="",state:g=null,key:N="default"}=n,S=D.useMemo(()=>{let j=W0(f,c);return j==null?null:{location:{pathname:j,search:p,hash:y,state:g,key:N},navigationType:s}},[c,f,p,y,g,N,s]);return S==null?null:D.createElement(Zi.Provider,{value:d},D.createElement(Lh.Provider,{children:r,value:S}))}function H3(t){let{children:e,location:r}=t;return P3(wm(e),r)}new Promise(()=>{});function wm(t,e){e===void 0&&(e=[]);let r=[];return D.Children.forEach(t,(n,s)=>{if(!D.isValidElement(n))return;let i=[...e,s];if(n.type===D.Fragment){r.push.apply(r,wm(n.props.children,i));return}n.type!==mr&&xr(!1),!n.props.index||!n.props.children||xr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=wm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xm.apply(this,arguments)}function V3(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function G3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J3(t,e){return t.button===0&&(!e||e==="_self")&&!G3(t)}const K3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y3="6";try{window.__reactRouterVersion=Y3}catch{}const X3="startTransition",G1=Ux[X3];function Q3(t){let{basename:e,children:r,future:n,window:s}=t,i=D.useRef();i.current==null&&(i.current=Q4({window:s,v5Compat:!0}));let a=i.current,[o,c]=D.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},f=D.useCallback(p=>{d&&G1?G1(()=>c(p)):c(p)},[c,d]);return D.useLayoutEffect(()=>a.listen(f),[a,f]),D.useEffect(()=>z3(n),[n]),D.createElement(W3,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Z3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nl=D.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:d,preventScrollReset:f,viewTransition:p}=e,y=V3(e,K3),{basename:g}=D.useContext(Zi),N,S=!1;if(typeof d=="string"&&e_.test(d)&&(N=d,Z3))try{let b=new URL(window.location.href),I=d.startsWith("//")?new URL(b.protocol+d):new URL(d),q=W0(I.pathname,g);I.origin===b.origin&&q!=null?d=q+I.search+I.hash:S=!0}catch{}let j=j3(d,{relative:s}),w=t_(d,{replace:a,state:o,target:c,preventScrollReset:f,relative:s,viewTransition:p});function x(b){n&&n(b),b.defaultPrevented||w(b)}return D.createElement("a",xm({},y,{href:N||j,onClick:S||i?n:x,ref:r,target:c}))});var J1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(J1||(J1={}));var K1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K1||(K1={}));function t_(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=Un(),d=ea(),f=my(t,{relative:a});return D.useCallback(p=>{if(J3(p,r)){p.preventDefault();let y=n!==void 0?n:ih(d)===ih(f);c(t,{replace:y,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,f,n,s,r,t,i,a,o])}function xy(t,e){return function(){return t.apply(e,arguments)}}const{toString:r_}=Object.prototype,{getPrototypeOf:J0}=Object,{iterator:Ph,toStringTag:by}=Symbol,Ch=(t=>e=>{const r=r_.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ws=t=>(t=t.toLowerCase(),e=>Ch(e)===t),Eh=t=>e=>typeof e===t,{isArray:ul}=Array,qc=Eh("undefined");function Kc(t){return t!==null&&!qc(t)&&t.constructor!==null&&!qc(t.constructor)&&Sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _y=ws("ArrayBuffer");function n_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_y(t.buffer),e}const s_=Eh("string"),Sn=Eh("function"),Ny=Eh("number"),Yc=t=>t!==null&&typeof t=="object",i_=t=>t===!0||t===!1,Ld=t=>{if(Ch(t)!=="object")return!1;const e=J0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(by in t)&&!(Ph in t)},a_=t=>{if(!Yc(t)||Kc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},o_=ws("Date"),l_=ws("File"),c_=ws("Blob"),u_=ws("FileList"),d_=t=>Yc(t)&&Sn(t.pipe),h_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Sn(t.append)&&((e=Ch(t))==="formdata"||e==="object"&&Sn(t.toString)&&t.toString()==="[object FormData]"))},f_=ws("URLSearchParams"),[p_,m_,g_,v_]=["ReadableStream","Request","Response","Headers"].map(ws),y_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),ul(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Kc(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(n=0;n<a;n++)o=i[n],e.call(null,t[o],o,t)}}function Sy(t,e){if(Kc(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jy=t=>!qc(t)&&t!==Sa;function bm(){const{caseless:t}=jy(this)&&this||{},e={},r=(n,s)=>{const i=t&&Sy(e,s)||s;Ld(e[i])&&Ld(n)?e[i]=bm(e[i],n):Ld(n)?e[i]=bm({},n):ul(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Xc(arguments[n],r);return e}const w_=(t,e,r,{allOwnKeys:n}={})=>(Xc(e,(s,i)=>{r&&Sn(s)?t[i]=xy(s,r):t[i]=s},{allOwnKeys:n}),t),x_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),b_=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},__=(t,e,r,n)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&J0(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},N_=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},S_=t=>{if(!t)return null;if(ul(t))return t;let e=t.length;if(!Ny(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},j_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&J0(Uint8Array)),k_=(t,e)=>{const n=(t&&t[Ph]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},A_=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},L_=ws("HTMLFormElement"),P_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Y1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),C_=ws("RegExp"),ky=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Xc(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},E_=t=>{ky(t,(e,r)=>{if(Sn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Sn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},T_=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return ul(t)?n(t):n(String(t).split(e)),r},I_=()=>{},R_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function O_(t){return!!(t&&Sn(t.append)&&t[by]==="FormData"&&t[Ph])}const F_=t=>{const e=new Array(10),r=(n,s)=>{if(Yc(n)){if(e.indexOf(n)>=0)return;if(Kc(n))return n;if(!("toJSON"in n)){e[s]=n;const i=ul(n)?[]:{};return Xc(n,(a,o)=>{const c=r(a,s+1);!qc(c)&&(i[o]=c)}),e[s]=void 0,i}}return n};return r(t,0)},M_=ws("AsyncFunction"),D_=t=>t&&(Yc(t)||Sn(t))&&Sn(t.then)&&Sn(t.catch),Ay=((t,e)=>t?setImmediate:e?((r,n)=>(Sa.addEventListener("message",({source:s,data:i})=>{s===Sa&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Sa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Sn(Sa.postMessage)),B_=typeof queueMicrotask<"u"?queueMicrotask.bind(Sa):typeof process<"u"&&process.nextTick||Ay,U_=t=>t!=null&&Sn(t[Ph]),we={isArray:ul,isArrayBuffer:_y,isBuffer:Kc,isFormData:h_,isArrayBufferView:n_,isString:s_,isNumber:Ny,isBoolean:i_,isObject:Yc,isPlainObject:Ld,isEmptyObject:a_,isReadableStream:p_,isRequest:m_,isResponse:g_,isHeaders:v_,isUndefined:qc,isDate:o_,isFile:l_,isBlob:c_,isRegExp:C_,isFunction:Sn,isStream:d_,isURLSearchParams:f_,isTypedArray:j_,isFileList:u_,forEach:Xc,merge:bm,extend:w_,trim:y_,stripBOM:x_,inherits:b_,toFlatObject:__,kindOf:Ch,kindOfTest:ws,endsWith:N_,toArray:S_,forEachEntry:k_,matchAll:A_,isHTMLForm:L_,hasOwnProperty:Y1,hasOwnProp:Y1,reduceDescriptors:ky,freezeMethods:E_,toObjectSet:T_,toCamelCase:P_,noop:I_,toFiniteNumber:R_,findKey:Sy,global:Sa,isContextDefined:jy,isSpecCompliantForm:O_,toJSONObject:F_,isAsyncFn:M_,isThenable:D_,setImmediate:Ay,asap:B_,isIterable:U_};function bt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}we.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});const Ly=bt.prototype,Py={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Py[t]={value:t}});Object.defineProperties(bt,Py);Object.defineProperty(Ly,"isAxiosError",{value:!0});bt.from=(t,e,r,n,s,i)=>{const a=Object.create(Ly);return we.toFlatObject(t,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),bt.call(a,t.message,e,r,n,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const q_=null;function _m(t){return we.isPlainObject(t)||we.isArray(t)}function Cy(t){return we.endsWith(t,"[]")?t.slice(0,-2):t}function X1(t,e,r){return t?t.concat(e).map(function(s,i){return s=Cy(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function z_(t){return we.isArray(t)&&!t.some(_m)}const $_=we.toFlatObject(we,{},null,function(e){return/^is[A-Z]/.test(e)});function Th(t,e,r){if(!we.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=we.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,j){return!we.isUndefined(j[S])});const n=r.metaTokens,s=r.visitor||f,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(e);if(!we.isFunction(s))throw new TypeError("visitor must be a function");function d(N){if(N===null)return"";if(we.isDate(N))return N.toISOString();if(we.isBoolean(N))return N.toString();if(!c&&we.isBlob(N))throw new bt("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(N)||we.isTypedArray(N)?c&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function f(N,S,j){let w=N;if(N&&!j&&typeof N=="object"){if(we.endsWith(S,"{}"))S=n?S:S.slice(0,-2),N=JSON.stringify(N);else if(we.isArray(N)&&z_(N)||(we.isFileList(N)||we.endsWith(S,"[]"))&&(w=we.toArray(N)))return S=Cy(S),w.forEach(function(b,I){!(we.isUndefined(b)||b===null)&&e.append(a===!0?X1([S],I,i):a===null?S:S+"[]",d(b))}),!1}return _m(N)?!0:(e.append(X1(j,S,i),d(N)),!1)}const p=[],y=Object.assign($_,{defaultVisitor:f,convertValue:d,isVisitable:_m});function g(N,S){if(!we.isUndefined(N)){if(p.indexOf(N)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(N),we.forEach(N,function(w,x){(!(we.isUndefined(w)||w===null)&&s.call(e,w,we.isString(x)?x.trim():x,S,y))===!0&&g(w,S?S.concat(x):[x])}),p.pop()}}if(!we.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Q1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function K0(t,e){this._pairs=[],t&&Th(t,this,e)}const Ey=K0.prototype;Ey.append=function(e,r){this._pairs.push([e,r])};Ey.toString=function(e){const r=e?function(n){return e.call(this,n,Q1)}:Q1;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function W_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ty(t,e,r){if(!e)return t;const n=r&&r.encode||W_;we.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=we.isURLSearchParams(e)?e.toString():new K0(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Z1{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){we.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Iy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H_=typeof URLSearchParams<"u"?URLSearchParams:K0,V_=typeof FormData<"u"?FormData:null,G_=typeof Blob<"u"?Blob:null,J_={isBrowser:!0,classes:{URLSearchParams:H_,FormData:V_,Blob:G_},protocols:["http","https","file","blob","url","data"]},Y0=typeof window<"u"&&typeof document<"u",Nm=typeof navigator=="object"&&navigator||void 0,K_=Y0&&(!Nm||["ReactNative","NativeScript","NS"].indexOf(Nm.product)<0),Y_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X_=Y0&&window.location.href||"http://localhost",Q_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Y0,hasStandardBrowserEnv:K_,hasStandardBrowserWebWorkerEnv:Y_,navigator:Nm,origin:X_},Symbol.toStringTag,{value:"Module"})),Zr={...Q_,...J_};function Z_(t,e){return Th(t,new Zr.classes.URLSearchParams,{visitor:function(r,n,s,i){return Zr.isNode&&we.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function eN(t){return we.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tN(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function Ry(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=r.length;return a=!a&&we.isArray(s)?s.length:a,c?(we.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!we.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&we.isArray(s[a])&&(s[a]=tN(s[a])),!o)}if(we.isFormData(t)&&we.isFunction(t.entries)){const r={};return we.forEachEntry(t,(n,s)=>{e(eN(n),s,r,0)}),r}return null}function rN(t,e,r){if(we.isString(t))try{return(e||JSON.parse)(t),we.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Qc={transitional:Iy,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=we.isObject(e);if(i&&we.isHTMLForm(e)&&(e=new FormData(e)),we.isFormData(e))return s?JSON.stringify(Ry(e)):e;if(we.isArrayBuffer(e)||we.isBuffer(e)||we.isStream(e)||we.isFile(e)||we.isBlob(e)||we.isReadableStream(e))return e;if(we.isArrayBufferView(e))return e.buffer;if(we.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Z_(e,this.formSerializer).toString();if((o=we.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Th(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),rN(e)):e}],transformResponse:[function(e){const r=this.transitional||Qc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(we.isResponse(e)||we.isReadableStream(e))return e;if(e&&we.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?bt.from(o,bt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],t=>{Qc.headers[t]={}});const nN=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sN=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&nN[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},e2=Symbol("internals");function Ql(t){return t&&String(t).trim().toLowerCase()}function Pd(t){return t===!1||t==null?t:we.isArray(t)?t.map(Pd):String(t)}function iN(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const aN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ip(t,e,r,n,s){if(we.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!we.isString(e)){if(we.isString(n))return e.indexOf(n)!==-1;if(we.isRegExp(n))return n.test(e)}}function oN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function lN(t,e){const r=we.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let jn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(o,c,d){const f=Ql(c);if(!f)throw new Error("header name must be a non-empty string");const p=we.findKey(s,f);(!p||s[p]===void 0||d===!0||d===void 0&&s[p]!==!1)&&(s[p||c]=Pd(o))}const a=(o,c)=>we.forEach(o,(d,f)=>i(d,f,c));if(we.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(we.isString(e)&&(e=e.trim())&&!aN(e))a(sN(e),r);else if(we.isObject(e)&&we.isIterable(e)){let o={},c,d;for(const f of e){if(!we.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(c=o[d])?we.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}a(o,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Ql(e),e){const n=we.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return iN(s);if(we.isFunction(r))return r.call(this,s,n);if(we.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ql(e),e){const n=we.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ip(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=Ql(a),a){const o=we.findKey(n,a);o&&(!r||ip(n,n[o],o,r))&&(delete n[o],s=!0)}}return we.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||ip(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return we.forEach(this,(s,i)=>{const a=we.findKey(n,i);if(a){r[a]=Pd(s),delete r[i];return}const o=e?oN(i):String(i).trim();o!==i&&delete r[i],r[o]=Pd(s),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return we.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&we.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[e2]=this[e2]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Ql(a);n[o]||(lN(s,a),n[o]=!0)}return we.isArray(e)?e.forEach(i):i(e),this}};jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(jn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});we.freezeMethods(jn);function ap(t,e){const r=this||Qc,n=e||r,s=jn.from(n.headers);let i=n.data;return we.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Oy(t){return!!(t&&t.__CANCEL__)}function dl(t,e,r){bt.call(this,t??"canceled",bt.ERR_CANCELED,e,r),this.name="CanceledError"}we.inherits(dl,bt,{__CANCEL__:!0});function Fy(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new bt("Request failed with status code "+r.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uN(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=n[i];a||(a=d),r[s]=c,n[s]=d;let p=i,y=0;for(;p!==s;)y+=r[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),d-a<e)return;const g=f&&d-f;return g?Math.round(y*1e3/g):void 0}}function dN(t,e){let r=0,n=1e3/e,s,i;const a=(d,f=Date.now())=>{r=f,s=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const f=Date.now(),p=f-r;p>=n?a(d,f):(s=d,i||(i=setTimeout(()=>{i=null,a(s)},n-p)))},()=>s&&a(s)]}const ah=(t,e,r=3)=>{let n=0;const s=uN(50,250);return dN(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-n,d=s(c),f=a<=o;n=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&f?(o-a)/d:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},r)},t2=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},r2=t=>(...e)=>we.asap(()=>t(...e)),hN=Zr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Zr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,fN=Zr.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];we.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),we.isString(n)&&a.push("path="+n),we.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function My(t,e,r){let n=!pN(e);return t&&(n||r==!1)?mN(t,e):e}const n2=t=>t instanceof jn?{...t}:t;function Ra(t,e){e=e||{};const r={};function n(d,f,p,y){return we.isPlainObject(d)&&we.isPlainObject(f)?we.merge.call({caseless:y},d,f):we.isPlainObject(f)?we.merge({},f):we.isArray(f)?f.slice():f}function s(d,f,p,y){if(we.isUndefined(f)){if(!we.isUndefined(d))return n(void 0,d,p,y)}else return n(d,f,p,y)}function i(d,f){if(!we.isUndefined(f))return n(void 0,f)}function a(d,f){if(we.isUndefined(f)){if(!we.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function o(d,f,p){if(p in e)return n(d,f);if(p in t)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(d,f,p)=>s(n2(d),n2(f),p,!0)};return we.forEach(Object.keys({...t,...e}),function(f){const p=c[f]||s,y=p(t[f],e[f],f);we.isUndefined(y)&&p!==o||(r[f]=y)}),r}const Dy=t=>{const e=Ra({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;e.headers=a=jn.from(a),e.url=Ty(My(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(we.isFormData(r)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[d,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Zr.hasStandardBrowserEnv&&(n&&we.isFunction(n)&&(n=n(e)),n||n!==!1&&hN(e.url))){const d=s&&i&&fN.read(i);d&&a.set(s,d)}return e},gN=typeof XMLHttpRequest<"u",vN=gN&&function(t){return new Promise(function(r,n){const s=Dy(t);let i=s.data;const a=jn.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=s,f,p,y,g,N;function S(){g&&g(),N&&N(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function w(){if(!j)return;const b=jn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),q={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:b,config:t,request:j};Fy(function(U){r(U),S()},function(U){n(U),S()},q),j=null}"onloadend"in j?j.onloadend=w:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(w)},j.onabort=function(){j&&(n(new bt("Request aborted",bt.ECONNABORTED,t,j)),j=null)},j.onerror=function(){n(new bt("Network Error",bt.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let I=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const q=s.transitional||Iy;s.timeoutErrorMessage&&(I=s.timeoutErrorMessage),n(new bt(I,q.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,t,j)),j=null},i===void 0&&a.setContentType(null),"setRequestHeader"in j&&we.forEach(a.toJSON(),function(I,q){j.setRequestHeader(q,I)}),we.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),o&&o!=="json"&&(j.responseType=s.responseType),d&&([y,N]=ah(d,!0),j.addEventListener("progress",y)),c&&j.upload&&([p,g]=ah(c),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(f=b=>{j&&(n(!b||b.type?new dl(null,t,j):b),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const x=cN(s.url);if(x&&Zr.protocols.indexOf(x)===-1){n(new bt("Unsupported protocol "+x+":",bt.ERR_BAD_REQUEST,t));return}j.send(i||null)})},yN=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,o();const f=d instanceof Error?d:this.reason;n.abort(f instanceof bt?f:new dl(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,i(new bt(`timeout ${e} of ms exceeded`,bt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>we.asap(o),c}},wN=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},xN=async function*(t,e){for await(const r of bN(t))yield*wN(r,e)},bN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},s2=(t,e,r,n)=>{const s=xN(t,e);let i=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await s.next();if(d){o(),c.close();return}let p=f.byteLength;if(r){let y=i+=p;r(y)}c.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},Ih=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",By=Ih&&typeof ReadableStream=="function",_N=Ih&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Uy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},NN=By&&Uy(()=>{let t=!1;const e=new Request(Zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),i2=64*1024,Sm=By&&Uy(()=>we.isReadableStream(new Response("").body)),oh={stream:Sm&&(t=>t.body)};Ih&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!oh[e]&&(oh[e]=we.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new bt(`Response type '${e}' is not supported`,bt.ERR_NOT_SUPPORT,n)})})})(new Response);const SN=async t=>{if(t==null)return 0;if(we.isBlob(t))return t.size;if(we.isSpecCompliantForm(t))return(await new Request(Zr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(we.isArrayBufferView(t)||we.isArrayBuffer(t))return t.byteLength;if(we.isURLSearchParams(t)&&(t=t+""),we.isString(t))return(await _N(t)).byteLength},jN=async(t,e)=>{const r=we.toFiniteNumber(t.getContentLength());return r??SN(e)},kN=Ih&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:y}=Dy(t);d=d?(d+"").toLowerCase():"text";let g=yN([s,i&&i.toAbortSignal()],a),N;const S=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let j;try{if(c&&NN&&r!=="get"&&r!=="head"&&(j=await jN(f,n))!==0){let q=new Request(e,{method:"POST",body:n,duplex:"half"}),$;if(we.isFormData(n)&&($=q.headers.get("content-type"))&&f.setContentType($),q.body){const[U,M]=t2(j,ah(r2(c)));n=s2(q.body,i2,U,M)}}we.isString(p)||(p=p?"include":"omit");const w="credentials"in Request.prototype;N=new Request(e,{...y,signal:g,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:w?p:void 0});let x=await fetch(N,y);const b=Sm&&(d==="stream"||d==="response");if(Sm&&(o||b&&S)){const q={};["status","statusText","headers"].forEach(ae=>{q[ae]=x[ae]});const $=we.toFiniteNumber(x.headers.get("content-length")),[U,M]=o&&t2($,ah(r2(o),!0))||[];x=new Response(s2(x.body,i2,U,()=>{M&&M(),S&&S()}),q)}d=d||"text";let I=await oh[we.findKey(oh,d)||"text"](x,t);return!b&&S&&S(),await new Promise((q,$)=>{Fy(q,$,{data:I,headers:jn.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:N})})}catch(w){throw S&&S(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,t,N),{cause:w.cause||w}):bt.from(w,w&&w.code,t,N)}}),jm={http:q_,xhr:vN,fetch:kN};we.forEach(jm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const a2=t=>`- ${t}`,AN=t=>we.isFunction(t)||t===null||t===!1,qy={getAdapter:t=>{t=we.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let a;if(n=r,!AN(r)&&(n=jm[(a=String(r)).toLowerCase()],n===void 0))throw new bt(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(a2).join(`
`):" "+a2(i[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:jm};function op(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dl(null,t)}function o2(t){return op(t),t.headers=jn.from(t.headers),t.data=ap.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qy.getAdapter(t.adapter||Qc.adapter)(t).then(function(n){return op(t),n.data=ap.call(t,t.transformResponse,n),n.headers=jn.from(n.headers),n},function(n){return Oy(n)||(op(t),n&&n.response&&(n.response.data=ap.call(t,t.transformResponse,n.response),n.response.headers=jn.from(n.response.headers))),Promise.reject(n)})}const zy="1.11.0",Rh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const l2={};Rh.transitional=function(e,r,n){function s(i,a){return"[Axios v"+zy+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(e===!1)throw new bt(s(a," has been removed"+(r?" in "+r:"")),bt.ERR_DEPRECATED);return r&&!l2[a]&&(l2[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,o):!0}};Rh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function LN(t,e,r){if(typeof t!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const o=t[i],c=o===void 0||a(o,i,t);if(c!==!0)throw new bt("option "+i+" must be "+c,bt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new bt("Unknown option "+i,bt.ERR_BAD_OPTION)}}const Cd={assertOptions:LN,validators:Rh},Ls=Cd.validators;let Aa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Z1,response:new Z1}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ra(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Cd.assertOptions(n,{silentJSONParsing:Ls.transitional(Ls.boolean),forcedJSONParsing:Ls.transitional(Ls.boolean),clarifyTimeoutError:Ls.transitional(Ls.boolean)},!1),s!=null&&(we.isFunction(s)?r.paramsSerializer={serialize:s}:Cd.assertOptions(s,{encode:Ls.function,serialize:Ls.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Cd.assertOptions(r,{baseUrl:Ls.spelling("baseURL"),withXsrfToken:Ls.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&we.merge(i.common,i[r.method]);i&&we.forEach(["delete","get","head","post","put","patch","common"],N=>{delete i[N]}),r.headers=jn.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(c=c&&S.synchronous,o.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,p=0,y;if(!c){const N=[o2.bind(this),void 0];for(N.unshift(...o),N.push(...d),y=N.length,f=Promise.resolve(r);p<y;)f=f.then(N[p++],N[p++]);return f}y=o.length;let g=r;for(p=0;p<y;){const N=o[p++],S=o[p++];try{g=N(g)}catch(j){S.call(this,j);break}}try{f=o2.call(this,g)}catch(N){return Promise.reject(N)}for(p=0,y=d.length;p<y;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=Ra(this.defaults,e);const r=My(e.baseURL,e.url,e.allowAbsoluteUrls);return Ty(r,e.params,e.paramsSerializer)}};we.forEach(["delete","get","head","options"],function(e){Aa.prototype[e]=function(r,n){return this.request(Ra(n||{},{method:e,url:r,data:(n||{}).data}))}});we.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,o){return this.request(Ra(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Aa.prototype[e]=r(),Aa.prototype[e+"Form"]=r(!0)});let PN=class $y{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,o){n.reason||(n.reason=new dl(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new $y(function(s){e=s}),cancel:e}}};function CN(t){return function(r){return t.apply(null,r)}}function EN(t){return we.isObject(t)&&t.isAxiosError===!0}const km={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(km).forEach(([t,e])=>{km[e]=t});function Wy(t){const e=new Aa(t),r=xy(Aa.prototype.request,e);return we.extend(r,Aa.prototype,e,{allOwnKeys:!0}),we.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Wy(Ra(t,s))},r}const Tt=Wy(Qc);Tt.Axios=Aa;Tt.CanceledError=dl;Tt.CancelToken=PN;Tt.isCancel=Oy;Tt.VERSION=zy;Tt.toFormData=Th;Tt.AxiosError=bt;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=CN;Tt.isAxiosError=EN;Tt.mergeConfig=Ra;Tt.AxiosHeaders=jn;Tt.formToJSON=t=>Ry(we.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=qy.getAdapter;Tt.HttpStatusCode=km;Tt.default=Tt;const{Axios:Tk,AxiosError:Ik,CanceledError:Rk,isCancel:Ok,CancelToken:Fk,VERSION:Mk,all:Dk,Cancel:Bk,isAxiosError:Uk,spread:qk,toFormData:zk,AxiosHeaders:$k,HttpStatusCode:Wk,formToJSON:Hk,getAdapter:Vk,mergeConfig:Gk}=Tt,TN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ti(async()=>{const{default:n}=await Promise.resolve().then(()=>hl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class X0 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class IN extends X0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c2 extends X0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u2 extends X0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Am;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Am||(Am={}));var RN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class ON{constructor(e,{headers:r={},customFetch:n,region:s=Am.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=TN(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return RN(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(o["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(o["Content-Type"]="application/json",f=JSON.stringify(a)));const p=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:f}).catch(S=>{throw new IN(S)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new c2(p);if(!p.ok)throw new u2(p);let g=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),N;return g==="application/json"?N=yield p.json():g==="application/octet-stream"?N=yield p.blob():g==="text/event-stream"?N=p:g==="multipart/form-data"?N=yield p.formData():N=yield p.text(),{data:N,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof u2||s instanceof c2?s.context:void 0}}})}}var wn={},Q0={},Oh={},Zc={},Fh={},Mh={},FN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=FN();const MN=sl.fetch,Hy=sl.fetch.bind(sl),Vy=sl.Headers,DN=sl.Request,BN=sl.Response,hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vy,Request:DN,Response:BN,default:Hy,fetch:MN},Symbol.toStringTag,{value:"Module"})),UN=Sx(hl);var Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});let qN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Dh.default=qN;var Gy=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mh,"__esModule",{value:!0});const zN=Gy(UN),$N=Gy(Dh);let WN=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c,d;let f=null,p=null,y=null,g=i.status,N=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?p=x:p=JSON.parse(x))}const j=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&w&&w.length>1&&(y=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,g=406,N="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const j=await i.text();try{f=JSON.parse(j),Array.isArray(f)&&i.status===404&&(p=[],f=null,g=200,N="OK")}catch{i.status===404&&j===""?(g=204,N="No Content"):f={message:j}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,g=200,N="OK"),f&&this.shouldThrowOnError)throw new $N.default(f)}return{error:f,data:p,count:y,status:g,statusText:N}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Mh.default=WN;var HN=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fh,"__esModule",{value:!0});const VN=HN(Mh);let GN=class extends VN.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Fh.default=GN;var JN=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zc,"__esModule",{value:!0});const KN=JN(Fh);let YN=class extends KN.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zc.default=YN;var XN=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oh,"__esModule",{value:!0});const Zl=XN(Zc);let QN=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Zl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Zl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Zl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Zl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Zl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Oh.default=QN;var Jy=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q0,"__esModule",{value:!0});const ZN=Jy(Oh),eS=Jy(Zc);let tS=class Ky{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new ZN.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ky(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const c=new URL(`${this.url}/rpc/${e}`);let d;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{c.searchParams.append(p,y)})):(o="POST",d=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new eS.default({method:o,url:c,headers:f,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Q0.default=tS;var fl=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const Yy=fl(Q0);wn.PostgrestClient=Yy.default;const Xy=fl(Oh);wn.PostgrestQueryBuilder=Xy.default;const Qy=fl(Zc);wn.PostgrestFilterBuilder=Qy.default;const Zy=fl(Fh);wn.PostgrestTransformBuilder=Zy.default;const ew=fl(Mh);wn.PostgrestBuilder=ew.default;const tw=fl(Dh);wn.PostgrestError=tw.default;var rS=wn.default={PostgrestClient:Yy.default,PostgrestQueryBuilder:Xy.default,PostgrestFilterBuilder:Qy.default,PostgrestTransformBuilder:Zy.default,PostgrestBuilder:ew.default,PostgrestError:tw.default};const{PostgrestClient:nS,PostgrestQueryBuilder:Zk,PostgrestFilterBuilder:e8,PostgrestTransformBuilder:t8,PostgrestBuilder:r8,PostgrestError:n8}=rS;class sS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const iS="2.15.1",aS=`realtime-js/${iS}`,oS="1.0.0",Lm=1e4,lS=1e3,cS=100;var yc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yc||(yc={}));var Ar;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ar||(Ar={}));var ps;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ps||(ps={}));var Pm;(function(t){t.websocket="websocket"})(Pm||(Pm={}));var wa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wa||(wa={}));class uS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class rw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jt||(Jt={}));const d2=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=dS(a,t,e,s),i),{})},dS=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?nw(i,a):Cm(a)},nw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mS(e,r)}switch(t){case Jt.bool:return hS(e);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return fS(e);case Jt.json:case Jt.jsonb:return pS(e);case Jt.timestamp:return gS(e);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return Cm(e);default:return Cm(e)}},Cm=t=>t,hS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>nw(e,o))}return t},gS=t=>typeof t=="string"?t.replace(" ","T"):t,sw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class lp{constructor(e,r,n={},s=Lm){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var h2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(h2||(h2={}));class wc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=wc.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wc.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(i,(d,f)=>{a[d]||(c[d]=f)}),this.map(a,(d,f)=>{const p=i[d];if(p){const y=f.map(j=>j.presence_ref),g=p.map(j=>j.presence_ref),N=f.filter(j=>g.indexOf(j.presence_ref)<0),S=p.filter(j=>y.indexOf(j.presence_ref)<0);N.length>0&&(o[d]=N),S.length>0&&(c[d]=S)}else o[d]=f}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var d;const f=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),f.length>0){const p=e[o].map(g=>g.presence_ref),y=f.filter(g=>p.indexOf(g.presence_ref)<0);e[o].unshift(...y)}n(o,f,c)}),this.map(a,(o,c)=>{let d=e[o];if(!d)return;const f=c.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),e[o]=d,s(o,d,c),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(f2||(f2={}));var xc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xc||(xc={}));var Ys;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ys||(Ys={}));class Z0{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lp(this,ps.join,this.params,this.timeout),this.rejoinTimer=new rw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ps.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wc(this),this.broadcastEndpointURL=sw(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[xc.PRESENCE]&&this.bindings[xc.PRESENCE].length>0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Ys.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Ys.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var g;if(this.socket.setAuth(),y===void 0){e==null||e(Ys.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,S=(g=N==null?void 0:N.length)!==null&&g!==void 0?g:0,j=[];for(let w=0;w<S;w++){const x=N[w],{filter:{event:b,schema:I,table:q,filter:$}}=x,U=y&&y[w];if(U&&U.event===b&&U.schema===I&&U.table===q&&U.filter===$)j.push(Object.assign(Object.assign({},x),{id:U.id}));else{this.unsubscribe(),this.state=Ar.errored,e==null||e(Ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Ys.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ar.errored,e==null||e(Ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ar.joined&&e===xc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ps.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new lp(this,ps.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lp(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:f}=ps;if(n&&[o,c,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var N,S,j;return((N=g.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(S=g.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(g=>g.callback(y,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var N,S,j,w,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const I=g.id,q=(N=g.filter)===null||N===void 0?void 0:N.event;return I&&((S=r.ids)===null||S===void 0?void 0:S.includes(I))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const I=(x=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return I==="*"||I===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:S,table:j,commit_timestamp:w,type:x,errors:b}=N;y=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(N))}g.callback(y,n)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Z0.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ps.close,{},e)}_onError(e){this._on(ps.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=d2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=d2(e.columns,e.old_record)),r}}const p2=()=>{},ld={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vS=[1e3,2e3,5e3,1e4],yS=1e4,wS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xS{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lm,this.transport=null,this.heartbeatIntervalMs=ld.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=p2,this.ref=0,this.reconnectTimer=null,this.logger=p2,this.conn=null,this.sendBuffer=[],this.serializer=new uS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>ti(async()=>{const{default:o}=await Promise.resolve().then(()=>hl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Pm.websocket}`,this.httpEndpoint=sw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oS}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yc.connecting:return wa.Connecting;case yc.open:return wa.Open;case yc.closing:return wa.Closing;default:return wa.Closed}}isConnected(){return this.connectionState()===wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Z0(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ld.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ps.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([wS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:aS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ps.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ld.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Lm,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ld.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=e==null?void 0:e.reconnectAfterMs)!==null&&o!==void 0?o:f=>vS[f-1]||yS,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,p)=>p(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class eg extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Lr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class bS extends eg{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Em extends eg{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var _S=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const iw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ti(async()=>{const{default:n}=await Promise.resolve().then(()=>hl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},NS=()=>_S(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ti(()=>Promise.resolve().then(()=>hl),void 0)).Response:Response}),Tm=t=>{if(Array.isArray(t))return t.map(r=>Tm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Tm(n)}),e},SS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ma=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const cp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jS=(t,e,r)=>Ma(void 0,void 0,void 0,function*(){const n=yield NS();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new bS(cp(s),i,a))}).catch(s=>{e(new Em(cp(s),s))}):e(new Em(cp(t),t))}),kS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(SS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function eu(t,e,r,n,s,i){return Ma(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,kS(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>jS(c,o,n))})})}function lh(t,e,r,n){return Ma(this,void 0,void 0,function*(){return eu(t,"GET",e,r,n)})}function Es(t,e,r,n,s){return Ma(this,void 0,void 0,function*(){return eu(t,"POST",e,n,s,r)})}function Im(t,e,r,n,s){return Ma(this,void 0,void 0,function*(){return eu(t,"PUT",e,n,s,r)})}function AS(t,e,r,n){return Ma(this,void 0,void 0,function*(){return eu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function aw(t,e,r,n,s){return Ma(this,void 0,void 0,function*(){return eu(t,"DELETE",e,n,s,r)})}var ln=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const LS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PS{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=iw(s)}uploadOrUpdate(e,r,n,s){return ln(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},m2),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(e=="PUT"?Im:Es)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:m2.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield Im(this.fetch,o.toString(),c,{headers:f});return{data:{path:i,fullPath:p.Key},error:null}}catch(c){if(Lr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ln(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Es(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new eg("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}update(e,r,n){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ln(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Es(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Es(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ln(this,void 0,void 0,function*(){try{const s=yield Es(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}download(e,r){return ln(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield lh(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Lr(o))return{data:null,error:o};throw o}})}info(e){return ln(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield lh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tm(n),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}exists(e){return ln(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield AS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Lr(n)&&n instanceof Em){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return ln(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}list(e,r,n){return ln(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LS),r),{prefix:e||""});return{data:yield Es(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}listV2(e,r){return ln(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Es(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const CS="2.11.0",ES={"X-Client-Info":`storage-js/${CS}`};var mo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class TS{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ES),r),this.fetch=iw(n)}listBuckets(){return mo(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Lr(e))return{data:null,error:e};throw e}})}getBucket(e){return mo(this,void 0,void 0,function*(){try{return{data:yield lh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return mo(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return mo(this,void 0,void 0,function*(){try{return{data:yield Im(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mo(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return mo(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}}class IS extends TS{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new PS(this.url,this.headers,e,this.fetch)}}const RS="2.56.0";let oc="";typeof Deno<"u"?oc="deno":typeof document<"u"?oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oc="react-native":oc="node";const OS={"X-Client-Info":`supabase-js-${oc}/${RS}`},FS={headers:OS},MS={schema:"public"},DS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},BS={};var US=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const qS=t=>{let e;return t?e=t:typeof fetch>"u"?e=Hy:e=fetch,(...r)=>e(...r)},zS=()=>typeof Headers>"u"?Vy:Headers,$S=(t,e,r)=>{const n=qS(r),s=zS();return(i,a)=>US(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:d}))})};var WS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};function HS(t){return t.endsWith("/")?t:t+"/"}function VS(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:c,auth:d,realtime:f,global:p}=e,y={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>WS(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const ow="2.71.1",_o=30*1e3,Rm=3,up=Rm*_o,GS="http://localhost:9999",JS="supabase.auth.token",KS={"X-Client-Info":`gotrue-js/${ow}`},Om="X-Supabase-Api-Version",lw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XS=10*60*1e3;class tg extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class QS extends tg{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZS(t){return xt(t)&&t.name==="AuthApiError"}class cw extends tg{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ta extends tg{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ki extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e6(t){return xt(t)&&t.name==="AuthSessionMissingError"}class cd extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends ta{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dd extends ta{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t6(t){return xt(t)&&t.name==="AuthImplicitGrantRedirectError"}class g2 extends ta{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fm extends ta{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function dp(t){return xt(t)&&t.name==="AuthRetryableFetchError"}class v2 extends ta{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Mm extends ta{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y2=` 	
\r=`.split(""),r6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<y2.length;e+=1)t[y2[e].charCodeAt(0)]=-2;for(let e=0;e<ch.length;e+=1)t[ch[e].charCodeAt(0)]=e;return t})();function w2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ch[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ch[n]),e.queuedBits-=6}}function uw(t,e,r){const n=r6[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function x2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{i6(a,n,r)};for(let a=0;a<t.length;a+=1)uw(t.charCodeAt(a),s,i);return e.join("")}function n6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function s6(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}n6(n,e)}}function i6(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function a6(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)uw(t.charCodeAt(s),r,n);return new Uint8Array(e)}function o6(t){const e=[];return s6(t,r=>e.push(r)),new Uint8Array(e)}function l6(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>w2(s,r,n)),w2(null,r,n),e.join("")}function c6(t){return Math.round(Date.now()/1e3)+t}function u6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const us=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},dw=()=>{if(!us())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function d6(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const hw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ti(async()=>{const{default:n}=await Promise.resolve().then(()=>hl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},h6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",No=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},pa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ni=async(t,e)=>{await t.removeItem(e)};class Bh{constructor(){this.promise=new Bh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bh.promiseConstructor=Promise;function hp(t){const e=t.split(".");if(e.length!==3)throw new Mm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!YS.test(e[n]))throw new Mm("JWT not in base64url format");return{header:JSON.parse(x2(e[0])),payload:JSON.parse(x2(e[1])),signature:a6(e[2]),raw:{header:e[0],payload:e[1]}}}async function f6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function p6(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function m6(t){return("0"+t.toString(16)).substr(-2)}function g6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,m6).join("")}async function v6(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function y6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await v6(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(t,e,r=!1){const n=g6();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await No(t,`${e}-code-verifier`,s);const i=await y6(n);return[i,n===i?"plain":"s256"]}const w6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x6(t){const e=t.headers.get(Om);if(!e||!e.match(w6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vo(t){if(!N6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b2(t){return JSON.parse(JSON.stringify(t))}var S6=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const va=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j6=[502,503,504];async function _2(t){var e;if(!h6(t))throw new Fm(va(t),0);if(j6.includes(t.status))throw new Fm(va(t),t.status);let r;try{r=await t.json()}catch(i){throw new cw(va(i),i)}let n;const s=x6(t);if(s&&s.getTime()>=lw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new v2(va(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ki}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new v2(va(r),t.status,r.weak_password.reasons);throw new QS(va(r),t.status||500,n)}const k6=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function _t(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Om]||(i[Om]=lw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await A6(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function A6(t,e,r,n,s,i){const a=k6(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Fm(va(c),0)}if(o.ok||await _2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await _2(c)}}function Js(t){var e;let r=null;E6(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=c6(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function N2(t){const e=Js(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ei(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function L6(t){return{data:t,error:null}}function P6(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=S6(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function C6(t){return t}function E6(t){return t.access_token&&t.refresh_token&&t.expires_in}const pp=["global","local","others"];var T6=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class I6{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=hw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=pp[0]){if(pp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pp.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ei})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=T6(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:P6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ei})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:C6});if(f.error)throw f.error;const p=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);d[`${j}Page`]=S}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(xt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){vo(e);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ei})}catch(r){if(xt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vo(e);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ei})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){vo(e);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ei})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){vo(e.userId);try{const{data:r,error:n}=await _t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vo(e.userId),vo(e.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}}function S2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function R6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yo={debug:!!(globalThis&&dw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class O6 extends fw{}async function F6(t,e,r){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new O6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}R6();const M6={url:GS,storageKey:JS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function j2(t,e,r){return await r()}const wo={};class zc{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zc.nextInstanceID,zc.nextInstanceID+=1,this.instanceID>0&&us()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},M6),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new I6({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=hw(s.fetch),this.lock=s.lock||j2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:us()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=F6:this.lock=j2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:dw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=S2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=S2(this.memoryStorage)),us()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=wo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=wo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wo[this.storageKey]=Object.assign(Object.assign({},wo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ow}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=d6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),us()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),t6(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xt(r)?{error:r}:{error:new cw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Js}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(xt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:f,password:p,options:y}=e;let g=null,N=null;this.flowType==="pkce"&&([g,N]=await go(this.storage,this.storageKey)),i=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:f,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:N},xform:Js})}else if("phone"in e){const{phone:f,password:p,options:y}=e;i=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Js})}else throw new ud("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(xt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:N2})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:N2})}else throw new ud("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,a,o,c,d,f,p,y,g;let N,S;if("message"in e)N=e.message,S=e.signature;else{const{chain:j,wallet:w,statement:x,options:b}=e;let I;if(us())if(typeof w=="object")I=w;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))I=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=w}const q=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in I&&I.signIn){const $=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),x?{statement:x}:null));let U;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")U=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)U=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)N=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),S=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${q.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((p=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...b.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const $=await I.signMessage(new TextEncoder().encode(N),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=$}}try{const{data:j,error:w}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:l6(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Js});if(w)throw w;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new cd}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:w})}catch(j){if(xt(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await pa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Js});if(await Ni(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(xt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Js}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await go(this.storage,this.storageKey));const{error:p}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:f}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new ud("You must provide either an email or phone number.")}catch(o){if(xt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Js});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(xt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await go(this.storage,this.storageKey)),await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:L6})}catch(i){if(xt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ki;const{error:s}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(xt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ud("You must provide either an email or phone number and a type")}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<up:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await pa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=fp()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,f)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,f))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ei}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ei})})}catch(r){if(xt(r))return e6(r)&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ki;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await go(this.storage,this.storageKey));const{data:d,error:f}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Ei});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ki;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=hp(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(xt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ki;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(xt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!us())throw new dd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new g2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new g2("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=e;if(!i||!o||!a||!d)throw new dd("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let y=f+p;c&&(y=parseInt(c));const g=y-f;g*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const N=y-p;f-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,f):f-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,f);const{data:S,error:j}=await this._getUser(i);if(j)throw j;const w={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:y,refresh_token:a,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(xt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(ZS(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ni(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=u6(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await go(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(xt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,d,f;const{data:p,error:y}=i;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return us()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await p6(async s=>(s>0&&await f6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Js})),(s,i)=>{const a=200*Math.pow(2,s);return i&&dp(i)&&Date.now()+a-n<_o})}catch(n){if(this._debug(r,"error",n),xt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),us()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await pa(this.storage,this.storageKey);if(s&&this.userStorage){let a=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await No(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:fp()}else if(s&&!s.user&&!s.user){const a=await pa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ni(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,s)):s.user=fp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<up;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${up}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),dp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bh;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new ki;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),xt(i)){const a={session:null,error:i};return dp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await No(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=b2(s);await No(this.storage,this.storageKey,i)}else{const s=b2(r);await No(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ni(this.storage,this.storageKey),await Ni(this.storage,this.storageKey+"-code-verifier"),await Ni(this.storage,this.storageKey+"-user"),this.userStorage&&await Ni(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&us()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_o}ms, refresh threshold is ${Rm} ticks`),s<=Rm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!us()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await go(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await _t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(xt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await _t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=hp(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+XS>s)return n;const{data:i,error:a}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:N}=await this.getSession();if(N||!g.session)return{data:null,error:N};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=hp(n);r!=null&&r.allowExpired||b6(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const f=_6(s.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,o6(`${o}.${c}`)))throw new Mm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}}zc.nextInstanceID=0;const D6=zc;class B6 extends D6{constructor(e){super(e)}}var U6=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function c(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class q6{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=HS(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:MS,realtime:BS,auth:Object.assign(Object.assign({},DS),{storageKey:d}),global:FS},p=VS(n??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=$S(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new nS(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new IS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new ON(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return U6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B6({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z6=(t,e,r)=>new q6(t,e,r);function $6(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W6="https://ofhklmyaioxznrqiolad.supabase.co",H6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maGtsbXlhaW94em5ycWlvbGFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMTY4NjYsImV4cCI6MjA3MjU5Mjg2Nn0.idw8ArFNe8wgM2iELJkVLxjrW1yPDJ81tiqvXzo6JM8",Qr=z6(W6,H6),V6="http://localhost:3001/api",Mt=Tt.create({baseURL:V6,headers:{"Content-Type":"application/json"}});Mt.interceptors.request.use(async t=>{var e;try{const{data:r}=await Qr.auth.getSession(),n=(e=r==null?void 0:r.session)==null?void 0:e.access_token,s=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),i=n||s;i&&(t.headers=t.headers||{},t.headers.Authorization||(t.headers.Authorization=`Bearer ${i}`))}catch{const r=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");r&&(t.headers=t.headers||{},t.headers.Authorization||(t.headers.Authorization=`Bearer ${r}`))}return t},t=>Promise.reject(t));Mt.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&localStorage.removeItem("supabase_auth_token"),Promise.reject(t)});const Ho={getProfile:()=>Mt.get("/users/profile"),updateProfile:t=>Mt.put("/users/profile",t),getCurrentUser:()=>Mt.get("/users/me"),saveExtraInfo:t=>Mt.post("/users/profile/extra-info",{entries:t})},G6={aiChat:({mode:t,persona:e,message:r,history:n})=>Mt.post("/chat/ai",{mode:t,persona:e,message:r,history:n})},k2={suggest:({q:t,type:e})=>Mt.get("/letter/suggest",{params:{q:t,type:e}}),generate:({selection:t,style:e,emploi_selection:r,formation_selection:n})=>Mt.post("/letter/generate",{selection:t,style:e,emploi_selection:r,formation_selection:n})},Gi={get:async()=>{var r;const{data:t}=await Qr.auth.getUser(),e=(r=t==null?void 0:t.user)==null?void 0:r.id;if(!e)throw new Error("No user");return Mt.get(`/progression/${e}`)},update:async({level:t,xp:e,quests:r,perks:n})=>{var a;const{data:s}=await Qr.auth.getUser(),i=(a=s==null?void 0:s.user)==null?void 0:a.id;if(!i)throw new Error("No user");return Mt.post(`/progression/${i}`,{level:t,xp:e,quests:r,perks:n})}};function J6(){const[t,e]=D.useState(""),[r,n]=D.useState(""),[s,i]=D.useState("student"),[a,o]=D.useState(""),[c,d]=D.useState(!1),f=Un();async function p(y){var g,N,S;y.preventDefault(),o(""),d(!0);try{const{data:j,error:w}=await Qr.auth.signInWithPassword({email:t,password:r});if(w)throw w;if((g=j.session)!=null&&g.access_token&&localStorage.setItem("supabase_auth_token",j.session.access_token),s)try{const{data:b}=await Qr.from("profiles").upsert({id:j.user.id,profile_type:s,updated_at:new Date().toISOString()})}catch(b){console.warn("Profile update failed:",b)}if(localStorage.getItem("answers_cache"))try{localStorage.removeItem("answers_cache"),f("/app/results");return}catch(b){console.warn("Failed to submit cached answers:",b)}f("/app")}catch(j){const w=(j==null?void 0:j.message)||(j==null?void 0:j.error_description)||((S=(N=j==null?void 0:j.response)==null?void 0:N.data)==null?void 0:S.error)||"chec de connexion";o(w)}finally{d(!1)}}return u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-xl",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Se connecter"}),u.jsx("p",{className:"text-text-secondary",children:"Slectionnez votre profil et connectez-vous pour continuer."})]}),u.jsxs("form",{onSubmit:p,className:"bg-surface border border-line rounded-xl shadow-card p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"email",placeholder:"Email",value:t,onChange:y=>e(y.target.value),required:!0}),u.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"password",placeholder:"Mot de passe",value:r,onChange:y=>n(y.target.value),required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="student"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("student"),children:"tudiant"}),u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="company"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("company"),children:"Entreprise"})]}),a&&u.jsx("div",{className:"text-red-600 text-sm",children:a}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-black text-white rounded-lg h-11 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Connexion...":"Se connecter"})})]}),u.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Pas de compte ? ",u.jsx(nl,{to:"/avatar",className:"underline",children:"S'inscrire"})]})]})})}function K6(){const[t,e]=D.useState("student"),[r,n]=D.useState(""),[s,i]=D.useState(""),[a,o]=D.useState(""),[c,d]=D.useState(""),[f,p]=D.useState("18"),[y,g]=D.useState(""),[N,S]=D.useState(""),[j,w]=D.useState(""),[x,b]=D.useState(""),[I,q]=D.useState(""),[$,U]=D.useState(""),[M,ae]=D.useState(""),[Z,T]=D.useState(!1);Un();const R=D.useMemo(()=>[{code:"01",name:"Ain"},{code:"02",name:"Aisne"},{code:"03",name:"Allier"},{code:"04",name:"Alpes-de-Haute-Provence"},{code:"05",name:"Hautes-Alpes"},{code:"06",name:"Alpes-Maritimes"},{code:"07",name:"Ardche"},{code:"08",name:"Ardennes"},{code:"09",name:"Arige"},{code:"10",name:"Aube"},{code:"11",name:"Aude"},{code:"12",name:"Aveyron"},{code:"13",name:"Bouches-du-Rhne"},{code:"14",name:"Calvados"},{code:"15",name:"Cantal"},{code:"16",name:"Charente"},{code:"17",name:"Charente-Maritime"},{code:"18",name:"Cher"},{code:"19",name:"Corrze"},{code:"2A",name:"Corse-du-Sud"},{code:"2B",name:"Haute-Corse"},{code:"21",name:"Cte-dOr"},{code:"22",name:"Ctes-dArmor"},{code:"23",name:"Creuse"},{code:"24",name:"Dordogne"},{code:"25",name:"Doubs"},{code:"26",name:"Drme"},{code:"27",name:"Eure"},{code:"28",name:"Eure-et-Loir"},{code:"29",name:"Finistre"},{code:"30",name:"Gard"},{code:"31",name:"Haute-Garonne"},{code:"32",name:"Gers"},{code:"33",name:"Gironde"},{code:"34",name:"Hrault"},{code:"35",name:"Ille-et-Vilaine"},{code:"36",name:"Indre"},{code:"37",name:"Indre-et-Loire"},{code:"38",name:"Isre"},{code:"39",name:"Jura"},{code:"40",name:"Landes"},{code:"41",name:"Loir-et-Cher"},{code:"42",name:"Loire"},{code:"43",name:"Haute-Loire"},{code:"44",name:"Loire-Atlantique"},{code:"45",name:"Loiret"},{code:"46",name:"Lot"},{code:"47",name:"Lot-et-Garonne"},{code:"48",name:"Lozre"},{code:"49",name:"Maine-et-Loire"},{code:"50",name:"Manche"},{code:"51",name:"Marne"},{code:"52",name:"Haute-Marne"},{code:"53",name:"Mayenne"},{code:"54",name:"Meurthe-et-Moselle"},{code:"55",name:"Meuse"},{code:"56",name:"Morbihan"},{code:"57",name:"Moselle"},{code:"58",name:"Nivre"},{code:"59",name:"Nord"},{code:"60",name:"Oise"},{code:"61",name:"Orne"},{code:"62",name:"Pas-de-Calais"},{code:"63",name:"Puy-de-Dme"},{code:"64",name:"Pyrnes-Atlantiques"},{code:"65",name:"Hautes-Pyrnes"},{code:"66",name:"Pyrnes-Orientales"},{code:"67",name:"Bas-Rhin"},{code:"68",name:"Haut-Rhin"},{code:"69",name:"Rhne"},{code:"70",name:"Haute-Sane"},{code:"71",name:"Sane-et-Loire"},{code:"72",name:"Sarthe"},{code:"73",name:"Savoie"},{code:"74",name:"Haute-Savoie"},{code:"75",name:"Paris"},{code:"76",name:"Seine-Maritime"},{code:"77",name:"Seine-et-Marne"},{code:"78",name:"Yvelines"},{code:"79",name:"Deux-Svres"},{code:"80",name:"Somme"},{code:"81",name:"Tarn"},{code:"82",name:"Tarn-et-Garonne"},{code:"83",name:"Var"},{code:"84",name:"Vaucluse"},{code:"85",name:"Vende"},{code:"86",name:"Vienne"},{code:"87",name:"Haute-Vienne"},{code:"88",name:"Vosges"},{code:"89",name:"Yonne"},{code:"90",name:"Territoire de Belfort"},{code:"91",name:"Essonne"},{code:"92",name:"Hauts-de-Seine"},{code:"93",name:"Seine-Saint-Denis"},{code:"94",name:"Val-de-Marne"},{code:"95",name:"Val-dOise"},{code:"971",name:"Guadeloupe"},{code:"972",name:"Martinique"},{code:"973",name:"Guyane"},{code:"974",name:"La Runion"},{code:"976",name:"Mayotte"}],[]);async function K(F){var ce,se;F.preventDefault(),U("");try{if(s!==M){U("Les mots de passe ne correspondent pas");return}const de=localStorage.getItem("avatar_cfg"),V=localStorage.getItem("avatar_url"),oe=localStorage.getItem("answers_cache");let Y=null,ge=null;if(de&&V)try{Y={...JSON.parse(de),url:V,provider:"dicebear/lorelei"}}catch(W){console.warn("Failed to parse avatar config:",W)}if(oe)try{const W=JSON.parse(oe);ge=W.answers||W.responses||[]}catch(W){console.warn("Failed to parse questionnaire cache:",W)}const k=t==="student"?{profile_type:"student",nom:a,prenom:c,age:Number(f),genre:y,departement:N,ecole:j,numeroTelephone:x,first_name:c,last_name:a,gender:y,department:N,school:j,phone_number:x}:{profile_type:"company",nom:I,company_name:I},B=await Tt.post("/api/auth/register",{email:r,password:s,userData:k,avatarData:Y,questionnaireResponses:ge});T(!0),Y&&(localStorage.removeItem("avatar_cfg"),localStorage.removeItem("avatar_url")),ge&&(localStorage.removeItem("answers_cache"),localStorage.removeItem("answers_progress"))}catch(de){const V=((se=(ce=de==null?void 0:de.response)==null?void 0:ce.data)==null?void 0:se.error)||(de==null?void 0:de.message)||(de==null?void 0:de.error_description)||"chec d'inscription";U(V)}}return u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsx("div",{className:"w-full max-w-5xl py-10",children:Z?u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 7.89a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Email de confirmation envoy !"}),u.jsxs("p",{className:"text-text-secondary mb-4",children:["Nous avons envoy un email de confirmation  ",u.jsx("strong",{children:r})]}),u.jsx("p",{className:"text-text-secondary",children:"Veuillez cliquer sur le lien dans l'email pour valider votre compte et accder  votre tableau de bord."})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-sm font-medium",children:"Vrifiez votre bote de rception"})]}),u.jsx("p",{className:"text-sm text-text-secondary",children:"L'email peut prendre quelques minutes  arriver. Pensez  vrifier votre dossier spam si vous ne le recevez pas."})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Crer un compte"}),u.jsx("p",{className:"text-text-secondary",children:"Choisissez votre type de profil pour une exprience personnalise."})]}),u.jsxs("div",{className:"mb-4 flex gap-2",children:[u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${t==="student"?"border-black bg-black text-white":"border-line"}`,onClick:()=>e("student"),children:"tudiant"}),u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${t==="company"?"border-black bg-black text-white":"border-line"}`,onClick:()=>e("company"),children:"Entreprise"})]}),u.jsx("form",{onSubmit:K,className:"bg-surface border border-line rounded-xl shadow-card p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[t==="student"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Prnom *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",placeholder:"Votre prnom",value:c,onChange:F=>d(F.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",placeholder:"Votre nom",value:a,onChange:F=>o(F.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"ge *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"number",min:"10",max:"100",placeholder:"Votre ge",value:f,onChange:F=>p(F.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Dpartement *"}),u.jsxs("select",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:N,onChange:F=>S(F.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Slectionnez votre dpartement"}),R.map(F=>u.jsxs("option",{value:`${F.code} - ${F.name}`,children:[F.code," - ",F.name]},F.code))]})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Genre *"}),u.jsxs("select",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:y,onChange:F=>g(F.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Slectionnez un genre"}),u.jsx("option",{value:"Homme",children:"Homme"}),u.jsx("option",{value:"Femme",children:"Femme"}),u.jsx("option",{value:"Autre",children:"Autre"})]})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"cole/Formation"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",placeholder:"Nom de votre cole...",value:j,onChange:F=>w(F.target.value)}),u.jsx("small",{className:"text-text-secondary",children:"Facultatif - Saisissez le nom de votre cole"})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Numro de tlphone"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"tel",placeholder:"ex: 06 12 34 56 78",value:x,onChange:F=>b(F.target.value)}),u.jsx("small",{className:"text-text-secondary",children:"Facultatif"})]})]}):u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",placeholder:"Nom de l'entreprise",value:I,onChange:F=>q(F.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse Email *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"email",placeholder:"Entrez votre adresse email",value:r,onChange:F=>n(F.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Mot de passe *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"password",placeholder:"Entrez votre mot de passe",value:s,onChange:F=>i(F.target.value),required:!0})]}),u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Confirmer le mot de passe *"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"password",placeholder:"Confirmez votre mot de passe",value:M,onChange:F=>ae(F.target.value),required:!0})]}),$&&u.jsx("div",{className:"md:col-span-12 text-red-600 text-sm",children:$}),u.jsx("div",{className:"md:col-span-12",children:u.jsx("button",{type:"submit",className:"w-full bg-black text-white rounded-lg h-11",children:"S'inscrire"})})]})}),u.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Vous avez dj un compte ? ",u.jsx(nl,{to:"/login",className:"underline",children:"Se connecter"})]})]})})})}function Y6({size:t=90}){const[e,r]=D.useState(()=>localStorage.getItem("avatar_url")||null);return D.useEffect(()=>{if(!e)try{const n=localStorage.getItem("avatar_cfg");if(n){const s=JSON.parse(n),i=X6(s,256);r(i),localStorage.setItem("avatar_url",i)}}catch{}},[e]),e?u.jsx("img",{src:e,alt:"avatar",width:t,height:t,style:{borderRadius:8,background:"#fff",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"}}):u.jsx("div",{style:{width:t,height:t,borderRadius:8,background:"#f5f5f5",display:"grid",placeItems:"center",color:"#999",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"},children:""})}function mp(t){return(t||"").replace("#","")}function X6(t,e){const r="https://api.dicebear.com/9.x/lorelei/svg",n=new URLSearchParams;return n.set("seed",t.seed||"zelia"),n.set("size",String(e)),n.set("radius",String(t.radius??30)),t.bg&&(n.set("backgroundType","solid"),n.set("backgroundColor",mp(t.bg))),t.skin&&n.set("skinColor",mp(t.skin)),t.hair&&n.set("hairColor",mp(t.hair)),t.glasses===!0?(n.set("accessories","glasses"),n.set("accessoriesProbability","100")):n.set("accessoriesProbability","0"),`${r}?${n.toString()}`}function Q6(){const[t,e]=D.useState([]),[r,n]=D.useState(0),[s,i]=D.useState(()=>{try{return JSON.parse(localStorage.getItem("answers_progress")||"{}")}catch{return{}}}),[a,o]=D.useState(!0),[c,d]=D.useState(""),f=Un();D.useEffect(()=>{(async()=>{try{const{data:x}=await Tt.get("/api/questionnaire/questions");e(x)}catch{d("Impossible de charger les questions")}finally{o(!1)}})()},[]);const p=t[r],y=D.useMemo(()=>{const x=p==null?void 0:p.contenu;if(typeof x!="string")return x;if(x.startsWith("(")){const b=x.indexOf('"'),I=x.indexOf('"',b+1);if(b!==-1&&I!==-1)return x.slice(b+1,I)}return x},[p]),g=D.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]);async function N(){const x={answers:Object.entries(s).map(([q,$])=>({question_id:Number(q),answer:$}))},b=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");let I=!1;if(b)try{const q={Authorization:`Bearer ${b}`};await Tt.get("/api/users/me",{headers:q}),I=!0}catch{localStorage.removeItem("supabase_auth_token"),localStorage.removeItem("token"),I=!1}if(I)try{const q={Authorization:`Bearer ${b}`};await Tt.post("/api/questionnaire/submit",x,{headers:q}),await Tt.post("/api/results/generate",{},{headers:q}),localStorage.setItem("answers_cache",JSON.stringify(x)),f("/app/results");return}catch(q){console.warn("Failed to submit authenticated questionnaire:",q)}localStorage.setItem("answers_cache",JSON.stringify(x)),f("/register?after=results")}function S(x){const b=p==null?void 0:p.id;if(!b)return;const I=r+1,q={...s,[b]:x};i(q),localStorage.setItem("answers_progress",JSON.stringify(q)),I<t.length&&n(I)}const j=t.length?Math.round((r+1)/t.length*100):0,w=p?s[p.id]!=null:!1;return a?u.jsx("div",{className:"min-h-screen grid place-items-center text-text-secondary",children:"Chargement"}):c?u.jsx("div",{className:"min-h-screen grid place-items-center text-red-600",children:c}):u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-3xl py-10",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Questionnaire"}),u.jsx("p",{className:"text-text-secondary",children:"Rpondez pour affiner votre profil et vos recommandations."})]}),u.jsx("div",{className:"hidden sm:block",children:u.jsx(Y6,{size:72})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"w-full bg-line h-2 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-black",style:{width:`${j}%`}})}),u.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-text-secondary",children:[u.jsxs("span",{children:[Math.min(r+1,t.length)," / ",t.length]}),u.jsxs("span",{children:[j,"%"]})]})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-3",children:y}),u.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((x,b)=>u.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s[p==null?void 0:p.id]===x?"border-black bg-black text-white":"border-line"}`,onClick:()=>S(x),children:x},b))}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>n(x=>Math.max(0,x-1)),disabled:r===0,children:"Prcdent"}),r<t.length-1?u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>n(x=>Math.min(t.length-1,x+1)),disabled:!w,children:"Suivant"}):u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:N,disabled:!w,children:"Terminer"})]})]})]})})}function Z6(t,e){const[r,n]=D.useState(""),[s,i]=D.useState(!1),a=D.useRef(0);D.useEffect(()=>{if(n(""),i(!1),!t)return;const c=Math.max(1,Math.floor(e/30));let d=0;const f=()=>{d++;const p=Math.min(t.length,Math.floor(d/c*t.length));if(n(t.slice(0,p)),p>=t.length){i(!0);return}a.current=requestAnimationFrame(f)};return a.current=requestAnimationFrame(f),()=>cancelAnimationFrame(a.current)},[t,e]);const o=D.useCallback(()=>{n(t||""),i(!0)},[t]);return{text:r,done:s,skip:o}}function ej(t="zelia"){return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"320",radius:"15"}).toString()}`}function A2(t,e={}){try{const r=new URL(t);return Object.entries(e).forEach(([n,s])=>{s===null?r.searchParams.delete(n):Array.isArray(s)?(r.searchParams.delete(n),s.forEach(i=>r.searchParams.append(n,i))):r.searchParams.set(n,String(s))}),r.toString()}catch{return t}}function tj(){const t=Un(),e=ea(),r=D.useRef(null),n=D.useRef(!1);D.useEffect(()=>{if(localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")){t("/app",{replace:!0});return}const I=new URLSearchParams(e.hash.substring(1)),q=I.get("access_token");I.get("type")==="signup"&&q&&t(`/email-confirmation#${e.hash.substring(1)}`,{replace:!0})},[e,t]),D.useEffect(()=>{const b=window.matchMedia("(prefers-reduced-motion: reduce)").matches;n.current=b;const I=r.current;if(!I||b)return;let q=0;const $={x:0,y:0},U={x:0,y:0},M=Z=>{const T=I.getBoundingClientRect(),R=T.left+T.width/2,K=T.top+T.height/2;$.x=(Z.clientX-R)/T.width,$.y=(Z.clientY-K)/T.height},ae=()=>{U.x+=($.x-U.x)*.06,U.y+=($.y-U.y)*.06,I.querySelectorAll("[data-depth]").forEach(T=>{const R=parseFloat(T.getAttribute("data-depth")||"0"),K=U.x*R*30,F=U.y*R*30;T.style.transform=`translate3d(${K}px, ${F}px, 0)`}),q=requestAnimationFrame(ae)};return I.addEventListener("mousemove",M),q=requestAnimationFrame(ae),()=>{cancelAnimationFrame(q),I.removeEventListener("mousemove",M)}},[]);const s=D.useMemo(()=>[{text:"Salut, je suis Zlia.",durationMs:1200},{text:"On va explorer tes intrts et tes forces pour t'clairer sur des mtiers et des tudes.",durationMs:3800},{text:"Tu es prt ? C'est simple et a ne prend que quelques minutes.",durationMs:2600}],[]),[i,a]=D.useState(0),o=s[i]||{text:"",durationMs:1e3},{text:c,done:d,skip:f}=Z6(o.text,o.durationMs),p=d&&i<s.length-1,y=d&&i===s.length-1,g=()=>a(b=>Math.min(b+1,s.length-1)),N=()=>t("/avatar"),[S,j]=D.useState(!1),w=!d;D.useEffect(()=>{if(!w)return;const b=setInterval(()=>j(I=>!I),280);return()=>clearInterval(b)},[w]);const x=D.useMemo(()=>{const b=ej("zelia");return w?A2(b,{mouth:S?"happy05":"happy08"}):A2(b,{mouth:"happy05"})},[w,S]);return D.useEffect(()=>{const b=Array.from(document.querySelectorAll(".reveal"));if(!b.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){b.forEach($=>$.classList.add("show"));return}const q=new IntersectionObserver($=>{$.forEach(U=>{U.isIntersecting&&U.target.classList.add("show")})},{threshold:.15});return b.forEach($=>q.observe($)),()=>q.disconnect()},[]),u.jsxs("div",{className:"aximo-all-section landing-lock",style:{background:"#fffbf7",color:"#000"},children:[u.jsxs("section",{className:"landing-hero parallax-hero fullscreen",ref:r,children:[u.jsxs("div",{className:"parallax-scene","aria-hidden":"true",children:[u.jsx("div",{className:"layer layer-sky","data-depth":"0.05"}),u.jsx("div",{className:"layer layer-hill-1","data-depth":"0.18"}),u.jsx("div",{className:"layer layer-hill-2","data-depth":"0.26"}),u.jsx("div",{className:"layer layer-dots","data-depth":"0.35"})]}),u.jsx("nav",{className:"hero-overlay-nav modern-nav",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"nav-content",children:[u.jsx(nl,{to:"/",className:"brand-logo","aria-label":"Accueil",children:u.jsx("img",{src:"/assets/images/logo-dark.png",alt:"Zlia",className:"logo-image"})}),u.jsxs("div",{className:"nav-actions",children:[u.jsxs("button",{className:"nav-link-btn",onClick:()=>t("/avatar"),children:[u.jsx("span",{children:"Questionnaire"}),u.jsx("div",{className:"btn-highlight"})]}),u.jsx("button",{className:"nav-cta-btn",onClick:()=>t("/login"),children:u.jsx("span",{children:"Se connecter"})})]})]})})}),u.jsx("div",{className:"container position-relative hero-center",style:{zIndex:2},children:u.jsxs("div",{className:"row align-items-center justify-content-between g-5 hero-two-col",children:[u.jsx("div",{className:"col-lg-6",children:u.jsxs("div",{className:"chat-section reveal",children:[u.jsxs("div",{className:"chat-container",children:[u.jsx("div",{className:"chat-header",children:u.jsxs("div",{className:"chat-status",children:[u.jsx("span",{className:"status-dot active"}),u.jsx("span",{className:"status-text",children:"Zlia est en ligne"})]})}),u.jsx("div",{className:"chat-messages",children:u.jsxs("div",{className:`message-bubble ${d?"complete":"typing"}`,children:[u.jsx("div",{className:"message-content",children:u.jsxs("p",{className:"message-text",children:[c,u.jsx("span",{className:`typing-cursor ${d?"hide":""}`,children:""})]})}),u.jsxs("div",{className:"message-actions",children:[p&&u.jsxs("button",{className:"action-btn secondary",onClick:g,children:[u.jsx("span",{children:"Suivant"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:u.jsx("path",{d:"M9 18l6-6-6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!p&&!y&&u.jsx("button",{className:"action-btn ghost",onClick:f,children:u.jsx("span",{children:"Passer"})}),y&&u.jsxs("button",{className:"action-btn primary",onClick:N,children:[u.jsx("span",{children:"Commencer maintenant"}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:u.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),u.jsx("div",{className:"conversation-progress",children:s.map((b,I)=>u.jsx("div",{className:`progress-dot ${I<=i?"active":""}`},I))})]})})]}),u.jsx("div",{className:"avatar-container",children:u.jsxs("div",{className:`avatar-frame modern ${d?"idle":"speaking"}`,children:[u.jsx("div",{className:"avatar-image",children:u.jsx("img",{src:x,alt:"Avatar Zlia",loading:"eager"})}),u.jsx("div",{className:"avatar-ring"})]})})]})}),u.jsx("div",{className:"col-lg-5",children:u.jsx("div",{className:"brand-section reveal",children:u.jsxs("div",{className:"brand-content",children:[u.jsxs("h1",{className:"brand-title",children:["z",u.jsx("span",{className:"accent-text",children:"li"}),"a"]}),u.jsxs("div",{className:"brand-tagline",children:[u.jsx("div",{className:"tagline-icon",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:u.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",fill:"currentColor"})})}),u.jsx("span",{className:"tagline-text",children:"LA COPILOTE DE L'AVENIR PROFESSIONNEL"})]}),u.jsx("div",{className:"brand-stats",children:u.jsxs("div",{className:"stat-item",children:[u.jsx("div",{className:"stat-number",children:"98%"}),u.jsx("div",{className:"stat-label",children:"des utilisateurs ont appris quelque chose sur eux-mmes"})]})}),u.jsxs("div",{className:"brand-features",children:[u.jsx("div",{className:"feature-item",children:u.jsx("span",{children:"Jeu d'orientation intelligent"})}),u.jsx("div",{className:"feature-item",children:u.jsx("span",{children:"Orientation ultra personnalise"})}),u.jsx("div",{className:"feature-item",children:u.jsx("span",{children:"Accompagnement continu"})})]})]})})})]})})]}),u.jsx("section",{className:"levels-section",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"levels-content",children:[u.jsx("div",{className:"levels-grid",children:[{levels:"1-5",title:"Exploration",emoji:"",description:"Dcouvre tes premiers intrts",current:!0},{levels:"6-10",title:"Intrts & Forces",emoji:"",description:"Identifie tes points forts"},{levels:"11-15",title:"Recherche Mtiers",emoji:"",description:"Explore les mtiers qui te correspondent"},{levels:"16-20",title:"Immersions",emoji:"",description:"Rencontre des professionnels"},{levels:"21-25",title:"Comptences",emoji:"",description:"Dveloppe tes soft skills"},{levels:"26-30",title:"CV & LM",emoji:"",description:"Cre tes premiers documents"},{levels:"31-35",title:"Parcoursup",emoji:"",description:"Prpare ton dossier d'excellence"},{levels:"36-40",title:"Oraux",emoji:"",description:"Matrise tes entretiens"}].map((b,I)=>u.jsxs("div",{className:`level-card ${b.current?"current":""}`,children:[u.jsx("div",{className:"level-emoji",children:b.emoji}),u.jsxs("div",{className:"level-info",children:[u.jsxs("div",{className:"level-range",children:["Niveaux ",b.levels]}),u.jsx("div",{className:"level-title",children:b.title}),u.jsx("div",{className:"level-description",children:b.description})]}),b.current&&u.jsx("div",{className:"current-badge",children:u.jsx("span",{children:"En cours"})})]},I))}),u.jsxs("div",{className:"levels-cta",children:[u.jsx("p",{className:"levels-cta-text",children:"Prt(e)  commencer ton parcours d'orientation personnalis ?"}),u.jsx("button",{onClick:()=>t("/app/questionnaire"),className:"levels-cta-btn",children:"Dbuter le Niveau 1"})]})]})})})]})}function gp(t){return(t||"").replace("#","")}function L2(t,e){const r="https://api.dicebear.com/9.x/lorelei/svg",n=new URLSearchParams;return n.set("seed",t.seed||"zelia"),n.set("size",String(e)),n.set("radius",String(t.radius??30)),t.bg&&(n.set("backgroundType","solid"),n.set("backgroundColor",gp(t.bg))),t.skin&&n.set("skinColor",gp(t.skin)),t.hair&&n.set("hairColor",gp(t.hair)),t.glasses===!0?(n.set("accessories","glasses"),n.set("accessoriesProbability","100")):n.set("accessoriesProbability","0"),`${r}?${n.toString()}`}const rj=["#F2F4F7","#E3F2FD","#FFF7E6","#FDE7E9","#EAF7F0","#F3E8FF","#FFFFFF"],nj=["#f9d7b8","#f1c89e","#d9a275","#c68642","#8d5524","#6d3b1f"],sj=["#2f2f2f","#3b2c2a","#6b4423","#a55728","#b58143","#e6c28b"];function ij(){const t=Un(),[e,r]=D.useState({seed:"zelia",bg:"#F2F4F7",skin:"#f7c9a9",hair:"#3b2c2a",glasses:!1,radius:30}),[n,s]=D.useState(!1);localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");const i=D.useMemo(()=>L2(e,360),[e]);function a(f){r(p=>({...p,...f}))}function o(f){return f[Math.floor(Math.random()*f.length)]}function c(){r(f=>({...f,seed:Math.random().toString(36).slice(2,10),bg:o(rj),skin:o(nj),hair:o(sj),glasses:Math.random()>.6}))}async function d(){s(!0);const f=L2(e,256);localStorage.setItem("avatar_cfg",JSON.stringify(e)),localStorage.setItem("avatar_url",f);try{await Tt.post("/api/results/avatar/temp",{...e,url:f,provider:"dicebear/lorelei"})}catch(p){console.warn("Failed to store avatar temporarily:",p)}finally{t("/questionnaire"),s(!1)}}return u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-5xl py-10",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Cre ton avatar"}),u.jsx("p",{className:"text-text-secondary",children:"Personnalise ton avatar, il te suivra tout au long de l'exprience."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[u.jsx("div",{className:"md:col-span-5",children:u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6 grid place-items-center",children:u.jsx("img",{src:i,alt:"avatar",className:"max-w-full"})})}),u.jsxs("div",{className:"md:col-span-7",children:[u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom (seed)"}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",value:e.seed,onChange:f=>a({seed:f.target.value})})]}),u.jsxs("div",{className:"md:col-span-6",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Rayon"}),u.jsx("input",{className:"w-full",type:"range",min:"0",max:"50",value:e.radius,onChange:f=>a({radius:Number(f.target.value)})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Fond"}),u.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:e.bg,onChange:f=>a({bg:f.target.value})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Peau"}),u.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:e.skin,onChange:f=>a({skin:f.target.value})})]}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cheveux"}),u.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:e.hair,onChange:f=>a({hair:f.target.value})})]}),u.jsxs("div",{className:"md:col-span-6 flex items-center gap-2 mt-2",children:[u.jsx("input",{id:"glasses",type:"checkbox",className:"h-4 w-4",checked:e.glasses,onChange:f=>a({glasses:f.target.checked})}),u.jsx("label",{htmlFor:"glasses",className:"text-sm text-text-secondary",children:"Lunettes"})]})]})}),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{className:"h-10 px-4 rounded-lg border border-line",onClick:c,children:"Au hasard"}),u.jsx("button",{className:"h-10 px-4 rounded-lg bg-black text-white",onClick:d,disabled:n,children:"Enregistrer"})]})]})]})]})})}class lc extends Error{}lc.prototype.name="InvalidTokenError";function aj(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function oj(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return aj(e)}catch{return atob(e)}}function pw(t,e){if(typeof t!="string")throw new lc("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new lc(`Invalid token specified: missing part #${r+1}`);let s;try{s=oj(n)}catch(i){throw new lc(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new lc(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}function lj(){const[t,e]=D.useState(null),[r,n]=D.useState(!0),[s,i]=D.useState(""),[a,o]=D.useState({type:"",analysis:"",skills:"",jobs:"",studies:""}),c=()=>{const y=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!y)return null;try{const g=pw(y);return g.sub||g.user_id||g.id}catch(g){return console.error("Error decoding token:",g),null}};D.useEffect(()=>{f()},[]);const d=(y,g,{seed:N,eyes:S,mouth:j}={})=>{let w=typeof y=="string"&&y.startsWith("http")?y:"https://api.dicebear.com/7.x/adventurer/svg";try{const x=new URL(w);return N&&!x.searchParams.has("seed")&&x.searchParams.set("seed",String(N)),S&&x.searchParams.set("eyes",S),j&&x.searchParams.set("mouth",j),x.toString()}catch{return`https://api.dicebear.com/7.x/adventurer/svg?seed=${encodeURIComponent(N||"user")}`}};D.useEffect(()=>{if(!t)return;const y=c()||"user",g=t.avatarUrlBase||"",N=t.avatarConfig||null,S=Array.from({length:24},(b,I)=>`variant${String(I+1).padStart(2,"0")}`),j=["happy01","happy02","happy03"],w=b=>b[Math.floor(Math.random()*b.length)],x=(b={})=>d(g,N,{seed:y,...b});o({type:x({eyes:w(S)}),analysis:x({mouth:w(j)}),skills:x({eyes:w(S),mouth:w(j)}),jobs:x({eyes:w(S)}),studies:x({mouth:w(j)})})},[t]);const f=async()=>{var y,g,N,S,j,w,x;n(!0),i("");try{const b=await Mt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});e(b.data.results)}catch(b){if(((y=b.response)==null?void 0:y.status)===404){const I=c();if(I)try{await Mt.post("/analysis/generate-analysis",{userId:I});const q=await Mt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});e(q.data.results);return}catch{try{await Mt.post("/results/generate");const $=await Mt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});if((g=$==null?void 0:$.data)!=null&&g.results&&($.data.results.personalityAnalysis||$.data.results.skillsAssessment||($.data.results.jobRecommendations??[]).length>0||($.data.results.studyRecommendations??[]).length>0)){e($.data.results);return}const U=await Mt.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),M=(S=(N=U==null?void 0:U.data)==null?void 0:N.results)==null?void 0:S.analysis;if(M){const ae=p(M);e(ae);return}}catch($){console.error("Fallback analysis failed:",$)}}e(null)}else((j=b.response)==null?void 0:j.status)===401?i("Utilisateur non authentifi"):(console.error("Error loading results:",b),i(((x=(w=b.response)==null?void 0:w.data)==null?void 0:x.error)||"Erreur lors du chargement des rsultats"))}finally{n(!1)}},p=y=>{var g,N,S;return{personalityType:y.personality_type||"Profil non dtermin",personalityAnalysis:[(g=y.strengths)!=null&&g.length?`Forces cls: ${y.strengths.join(", ")}`:null,(N=y.recommendations)!=null&&N.length?`Recommandations: ${y.recommendations.join(`
- `)}`:null].filter(Boolean).join(`

`),skillsAssessment:(S=y.strengths)!=null&&S.length?`Comptences mises en avant: ${y.strengths.join(", ")}`:"",jobRecommendations:(y.career_matches||[]).map(j=>({title:j.title,skills:[]})),studyRecommendations:[],avatarUrlBase:null,avatarConfig:null,createdAt:y.completion_date,updatedAt:y.completion_date}};return r?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de votre questionnaire"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement..."})]})]}):s?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de votre questionnaire"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Erreur"}),u.jsx("p",{className:"text-text-secondary",children:s})]})]}):t?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise base sur vos rponses"})]}),t.personalityType&&u.jsxs("div",{className:"relative bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-card p-6",children:[a.type&&u.jsx("img",{src:a.type,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),u.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"Type de personnalit"})]}),u.jsx("p",{className:"text-blue-800 font-semibold text-lg",children:t.personalityType})]}),t.personalityAnalysis&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.analysis&&u.jsx("img",{src:a.analysis,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Analyse de personnalit"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:t.personalityAnalysis})})]}),t.skillsAssessment&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.skills&&u.jsx("img",{src:a.skills,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"valuation des comptences"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:t.skillsAssessment})})]}),t.jobRecommendations&&t.jobRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jobs&&u.jsx("img",{src:a.jobs,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jobRecommendations.map((y,g)=>u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:y.title}),u.jsxs("div",{className:"text-sm text-orange-700",children:[u.jsx("span",{className:"font-medium",children:"Comptences requises:"}),u.jsx("ul",{className:"mt-1 list-disc list-inside",children:(y.skills||[]).map((N,S)=>u.jsx("li",{children:N},S))})]})]},g))})]}),t.studyRecommendations&&t.studyRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.studies&&u.jsx("img",{src:a.studies,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),t.inscriptionResults&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"relative bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5z"})})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Rsultats (Inscription)"})]}),t.inscriptionResults.personalityType&&u.jsx("p",{className:"text-gray-800 font-semibold",children:t.inscriptionResults.personalityType})]}),t.inscriptionResults.personalityAnalysis&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Analyse (Inscription)"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:t.inscriptionResults.personalityAnalysis})})]}),t.inscriptionResults.skillsAssessment&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Comptences (Inscription)"})]}),u.jsx("div",{className:"prose max-w-none",children:u.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:t.inscriptionResults.skillsAssessment})})]}),t.inscriptionResults.jobRecommendations&&t.inscriptionResults.jobRecommendations.length>0&&u.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Mtiers (Inscription)"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.inscriptionResults.jobRecommendations.map((y,g)=>u.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:u.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:y.title})},g))})]})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),u.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'tudes"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.studyRecommendations.map((y,g)=>u.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:y.degree}),u.jsx("p",{className:"text-sm text-teal-700",children:y.type})]},g))})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mes Rsultats"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de votre questionnaire"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun rsultat disponible"}),u.jsx("p",{className:"text-text-secondary",children:"Vous n'avez pas encore de rsultats enregistrs. Une fois le questionnaire complt et l'analyse effectue, vos rsultats apparatront ici."})]})]})}function cj(){const[t,e]=D.useState(""),[r,n]=D.useState(!0),[s,i]=D.useState(""),[a,o]=D.useState(null),c=localStorage.getItem("token");if(D.useEffect(()=>{(async()=>{try{const{data:f}=await Tt.get("/api/results/latest",{headers:{Authorization:`Bearer ${c}`}});e(f.content);const{data:p}=await Tt.get("/api/auth/profile",{headers:{Authorization:`Bearer ${c}`}});o(p)}catch{i("Impossible de charger les informations du profil.")}finally{n(!1)}})()},[]),r)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),u.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et rsultats d'analyse"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement..."})]})]});if(s)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),u.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et rsultats d'analyse"})]}),u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"text-red-600 text-4xl",children:"!"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:s})]})]});const d=t?t.split(/\n?###/).filter(Boolean).map(f=>"###"+f):[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),u.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et rsultats d'analyse"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:u.jsxs("div",{className:"flex items-start gap-6",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("img",{src:localStorage.getItem("avatar_url")||"/static/images/logo-dark.png",alt:"Avatar",className:"w-20 h-20 rounded-full border-2 border-line bg-white p-2"})}),u.jsxs("div",{className:"flex-grow",children:[u.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Informations personnelles"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Prnom"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.prenom)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.nom)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Email"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.email)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Type de profil"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.profile_type)==="student"?"tudiant":"Entreprise"})]}),(a==null?void 0:a.profile_type)==="student"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"ge"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.age)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Dpartement"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.departement)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"cole/Formation"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.ecole)||"Non spcifi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Genre"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.genre)||"Non spcifi"})]})]}),(a==null?void 0:a.profile_type)==="company"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom de l'entreprise"}),u.jsx("p",{className:"text-text-primary font-medium",children:(a==null?void 0:a.nom_company)||"Non spcifi"})]})]})]})]})}),d.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Mes Rsultats d'Analyse"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse gnre par IA selon vos rponses au questionnaire"}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map((f,p)=>u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:u.jsx(uj,{block:f})},p))})]}),d.length===0&&u.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[u.jsx("div",{className:"text-text-secondary text-4xl mb-2",children:""}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun rsultat disponible"}),u.jsx("p",{className:"text-text-secondary",children:"Compltez le questionnaire pour obtenir votre analyse personnalise."})]})]})}function uj({block:t}){const[e,...r]=t.split(`
`),n=r.join(`
`).trim();return u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.replace(/^###/,"")}),e.includes("Recommandations d'emploi")||e.includes("Recommandations de formation")||e.includes("Recommandations d'tudes")?u.jsx("div",{className:"bg-gray-50 border border-line p-3 rounded-lg whitespace-pre-wrap",children:n}):u.jsx("p",{className:"mb-0 whitespace-pre-wrap",children:n})]})}function dj(){const t=Un(),e=ea(),[r,n]=D.useState(!1),[s,i]=D.useState(!1),a=D.useRef(null);D.useEffect(()=>{function f(p){a.current&&!a.current.contains(p.target)&&i(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const o=f=>f==="/app"?e.pathname==="/app"||e.pathname==="/app/":e.pathname.startsWith(f),c=D.useMemo(()=>{const p=[{match:"/app/profile",label:"Profil"},{match:"/app/formations",label:"Formations"},{match:"/app/emplois",label:"Emplois"},{match:"/app/activites",label:"Activits"},{match:"/app/lettre",label:"Lettre"},{match:"/app/chat",label:"Chat"},{match:"/app/results",label:"Rsultats"}].find(y=>e.pathname.startsWith(y.match));return["",(p==null?void 0:p.label)||"Activits"]},[e.pathname]);function d(){localStorage.removeItem("token"),localStorage.removeItem("supabase_auth_token"),t("/")}return u.jsxs("div",{className:"min-h-screen bg-white text-text-primary",children:[u.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white border-r border-line z-40 transition-transform ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[u.jsx("div",{className:"h-16 flex items-center justify-center px-6 border-b border-line",children:u.jsx(nl,{to:"/app",className:"flex items-center justify-center",children:u.jsx("img",{src:"/static/images/logo-dark.png",alt:"Logo",className:"h-8"})})}),u.jsxs("nav",{className:"py-4",children:[u.jsx(ec,{to:"/app",icon:"ph-activity",active:o("/app"),onClick:()=>n(!1),children:"Activits"}),u.jsx(ec,{to:"/app/formations",icon:"ph-graduation-cap",active:o("/app/formations"),onClick:()=>n(!1),children:"Formations"}),u.jsx(ec,{to:"/app/emplois",icon:"ph-briefcase",active:o("/app/emplois"),onClick:()=>n(!1),children:"Emplois"}),u.jsx(ec,{to:"/app/lettre",icon:"ph-file-text",active:o("/app/lettre"),onClick:()=>n(!1),children:"Lettre de motivation"}),u.jsx(ec,{to:"/app/chat",icon:"ph-chats",active:o("/app/chat"),onClick:()=>n(!1),children:"Chat"})]})]}),u.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-line md:pl-64",children:u.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{className:"md:hidden p-2 rounded-lg border border-line",onClick:()=>n(!r),"aria-label":"Toggle sidebar",children:u.jsx("i",{className:"ph ph-list text-xl"})}),u.jsx("nav",{className:"text-sm text-text-secondary",children:u.jsx("span",{className:"text-text-primary font-medium",children:c[1]})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 border border-line rounded-lg w-72",children:[u.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),u.jsx("input",{className:"w-full outline-none text-sm bg-transparent",placeholder:"Search shop"}),u.jsx("span",{className:"text-xs text-text-secondary",children:" K"})]}),u.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50","aria-label":"Notifications",children:u.jsx("i",{className:"ph ph-bell text-xl"})}),u.jsxs("div",{className:"relative",ref:a,children:[u.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50",onClick:()=>i(!s),children:[u.jsx("img",{src:"/static/images/logo-dark.png",className:"w-8 h-8 rounded-full bg-white p-1",alt:"Avatar"}),u.jsx("span",{className:"hidden sm:block text-sm",children:"Utilisateur"}),u.jsx("i",{className:"ph ph-caret-down"})]}),s&&u.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-line rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs(nl,{to:"/app/profile",onClick:()=>i(!1),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-user"}),"Profil"]}),u.jsxs("button",{onClick:d,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-sign-out"}),"Dconnexion"]})]})})]})]})]})}),u.jsx("main",{className:"md:pl-64",children:u.jsx("div",{className:"px-4 sm:px-6 py-6",children:u.jsx($3,{})})})]})}function ec({to:t,icon:e,active:r,children:n,onClick:s}){return u.jsxs(nl,{to:t,onClick:s,className:`group flex items-center gap-3 px-4 py-2.5 text-sm text-text-primary hover:bg-gray-50 relative ${r?"bg-gray-50":""}`,children:[u.jsx("span",{className:`absolute left-0 top-0 h-full w-1 ${r?"bg-black":"bg-transparent"} rounded-r`}),u.jsx("i",{className:`ph ${e} text-lg ${r?"text-black":"text-text-secondary"} group-hover:text-black`}),u.jsx("span",{className:`${r?"font-medium":""}`,children:n})]})}function hj(){const[t,e]=D.useState(""),[r,n]=D.useState(""),[s,i]=D.useState(""),[a,o]=D.useState(1),[c,d]=D.useState([]),[f,p]=D.useState(0),[y,g]=D.useState([]),[N,S]=D.useState(null),[j,w]=D.useState(!1),[x,b]=D.useState(!1),[I,q]=D.useState(null),[$,U]=D.useState(!1),M=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),ae=Y=>{if(Y==null)return;const ge=String(Y).trim();if(!ge)return;const k=ge.toLowerCase();if(!(k==="nan"||k==="null"||k==="undefined"))return ge};async function Z(Y=a){w(!0);try{const ge=x?50:20,{data:k}=await Tt.get("/api/catalog/formations/search",{params:{q:t,region:r||void 0,departement:s||void 0,page:Y,page_size:ge},headers:M?{Authorization:`Bearer ${M}`}:{}});d(k.items),p(k.total),o(Y),g([]),S(null)}finally{w(!1)}}D.useEffect(()=>{let Y=!1;return(async()=>{x&&await F(),Y||await Z(1)})(),()=>{Y=!0}},[x]);const T=c.length>0&&y.length===c.length,R=()=>g(T?[]:c.map(Y=>Y.id)),K=Y=>g(ge=>ge.includes(Y)?ge.filter(k=>k!==Y):[...ge,Y]);async function F(){var Y;if(!(I||!M)){U(!0);try{const{data:ge}=await Tt.get("/api/analysis/my-results",{headers:{Authorization:`Bearer ${M}`}}),k=(Y=ge==null?void 0:ge.results)==null?void 0:Y.studyRecommendations;Array.isArray(k)&&q(k)}catch{}finally{U(!1)}}}const ce=Y=>Y?String(Y).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",se=(Y,ge)=>{const k=new Set(ce(Y).split(" ").filter(Boolean)),B=new Set(ce(ge).split(" ").filter(Boolean));if(k.size===0||B.size===0)return 0;let W=0;return k.forEach(X=>{B.has(X)&&W++}),W/(k.size+B.size-W)},de=Y=>{if(!Array.isArray(I)||I.length===0)return 0;const k=(Array.isArray(Y.nm)?Y.nm:[]).find(W=>W)||"";let B=0;for(const W of I){const X=se(k,W.type),te=se(k,W.degree),J=Math.max(X,te);J>B&&(B=J)}return B},V=Zm.useMemo(()=>{let Y=[...c];return x&&!$&&Array.isArray(I)&&I.length>0&&(Y=Y.map(ge=>({it:ge,score:de(ge)})).filter(ge=>ge.score>=.2).sort((ge,k)=>k.score-ge.score).map(ge=>ge.it)),Y.sort((ge,k)=>{const B=Array.isArray(ge.nm)?ge.nm.find(J=>J):void 0,W=Array.isArray(k.nm)?k.nm.find(J=>J):void 0,X=B?0:1,te=W?0:1;return X!==te?X-te:(k.id||0)-(ge.id||0)})},[c,x,I]),oe=()=>{b(Y=>!Y)};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }
			`}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Formations"}),u.jsx("p",{className:"text-text-secondary",children:"Explorez les formations en France"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),u.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3",children:[u.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),u.jsx("input",{className:"w-full outline-none text-sm bg-transparent",value:t,onChange:Y=>e(Y.target.value),placeholder:"Nom, code, ville..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Rgion"}),u.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm",value:r,onChange:Y=>n(Y.target.value),placeholder:"ex: le-de-France"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Dpartement"}),u.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm",value:s,onChange:Y=>i(Y.target.value),placeholder:"ex: Paris"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${x?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:oe,disabled:j||$,title:"Filtrer par recommandations",children:$?u.jsx("i",{className:"ph ph-circle-notch animate-spin"}):u.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),u.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:j,onClick:()=>Z(1),children:j?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-10 px-4 py-3",children:u.jsx("input",{type:"checkbox",checked:T,onChange:R})}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Image"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitul (nm)"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"tablissement"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Dpartement"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lien"}),u.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),u.jsxs("tbody",{children:[j&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:u.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des rsultats"]})})}),V.map(Y=>{const ge=Array.isArray(Y.nm)?Y.nm.filter(B=>B&&B!=="BUT - Gnie biologique parcours sciences de l'aliment et biotechnologie"):[],k=ge.length?ge[0]:"Intitul non renseign";return u.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 align-middle",children:u.jsx("input",{type:"checkbox",checked:y.includes(Y.id),onChange:()=>K(Y.id)})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("img",{src:Y.image||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:B=>{B.currentTarget.onerror=null,B.currentTarget.src="/static/images/logo-dark.png"}})}),u.jsx("td",{className:"px-4 py-3 text-text-primary",children:k}),u.jsx("td",{className:"px-4 py-3",children:ae(Y.etab_nom)||"tablissement non renseign"}),u.jsx("td",{className:"px-4 py-3",children:ae(Y.departement)||"Dpartement non renseign"}),u.jsx("td",{className:"px-4 py-3",children:Y.etab_url?u.jsx("a",{href:Y.etab_url,target:"_blank",className:"inline-flex items-center px-3 py-1.5 border border-line rounded-lg text-sm hover:bg-gray-50",children:"Voir"}):"Lien non disponible"}),u.jsxs("td",{className:"px-4 py-3 text-right relative",children:[u.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>S(N===Y.id?null:Y.id),children:u.jsx("i",{className:"ph ph-dots-three-vertical"})}),N===Y.id&&u.jsx("div",{className:"absolute right-2 mt-2 w-56 bg-white border border-line rounded-lg shadow-lg z-10",children:u.jsxs("ul",{className:"py-1 text-sm",children:[Y.facebook&&u.jsx("li",{children:u.jsxs("a",{href:Y.facebook,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-facebook-logo"}),u.jsx("span",{children:"Facebook"})]})}),Y.linkedin&&u.jsx("li",{children:u.jsxs("a",{href:Y.linkedin,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-linkedin-logo"}),u.jsx("span",{children:"LinkedIn"})]})}),Y.youtube&&u.jsx("li",{children:u.jsxs("a",{href:Y.youtube,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-youtube-logo"}),u.jsx("span",{children:"YouTube"})]})}),Y.email&&u.jsx("li",{children:u.jsxs("a",{href:`mailto:${Y.email}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-envelope"}),u.jsx("span",{children:"Envoyer un mail"})]})}),Y.telephone&&u.jsx("li",{children:u.jsxs("a",{href:`tel:${Y.telephone}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-phone"}),u.jsx("span",{children:"Appeler"})]})})]})})]})]},Y.id)}),c.length===0&&u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun rsultat"})})]})]})})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-text-secondary text-sm",children:[V.length," / ",f," rsultats",x?" (recommands)":""]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:a<=1,onClick:()=>Z(a-1),children:"Prcdent"}),u.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:a*(x?50:20)>=f,onClick:()=>Z(a+1),children:"Suivant"})]})]})]})}function fj(){const[t,e]=D.useState(""),[r,n]=D.useState(""),[s,i]=D.useState(""),[a,o]=D.useState(1),[c,d]=D.useState([]),[f,p]=D.useState(0),[y,g]=D.useState(!0),[N,S]=D.useState([]),[j,w]=D.useState(null),[x,b]=D.useState(null),[I,q]=D.useState(!1),[$,U]=D.useState(!1),[M,ae]=D.useState(null),[Z,T]=D.useState(!1),R=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),K=()=>{const J=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!J)return null;try{const Q=pw(J);return Q.sub||Q.user_id||Q.id||null}catch{return null}},F=J=>{if(J==null)return;const Q=String(J).trim();if(!Q)return;const ie=Q.toLowerCase();if(!(ie==="nan"||ie==="null"||ie==="undefined"))return Q},ce=(J,Q)=>{const ie=F(J.origine_offre_url_origine??J.origineoffre_urlorigine),be=F(J.contact_url_postulation??J.contact_urlpostulation),je=F(J.romecode);return[F(J.id)??`row-${Q}`,ie,be,je].filter(Boolean).join("|")||`row-${Q}`};async function se(J=a){const ie={page:J,page_size:$?50:20};t&&String(t).trim()!==""&&(ie.q=t),r&&(ie.typecontrat=r),s&&(ie.alternance=s==="true"),q(!0);try{const{data:be}=await Tt.get("/api/catalog/metiers/search",{params:ie,headers:R?{Authorization:`Bearer ${R}`}:{}});d(be.items),g(!!be.has_more),typeof be.total=="number"&&p(be.total),o(J),S([]),w(null)}finally{q(!1)}}async function de(){var Q;if(M)return;const J=K();if(J){T(!0);try{const{data:ie}=await Tt.get(`/api/analysis/results/${J}`),be=(Q=ie==null?void 0:ie.results)==null?void 0:Q.jobRecommendations;Array.isArray(be)&&ae(be)}catch{}finally{T(!1)}}}const V=J=>J?String(J).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",oe=J=>{const Q=V(J);return Q?Q.split(" ").filter(Boolean).map(ie=>ie.endsWith("s")?ie.slice(0,-1):ie):[]},Y=(J,Q)=>{const ie=new Set(oe(J)),be=new Set(oe(Q));if(ie.size===0||be.size===0)return 0;let je=0;return ie.forEach(Ce=>{be.has(Ce)&&je++}),je/(ie.size+be.size-je)},ge=J=>{if(!Array.isArray(M)||M.length===0)return 0;const Q=F(J.intitule),ie=F(J.romecode),be=[Q,ie].filter(Boolean).join(" ");let je=0;for(const Ce of M){const Ie=Y(be,Ce.title);let Ge=0;if(Array.isArray(Ce.skills))for(const G of Ce.skills){const Qe=Y(be,G);Ge=Math.max(Ge,Qe)}const ye=Ie*.8+Ge*.2;ye>je&&(je=ye)}return je};D.useEffect(()=>{let J=!1;return(async()=>{$&&await de(),J||await se(1)})(),()=>{J=!0}},[$]);const k=c.length>0&&N.length===c.length,B=()=>{S(k?[]:c.map((J,Q)=>ce(J,Q)))},W=J=>{S(Q=>Q.includes(J)?Q.filter(ie=>ie!==J):[...Q,J])},X=Zm.useMemo(()=>!$||Z||!Array.isArray(M)||M.length===0?c:c.map(J=>({it:J,score:ge(J)})).filter(J=>J.score>=.1).sort((J,Q)=>Q.score-J.score).map(J=>J.it),[c,$,M,Z]),te=()=>{U(J=>!J)};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }
			`}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Mtiers"}),u.jsx("p",{className:"text-text-secondary",children:"Offres et fiches mtiers"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),u.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3",children:[u.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),u.jsx("input",{className:"w-full outline-none text-sm bg-transparent",value:t,onChange:J=>e(J.target.value),placeholder:"Intitul, secteur, code ROME..."})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Type de contrat"}),u.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm",value:r,onChange:J=>n(J.target.value),placeholder:"ex: CDI"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Alternance"}),u.jsxs("select",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm bg-white",value:s,onChange:J=>i(J.target.value),children:[u.jsx("option",{value:"",children:"Tous"}),u.jsx("option",{value:"true",children:"Oui"}),u.jsx("option",{value:"false",children:"Non"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${$?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:te,disabled:I||Z,title:"Filtrer par recommandations",children:Z?u.jsx("i",{className:"ph ph-circle-notch animate-spin"}):u.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),u.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:I,onClick:()=>se(1),children:I?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:u.jsxs("tr",{children:[u.jsx("th",{className:"w-10 px-4 py-3",children:u.jsx("input",{type:"checkbox",checked:k,onChange:B})}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Logo"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitul"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Contrat"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lieu"}),u.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Entreprise"}),u.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),u.jsxs("tbody",{children:[I&&u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:u.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[u.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des rsultats"]})})}),X.map((J,Q)=>{const ie=F(J.entreprise_logo),be=J.type_contrat||J.typecontrat,je=J.lieu_travail_libelle||J.lieutravail_libelle||J.lieu,Ce=J.entreprise_nom||J.entreprise,Ie=F(J.origine_offre_url_origine||J.origineoffre_urlorigine),Ge=F(J.contact_url_postulation||J.contact_urlpostulation),ye=F(J.lieu_travail_latitude??J.lieutravail_latitude),G=F(J.lieu_travail_longitude??J.lieutravail_longitude),Qe=ye!==void 0?parseFloat(ye):void 0,Fe=G!==void 0?parseFloat(G):void 0,Ne=Number.isFinite(Qe)&&Number.isFinite(Fe),Te=ce(J,Q);return u.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 align-middle",children:u.jsx("input",{type:"checkbox",checked:N.includes(Te),onChange:()=>W(Te)})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("img",{src:ie||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:Me=>{Me.currentTarget.onerror=null,Me.currentTarget.src="/static/images/logo-dark.png"}})}),u.jsx("td",{className:"px-4 py-3 text-text-primary",children:F(J.intitule)||"Intitul non renseign"}),u.jsx("td",{className:"px-4 py-3",children:be?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700",children:[u.jsx("i",{className:"ph ph-file-text"}),be]}):"-"}),u.jsx("td",{className:"px-4 py-3",children:F(je)||"Lieu non renseign"}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("i",{className:"ph ph-buildings text-text-secondary"}),u.jsx("span",{children:F(Ce)||"Pas de nom d'entreprise"})]})}),u.jsxs("td",{className:"px-4 py-3 text-right relative",children:[u.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>w(j===Te?null:Te),children:u.jsx("i",{className:"ph ph-dots-three-vertical"})}),j===Te&&u.jsx("div",{className:"absolute right-2 mt-2 w-64 bg-white border border-line rounded-lg shadow-lg z-10",children:u.jsxs("ul",{className:"py-1 text-sm",children:[Ie&&u.jsx("li",{children:u.jsxs("a",{href:Ie,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-arrow-up-right"}),u.jsx("span",{children:"Postuler (site d'origine)"})]})}),Ge&&u.jsx("li",{children:u.jsxs("a",{href:Ge,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[u.jsx("i",{className:"ph ph-paper-plane-tilt"}),u.jsx("span",{children:"Contacter"})]})}),Ne&&u.jsx("li",{children:u.jsxs("button",{className:"w-full text-left flex items-center gap-2 px-3 py-2 hover:bg-gray-50",onClick:()=>b({lat:Qe,lon:Fe,title:J.intitule||Ce||"Localisation"}),children:[u.jsx("i",{className:"ph ph-map-pin"}),u.jsx("span",{children:"Voir sur la carte"})]})})]})})]})]},Te)}),X.length===0&&!I&&u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun rsultat"})})]})]})})}),x&&u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>b(null),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-[90vw] max-w-2xl overflow-hidden",onClick:J=>J.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line",children:[u.jsx("h3",{className:"font-semibold text-text-primary",children:x.title}),u.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",onClick:()=>b(null),"aria-label":"Fermer",children:u.jsx("i",{className:"ph ph-x"})})]}),u.jsxs("div",{className:"p-0",children:[u.jsx("iframe",{title:"map",className:"w-full h-[60vh]",src:`https://www.openstreetmap.org/export/embed.html?bbox=${Number(x.lon)-.05}%2C${Number(x.lat)-.05}%2C${Number(x.lon)+.05}%2C${Number(x.lat)+.05}&layer=mapnik&marker=${x.lat}%2C${x.lon}`,style:{border:0},allowFullScreen:!0}),u.jsx("div",{className:"p-3 text-right",children:u.jsxs("a",{className:"inline-flex items-center gap-2 px-3 py-2 border border-line rounded-lg text-sm hover:bg-gray-50",target:"_blank",href:`https://www.openstreetmap.org/?mlat=${x.lat}&mlon=${x.lon}#map=12/${x.lat}/${x.lon}`,children:[u.jsx("i",{className:"ph ph-arrow-up-right"}),u.jsx("span",{children:"Ouvrir dans OpenStreetMap"})]})})]})]})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-text-secondary text-sm",children:[X.length," rsultats",$?" (recommands)":""]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:a<=1,onClick:()=>se(a-1),children:"Prcdent"}),u.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:!y,onClick:()=>se(a+1),children:"Suivant"})]})]})]})}function pj(){const[t,e]=D.useState("metier"),[r,n]=D.useState(""),[s,i]=D.useState(null),[a,o]=D.useState([]),[c,d]=D.useState(!1),[f,p]=D.useState("sobre"),[y,g]=D.useState(""),[N,S]=D.useState(!1),j=D.useRef(null),w=D.useRef(null);D.useEffect(()=>{if(!r||r.length<2){o([]);return}return j.current&&clearTimeout(j.current),j.current=setTimeout(async()=>{try{const{data:$}=await k2.suggest({q:r,type:t});o($.items||[]),d(!0)}catch{o([])}},250),()=>j.current&&clearTimeout(j.current)},[r,t]);function x($){i($),n($.label),d(!1)}async function b(){S(!0),g("");try{const $=s?{selection:s,style:f}:{style:f};!s&&r&&(t==="metier"?$.emploi_selection=r:$.formation_selection=r);const{data:U}=await k2.generate($);g(U.letter)}catch{g("Erreur de gnration. Ressayez.")}finally{S(!1)}}function I(){var $;y&&(($=navigator.clipboard)==null||$.writeText(y))}function q(){if(!y)return;const $=window.open("","_blank");$.document.write(`<pre style="white-space: pre-wrap; font-family: serif;">${y.replace(/</g,"&lt;")}</pre>`),$.document.close(),$.focus(),$.print(),$.close()}return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Lettre de motivation"}),u.jsx("p",{className:"text-text-secondary",children:"Gnre  partir de votre profil"})]}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[u.jsxs("div",{className:"md:col-span-2 relative",children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cible"}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("button",{className:`px-3 py-1 rounded border ${t==="metier"?"bg-black text-white":"border-line"}`,onClick:()=>{e("metier"),i(null)},children:"Mtier"}),u.jsx("button",{className:`px-3 py-1 rounded border ${t==="formation"?"bg-black text-white":"border-line"}`,onClick:()=>{e("formation"),i(null)},children:"Formation"})]}),u.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:r,onChange:$=>{n($.target.value),i(null)},placeholder:t==="metier"?"ex: Dveloppeur web":"ex: BUT Informatique"}),c&&a.length>0&&u.jsx("div",{ref:w,className:"absolute z-10 mt-1 w-full max-h-60 overflow-auto border border-line rounded-lg bg-white shadow",children:a.map($=>u.jsxs("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>x($),children:[u.jsx("div",{className:"text-sm",children:$.label}),u.jsx("div",{className:"text-xs text-text-secondary",children:$.type==="metier"?"Mtier":"Formation"})]},`${$.type}-${$.id}`))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Style"}),u.jsxs("select",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:f,onChange:$=>p($.target.value),children:[u.jsx("option",{value:"sobre",children:"Sobre"}),u.jsx("option",{value:"enthousiaste",children:"Enthousiaste"}),u.jsx("option",{value:"professionnel",children:"Professionnel"})]})]}),u.jsx("div",{children:u.jsx("button",{className:"w-full bg-black text-white rounded-lg h-10 disabled:opacity-50",onClick:b,disabled:N||!s&&!r,children:N?"Gnration...":"Gnrer"})})]})}),u.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:N?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Gnration en cours..."})]}):y?u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Votre lettre de motivation"}),u.jsx("div",{className:"bg-gray-50 border border-line p-3 rounded-lg whitespace-pre-wrap font-mono",children:y}),u.jsxs("div",{className:"mt-3 flex gap-2",children:[u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:I,children:"Copier"}),u.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:q,children:"Tlcharger PDF"})]})]}):u.jsxs("div",{className:"text-center text-text-secondary",children:[u.jsx("div",{className:"text-4xl",children:""}),u.jsx("p",{className:"mt-2",children:"Recherchez un mtier ou une formation, choisissez le style, puis cliquez sur Gnrer pour crer votre lettre de motivation personnalise."})]})})]})}function mj(t,e="zelia"){try{if(t!=null&&t.avatar_url&&typeof t.avatar_url=="string")return t.avatar_url;if(t!=null&&t.avatar&&typeof t.avatar=="string")return t.avatar;if(t!=null&&t.avatar_json){let n=t.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(e)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(e)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"300",radius:"15"}).toString()}`}function mw(t,e){const[r,n]=D.useState(""),[s,i]=D.useState(!1),a=D.useRef(null),o=D.useRef(null);return D.useEffect(()=>{const d=t||"";n(""),i(!1);let f=0;const p=Math.max(15,Math.floor((e||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(e||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[t,e]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(t||""),i(!0)}}}function gj(){var At,nt,yt,Ue,ve,Se,Ve,$e,me,mt,ot,ar,dt;const t=Un(),[e,r]=D.useState(null),[n,s]=D.useState(""),[i,a]=D.useState(null),[o,c]=D.useState(!0),[d,f]=D.useState(""),[p,y]=D.useState("intro"),[g,N]=D.useState(""),[S,j]=D.useState(""),[w,x]=D.useState(!1),[b,I]=D.useState(0),[q,$]=D.useState({}),[U,M]=D.useState(0),[ae,Z]=D.useState({}),[T,R]=D.useState(!1),[K,F]=D.useState(0),[ce,se]=D.useState(!1),[de,V]=D.useState(null),[oe,Y]=D.useState(!1),[ge,k]=D.useState(!1);function B(Oe,Ke={}){try{const Xe=new URL(Oe);return/api\.dicebear\.com/.test(Xe.host)&&/\/lorelei\/svg/.test(Xe.pathname)?(Object.entries(Ke).forEach(([rt,Wt])=>{Wt==null||Wt===""?Xe.searchParams.delete(rt):Xe.searchParams.set(rt,String(Wt))}),Xe.searchParams.has("size")||Xe.searchParams.set("size","300"),Xe.toString()):Oe}catch{return Oe}}D.useEffect(()=>{let Oe=!0;return(async()=>{var Ke,Xe,qe;try{const{data:{user:rt}}=await Qr.auth.getUser();if(!rt){t("/login");return}const[Wt,Lt]=await Promise.all([Ho.getProfile().catch(()=>null),Mt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}).catch(rn=>rn)]);if(!Oe)return;const jr=((Ke=Wt==null?void 0:Wt.data)==null?void 0:Ke.profile)||null;r(jr),s(mj(jr,rt.id)),(Xe=Lt==null?void 0:Lt.data)!=null&&Xe.results?a(Lt.data.results):((qe=Lt==null?void 0:Lt.response)==null?void 0:qe.status)===404?a(null):Lt instanceof Error&&f("Erreur lors du chargement des rsultats")}catch(rt){if(console.error(rt),!Oe)return;f("Erreur de chargement")}finally{Oe&&c(!1)}})(),()=>{Oe=!1}},[t]);const W=D.useMemo(()=>[{text:"Bienvenue sur Zlia",durationMs:1500},{text:"Nous allons t'expliquer comment nous allons t'aider  trouver le mtier de tes rves",durationMs:5e3},{text:"Nous allons faire en sorte d'y arriver ensemble, et allons te donner des tips tout au long de ton parcours",durationMs:6e3},{text:"Commenons",durationMs:1e3}],[]),[X,te]=D.useState(0),J=W[X]||{text:"",durationMs:1500},{text:Q,done:ie,skip:be}=mw(J.text,J.durationMs),je=p==="intro"&&!ie||ge;D.useEffect(()=>{if(!je)return;const Oe=setInterval(()=>Y(Ke=>!Ke),200);return()=>clearInterval(Oe)},[je]),D.useEffect(()=>{function Oe(Ke){const Xe=!!(Ke&&Ke.detail&&Ke.detail.active);k(Xe)}return window.addEventListener("niv1-typing",Oe),()=>window.removeEventListener("niv1-typing",Oe)},[]);const Ce=((nt=(At=i==null?void 0:i.jobRecommendations)==null?void 0:At[0])==null?void 0:nt.title)||"",Ie=((Ue=(yt=i==null?void 0:i.jobRecommendations)==null?void 0:yt[1])==null?void 0:Ue.title)||"",Ge=p==="ask_fit",ye=p==="await_input",G=()=>{if(!ie){be();return}X+1<W.length?te(X+1):y("ask_fit")},Qe=D.useMemo(()=>{let Oe=n;if(!Oe)return Oe;try{const Ke=new URL(Oe);return/api\.dicebear\.com/.test(Ke.host)&&/\/lorelei\/svg/.test(Ke.pathname)&&(Oe=B(Oe,{mouth:je&&oe?"happy08":null})),Oe}catch{return Oe}},[n,je,oe]),Fe=[{id:"salary_expectation",type:"buttons",text:"Est-ce que tu t'attendais  ce salaire l ?",options:["Oui","Non","Je ne sais pas"]},{id:"good_salary",type:"input",text:"Pour toi c'est quoi un bon salaire?",placeholder:"Ex: 2500 net/mois"},{id:"motivation_salary",type:"buttons",text:"Est-ce que tu fais ce mtier pour le salaire ?",options:["Oui","Non","Partiellement"]}],Ne=D.useMemo(()=>[{id:"learn_overview",type:"text",text:"Durant ton parcours, je vais t'apprendre  te reprer parmi les mtiers et  poser un cap clair."},{id:"english_test",type:"text",text:"On fera un test d'anglais rapide pour valuer ton niveau et te proposer des pistes pour progresser."},{id:"cv_build",type:"text",text:"On va crer ton CV tape par tape, avec des exemples et un modle qui te ressemble."},{id:"sell_yourself",type:"text",text:"Tu apprendras  te vendre: valoriser tes expriences, tes forces et tes russites."},{id:"pitch",type:"text",text:"On travaillera ton pitch 60 secondes pour faire forte impression."},{id:"schools",type:"text",text:"On reprera des coles et formations qui collent vraiment  ton projet."},{id:"calendar",type:"text",text:"On t'aidera  organiser ton calendrier Parcoursup et tes chances."},{id:"tips",type:"text",text:"Tu auras des tips concrets  chaque tape pour gagner du temps."},{id:"interview",type:"text",text:"On prparera tes entretiens: questions frquentes, piges et rponses efficaces."},{id:"checklist",type:"text",text:"Tu auras une checklist personnalise pour rester au top jusqu'au bout."},{id:"motivated",type:"buttons",text:"Est-ce que tu es motiv pour cela ?",options:["Oui","Mitig","Non"]},{id:"explore_another",type:"buttons",text:"Veux-tu explorer une autre fiche mtier ?",options:["Oui","Non"]},{id:"why_attraction",type:"buttons",text:"Qu'est-ce qui t'attire le plus dans ce mtier ?",options:["Le sens","Le salaire","Les tudes","Le quotidien"]},{id:"study_length",type:"buttons",text:"Tu te vois plutt tudes longues ou entrer vite dans le concret ?",options:["tudes longues","Rapide et pro","Je ne sais pas"]},{id:"team_or_solo",type:"buttons",text:"Tu prfres travailler en quipe ou plutt en solo ?",options:["quipe","Solo","Peu importe"]},{id:"five_years",type:"input",text:"Tu te vois o dans 5 ans ?",placeholder:"Dcris en une phrase"},{id:"favorite_subjects",type:"buttons",text:"Quelles matires te plaisent le plus ?",options:["Sciences","Langues","Littrature","co/Gestion","Art/Design"]},{id:"learn_style",type:"buttons",text:"Tu apprends mieux en faisant ou en lisant ?",options:["En faisant","En lisant","Mix des deux"]},{id:"english_level",type:"buttons",text:"Ton niveau danglais approximatif ?",options:["Dbutant","Intermdiaire","Avanc"]},{id:"proud_project",type:"input",text:"Tu as un projet perso dont tu es fier ?",placeholder:"Dis-men un mot"},{id:"geo_constraints",type:"buttons",text:"Tu as des contraintes gographiques ?",options:["Oui","Non"]},{id:"action_plan",type:"buttons",text:"Tu veux quon btisse un plan daction ensemble ?",options:["Oui","Plus tard"]}],[]),Te=D.useMemo(()=>Ne.findIndex(Oe=>Oe.id==="explore_another"),[Ne]);async function Me(Oe){var Ke;x(!0),j(""),y("generating");try{const Xe=`FICHE MTIER pour "${Oe}".
Contraintes de sortie OBLIGATOIRES:
- Rponds uniquement en franais, en tutoyant (utilise "tu").
- AUCUNE salutation, introduction ou phrase d'ouverture (n'cris pas Bonjour, pas de phrase avant la section 1).
- AUCUN sparateur ou dcoration (pas de '---', pas de tables, pas de code).
- AUCUN gras ni markdown (n'utilise jamais **, #, ##, etc.).

Structure EXACTE et dans cet ordre:
1) Description du mtier (150-200 mots)
2) Salaire en France (dbutant et mdian)
3) coles/tudes pour y arriver (3  5 exemples prcis)

Format: titres courts en clair (pas de markdown), listes  puces simples '-' quand pertinent.`,qe=await G6.aiChat({mode:"advisor",message:Xe,history:[],jobTitles:[Oe],advisorType:"fiche-metier"});let rt=((Ke=qe==null?void 0:qe.data)==null?void 0:Ke.reply)||"";rt=rt.replace(/\*\*/g,""),j(rt),F(Wt=>Math.min(2,Wt+1)),y("fiche")}catch(Xe){console.error("AI fiche error",Xe),j("Une erreur est survenue lors de la gnration de la fiche mtier."),y("fiche")}finally{x(!1)}}const De=async Oe=>{Oe==="oui"?(await new Promise(Ke=>setTimeout(Ke,250)),await Me(Ce||"Mtier")):y("await_input")},Ze=async()=>{const Oe=(g||"").trim();if(Oe){x(!0);try{await Ho.updateProfile({home_preference:Oe}),await Me(Oe)}catch(Ke){console.error("Update profile error",Ke),x(!1)}}};function it(){U+1<Ne.length?M(U+1):vt()}function ct(Oe){const Ke=Ne[U];if(Z({...ae,[Ke.id]:Oe}),Ke.id==="explore_another"&&Oe==="Oui"&&Ie&&K<2){se(!0),Te>=0&&V(Te+1),Me(Ie);return}it()}function vt(){y("success"),R(!0),setTimeout(()=>{},2e3),(async()=>{try{const Oe=await Gi.get().catch(()=>({data:{level:1,xp:0,quests:[],perks:[]}})),Ke=(Oe==null?void 0:Oe.data)||{level:1,xp:0,quests:[],perks:[]},qe=(Ke.xp||0)+100,rt=Math.max(2,Ke.level||1);await Gi.update({level:rt,xp:qe,quests:Ke.quests||[],perks:Ke.perks||[]})}catch(Oe){console.warn("Progression update failed (non-blocking):",Oe)}})()}async function pt(){try{const Oe=Fe.map(qe=>({question_id:qe.id,question_text:qe.text,answer_text:q[qe.id]??""})),Ke=Ne.map(qe=>({question_id:qe.id,question_text:qe.text,answer_text:ae[qe.id]??""})),Xe=[...Oe,...Ke].filter(qe=>qe.question_id&&qe.question_text);Xe.length&&await Ho.saveExtraInfo(Xe)}catch(Oe){console.error("Persist extra info failed",Oe)}}return o?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):d?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:d})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:Qe,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?u.jsx(u.Fragment,{children:Q}):Ge?"Est-ce que ces mtiers recommands te conviennent ?":ye?"Peux-tu nous dire le mtier de tes rves ?":p==="generating"?"Je suis en train de rechercher les infomations du mtier qui te concerne...":p==="fiche"?u.jsx(u.Fragment,{children:ce?u.jsxs(u.Fragment,{children:[u.jsx("div",{children:"Voici une seconde fiche pour t'offrir un autre angle."}),u.jsx("div",{children:"Lis-la si tu veux, puis on passe directement  la suite."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{children:"Super, continuons."}),g?u.jsxs("div",{children:["Trs bien je vois que tu es ambitieux !  ",g,"  est un beau mtier."]}):null,u.jsx("div",{children:"Tu peux lire la fiche, puis on en discute "})]})}):p==="post_fiche"?u.jsx(u.Fragment,{children:((ve=Fe[b])==null?void 0:ve.text)||""}):p==="conversation"?u.jsx(u.Fragment,{children:((Se=Ne[U])==null?void 0:Se.type)==="text"?u.jsx(vj,{text:Ne[U].text,onNext:()=>{it(),U+1>=Ne.length&&pt()}}):((Ve=Ne[U])==null?void 0:Ve.text)||""}):""}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&u.jsx("div",{className:"mt-3",children:u.jsx("button",{onClick:G,className:"inline-flex items-center px-4 py-2 rounded-md bg-[#c1ff72] text-black border border-gray-200",children:"Suivant"})}),Ge&&u.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[u.jsx("button",{onClick:()=>De("oui"),disabled:!Ce,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50 w-full sm:w-auto",children:"Oui"}),u.jsx("button",{onClick:()=>De("mitige"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Mitig"}),u.jsx("button",{onClick:()=>De("non"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Non"})]}),ye&&u.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 w-full",children:[u.jsx("input",{type:"text",value:g,onChange:Oe=>N(Oe.target.value),placeholder:"Ton mtier de rve",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full"}),u.jsx("button",{onClick:Ze,disabled:w||!g.trim(),className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-50 w-full sm:w-auto",children:"Valider"})]}),p==="fiche"&&!ce&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:()=>y("post_fiche"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Discuter de la fiche"})}),p==="fiche"&&ce&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:()=>{y("conversation"),de!=null&&de<Ne.length&&M(de),se(!1)},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Continuer"})}),p==="post_fiche"&&u.jsxs("div",{className:"mt-4 space-y-3",children:[(($e=Fe[b])==null?void 0:$e.type)==="buttons"&&u.jsx("div",{className:"flex flex-wrap gap-3",children:Fe[b].options.map((Oe,Ke)=>u.jsx("button",{onClick:()=>{$({...q,[Fe[b].id]:Oe}),b+1<Fe.length?I(b+1):(y("conversation"),M(0),pt())},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:Oe},Ke))}),((me=Fe[b])==null?void 0:me.type)==="input"&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[u.jsx("input",{type:"text",placeholder:Fe[b].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:q[Fe[b].id]||"",onChange:Oe=>$({...q,[Fe[b].id]:Oe.target.value})}),u.jsx("button",{onClick:()=>{b+1<Fe.length?I(b+1):(y("conversation"),M(0),pt())},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]})]}),p==="conversation"&&u.jsxs("div",{className:"mt-4 space-y-3",children:[((mt=Ne[U])==null?void 0:mt.type)==="buttons"&&u.jsx("div",{className:"flex flex-wrap gap-3",children:(Ne[U].options||[]).map((Oe,Ke)=>u.jsx("button",{onClick:()=>{ct(Oe),U+1>=Ne.length&&pt()},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:Oe},Ke))}),((ot=Ne[U])==null?void 0:ot.type)==="input"&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[u.jsx("input",{type:"text",placeholder:Ne[U].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:ae[Ne[U].id]||"",onChange:Oe=>Z({...ae,[Ne[U].id]:Oe.target.value})}),u.jsx("button",{onClick:()=>{it(),U+1>=Ne.length&&pt()},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]}),((ar=Ne[U])==null?void 0:ar.type)==="text"&&null]}),!1,!1]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[p==="ask_fit"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),(dt=i==null?void 0:i.jobRecommendations)!=null&&dt.length?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jobRecommendations.map((Oe,Ke)=>{var Xe;return u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:Oe.title}),(Xe=Oe.skills)!=null&&Xe.length?u.jsxs("div",{className:"text-sm text-orange-700",children:[u.jsx("div",{className:"font-medium",children:"Comptences requises:"}),u.jsx("ul",{className:"mt-1 list-disc list-inside",children:Oe.skills.map((qe,rt)=>u.jsx("li",{children:qe},rt))})]}):null]},Ke)})}):u.jsx("div",{className:"text-text-secondary",children:"Aucune recommandation disponible pour le moment."})]}),(p==="fiche"||p==="post_fiche"||p==="conversation"||p==="generating")&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Fiche mtier"})]}),w&&u.jsx("div",{className:"text-sm text-text-secondary",children:"Gnration"}),u.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-gray-800",children:S})]})]})]}),T&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 1 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as termin l\\'introduction et explor tes premires pistes."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>t("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function vj({text:t,onNext:e}){const r=D.useMemo(()=>Math.min(8e3,Math.max(1500,(t||"").length*40)),[t]),{text:n,done:s,skip:i}=mw(t||"",r);return D.useEffect(()=>{const a=new CustomEvent("niv1-typing",{detail:{active:!s}});window.dispatchEvent(a)},[s]),u.jsxs("div",{children:[u.jsx("div",{className:"mb-3 whitespace-pre-wrap",children:n}),u.jsx("button",{onClick:()=>{s?e():i()},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})]})}function yj(t,e="zelia"){try{if(t!=null&&t.avatar_url&&typeof t.avatar_url=="string")return t.avatar_url;if(t!=null&&t.avatar&&typeof t.avatar=="string")return t.avatar;if(t!=null&&t.avatar_json){let n=t.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(e)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(e)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"300",radius:"15"}).toString()}`}function wj(t,e){const[r,n]=D.useState(""),[s,i]=D.useState(!1),a=D.useRef(null),o=D.useRef(null);return D.useEffect(()=>{n(""),i(!1);const d=t||"";let f=0;const p=Math.max(15,Math.floor((e||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(e||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[t,e]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(t||""),i(!0)}}}function xj(){const t=Un(),[e,r]=D.useState(null),[n,s]=D.useState(""),[i,a]=D.useState(!0),[o,c]=D.useState(""),[d,f]=D.useState(0),[p,y]=D.useState("intro"),g=D.useRef(null),N=D.useRef(!1),[S,j]=D.useState(!1),[w,x]=D.useState("");D.useEffect(()=>{let F=!0;return(async()=>{var ce;try{const{data:{user:se}}=await Qr.auth.getUser();if(!se){t("/login");return}x(se.id);const de=await Ho.getProfile().catch(()=>null);if(!F)return;const V=((ce=de==null?void 0:de.data)==null?void 0:ce.profile)||null;r(V),s(yj(V,se.id))}catch(se){if(console.error(se),!F)return;c("Erreur de chargement")}finally{F&&a(!1)}})(),()=>{F=!1}},[t]);const b=D.useMemo(()=>[{text:"Bon t'es pass au niveau 2, c'tait assez simple mais a se corsera plus tard, pour l'instant on a besoin de comprendre  qui on a affaire et t'expliquer tous les futurs niveaux",durationMs:8e3},{text:"On va te faire rencontrer une personne qui tait plus ou moins dans ton cas",durationMs:3e3},{text:"C'est nicolas, le fondateur de la plateforme Zlia qui a fait une vido pour toi",durationMs:3e3},{text:"Le but c'est de t'expliquer les bases de l'orientation, de pourquoi c'est important, mme si tu le sais probablement dj",durationMs:7500},{text:"Je te laisse voir cette vido, tu pourras avoir son retour d'exprience avec l'orientation et comment il s'en est sorti",durationMs:4e3},{text:"Bon faut vraiment que j'arrte de parler moi",durationMs:1500}],[]),I=b[d]||{text:"",durationMs:1500},{text:q,done:$,skip:U}=wj(I.text,I.durationMs);D.useEffect(()=>{if(p!=="intro"||$)return;const F=setInterval(()=>j(ce=>!ce),200);return()=>clearInterval(F)},[p,$]);function M(F,ce={}){try{const se=new URL(F);return/api\.dicebear\.com/.test(se.host)&&/\/lorelei\/svg/.test(se.pathname)?(Object.entries(ce).forEach(([V,oe])=>{oe==null||oe===""?se.searchParams.delete(V):se.searchParams.set(V,String(oe))}),se.searchParams.has("size")||se.searchParams.set("size","300"),se.toString()):F}catch{return F}}const ae=D.useMemo(()=>{let F=n;return!F||!(()=>{try{const se=new URL(F);return/api\.dicebear\.com/.test(se.host)&&/\/lorelei\/svg/.test(se.pathname)}catch{return!1}})()||(p==="intro"&&d===5?F=M(F,{eyes:"variant16"}):F=M(F,{}),p==="intro"&&!$?F=M(F,{mouth:S?"happy08":null}):F=M(F,{mouth:null})),F},[n,p,d,$,S]);D.useEffect(()=>{if(p!=="watch")return;function F(){if(!(g.current||N.current))try{const ce=window.YT;if(!ce||!ce.Player)return;g.current=new ce.Player("niv2Player",{height:"315",width:"560",videoId:"WgUmD_sZRrI",playerVars:{rel:0,modestbranding:1,playsinline:1},events:{onReady:()=>{N.current=!0},onStateChange:se=>{se.data===window.YT.PlayerState.ENDED&&K()}}})}catch(ce){console.warn("YT init failed",ce)}}if(!window.YT||!window.YT.Player){if(!document.getElementById("youtube-iframe-api")){const de=document.createElement("script");de.src="https://www.youtube.com/iframe_api",de.id="youtube-iframe-api",document.body.appendChild(de)}const se=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){if(typeof se=="function")try{se()}catch{}F()}}else F();return()=>{try{const ce=g.current;ce&&ce.destroy&&ce.destroy()}catch{}g.current=null,N.current=!1}},[p]);function Z(){if(!$){U();return}d+1<b.length?f(F=>F+1):y("watch")}const[T,R]=D.useState(!1);function K(){R(!0),(async()=>{try{const F=await Gi.get().catch(()=>({data:{level:1,xp:0,quests:[],perks:[]}})),ce=(F==null?void 0:F.data)||{level:1,xp:0,quests:[],perks:[]},de=(ce.xp||0)+120,V=Math.max(2,ce.level||1);await Gi.update({level:V,xp:de,quests:ce.quests||[],perks:ce.perks||[]})}catch(F){console.warn("Progression update failed (non-blocking):",F)}})()}return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:ae,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?u.jsx(u.Fragment,{children:q}):p==="watch"?u.jsx(u.Fragment,{children:"Regarde la vido  droite, puis on continue."}):null}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:Z,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:d===b.length-1?"Oui laisse moi voir la vido":"Suivant"})})]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Vido"})]}),p!=="watch"?u.jsx("div",{className:"text-text-secondary",children:"La vido apparatra ici."}):u.jsxs("div",{children:[u.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:u.jsx("div",{id:"niv2Player",className:"absolute inset-0"})}),u.jsx("noscript",{children:u.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/WgUmD_sZRrI?si=9_DuCyLC6Gw_mF2Z",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:K,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"J'ai termin la vido"})})]})]})]}),T&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 2 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as regard la vido d'introduction  l'orientation."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>t("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function bj(t,e="zelia"){try{if(t!=null&&t.avatar_url&&typeof t.avatar_url=="string")return t.avatar_url;if(t!=null&&t.avatar&&typeof t.avatar=="string")return t.avatar;if(t!=null&&t.avatar_json){let n=t.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(e)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(e)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"300",radius:"15"}).toString()}`}function _j(t,e){const[r,n]=D.useState(""),[s,i]=D.useState(!1),a=D.useRef(null),o=D.useRef(null);return D.useEffect(()=>{n(""),i(!1);const d=t||"";let f=0;const p=Math.max(15,Math.floor((e||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(e||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[t,e]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(t||""),i(!0)}}}function Nj(){const t=Un(),[e,r]=D.useState(null),[n,s]=D.useState(""),[i,a]=D.useState(!0),[o,c]=D.useState(""),[d,f]=D.useState(0),[p,y]=D.useState("intro"),[g,N]=D.useState(!1),[S,j]=D.useState(""),[w,x]=D.useState(""),b=D.useRef(null),[I,q]=D.useState(!1),$=D.useRef([]),[U,M]=D.useState(""),[ae,Z]=D.useState(7),[T,R]=D.useState(!1),[K,F]=D.useState(!1);D.useEffect(()=>{let Q=!0;return(async()=>{var ie,be,je,Ce,Ie,Ge,ye;try{const{data:{user:G}}=await Qr.auth.getUser();if(!G){t("/login");return}j(G.id);const Qe=await Ho.getProfile().catch(()=>null);if(!Q)return;const Fe=((ie=Qe==null?void 0:Qe.data)==null?void 0:ie.profile)||(Qe==null?void 0:Qe.data)||null;r(Fe),s(bj(Fe,G.id));try{const Ne=await Mt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Te=((be=Ne==null?void 0:Ne.data)==null?void 0:be.results)||{},Me=Te.jobRecommendations||Te.job_recommandations||[];Array.isArray(Me)&&Me.length>0&&x(((je=Me[0])==null?void 0:je.title)||"")}catch{try{const Ne=await Mt.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Te=((Ie=(Ce=Ne==null?void 0:Ne.data)==null?void 0:Ce.results)==null?void 0:Ie.analysis)||((Ge=Ne==null?void 0:Ne.data)==null?void 0:Ge.results)||{},Me=Te.jobRecommendations||Te.job_recommandations||Te.career_matches||[];Array.isArray(Me)&&Me.length>0&&x(((ye=Me[0])==null?void 0:ye.title)||"")}catch{}}}catch(G){if(console.error(G),!Q)return;c("Erreur de chargement")}finally{Q&&a(!1)}})(),()=>{Q=!1}},[t]);const ce=D.useMemo(()=>[{text:"Re, on passe au niveau 3, on va rentrer dans le vif du sujet, sur ce module on va apprendre comment se vendre auprs des autres",durationMs:5e3},{text:"On va bosser ensemble sur un pitch de 60s, tant que tu es pas satisfait de toi mme, on continue",durationMs:3e3},{text:"Alors je sais que a peut paratre un peu complexe ou a peut te mettre mal  l'aise, isole toi si c'est le cas",durationMs:4e3},{text:"Essaye de rpter ce texte, de manire dtendue, personne ne te juge  part moi, mais je suis qu'un assistant",durationMs:4e3}],[]),se=ce[d]||{text:"",durationMs:1500},{text:de,done:V,skip:oe}=_j(se.text,se.durationMs);D.useEffect(()=>{if(p!=="intro"||V)return;const Q=setInterval(()=>N(ie=>!ie),200);return()=>clearInterval(Q)},[p,V]);function Y(Q,ie={}){try{const be=new URL(Q);return/api\.dicebear\.com/.test(be.host)&&/\/lorelei\/svg/.test(be.pathname)?(Object.entries(ie).forEach(([Ce,Ie])=>{Ie==null||Ie===""?be.searchParams.delete(Ce):be.searchParams.set(Ce,String(Ie))}),be.searchParams.has("size")||be.searchParams.set("size","300"),be.toString()):Q}catch{return Q}}const ge=D.useMemo(()=>{let Q=n;return!Q||!(()=>{try{const be=new URL(Q);return/api\.dicebear\.com/.test(be.host)&&/\/lorelei\/svg/.test(be.pathname)}catch{return!1}})()||(p==="intro"&&d===3?Q=Y(Q,{eyes:"variant16"}):Q=Y(Q,{}),p==="intro"&&!V?Q=Y(Q,{mouth:g?"happy08":null}):Q=Y(Q,{mouth:null})),Q},[n,p,d,V,g]);function k(){if(!V){oe();return}d+1<ce.length?f(Q=>Q+1):y("practice")}const B=D.useMemo(()=>{const Q=(e==null?void 0:e.first_name)||"",ie=(e==null?void 0:e.last_name)||"",be=(e==null?void 0:e.department)||"",je=(e==null?void 0:e.home_preference)||"",Ce=String(je).toLowerCase()==="questionnaire"?w||"un mtier qui me correspond":je||w||"un mtier qui me correspond";return`Bonjour, je m'appelle ${Q} ${ie}, j'habite actuellement dans le ${be}. Ce qui me motive profondment dans le mtier de ${Ce}, cest de comprendre comment les choses fonctionnent et comment les amliorer. Je ne me contente jamais de la premire rponse ; ma curiosit me pousse  explorer diffrentes perspectives avant dagir.

J'aborde chaque nouveau dfi avec la mme mthode : jcoute, japprends vite, et je connecte les ides et les gens pour construire quelque chose qui a du sens. Je crois fermement que les meilleures solutions naissent de la collaboration et d'une vision d'ensemble.

Mon objectif n'est pas simplement d'accomplir des tches, mais d'apporter une nergie positive et une volont de faire avancer les projets. Je cherche  m'investir dans un environnement o je pourrai continuer  apprendre et avoir un impact concret.`},[e,w]),W=async()=>{try{F(!1),M("");const Q=await navigator.mediaDevices.getUserMedia({audio:!0}),ie=new MediaRecorder(Q);$.current=[],ie.ondataavailable=be=>{be.data&&be.data.size>0&&$.current.push(be.data)},ie.onstop=()=>{const be=new Blob($.current,{type:"audio/webm"}),je=URL.createObjectURL(be);M(je),y("rate"),q(!1),Q.getTracks().forEach(Ce=>Ce.stop())},b.current=ie,ie.start(),q(!0)}catch(Q){console.error("Recording start failed",Q),alert("Impossible daccder au micro. Autorisez le micro puis ressayez.")}},X=()=>{var Q;try{(Q=b.current)==null||Q.stop()}catch{}},te=()=>{M(""),Z(7),y("practice")},J=async()=>{ae>=8?(R(!0),(async()=>{try{const Q=await Gi.get().catch(()=>({data:{level:1,xp:0,quests:[],perks:[]}})),ie=(Q==null?void 0:Q.data)||{level:1,xp:0,quests:[],perks:[]},je=(ie.xp||0)+150,Ce=Math.max(3,ie.level||1);await Gi.update({level:Ce,xp:je,quests:ie.quests||[],perks:ie.perks||[]})}catch(Q){console.warn("Progression update failed (non-blocking):",Q)}})()):F(!0)};return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:ge,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?u.jsx(u.Fragment,{children:de}):p==="practice"?u.jsx(u.Fragment,{children:"Tu peux lire le texte  droite et t'enregistrer quand tu veux."}):p==="rate"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-3",children:"Alors combien tu te noterais sur 10 ?"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"range",min:"0",max:"10",value:ae,onChange:Q=>Z(Number(Q.target.value)),className:"w-full"}),u.jsx("div",{className:"w-10 text-center font-bold",children:ae})]}),u.jsx("button",{onClick:J,className:"mt-3 px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Valider"})]}):K?u.jsx(u.Fragment,{children:"C'est dj pas trop mal, on va essayer de le refaire, recommenons ensemble."}):null}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:k,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:d===ce.length-1?"Afficher le texte":"Suivant"})}),K&&p!=="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:te,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Recommencer"})})]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:""}),u.jsx("h2",{className:"text-xl font-bold",children:"Pitch 60s"})]}),u.jsx("div",{className:"text-text-primary whitespace-pre-wrap mb-4",children:B}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!I&&u.jsx("button",{onClick:W,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"S'enregistrer"}),I&&u.jsx("button",{onClick:X,className:"px-4 py-2 rounded-lg bg-red-500 text-white border border-red-600",children:"Arrter"}),U&&!I&&u.jsxs(u.Fragment,{children:[u.jsx("audio",{controls:!0,src:U,className:"w-full max-w-md"}),u.jsx("button",{onClick:te,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Renregistrer"})]})]})]})]}),T&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 3 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Flicitations, ton pitch est prt. Tu sais te prsenter efficacement."}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:u.jsx("button",{onClick:()=>t("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"})}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function Dt(t){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(t)}var en=Uint8Array,On=Uint16Array,rg=Int32Array,Uh=new en([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qh=new en([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dm=new en([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gw=function(t,e){for(var r=new On(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new rg(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},vw=gw(Uh,2),yw=vw.b,Bm=vw.r;yw[28]=258,Bm[258]=28;var ww=gw(qh,0),Sj=ww.b,P2=ww.r,Um=new On(32768);for(var Xt=0;Xt<32768;++Xt){var Si=(Xt&43690)>>1|(Xt&21845)<<1;Si=(Si&52428)>>2|(Si&13107)<<2,Si=(Si&61680)>>4|(Si&3855)<<4,Um[Xt]=((Si&65280)>>8|(Si&255)<<8)>>1}var Fs=function(t,e,r){for(var n=t.length,s=0,i=new On(e);s<n;++s)t[s]&&++i[t[s]-1];var a=new On(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(r){o=new On(1<<e);var c=15-e;for(s=0;s<n;++s)if(t[s])for(var d=s<<4|t[s],f=e-t[s],p=a[t[s]-1]++<<f,y=p|(1<<f)-1;p<=y;++p)o[Um[p]>>c]=d}else for(o=new On(n),s=0;s<n;++s)t[s]&&(o[s]=Um[a[t[s]-1]++]>>15-t[s]);return o},Ji=new en(288);for(var Xt=0;Xt<144;++Xt)Ji[Xt]=8;for(var Xt=144;Xt<256;++Xt)Ji[Xt]=9;for(var Xt=256;Xt<280;++Xt)Ji[Xt]=7;for(var Xt=280;Xt<288;++Xt)Ji[Xt]=8;var $c=new en(32);for(var Xt=0;Xt<32;++Xt)$c[Xt]=5;var jj=Fs(Ji,9,0),kj=Fs(Ji,9,1),Aj=Fs($c,5,0),Lj=Fs($c,5,1),vp=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ls=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},yp=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},ng=function(t){return(t+7)/8|0},xw=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new en(t.subarray(e,r))},Pj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],hs=function(t,e,r){var n=new Error(e||Pj[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,hs),!r)throw n;return n},Cj=function(t,e,r,n){var s=t.length,i=0;if(!s||e.f&&!e.l)return r||new en(0);var a=!r,o=a||e.i!=2,c=e.i;a&&(r=new en(s*3));var d=function(je){var Ce=r.length;if(je>Ce){var Ie=new en(Math.max(Ce*2,je));Ie.set(r),r=Ie}},f=e.f||0,p=e.p||0,y=e.b||0,g=e.l,N=e.d,S=e.m,j=e.n,w=s*8;do{if(!g){f=ls(t,p,1);var x=ls(t,p+1,3);if(p+=3,x)if(x==1)g=kj,N=Lj,S=9,j=5;else if(x==2){var $=ls(t,p,31)+257,U=ls(t,p+10,15)+4,M=$+ls(t,p+5,31)+1;p+=14;for(var ae=new en(M),Z=new en(19),T=0;T<U;++T)Z[Dm[T]]=ls(t,p+T*3,7);p+=U*3;for(var R=vp(Z),K=(1<<R)-1,F=Fs(Z,R,1),T=0;T<M;){var ce=F[ls(t,p,K)];p+=ce&15;var b=ce>>4;if(b<16)ae[T++]=b;else{var se=0,de=0;for(b==16?(de=3+ls(t,p,3),p+=2,se=ae[T-1]):b==17?(de=3+ls(t,p,7),p+=3):b==18&&(de=11+ls(t,p,127),p+=7);de--;)ae[T++]=se}}var V=ae.subarray(0,$),oe=ae.subarray($);S=vp(V),j=vp(oe),g=Fs(V,S,1),N=Fs(oe,j,1)}else hs(1);else{var b=ng(p)+4,I=t[b-4]|t[b-3]<<8,q=b+I;if(q>s){c&&hs(0);break}o&&d(y+I),r.set(t.subarray(b,q),y),e.b=y+=I,e.p=p=q*8,e.f=f;continue}if(p>w){c&&hs(0);break}}o&&d(y+131072);for(var Y=(1<<S)-1,ge=(1<<j)-1,k=p;;k=p){var se=g[yp(t,p)&Y],B=se>>4;if(p+=se&15,p>w){c&&hs(0);break}if(se||hs(2),B<256)r[y++]=B;else if(B==256){k=p,g=null;break}else{var W=B-254;if(B>264){var T=B-257,X=Uh[T];W=ls(t,p,(1<<X)-1)+yw[T],p+=X}var te=N[yp(t,p)&ge],J=te>>4;te||hs(3),p+=te&15;var oe=Sj[J];if(J>3){var X=qh[J];oe+=yp(t,p)&(1<<X)-1,p+=X}if(p>w){c&&hs(0);break}o&&d(y+131072);var Q=y+W;if(y<oe){var ie=i-oe,be=Math.min(oe,Q);for(ie+y<0&&hs(3);y<be;++y)r[y]=n[ie+y]}for(;y<Q;++y)r[y]=r[y-oe]}}e.l=g,e.p=k,e.b=y,e.f=f,g&&(f=1,e.m=S,e.d=N,e.n=j)}while(!f);return y!=r.length&&a?xw(r,0,y):r.subarray(0,y)},Gs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},tc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},wp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:_w,l:0};if(s==1){var a=new en(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(q,$){return q.f-$.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,f=1,p=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=s-1;)o=r[r[d].f<r[p].f?d++:p++],c=r[d!=f&&r[d].f<r[p].f?d++:p++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var y=i[0].s,n=1;n<s;++n)i[n].s>y&&(y=i[n].s);var g=new On(y+1),N=qm(r[f-1],g,0);if(N>e){var n=0,S=0,j=N-e,w=1<<j;for(i.sort(function($,U){return g[U.s]-g[$.s]||$.f-U.f});n<s;++n){var x=i[n].s;if(g[x]>e)S+=w-(1<<N-g[x]),g[x]=e;else break}for(S>>=j;S>0;){var b=i[n].s;g[b]<e?S-=1<<e-g[b]++-1:++n}for(;n>=0&&S;--n){var I=i[n].s;g[I]==e&&(--g[I],++S)}N=e}return{t:new en(g),l:N}},qm=function(t,e,r){return t.s==-1?Math.max(qm(t.l,e,r+1),qm(t.r,e,r+1)):e[t.s]=r},C2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new On(++e),n=0,s=t[0],i=1,a=function(c){r[n++]=c},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:r.subarray(0,n),n:e}},rc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},bw=function(t,e,r){var n=r.length,s=ng(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},E2=function(t,e,r,n,s,i,a,o,c,d,f){Gs(e,f++,r),++s[256];for(var p=wp(s,15),y=p.t,g=p.l,N=wp(i,15),S=N.t,j=N.l,w=C2(y),x=w.c,b=w.n,I=C2(S),q=I.c,$=I.n,U=new On(19),M=0;M<x.length;++M)++U[x[M]&31];for(var M=0;M<q.length;++M)++U[q[M]&31];for(var ae=wp(U,7),Z=ae.t,T=ae.l,R=19;R>4&&!Z[Dm[R-1]];--R);var K=d+5<<3,F=rc(s,Ji)+rc(i,$c)+a,ce=rc(s,y)+rc(i,S)+a+14+3*R+rc(U,Z)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&K<=F&&K<=ce)return bw(e,f,t.subarray(c,c+d));var se,de,V,oe;if(Gs(e,f,1+(ce<F)),f+=2,ce<F){se=Fs(y,g,0),de=y,V=Fs(S,j,0),oe=S;var Y=Fs(Z,T,0);Gs(e,f,b-257),Gs(e,f+5,$-1),Gs(e,f+10,R-4),f+=14;for(var M=0;M<R;++M)Gs(e,f+3*M,Z[Dm[M]]);f+=3*R;for(var ge=[x,q],k=0;k<2;++k)for(var B=ge[k],M=0;M<B.length;++M){var W=B[M]&31;Gs(e,f,Y[W]),f+=Z[W],W>15&&(Gs(e,f,B[M]>>5&127),f+=B[M]>>12)}}else se=jj,de=Ji,V=Aj,oe=$c;for(var M=0;M<o;++M){var X=n[M];if(X>255){var W=X>>18&31;tc(e,f,se[W+257]),f+=de[W+257],W>7&&(Gs(e,f,X>>23&31),f+=Uh[W]);var te=X&31;tc(e,f,V[te]),f+=oe[te],te>3&&(tc(e,f,X>>5&8191),f+=qh[te])}else tc(e,f,se[X]),f+=de[X]}return tc(e,f,se[256]),f+de[256]},Ej=new rg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_w=new en(0),Tj=function(t,e,r,n,s,i){var a=i.z||t.length,o=new en(n+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(n,o.length-s),d=i.l,f=(i.r||0)&7;if(e){f&&(c[0]=i.r>>3);for(var p=Ej[e-1],y=p>>13,g=p&8191,N=(1<<r)-1,S=i.p||new On(32768),j=i.h||new On(N+1),w=Math.ceil(r/3),x=2*w,b=function(Ge){return(t[Ge]^t[Ge+1]<<w^t[Ge+2]<<x)&N},I=new rg(25e3),q=new On(288),$=new On(32),U=0,M=0,ae=i.i||0,Z=0,T=i.w||0,R=0;ae+2<a;++ae){var K=b(ae),F=ae&32767,ce=j[K];if(S[F]=ce,j[K]=F,T<=ae){var se=a-ae;if((U>7e3||Z>24576)&&(se>423||!d)){f=E2(t,c,0,I,q,$,M,Z,R,ae-R,f),Z=U=M=0,R=ae;for(var de=0;de<286;++de)q[de]=0;for(var de=0;de<30;++de)$[de]=0}var V=2,oe=0,Y=g,ge=F-ce&32767;if(se>2&&K==b(ae-ge))for(var k=Math.min(y,se)-1,B=Math.min(32767,ae),W=Math.min(258,se);ge<=B&&--Y&&F!=ce;){if(t[ae+V]==t[ae+V-ge]){for(var X=0;X<W&&t[ae+X]==t[ae+X-ge];++X);if(X>V){if(V=X,oe=ge,X>k)break;for(var te=Math.min(ge,X-2),J=0,de=0;de<te;++de){var Q=ae-ge+de&32767,ie=S[Q],be=Q-ie&32767;be>J&&(J=be,ce=Q)}}}F=ce,ce=S[F],ge+=F-ce&32767}if(oe){I[Z++]=268435456|Bm[V]<<18|P2[oe];var je=Bm[V]&31,Ce=P2[oe]&31;M+=Uh[je]+qh[Ce],++q[257+je],++$[Ce],T=ae+V,++U}else I[Z++]=t[ae],++q[t[ae]]}}for(ae=Math.max(ae,T);ae<a;++ae)I[Z++]=t[ae],++q[t[ae]];f=E2(t,c,d,I,q,$,M,Z,R,ae-R,f),d||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=j,i.p=S,i.i=ae,i.w=T)}else{for(var ae=i.w||0;ae<a+d;ae+=65535){var Ie=ae+65535;Ie>=a&&(c[f/8|0]=d,Ie=a),f=bw(c,f+1,t.subarray(ae,Ie))}i.i=a}return xw(o,0,n+ng(f)+s)},Nw=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ij=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new en(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return Tj(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},Sw=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Rj=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=Nw();s.p(e.dictionary),Sw(t,2,s.d())}},Oj=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&hs(6,"invalid zlib data"),(t[1]>>5&1)==1&&hs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function zm(t,e){e||(e={});var r=Nw();r.p(t);var n=Ij(t,e,e.dictionary?6:2,4);return Rj(n,e),Sw(n,n.length-4,r.d()),n}function Fj(t,e){return Cj(t.subarray(Oj(t),-4),{i:2},e,e)}var Mj=typeof TextDecoder<"u"&&new TextDecoder,Dj=0;try{Mj.decode(_w,{stream:!0}),Dj=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xp(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var $t={log:xp,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):xp.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):xp(t))}};function bp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ya(n.response,e,r)},n.onerror=function(){$t.error("could not download file")},n.send()}function T2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var bc,$m,ya=lt.saveAs||((typeof window>"u"?"undefined":Dt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=lt.URL||lt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?T2(s.href)?bp(t,e,r):hd(s,s.target="_blank"):hd(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){hd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(T2(t))bp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){hd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Dt(i)!=="object"&&($t.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return bp(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(lt.HTMLElement)||lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Dt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(t)}else{var c=lt.URL||lt.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _p(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=Gr(r,n,s,i,e[0],7,-680876936),i=Gr(i,r,n,s,e[1],12,-389564586),s=Gr(s,i,r,n,e[2],17,606105819),n=Gr(n,s,i,r,e[3],22,-1044525330),r=Gr(r,n,s,i,e[4],7,-176418897),i=Gr(i,r,n,s,e[5],12,1200080426),s=Gr(s,i,r,n,e[6],17,-1473231341),n=Gr(n,s,i,r,e[7],22,-45705983),r=Gr(r,n,s,i,e[8],7,1770035416),i=Gr(i,r,n,s,e[9],12,-1958414417),s=Gr(s,i,r,n,e[10],17,-42063),n=Gr(n,s,i,r,e[11],22,-1990404162),r=Gr(r,n,s,i,e[12],7,1804603682),i=Gr(i,r,n,s,e[13],12,-40341101),s=Gr(s,i,r,n,e[14],17,-1502002290),r=Jr(r,n=Gr(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Jr(i,r,n,s,e[6],9,-1069501632),s=Jr(s,i,r,n,e[11],14,643717713),n=Jr(n,s,i,r,e[0],20,-373897302),r=Jr(r,n,s,i,e[5],5,-701558691),i=Jr(i,r,n,s,e[10],9,38016083),s=Jr(s,i,r,n,e[15],14,-660478335),n=Jr(n,s,i,r,e[4],20,-405537848),r=Jr(r,n,s,i,e[9],5,568446438),i=Jr(i,r,n,s,e[14],9,-1019803690),s=Jr(s,i,r,n,e[3],14,-187363961),n=Jr(n,s,i,r,e[8],20,1163531501),r=Jr(r,n,s,i,e[13],5,-1444681467),i=Jr(i,r,n,s,e[2],9,-51403784),s=Jr(s,i,r,n,e[7],14,1735328473),r=Kr(r,n=Jr(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Kr(i,r,n,s,e[8],11,-2022574463),s=Kr(s,i,r,n,e[11],16,1839030562),n=Kr(n,s,i,r,e[14],23,-35309556),r=Kr(r,n,s,i,e[1],4,-1530992060),i=Kr(i,r,n,s,e[4],11,1272893353),s=Kr(s,i,r,n,e[7],16,-155497632),n=Kr(n,s,i,r,e[10],23,-1094730640),r=Kr(r,n,s,i,e[13],4,681279174),i=Kr(i,r,n,s,e[0],11,-358537222),s=Kr(s,i,r,n,e[3],16,-722521979),n=Kr(n,s,i,r,e[6],23,76029189),r=Kr(r,n,s,i,e[9],4,-640364487),i=Kr(i,r,n,s,e[12],11,-421815835),s=Kr(s,i,r,n,e[15],16,530742520),r=Yr(r,n=Kr(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Yr(i,r,n,s,e[7],10,1126891415),s=Yr(s,i,r,n,e[14],15,-1416354905),n=Yr(n,s,i,r,e[5],21,-57434055),r=Yr(r,n,s,i,e[12],6,1700485571),i=Yr(i,r,n,s,e[3],10,-1894986606),s=Yr(s,i,r,n,e[10],15,-1051523),n=Yr(n,s,i,r,e[1],21,-2054922799),r=Yr(r,n,s,i,e[8],6,1873313359),i=Yr(i,r,n,s,e[15],10,-30611744),s=Yr(s,i,r,n,e[6],15,-1560198380),n=Yr(n,s,i,r,e[13],21,1309151649),r=Yr(r,n,s,i,e[4],6,-145523070),i=Yr(i,r,n,s,e[11],10,-1120210379),s=Yr(s,i,r,n,e[2],15,718787259),n=Yr(n,s,i,r,e[9],21,-343485551),t[0]=Oi(r,t[0]),t[1]=Oi(n,t[1]),t[2]=Oi(s,t[2]),t[3]=Oi(i,t[3])}function zh(t,e,r,n,s,i){return e=Oi(Oi(e,t),Oi(n,i)),Oi(e<<s|e>>>32-s,r)}function Gr(t,e,r,n,s,i,a){return zh(e&r|~e&n,t,e,s,i,a)}function Jr(t,e,r,n,s,i,a){return zh(e&n|r&~n,t,e,s,i,a)}function Kr(t,e,r,n,s,i,a){return zh(e^r^n,t,e,s,i,a)}function Yr(t,e,r,n,s,i,a){return zh(r^(e|~n),t,e,s,i,a)}function kw(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)_p(n,Bj(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(_p(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,_p(n,s),n}function Bj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}bc=lt.atob.bind(lt),$m=lt.btoa.bind(lt);var I2="0123456789abcdef".split("");function Uj(t){for(var e="",r=0;r<4;r++)e+=I2[t>>8*r+4&15]+I2[t>>8*r&15];return e}function qj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Wm(t){return kw(t).map(qj).join("")}var zj=function(t){for(var e=0;e<t.length;e++)t[e]=Uj(t[e]);return t.join("")}(kw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Oi(t,e){if(zj){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Hm(t,e){var r,n,s,i;if(t!==r){for(var a=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var f=o[c];d=(d+f+a.charCodeAt(c))%256,o[c]=o[d],o[d]=f}r=t,n=o}else o=n;var p=e.length,y=0,g=0,N="";for(c=0;c<p;c++)g=(g+(f=o[y=(y+1)%256]))%256,o[y]=o[g],o[g]=f,a=o[(o[y]+o[g])%256],N+=String.fromCharCode(e.charCodeAt(c)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var R2={print:4,modify:8,copy:16,"annot-forms":32};function So(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(R2.perm!==void 0)throw new Error("Invalid permission: "+o);s+=R2[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Wm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Hm(this.encryptionKey,this.padding)}function jo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[n]}return e}function O2(t){if(Dt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var a=e[r][i];try{a[0].apply(t,n)}catch(o){lt.console&&$t.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function uh(t){if(!(this instanceof uh))return new uh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Aw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function xa(t,e,r,n,s){if(!(this instanceof xa))return new xa(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Aw.call(this,n,s)}function Do(t,e,r,n,s){if(!(this instanceof Do))return new Do(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Aw.call(this,n,s)}function at(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,d="S",f=null;Dt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=O2;var N="1.3",S=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(m){N=m};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return j};var w=g.__private__.getPageFormat=function(m){return j[m]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},b=x.COMPAT;function I(){this.saveGraphicsState(),G(new tt(Ue,0,0,-Ue,0,ui()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),d="n",b=x.ADVANCED}function q(){this.restoreGraphicsState(),d="S",b=x.COMPAT}var $=g.__private__.combineFontStyleAndFontWeight=function(m,L){if(m=="bold"&&L=="normal"||m=="bold"&&L==400||m=="normal"&&L=="italic"||m=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(m=L==400||L==="normal"?m==="italic"?"italic":"normal":L!=700&&L!=="bold"||m!=="normal"?(L==700?"bold":L)+""+m:"bold"),m};g.advancedAPI=function(m){var L=b===x.COMPAT;return L&&I.call(this),typeof m!="function"||(m(this),L&&q.call(this)),this},g.compatAPI=function(m){var L=b===x.ADVANCED;return L&&q.call(this),typeof m!="function"||(m(this),L&&I.call(this)),this},g.isAdvancedAPI=function(){return b===x.ADVANCED};var U,M=function(m){if(b!==x.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ae=g.roundToPrecision=g.__private__.roundToPrecision=function(m,L){var H=e||L;if(isNaN(m)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(H).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof c=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(m,c)}:c==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ae(m,16)};var Z=g.f2=g.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return ae(m,2)},T=g.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return ae(m,3)},R=g.scale=g.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return b===x.COMPAT?m*Ue:b===x.ADVANCED?m:void 0},K=function(m){return b===x.COMPAT?ui()-m:b===x.ADVANCED?m:void 0},F=function(m){return R(K(m))};g.__private__.setPrecision=g.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var ce,se="00000000000000000000000000000000",de=g.__private__.getFileId=function(){return se},V=g.__private__.setFileId=function(m){return se=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&($r=new So(f.userPermissions,f.userPassword,f.ownerPassword,se)),se};g.setFileId=function(m){return V(m),this},g.getFileId=function(){return de()};var oe=g.__private__.convertDateToPDFDate=function(m){var L=m.getTimezoneOffset(),H=L<0?"+":"-",ee=Math.floor(Math.abs(L/60)),he=Math.abs(L%60),_e=[H,W(ee),"'",W(he),"'"].join("");return["D:",m.getFullYear(),W(m.getMonth()+1),W(m.getDate()),W(m.getHours()),W(m.getMinutes()),W(m.getSeconds()),_e].join("")},Y=g.__private__.convertPDFDateToDate=function(m){var L=parseInt(m.substr(2,4),10),H=parseInt(m.substr(6,2),10)-1,ee=parseInt(m.substr(8,2),10),he=parseInt(m.substr(10,2),10),_e=parseInt(m.substr(12,2),10),Ee=parseInt(m.substr(14,2),10);return new Date(L,H,ee,he,_e,Ee,0)},ge=g.__private__.setCreationDate=function(m){var L;if(m===void 0&&(m=new Date),m instanceof Date)L=oe(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=m}return ce=L},k=g.__private__.getCreationDate=function(m){var L=ce;return m==="jsDate"&&(L=Y(ce)),L};g.setCreationDate=function(m){return ge(m),this},g.getCreationDate=function(m){return k(m)};var B,W=g.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},X=g.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},te=0,J=[],Q=[],ie=0,be=[],je=[],Ce=!1,Ie=Q,Ge=function(){te=0,ie=0,Q=[],J=[],be=[],or=qt(),er=qt()};g.__private__.setCustomOutputDestination=function(m){Ce=!0,Ie=m};var ye=function(m){Ce||(Ie=m)};g.__private__.resetCustomOutputDestination=function(){Ce=!1,Ie=Q};var G=g.__private__.out=function(m){return m=m.toString(),ie+=m.length+1,Ie.push(m),Ie},Qe=g.__private__.write=function(m){return G(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Fe=g.__private__.getArrayBuffer=function(m){for(var L=m.length,H=new ArrayBuffer(L),ee=new Uint8Array(H);L--;)ee[L]=m.charCodeAt(L);return H},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ne};var Te=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(m){return Te=b===x.ADVANCED?m/Ue:m,this};var Me,De=g.__private__.getFontSize=g.getFontSize=function(){return b===x.COMPAT?Te:Te*Ue},Ze=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(m){return Ze=m,this},g.__private__.getR2L=g.getR2L=function(){return Ze};var it,ct=g.__private__.setZoomMode=function(m){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Me=m;else if(isNaN(m)){if(L.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Me=m}else Me=parseInt(m,10)};g.__private__.getZoomMode=function(){return Me};var vt,pt=g.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');it=m};g.__private__.getPageMode=function(){return it};var At=g.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');vt=m};g.__private__.getLayoutMode=function(){return vt},g.__private__.setDisplayMode=g.setDisplayMode=function(m,L,H){return ct(m),At(L),pt(H),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(m){if(Object.keys(nt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[m]},g.__private__.getDocumentProperties=function(){return nt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(m){for(var L in nt)nt.hasOwnProperty(L)&&m[L]&&(nt[L]=m[L]);return this},g.__private__.setDocumentProperty=function(m,L){if(Object.keys(nt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[m]=L};var yt,Ue,ve,Se,Ve,$e={},me={},mt=[],ot={},ar={},dt={},Oe={},Ke=null,Xe=0,qe=[],rt=new O2(g),Wt=t.hotfixes||[],Lt={},jr={},rn=[],tt=function m(L,H,ee,he,_e,Ee){if(!(this instanceof m))return new m(L,H,ee,he,_e,Ee);isNaN(L)&&(L=1),isNaN(H)&&(H=0),isNaN(ee)&&(ee=0),isNaN(he)&&(he=1),isNaN(_e)&&(_e=0),isNaN(Ee)&&(Ee=0),this._matrix=[L,H,ee,he,_e,Ee]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(m)},tt.prototype.multiply=function(m){var L=m.sx*this.sx+m.shy*this.shx,H=m.sx*this.shy+m.shy*this.sy,ee=m.shx*this.sx+m.sy*this.shx,he=m.shx*this.shy+m.sy*this.sy,_e=m.tx*this.sx+m.ty*this.shx+this.tx,Ee=m.tx*this.shy+m.ty*this.sy+this.ty;return new tt(L,H,ee,he,_e,Ee)},tt.prototype.decompose=function(){var m=this.sx,L=this.shy,H=this.shx,ee=this.sy,he=this.tx,_e=this.ty,Ee=Math.sqrt(m*m+L*L),We=(m/=Ee)*H+(L/=Ee)*ee;H-=m*We,ee-=L*We;var et=Math.sqrt(H*H+ee*ee);return We/=et,m*(ee/=et)<L*(H/=et)&&(m=-m,L=-L,We=-We,Ee=-Ee),{scale:new tt(Ee,0,0,et,0,0),translate:new tt(1,0,0,1,he,_e),rotate:new tt(m,L,-L,m,0,0),skew:new tt(1,0,We,1,0,0)}},tt.prototype.toString=function(m){return this.join(" ")},tt.prototype.inversed=function(){var m=this.sx,L=this.shy,H=this.shx,ee=this.sy,he=this.tx,_e=this.ty,Ee=1/(m*ee-L*H),We=ee*Ee,et=-L*Ee,gt=-H*Ee,ht=m*Ee;return new tt(We,et,gt,ht,-We*he-gt*_e,-et*he-ht*_e)},tt.prototype.applyToPoint=function(m){var L=m.x*this.sx+m.y*this.shx+this.tx,H=m.x*this.shy+m.y*this.sy+this.ty;return new Xa(L,H)},tt.prototype.applyToRectangle=function(m){var L=this.applyToPoint(m),H=this.applyToPoint(new Xa(m.x+m.w,m.y+m.h));return new Sl(L.x,L.y,H.x-L.x,H.y-L.y)},tt.prototype.clone=function(){var m=this.sx,L=this.shy,H=this.shx,ee=this.sy,he=this.tx,_e=this.ty;return new tt(m,L,H,ee,he,_e)},g.Matrix=tt;var jt=g.matrixMult=function(m,L){return L.multiply(m)},Pt=new tt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Pt;var Ht=function(m,L){if(!ar[m]){var H=(L instanceof xa?"Sh":"P")+(Object.keys(ot).length+1).toString(10);L.id=H,ar[m]=H,ot[H]=L,rt.publish("addPattern",L)}};g.ShadingPattern=xa,g.TilingPattern=Do,g.addShadingPattern=function(m,L){return M("addShadingPattern()"),Ht(m,L),this},g.beginTilingPattern=function(m){M("beginTilingPattern()"),wu(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},g.endTilingPattern=function(m,L){M("endTilingPattern()"),L.stream=je[B].join(`
`),Ht(m,L),rt.publish("endTilingPattern",L),rn.pop().restore()};var Rt=g.__private__.newObject=function(){var m=qt();return Zt(m,!0),m},qt=g.__private__.newObjectDeferred=function(){return te++,J[te]=function(){return ie},te},Zt=function(m,L){return L=typeof L=="boolean"&&L,J[m]=ie,L&&G(m+" 0 obj"),m},An=g.__private__.newAdditionalObject=function(){var m={objId:qt(),content:""};return be.push(m),m},or=qt(),er=qt(),nn=g.__private__.decodeColorString=function(m){var L=m.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var H=parseFloat(L[0]);L=[H,H,H,"r"]}for(var ee="#",he=0;he<3;he++)ee+=("0"+Math.floor(255*parseFloat(L[he])).toString(16)).slice(-2);return ee},Ln=g.__private__.encodeColorString=function(m){var L;typeof m=="string"&&(m={ch1:m});var H=m.ch1,ee=m.ch2,he=m.ch3,_e=m.ch4,Ee=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var We=new jw(H);if(We.ok)H=We.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var et=parseInt(H.substr(1),16);H=et>>16&255,ee=et>>8&255,he=255&et}if(ee===void 0||_e===void 0&&H===ee&&ee===he)if(typeof H=="string")L=H+" "+Ee[0];else switch(m.precision){case 2:L=Z(H/255)+" "+Ee[0];break;case 3:default:L=T(H/255)+" "+Ee[0]}else if(_e===void 0||Dt(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return L=["1.","1.","1.",Ee[1]].join(" ");if(typeof H=="string")L=[H,ee,he,Ee[1]].join(" ");else switch(m.precision){case 2:L=[Z(H/255),Z(ee/255),Z(he/255),Ee[1]].join(" ");break;default:case 3:L=[T(H/255),T(ee/255),T(he/255),Ee[1]].join(" ")}}else if(typeof H=="string")L=[H,ee,he,_e,Ee[2]].join(" ");else switch(m.precision){case 2:L=[Z(H),Z(ee),Z(he),Z(_e),Ee[2]].join(" ");break;case 3:default:L=[T(H),T(ee),T(he),T(_e),Ee[2]].join(" ")}return L},qn=g.__private__.getFilters=function(){return a},Er=g.__private__.putStream=function(m){var L=(m=m||{}).data||"",H=m.filters||qn(),ee=m.alreadyAppliedFilters||[],he=m.addLength1||!1,_e=L.length,Ee=m.objectId,We=function(Wr){return Wr};if(f!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(We=$r.encryptor(Ee,0));var et={};H===!0&&(H=["FlateEncode"]);var gt=m.additionalKeyValues||[],ht=(et=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(L,H):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(et.data.length!==0&&(gt.push({key:"Length",value:et.data.length}),he===!0&&gt.push({key:"Length1",value:_e})),ht.length!=0)if(ht.split("/").length-1==1)gt.push({key:"Filter",value:ht});else{gt.push({key:"Filter",value:"["+ht+"]"});for(var kt=0;kt<gt.length;kt+=1)if(gt[kt].key==="DecodeParms"){for(var rr=[],lr=0;lr<et.reverseChain.split("/").length-1;lr+=1)rr.push("null");rr.push(gt[kt].value),gt[kt].value="["+rr.join(" ")+"]"}}G("<<");for(var br=0;br<gt.length;br++)G("/"+gt[br].key+" "+gt[br].value);G(">>"),et.data.length!==0&&(G("stream"),G(We(et.data)),G("endstream"))},_s=g.__private__.putPage=function(m){var L=m.number,H=m.data,ee=m.objId,he=m.contentsObjId;Zt(ee,!0),G("<</Type /Page"),G("/Parent "+m.rootDictionaryObjId+" 0 R"),G("/Resources "+m.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(U(m.mediaBox.bottomLeftX))+" "+parseFloat(U(m.mediaBox.bottomLeftY))+" "+U(m.mediaBox.topRightX)+" "+U(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&G("/CropBox ["+U(m.cropBox.bottomLeftX)+" "+U(m.cropBox.bottomLeftY)+" "+U(m.cropBox.topRightX)+" "+U(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&G("/BleedBox ["+U(m.bleedBox.bottomLeftX)+" "+U(m.bleedBox.bottomLeftY)+" "+U(m.bleedBox.topRightX)+" "+U(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&G("/TrimBox ["+U(m.trimBox.bottomLeftX)+" "+U(m.trimBox.bottomLeftY)+" "+U(m.trimBox.topRightX)+" "+U(m.trimBox.topRightY)+"]"),m.artBox!==null&&G("/ArtBox ["+U(m.artBox.bottomLeftX)+" "+U(m.artBox.bottomLeftY)+" "+U(m.artBox.topRightX)+" "+U(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&G("/UserUnit "+m.userUnit),rt.publish("putPage",{objId:ee,pageContext:qe[L],pageNumber:L,page:H}),G("/Contents "+he+" 0 R"),G(">>"),G("endobj");var _e=H.join(`
`);return b===x.ADVANCED&&(_e+=`
Q`),Zt(he,!0),Er({data:_e,filters:qn(),objectId:he}),G("endobj"),ee},ra=g.__private__.putPages=function(){var m,L,H=[];for(m=1;m<=Xe;m++)qe[m].objId=qt(),qe[m].contentsObjId=qt();for(m=1;m<=Xe;m++)H.push(_s({number:m,data:je[m],objId:qe[m].objId,contentsObjId:qe[m].contentsObjId,mediaBox:qe[m].mediaBox,cropBox:qe[m].cropBox,bleedBox:qe[m].bleedBox,trimBox:qe[m].trimBox,artBox:qe[m].artBox,userUnit:qe[m].userUnit,rootDictionaryObjId:or,resourceDictionaryObjId:er}));Zt(or,!0),G("<</Type /Pages");var ee="/Kids [";for(L=0;L<Xe;L++)ee+=H[L]+" 0 R ";G(ee+"]"),G("/Count "+Xe),G(">>"),G("endobj"),rt.publish("postPutPages")},Ba=function(m){rt.publish("putFont",{font:m,out:G,newObject:Rt,putStream:Er}),m.isAlreadyPutted!==!0&&(m.objectNumber=Rt(),G("<<"),G("/Type /Font"),G("/BaseFont /"+jo(m.postScriptName)),G("/Subtype /Type1"),typeof m.encoding=="string"&&G("/Encoding /"+m.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Ua=function(){for(var m in $e)$e.hasOwnProperty(m)&&(p===!1||p===!0&&y.hasOwnProperty(m))&&Ba($e[m])},qa=function(m){m.objectNumber=Rt();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[U(m.x),U(m.y),U(m.x+m.width),U(m.y+m.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var H=m.pages[1].join(`
`);Er({data:H,additionalKeyValues:L,objectId:m.objectNumber}),G("endobj")},za=function(){for(var m in Lt)Lt.hasOwnProperty(m)&&qa(Lt[m])},tu=function(m,L){var H,ee=[],he=1/(L-1);for(H=0;H<1;H+=he)ee.push(H);if(ee.push(1),m[0].offset!=0){var _e={offset:0,color:m[0].color};m.unshift(_e)}if(m[m.length-1].offset!=1){var Ee={offset:1,color:m[m.length-1].color};m.push(Ee)}for(var We="",et=0,gt=0;gt<ee.length;gt++){for(H=ee[gt];H>m[et+1].offset;)et++;var ht=m[et].offset,kt=(H-ht)/(m[et+1].offset-ht),rr=m[et].color,lr=m[et+1].color;We+=X(Math.round((1-kt)*rr[0]+kt*lr[0]).toString(16))+X(Math.round((1-kt)*rr[1]+kt*lr[1]).toString(16))+X(Math.round((1-kt)*rr[2]+kt*lr[2]).toString(16))}return We.trim()},$h=function(m,L){L||(L=21);var H=Rt(),ee=tu(m.colors,L),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+L+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Er({data:ee,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),G("endobj"),m.objectNumber=Rt(),G("<< /ShadingType "+m.type),G("/ColorSpace /DeviceRGB");var _e="/Coords ["+U(parseFloat(m.coords[0]))+" "+U(parseFloat(m.coords[1]))+" ";m.type===2?_e+=U(parseFloat(m.coords[2]))+" "+U(parseFloat(m.coords[3])):_e+=U(parseFloat(m.coords[2]))+" "+U(parseFloat(m.coords[3]))+" "+U(parseFloat(m.coords[4]))+" "+U(parseFloat(m.coords[5])),G(_e+="]"),m.matrix&&G("/Matrix ["+m.matrix.toString()+"]"),G("/Function "+H+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Wh=function(m,L){var H=qt(),ee=Rt();L.push({resourcesOid:H,objectOid:ee}),m.objectNumber=ee;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+m.boundingBox.map(U).join(" ")+"]"}),he.push({key:"XStep",value:U(m.xStep)}),he.push({key:"YStep",value:U(m.yStep)}),he.push({key:"Resources",value:H+" 0 R"}),m.matrix&&he.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Er({data:m.stream,additionalKeyValues:he,objectId:m.objectNumber}),G("endobj")},$a=function(m){var L;for(L in ot)ot.hasOwnProperty(L)&&(ot[L]instanceof xa?$h(ot[L]):ot[L]instanceof Do&&Wh(ot[L],m))},ru=function(m){for(var L in m.objectNumber=Rt(),G("<<"),m)switch(L){case"opacity":G("/ca "+Z(m[L]));break;case"stroke-opacity":G("/CA "+Z(m[L]))}G(">>"),G("endobj")},Hh=function(){var m;for(m in dt)dt.hasOwnProperty(m)&&ru(dt[m])},pl=function(){for(var m in G("/XObject <<"),Lt)Lt.hasOwnProperty(m)&&Lt[m].objectNumber>=0&&G("/"+m+" "+Lt[m].objectNumber+" 0 R");rt.publish("putXobjectDict"),G(">>")},Vh=function(){$r.oid=Rt(),G("<<"),G("/Filter /Standard"),G("/V "+$r.v),G("/R "+$r.r),G("/U <"+$r.toHexString($r.U)+">"),G("/O <"+$r.toHexString($r.O)+">"),G("/P "+$r.P),G(">>"),G("endobj")},nu=function(){for(var m in G("/Font <<"),$e)$e.hasOwnProperty(m)&&(p===!1||p===!0&&y.hasOwnProperty(m))&&G("/"+m+" "+$e[m].objectNumber+" 0 R");G(">>")},Gh=function(){if(Object.keys(ot).length>0){for(var m in G("/Shading <<"),ot)ot.hasOwnProperty(m)&&ot[m]instanceof xa&&ot[m].objectNumber>=0&&G("/"+m+" "+ot[m].objectNumber+" 0 R");rt.publish("putShadingPatternDict"),G(">>")}},Wa=function(m){if(Object.keys(ot).length>0){for(var L in G("/Pattern <<"),ot)ot.hasOwnProperty(L)&&ot[L]instanceof g.TilingPattern&&ot[L].objectNumber>=0&&ot[L].objectNumber<m&&G("/"+L+" "+ot[L].objectNumber+" 0 R");rt.publish("putTilingPatternDict"),G(">>")}},Jh=function(){if(Object.keys(dt).length>0){var m;for(m in G("/ExtGState <<"),dt)dt.hasOwnProperty(m)&&dt[m].objectNumber>=0&&G("/"+m+" "+dt[m].objectNumber+" 0 R");rt.publish("putGStateDict"),G(">>")}},hr=function(m){Zt(m.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),nu(),Gh(),Wa(m.objectOid),Jh(),pl(),G(">>"),G("endobj")},su=function(){var m=[];Ua(),Hh(),za(),$a(m),rt.publish("putResources"),m.forEach(hr),hr({resourcesOid:er,objectOid:Number.MAX_SAFE_INTEGER}),rt.publish("postPutResources")},iu=function(){rt.publish("putAdditionalObjects");for(var m=0;m<be.length;m++){var L=be[m];Zt(L.objId,!0),G(L.content),G("endobj")}rt.publish("postPutAdditionalObjects")},au=function(m){me[m.fontName]=me[m.fontName]||{},me[m.fontName][m.fontStyle]=m.id},ml=function(m,L,H,ee,he){var _e={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:m,fontName:L,fontStyle:H,encoding:ee,isStandardFont:he||!1,metadata:{}};return rt.publish("addFont",{font:_e,instance:this}),$e[_e.id]=_e,au(_e),_e.id},Kh=function(m){for(var L=0,H=Ne.length;L<H;L++){var ee=ml.call(this,m[L][0],m[L][1],m[L][2],Ne[L][3],!0);p===!1&&(y[ee]=!0);var he=m[L][0].split("-");au({id:ee,fontName:he[0],fontStyle:he[1]||""})}rt.publish("addFonts",{fonts:$e,dictionary:me})},rs=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(ee){var L=ee.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var H="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ee.message;if(!lt.console)throw new Error(H);lt.console.error(H,ee),lt.alert&&alert(H)}},m.foo.bar=m,m.foo},Ha=function(m,L){var H,ee,he,_e,Ee,We,et,gt,ht;if(he=(L=L||{}).sourceEncoding||"Unicode",Ee=L.outputEncoding,(L.autoencode||Ee)&&$e[yt].metadata&&$e[yt].metadata[he]&&$e[yt].metadata[he].encoding&&(_e=$e[yt].metadata[he].encoding,!Ee&&$e[yt].encoding&&(Ee=$e[yt].encoding),!Ee&&_e.codePages&&(Ee=_e.codePages[0]),typeof Ee=="string"&&(Ee=_e[Ee]),Ee)){for(et=!1,We=[],H=0,ee=m.length;H<ee;H++)(gt=Ee[m.charCodeAt(H)])?We.push(String.fromCharCode(gt)):We.push(m[H]),We[H].charCodeAt(0)>>8&&(et=!0);m=We.join("")}for(H=m.length;et===void 0&&H!==0;)m.charCodeAt(H-1)>>8&&(et=!0),H--;if(!et)return m;for(We=L.noBOM?[]:[254,255],H=0,ee=m.length;H<ee;H++){if((ht=(gt=m.charCodeAt(H))>>8)>>8)throw new Error("Character at position "+H+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(ht),We.push(gt-(ht<<8))}return String.fromCharCode.apply(void 0,We)},fn=g.__private__.pdfEscape=g.pdfEscape=function(m,L){return Ha(m,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gl=g.__private__.beginPage=function(m){je[++Xe]=[],qe[Xe]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},lu(Xe),ye(je[B])},ou=function(m,L){var H,ee,he;switch(r=L||r,typeof m=="string"&&(H=w(m.toLowerCase()),Array.isArray(H)&&(ee=H[0],he=H[1])),Array.isArray(m)&&(ee=m[0]*Ue,he=m[1]*Ue),isNaN(ee)&&(ee=s[0],he=s[1]),(ee>14400||he>14400)&&($t.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),he=Math.min(14400,he)),s=[ee,he],r.substr(0,1)){case"l":he>ee&&(s=[he,ee]);break;case"p":ee>he&&(s=[he,ee])}gl(s),pu(xl),G(ns),_l!==0&&G(_l+" J"),Nl!==0&&G(Nl+" j"),rt.publish("addPage",{pageNumber:Xe})},Yh=function(m){m>0&&m<=Xe&&(je.splice(m,1),qe.splice(m,1),Xe--,B>Xe&&(B=Xe),this.setPage(B))},lu=function(m){m>0&&m<=Xe&&(B=m)},Xh=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return je.length-1},cu=function(m,L,H){var ee,he=void 0;return H=H||{},m=m!==void 0?m:$e[yt].fontName,L=L!==void 0?L:$e[yt].fontStyle,ee=m.toLowerCase(),me[ee]!==void 0&&me[ee][L]!==void 0?he=me[ee][L]:me[m]!==void 0&&me[m][L]!==void 0?he=me[m][L]:H.disableWarning===!1&&$t.warn("Unable to look up font label for font '"+m+"', '"+L+"'. Refer to getFontList() for available fonts."),he||H.noFallback||(he=me.times[L])==null&&(he=me.times.normal),he},Qh=g.__private__.putInfo=function(){var m=Rt(),L=function(ee){return ee};for(var H in f!==null&&(L=$r.encryptor(m,0)),G("<<"),G("/Producer ("+fn(L("jsPDF "+at.version))+")"),nt)nt.hasOwnProperty(H)&&nt[H]&&G("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+fn(L(nt[H]))+")");G("/CreationDate ("+fn(L(ce))+")"),G(">>"),G("endobj")},vl=g.__private__.putCatalog=function(m){var L=(m=m||{}).rootDictionaryObjId||or;switch(Rt(),G("<<"),G("/Type /Catalog"),G("/Pages "+L+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+Me;H.substr(H.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&G("/OpenAction [3 0 R /XYZ null null "+Z(Me)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}it&&G("/PageMode /"+it),rt.publish("putCatalog"),G(">>"),G("endobj")},Zh=g.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(te+1)),G("/Root "+te+" 0 R"),G("/Info "+(te-1)+" 0 R"),f!==null&&G("/Encrypt "+$r.oid+" 0 R"),G("/ID [ <"+se+"> <"+se+"> ]"),G(">>")},ef=g.__private__.putHeader=function(){G("%PDF-"+N),G("%")},tf=g.__private__.putXRef=function(){var m="0000000000";G("xref"),G("0 "+(te+1)),G("0000000000 65535 f ");for(var L=1;L<=te;L++)typeof J[L]=="function"?G((m+J[L]()).slice(-10)+" 00000 n "):J[L]!==void 0?G((m+J[L]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Ds=g.__private__.buildDocument=function(){Ge(),ye(Q),rt.publish("buildDocument"),ef(),ra(),iu(),su(),f!==null&&Vh(),Qh(),vl();var m=ie;return tf(),Zh(),G("startxref"),G(""+m),G("%%EOF"),ye(je[B]),Q.join(`
`)},Va=g.__private__.getBlob=function(m){return new Blob([Fe(m)],{type:"application/pdf"})},Ga=g.output=g.__private__.output=rs(function(m,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",m){case void 0:return Ds();case"save":g.save(L.filename);break;case"arraybuffer":return Fe(Ds());case"blob":return Va(Ds());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Va(Ds()))||void 0;$t.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",ee=Ds();try{H=$m(ee)}catch{H=$m(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+L.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(he=L.pdfObjectUrl,_e="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",We=lt.open();return We!==null&&We.document.write(Ee),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',gt=lt.open();if(gt!==null){gt.document.write(et);var ht=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=L.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ht.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',rr=lt.open();if(rr!==null&&(rr.document.write(kt),rr.document.title=L.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",L);default:return null}}),uu=function(m){return Array.isArray(Wt)===!0&&Wt.indexOf(m)>-1};switch(n){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=uu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ue=n}var $r=null;ge(),V();var rf=function(m){return f!==null?$r.encryptor(m,0):function(L){return L}},du=g.__private__.getPageInfo=g.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qe[m].objId,pageNumber:m,pageContext:qe[m]}},ut=g.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in qe)if(qe[L].objId===m)break;return du(L)},nf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:qe[B].objId,pageNumber:B,pageContext:qe[B]}};g.addPage=function(){return ou.apply(this,arguments),this},g.setPage=function(){return lu.apply(this,arguments),ye.call(this,je[B]),this},g.insertPage=function(m){return this.addPage(),this.movePage(B,m),this},g.movePage=function(m,L){var H,ee;if(m>L){H=je[m],ee=qe[m];for(var he=m;he>L;he--)je[he]=je[he-1],qe[he]=qe[he-1];je[L]=H,qe[L]=ee,this.setPage(L)}else if(m<L){H=je[m],ee=qe[m];for(var _e=m;_e<L;_e++)je[_e]=je[_e+1],qe[_e]=qe[_e+1];je[L]=H,qe[L]=ee,this.setPage(L)}return this},g.deletePage=function(){return Yh.apply(this,arguments),this},g.__private__.text=g.text=function(m,L,H,ee,he){var _e,Ee,We,et,gt,ht,kt,rr,lr,br=(ee=ee||{}).scope||this;if(typeof m=="number"&&typeof L=="number"&&(typeof H=="string"||Array.isArray(H))){var Wr=H;H=L,L=m,m=Wr}if(arguments[3]instanceof tt?(M("The transform parameter of text() with a Matrix value"),lr=he):(We=arguments[4],et=arguments[5],Dt(kt=arguments[3])==="object"&&kt!==null||(typeof We=="string"&&(et=We,We=null),typeof kt=="string"&&(et=kt,kt=null),typeof kt=="number"&&(We=kt,kt=null),ee={flags:kt,angle:We,align:et})),isNaN(L)||isNaN(H)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return br;var Tr="",ss=!1,Pn=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:sa,js=br.internal.scaleFactor;function xu(Vt){return Vt=Vt.split("	").join(Array(ee.TabLen||9).join(" ")),fn(Vt,kt)}function Ll(Vt){for(var Gt,pr=Vt.concat(),kr=[],$s=pr.length;$s--;)typeof(Gt=pr.shift())=="string"?kr.push(Gt):Array.isArray(Vt)&&(Gt.length===1||Gt[1]===void 0&&Gt[2]===void 0)?kr.push(Gt[0]):kr.push([Gt[0],Gt[1],Gt[2]]);return kr}function Pl(Vt,Gt){var pr;if(typeof Vt=="string")pr=Gt(Vt)[0];else if(Array.isArray(Vt)){for(var kr,$s,Ml=Vt.concat(),lo=[],ju=Ml.length;ju--;)typeof(kr=Ml.shift())=="string"?lo.push(Gt(kr)[0]):Array.isArray(kr)&&typeof kr[0]=="string"&&($s=Gt(kr[0],kr[1],kr[2]),lo.push([$s[0],$s[1],$s[2]]));pr=lo}return pr}var Za=!1,Cl=!0;if(typeof m=="string")Za=!0;else if(Array.isArray(m)){var El=m.concat();Ee=[];for(var eo,Dr=El.length;Dr--;)(typeof(eo=El.shift())!="string"||Array.isArray(eo)&&typeof eo[0]!="string")&&(Cl=!1);Za=Cl}if(Za===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var to=Te/br.internal.scaleFactor,ro=to*(Pn-1);switch(ee.baseline){case"bottom":H-=ro;break;case"top":H+=to-ro;break;case"hanging":H+=to-2*ro;break;case"middle":H+=to/2-ro}if((ht=ee.maxWidth||0)>0&&(typeof m=="string"?m=br.splitTextToSize(m,ht):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Vt,Gt){return Vt.concat(br.splitTextToSize(Gt,ht))},[]))),_e={text:m,x:L,y:H,options:ee,mutex:{pdfEscape:fn,activeFontKey:yt,fonts:$e,activeFontSize:Te}},rt.publish("preProcessText",_e),m=_e.text,We=(ee=_e.options).angle,!(lr instanceof tt)&&We&&typeof We=="number"){We*=Math.PI/180,ee.rotationDirection===0&&(We=-We),b===x.ADVANCED&&(We=-We);var no=Math.cos(We),Tl=Math.sin(We);lr=new tt(no,Tl,-Tl,no,0,0)}else We&&We instanceof tt&&(lr=We);b!==x.ADVANCED||lr||(lr=Pt),(gt=ee.charSpace||Ya)!==void 0&&(Tr+=U(R(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=ee.horizontalScale)!==void 0&&(Tr+=U(100*rr)+` Tz
`),ee.lang;var pn=-1,pf=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,Il=br.internal.getCurrentPageInfo().pageContext;switch(pf){case 0:case!1:case"fill":pn=0;break;case 1:case!0:case"stroke":pn=1;break;case 2:case"fillThenStroke":pn=2;break;case 3:case"invisible":pn=3;break;case 4:case"fillAndAddForClipping":pn=4;break;case 5:case"strokeAndAddPathForClipping":pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pn=6;break;case 7:case"addToPathForClipping":pn=7}var bu=Il.usedRenderingMode!==void 0?Il.usedRenderingMode:-1;pn!==-1?Tr+=pn+` Tr
`:bu!==-1&&(Tr+=`0 Tr
`),pn!==-1&&(Il.usedRenderingMode=pn),et=ee.align||"left";var zn,so=Te*Pn,_u=br.internal.pageSize.getWidth(),Nu=$e[yt];gt=ee.charSpace||Ya,ht=ee.maxWidth||0,kt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var di=[],oa=function(Vt){return br.getStringUnitWidth(Vt,{font:Nu,charSpace:gt,fontSize:Te,doKerning:!1})*Te/js};if(Object.prototype.toString.call(m)==="[object Array]"){var mn;Ee=Ll(m),et!=="left"&&(zn=Ee.map(oa));var sn,hi=0;if(et==="right"){L-=zn[0],m=[],Dr=Ee.length;for(var Us=0;Us<Dr;Us++)Us===0?(sn=Ss(L),mn=Bs(H)):(sn=R(hi-zn[Us]),mn=-so),m.push([Ee[Us],sn,mn]),hi=zn[Us]}else if(et==="center"){L-=zn[0]/2,m=[],Dr=Ee.length;for(var qs=0;qs<Dr;qs++)qs===0?(sn=Ss(L),mn=Bs(H)):(sn=R((hi-zn[qs])/2),mn=-so),m.push([Ee[qs],sn,mn]),hi=zn[qs]}else if(et==="left"){m=[],Dr=Ee.length;for(var io=0;io<Dr;io++)m.push(Ee[io])}else if(et==="justify"&&Nu.encoding==="Identity-H"){m=[],Dr=Ee.length,ht=ht!==0?ht:_u;for(var zs=0,fr=0;fr<Dr;fr++)if(mn=fr===0?Bs(H):-so,sn=fr===0?Ss(L):zs,fr<Dr-1){var Rl=R((ht-zn[fr])/(Ee[fr].split(" ").length-1)),an=Ee[fr].split(" ");m.push([an[0]+" ",sn,mn]),zs=0;for(var $n=1;$n<an.length;$n++){var ao=(oa(an[$n-1]+" "+an[$n])-oa(an[$n]))*js+Rl;$n==an.length-1?m.push([an[$n],ao,0]):m.push([an[$n]+" ",ao,0]),zs-=ao}}else m.push([Ee[fr],sn,mn]);m.push(["",zs,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Dr=Ee.length,ht=ht!==0?ht:_u,fr=0;fr<Dr;fr++)mn=fr===0?Bs(H):-so,sn=fr===0?Ss(L):0,fr<Dr-1?di.push(U(R((ht-zn[fr])/(Ee[fr].split(" ").length-1)))):di.push(0),m.push([Ee[fr],sn,mn])}}var Su=typeof ee.R2L=="boolean"?ee.R2L:Ze;Su===!0&&(m=Pl(m,function(Vt,Gt,pr){return[Vt.split("").reverse().join(""),Gt,pr]})),_e={text:m,x:L,y:H,options:ee,mutex:{pdfEscape:fn,activeFontKey:yt,fonts:$e,activeFontSize:Te}},rt.publish("postProcessText",_e),m=_e.text,ss=_e.mutex.isHex||!1;var Ol=$e[yt].encoding;Ol!=="WinAnsiEncoding"&&Ol!=="StandardEncoding"||(m=Pl(m,function(Vt,Gt,pr){return[xu(Vt),Gt,pr]})),Ee=Ll(m),m=[];for(var la,ca,fi,ua=0,oo=1,da=Array.isArray(Ee[0])?oo:ua,pi="",Fl=function(Vt,Gt,pr){var kr="";return pr instanceof tt?(pr=typeof ee.angle=="number"?jt(pr,new tt(1,0,0,1,Vt,Gt)):jt(new tt(1,0,0,1,Vt,Gt),pr),b===x.ADVANCED&&(pr=jt(new tt(1,0,0,-1,0,0),pr)),kr=pr.join(" ")+` Tm
`):kr=U(Vt)+" "+U(Gt)+` Td
`,kr},Wn=0;Wn<Ee.length;Wn++){switch(pi="",da){case oo:fi=(ss?"<":"(")+Ee[Wn][0]+(ss?">":")"),la=parseFloat(Ee[Wn][1]),ca=parseFloat(Ee[Wn][2]);break;case ua:fi=(ss?"<":"(")+Ee[Wn]+(ss?">":")"),la=Ss(L),ca=Bs(H)}di!==void 0&&di[Wn]!==void 0&&(pi=di[Wn]+` Tw
`),Wn===0?m.push(pi+Fl(la,ca,lr)+fi):da===ua?m.push(pi+fi):da===oo&&m.push(pi+Fl(la,ca,lr)+fi)}m=da===ua?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Hn=`BT
/`;return Hn+=yt+" "+Te+` Tf
`,Hn+=U(Te*Pn)+` TL
`,Hn+=ia+`
`,Hn+=Tr,Hn+=m,G(Hn+="ET"),y[yt]=!0,br};var sf=g.__private__.clip=g.clip=function(m){return G(m==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return sf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return G("n"),this};var Ns=g.__private__.isValidStyle=function(m){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(L=!0),L};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(m){return Ns(m)&&(d=m),this};var hu=g.__private__.getStyle=g.getStyle=function(m){var L=d;switch(m){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=m}return L},fu=g.close=function(){return G("h"),this};g.stroke=function(){return G("S"),this},g.fill=function(m){return Ja("f",m),this},g.fillEvenOdd=function(m){return Ja("f*",m),this},g.fillStroke=function(m){return Ja("B",m),this},g.fillStrokeEvenOdd=function(m){return Ja("B*",m),this};var Ja=function(m,L){Dt(L)==="object"?of(L,m):G(m)},yl=function(m){m===null||b===x.ADVANCED&&m===void 0||(m=hu(m),G(m))};function af(m,L,H,ee,he){var _e=new Do(L||this.boundingBox,H||this.xStep,ee||this.yStep,this.gState,he||this.matrix);_e.stream=this.stream;var Ee=m+"$$"+this.cloneIndex+++"$$";return Ht(Ee,_e),_e}var of=function(m,L){var H=ar[m.key],ee=ot[H];if(ee instanceof xa)G("q"),G(lf(L)),ee.gState&&g.setGState(ee.gState),G(m.matrix.toString()+" cm"),G("/"+H+" sh"),G("Q");else if(ee instanceof Do){var he=new tt(1,0,0,-1,0,ui());m.matrix&&(he=he.multiply(m.matrix||Pt),H=af.call(ee,m.key,m.boundingBox,m.xStep,m.yStep,he).id),G("q"),G("/Pattern cs"),G("/"+H+" scn"),ee.gState&&g.setGState(ee.gState),G(L),G("Q")}},lf=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wl=g.moveTo=function(m,L){return G(U(R(m))+" "+U(F(L))+" m"),this},na=g.lineTo=function(m,L){return G(U(R(m))+" "+U(F(L))+" l"),this},li=g.curveTo=function(m,L,H,ee,he,_e){return G([U(R(m)),U(F(L)),U(R(H)),U(F(ee)),U(R(he)),U(F(_e)),"c"].join(" ")),this};g.__private__.line=g.line=function(m,L,H,ee,he){if(isNaN(m)||isNaN(L)||isNaN(H)||isNaN(ee)||!Ns(he))throw new Error("Invalid arguments passed to jsPDF.line");return b===x.COMPAT?this.lines([[H-m,ee-L]],m,L,[1,1],he||"S"):this.lines([[H-m,ee-L]],m,L,[1,1]).stroke()},g.__private__.lines=g.lines=function(m,L,H,ee,he,_e){var Ee,We,et,gt,ht,kt,rr,lr,br,Wr,Tr,ss;if(typeof m=="number"&&(ss=H,H=L,L=m,m=ss),ee=ee||[1,1],_e=_e||!1,isNaN(L)||isNaN(H)||!Array.isArray(m)||!Array.isArray(ee)||!Ns(he)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wl(L,H),Ee=ee[0],We=ee[1],gt=m.length,Wr=L,Tr=H,et=0;et<gt;et++)(ht=m[et]).length===2?(Wr=ht[0]*Ee+Wr,Tr=ht[1]*We+Tr,na(Wr,Tr)):(kt=ht[0]*Ee+Wr,rr=ht[1]*We+Tr,lr=ht[2]*Ee+Wr,br=ht[3]*We+Tr,Wr=ht[4]*Ee+Wr,Tr=ht[5]*We+Tr,li(kt,rr,lr,br,Wr,Tr));return _e&&fu(),yl(he),this},g.path=function(m){for(var L=0;L<m.length;L++){var H=m[L],ee=H.c;switch(H.op){case"m":wl(ee[0],ee[1]);break;case"l":na(ee[0],ee[1]);break;case"c":li.apply(this,ee);break;case"h":fu()}}return this},g.__private__.rect=g.rect=function(m,L,H,ee,he){if(isNaN(m)||isNaN(L)||isNaN(H)||isNaN(ee)||!Ns(he))throw new Error("Invalid arguments passed to jsPDF.rect");return b===x.COMPAT&&(ee=-ee),G([U(R(m)),U(F(L)),U(R(H)),U(R(ee)),"re"].join(" ")),yl(he),this},g.__private__.triangle=g.triangle=function(m,L,H,ee,he,_e,Ee){if(isNaN(m)||isNaN(L)||isNaN(H)||isNaN(ee)||isNaN(he)||isNaN(_e)||!Ns(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-m,ee-L],[he-H,_e-ee],[m-he,L-_e]],m,L,[1,1],Ee,!0),this},g.__private__.roundedRect=g.roundedRect=function(m,L,H,ee,he,_e,Ee){if(isNaN(m)||isNaN(L)||isNaN(H)||isNaN(ee)||isNaN(he)||isNaN(_e)||!Ns(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*H),_e=Math.min(_e,.5*ee),this.lines([[H-2*he,0],[he*We,0,he,_e-_e*We,he,_e],[0,ee-2*_e],[0,_e*We,-he*We,_e,-he,_e],[2*he-H,0],[-he*We,0,-he,-_e*We,-he,-_e],[0,2*_e-ee],[0,-_e*We,he*We,-_e,he,-_e]],m+he,L,[1,1],Ee,!0),this},g.__private__.ellipse=g.ellipse=function(m,L,H,ee,he){if(isNaN(m)||isNaN(L)||isNaN(H)||isNaN(ee)||!Ns(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*H,Ee=4/3*(Math.SQRT2-1)*ee;return wl(m+H,L),li(m+H,L-Ee,m+_e,L-ee,m,L-ee),li(m-_e,L-ee,m-H,L-Ee,m-H,L),li(m-H,L+Ee,m-_e,L+ee,m,L+ee),li(m+_e,L+ee,m+H,L+Ee,m+H,L),yl(he),this},g.__private__.circle=g.circle=function(m,L,H,ee){if(isNaN(m)||isNaN(L)||isNaN(H)||!Ns(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,L,H,H,ee)},g.setFont=function(m,L,H){return H&&(L=$(L,H)),yt=cu(m,L,{disableWarning:!1}),this};var cf=g.__private__.getFont=g.getFont=function(){return $e[cu.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var m,L,H={};for(m in me)if(me.hasOwnProperty(m))for(L in H[m]=[],me[m])me[m].hasOwnProperty(L)&&H[m].push(L);return H},g.addFont=function(m,L,H,ee,he){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(H=$(H,ee)),he=he||"Identity-H",ml.call(this,m,L,H,he)};var sa,xl=t.lineWidth||.200025,Ka=g.__private__.getLineWidth=g.getLineWidth=function(){return xl},pu=g.__private__.setLineWidth=g.setLineWidth=function(m){return xl=m,G(U(R(m))+" w"),this};g.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(m,L){if(m=m||[],L=L||0,isNaN(L)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(H){return U(R(H))}).join(" "),L=U(R(L)),G("["+m+"] "+L+" d"),this};var mu=g.__private__.getLineHeight=g.getLineHeight=function(){return Te*sa};g.__private__.getLineHeight=g.getLineHeight=function(){return Te*sa};var gu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(sa=m),this},vu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return sa};gu(t.lineHeight);var Ss=g.__private__.getHorizontalCoordinate=function(m){return R(m)},Bs=g.__private__.getVerticalCoordinate=function(m){return b===x.ADVANCED?m:qe[B].mediaBox.topRightY-qe[B].mediaBox.bottomLeftY-R(m)},uf=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(m){return U(Ss(m))},ci=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(m){return U(Bs(m))},ns=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return nn(ns)},g.__private__.setStrokeColor=g.setDrawColor=function(m,L,H,ee){return ns=Ln({ch1:m,ch2:L,ch3:H,ch4:ee,pdfColorType:"draw",precision:2}),G(ns),this};var bl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return nn(bl)},g.__private__.setFillColor=g.setFillColor=function(m,L,H,ee){return bl=Ln({ch1:m,ch2:L,ch3:H,ch4:ee,pdfColorType:"fill",precision:2}),G(bl),this};var ia=t.textColor||"0 g",df=g.__private__.getTextColor=g.getTextColor=function(){return nn(ia)};g.__private__.setTextColor=g.setTextColor=function(m,L,H,ee){return ia=Ln({ch1:m,ch2:L,ch3:H,ch4:ee,pdfColorType:"text",precision:3}),this};var Ya=t.charSpace,hf=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ya||0)};g.__private__.setCharSpace=g.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ya=m,this};var _l=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(m){var L=g.CapJoinStyles[m];if(L===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=L,G(L+" J"),this};var Nl=0;g.__private__.setLineJoin=g.setLineJoin=function(m){var L=g.CapJoinStyles[m];if(L===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=L,G(L+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(U(R(m))+" M"),this},g.GState=uh,g.setGState=function(m){(m=typeof m=="string"?dt[Oe[m]]:yu(null,m)).equals(Ke)||(G("/"+m.id+" gs"),Ke=m)};var yu=function(m,L){if(!m||!Oe[m]){var H=!1;for(var ee in dt)if(dt.hasOwnProperty(ee)&&dt[ee].equals(L)){H=!0;break}if(H)L=dt[ee];else{var he="GS"+(Object.keys(dt).length+1).toString(10);dt[he]=L,L.id=he}return m&&(Oe[m]=L.id),rt.publish("addGState",L),L}};g.addGState=function(m,L){return yu(m,L),this},g.saveGraphicsState=function(){return G("q"),mt.push({key:yt,size:Te,color:ia}),this},g.restoreGraphicsState=function(){G("Q");var m=mt.pop();return yt=m.key,Te=m.size,ia=m.color,Ke=null,this},g.setCurrentTransformationMatrix=function(m){return G(m.toString()+" cm"),this},g.comment=function(m){return G("#"+m),this};var Xa=function(m,L){var H=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(_e){isNaN(_e)||(H=parseFloat(_e))}});var ee=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(_e){isNaN(_e)||(ee=parseFloat(_e))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(_e){he=_e.toString()}}),this},Sl=function(m,L,H,ee){Xa.call(this,m,L),this.type="rect";var he=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Ee){isNaN(Ee)||(he=parseFloat(Ee))}});var _e=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(Ee){isNaN(Ee)||(_e=parseFloat(Ee))}}),this},jl=function(){this.page=Xe,this.currentPage=B,this.pages=je.slice(0),this.pagesContext=qe.slice(0),this.x=ve,this.y=Se,this.matrix=Ve,this.width=aa(B),this.height=ui(B),this.outputDestination=Ie,this.id="",this.objectNumber=-1};jl.prototype.restore=function(){Xe=this.page,B=this.currentPage,qe=this.pagesContext,je=this.pages,ve=this.x,Se=this.y,Ve=this.matrix,kl(B,this.width),Al(B,this.height),Ie=this.outputDestination};var wu=function(m,L,H,ee,he){rn.push(new jl),Xe=B=0,je=[],ve=m,Se=L,Ve=he,gl([H,ee])},ff=function(m){if(jr[m])rn.pop().restore();else{var L=new jl,H="Xo"+(Object.keys(Lt).length+1).toString(10);L.id=H,jr[m]=H,Lt[H]=L,rt.publish("addFormObject",L),rn.pop().restore()}};for(var Qa in g.beginFormObject=function(m,L,H,ee,he){return wu(m,L,H,ee,he),this},g.endFormObject=function(m){return ff(m),this},g.doFormObject=function(m,L){var H=Lt[jr[m]];return G("q"),G(L.toString()+" cm"),G("/"+H.id+" Do"),G("Q"),this},g.getFormObject=function(m){var L=Lt[jr[m]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},g.save=function(m,L){return m=m||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(ya(Va(Ds()),m),typeof ya.unload=="function"&&lt.setTimeout&&setTimeout(ya.unload,911),this):new Promise(function(H,ee){try{var he=ya(Va(Ds()),m);typeof ya.unload=="function"&&lt.setTimeout&&setTimeout(ya.unload,911),H(he)}catch(_e){ee(_e.message)}})},at.API)at.API.hasOwnProperty(Qa)&&(Qa==="events"&&at.API.events.length?function(m,L){var H,ee,he;for(he=L.length-1;he!==-1;he--)H=L[he][0],ee=L[he][1],m.subscribe.apply(m,[H].concat(typeof ee=="function"?[ee]:ee))}(rt,at.API.events):g[Qa]=at.API[Qa]);var aa=g.getPageWidth=function(m){return(qe[m=m||B].mediaBox.topRightX-qe[m].mediaBox.bottomLeftX)/Ue},kl=g.setPageWidth=function(m,L){qe[m].mediaBox.topRightX=L*Ue+qe[m].mediaBox.bottomLeftX},ui=g.getPageHeight=function(m){return(qe[m=m||B].mediaBox.topRightY-qe[m].mediaBox.bottomLeftY)/Ue},Al=g.setPageHeight=function(m,L){qe[m].mediaBox.topRightY=L*Ue+qe[m].mediaBox.bottomLeftY};return g.internal={pdfEscape:fn,getStyle:hu,getFont:cf,getFontSize:De,getCharSpace:hf,getTextColor:df,getLineHeight:mu,getLineHeightFactor:vu,getLineWidth:Ka,write:Qe,getHorizontalCoordinate:Ss,getVerticalCoordinate:Bs,getCoordinateString:uf,getVerticalCoordinateString:ci,collections:{},newObject:Rt,newAdditionalObject:An,newObjectDeferred:qt,newObjectDeferredBegin:Zt,getFilters:qn,putStream:Er,events:rt,scaleFactor:Ue,pageSize:{getWidth:function(){return aa(B)},setWidth:function(m){kl(B,m)},getHeight:function(){return ui(B)},setHeight:function(m){Al(B,m)}},encryptionOptions:f,encryption:$r,getEncryptor:rf,output:Ga,getNumberOfPages:Xh,pages:je,out:G,f2:Z,f3:T,getPageInfo:du,getPageInfoByObjId:ut,getCurrentPageInfo:nf,getPDFVersion:S,Point:Xa,Rectangle:Sl,Matrix:tt,hasHotfix:uu},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return aa(B)},set:function(m){kl(B,m)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ui(B)},set:function(m){Al(B,m)},enumerable:!0,configurable:!0}),Kh.call(g,Ne),yt="F1",ou(s,r),rt.publish("initialized"),g}So.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},So.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},So.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},So.prototype.processOwnerPassword=function(t,e){return Hm(Wm(e).substr(0,5),t)},So.prototype.encryptor=function(t,e){var r=Wm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Hm(r,n)}},uh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Dt(t)!==Dt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},at.API={events:[]},at.version="2.5.2";var ur=at.API,sg=1,Da=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ft=function(t){return t.toFixed(2)},ji=function(t){return t.toFixed(5)};ur.__acroform__={};var kn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},F2=function(t){return t*sg},Ps=function(t){var e=new Pw,r=Ye.internal.getHeight(t)||0,n=Ye.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ft(n)),Number(ft(r))],e},$j=ur.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Wj=ur.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Hj=ur.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},vr=ur.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hj(t,e-1)},yr=ur.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $j(t,e-1)},wr=ur.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wj(t,e-1)},Vj=ur.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(ft(c.lowerLeft_X)),Number(ft(c.lowerLeft_Y)),Number(ft(c.upperRight_X)),Number(ft(c.upperRight_Y))]},Gj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Vm(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+ft(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ps(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Vm=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var i=r,a=Ye.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ye.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(T,R,K){if(T+1<s.length){var F=R+" "+s[T+1][0];return fd(F,t,K).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var d,f,p=fd("3",t,i).height,y=t.multiline?a-i:(a-p)/2,g=y+=2,N=0,S=0,j=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+fd(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var w="",x=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var I=!1;if(s[b].length!==1&&j!==s[b].length-1){if((p+2)*(x+2)+2>a)continue e;w+=s[b][j],I=!0,S=b,b--}else{w=(w+=s[b][j]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(b),$=c(q,w,i),U=b>=s.length-1;if($&&!U){w+=" ",j=0;continue}if($||U){if(U)S=q;else if(t.multiline&&(p+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(x+2)+2>a)continue e;S=q}}for(var M="",ae=N;ae<=S;ae++){var Z=s[ae];if(t.multiline){if(ae===S){M+=Z[j]+" ",j=(j+1)%Z.length;continue}if(ae===N){M+=Z[Z.length-1]+" ";continue}}M+=Z[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=fd(M,t,i).width,t.textAlign){case"right":d=o-f-2;break;case"center":d=(o-f)/2;break;case"left":default:d=2}e+=ft(d)+" "+ft(g)+` Td
`,e+="("+Da(M)+`) Tj
`,e+=-ft(d)+` 0 Td
`,g=-(i+2),f=0,N=I?S:S+1,x++,w=""}break}return n.text=e,n.fontSize=i,n},fd=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Jj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Kj=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Yj=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,s=t[r];e.internal.newObjectDeferredBegin(s.objId,!0),Dt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[n]}},Xj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Jj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Cw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Kj(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],d=o.Rect;if(o.Rect&&(o.Rect=Vj(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ye.createDefaultAppearanceStream(o),Dt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Gj(o);c.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var p="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var g=o.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var N=g[a];typeof N=="function"&&(N=N.call(s,o)),p+="/"+a+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(s,o)),p+="/"+a+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&Yj(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Lw=ur.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Dt(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+Da(n(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Np=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Da(n(t))+")"},Is=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Is.prototype.toString=function(){return this.objId+" 0 R"},Is.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Is.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:Lw(s,this.objId,this.scope)}):s instanceof Is?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var Pw=function(){Is.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};kn(Pw,Is);var Cw=function(){Is.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Da(r(t))+")"}},set:function(r){t=r}})};kn(Cw,Is);var xs=function t(){Is.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vr(e,3)},set:function(w){w?this.F=yr(e,3):this.F=wr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof dh)return;i="FieldObject"+t.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Da(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/sg:d},set:function(w){d=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof dh||this instanceof La))return Np(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Fr?y:Np(y,this.objId,this.scope)},set:function(w){w=w.toString(),y=this instanceof Fr?w:w.substr(0,1)==="("?xo(w.substr(1,w.length-2)):xo(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fr?xo(y.substr(1,y.length-1)):y},set:function(w){w=w.toString(),y=this instanceof Fr?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Fr?g:Np(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof Fr?w:w.substr(0,1)==="("?xo(w.substr(1,w.length-2)):xo(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fr?xo(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Fr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(w){w=!!w,S=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(w){N=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,1)},set:function(w){w?this.Ff=yr(this.Ff,1):this.Ff=wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,2)},set:function(w){w?this.Ff=yr(this.Ff,2):this.Ff=wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,3)},set:function(w){w?this.Ff=yr(this.Ff,3):this.Ff=wr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');j=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(j){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};kn(xs,Is);var Vo=function(){xs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Lw(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,o){o||(o=1);for(var c,d=[];c=a.exec(i);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,18)},set:function(r){r?this.Ff=yr(this.Ff,18):this.Ff=wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=yr(this.Ff,19):this.Ff=wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,20)},set:function(r){r?(this.Ff=yr(this.Ff,20),e.sort()):this.Ff=wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,22)},set:function(r){r?this.Ff=yr(this.Ff,22):this.Ff=wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(r){r?this.Ff=yr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,27)},set:function(r){r?this.Ff=yr(this.Ff,27):this.Ff=wr(this.Ff,27)}}),this.hasAppearanceStream=!1};kn(Vo,xs);var Go=function(){Vo.call(this),this.fontName="helvetica",this.combo=!1};kn(Go,Vo);var Jo=function(){Go.call(this),this.combo=!0};kn(Jo,Go);var Ed=function(){Jo.call(this),this.edit=!0};kn(Ed,Jo);var Fr=function(){xs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,15)},set:function(r){r?this.Ff=yr(this.Ff,15):this.Ff=wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,16)},set:function(r){r?this.Ff=yr(this.Ff,16):this.Ff=wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,17)},set:function(r){r?this.Ff=yr(this.Ff,17):this.Ff=wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(r){r?this.Ff=yr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Da(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Dt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};kn(Fr,xs);var Td=function(){Fr.call(this),this.pushButton=!0};kn(Td,Fr);var Ko=function(){Fr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};kn(Ko,Fr);var dh=function(){var t,e;xs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Da(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Dt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};kn(dh,xs),Ko.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ko.prototype.createOption=function(t){var e=new dh;return e.Parent=this,e.optionName=t,this.Kids.push(e),Qj.call(this.scope,e),e};var Id=function(){Fr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};kn(Id,Fr);var La=function(){xs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,13)},set:function(e){e?this.Ff=yr(this.Ff,13):this.Ff=wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,21)},set:function(e){e?this.Ff=yr(this.Ff,21):this.Ff=wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,23)},set:function(e){e?this.Ff=yr(this.Ff,23):this.Ff=wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,24)},set:function(e){e?this.Ff=yr(this.Ff,24):this.Ff=wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,25)},set:function(e){e?this.Ff=yr(this.Ff,25):this.Ff=wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,26)},set:function(e){e?this.Ff=yr(this.Ff,26):this.Ff=wr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};kn(La,xs);var Rd=function(){La.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vr(this.Ff,14)},set:function(t){t?this.Ff=yr(this.Ff,14):this.Ff=wr(this.Ff,14)}}),this.password=!0};kn(Rd,La);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ps(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Vm(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ft(Ye.internal.getWidth(t))+" "+ft(Ye.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ft(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ps(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=Ye.internal.getHeight(t),a=Ye.internal.getWidth(t),o=Vm(t,t.caption);return s.push("1 g"),s.push("0 0 "+ft(a)+" "+ft(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ft(a-1)+" "+ft(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ft(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Ps(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ft(Ye.internal.getWidth(t))+" "+ft(Ye.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Circle.YesNormal,e.D[t]=Ye.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ps(t);e.scope=t.scope;var r=[],n=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Ye.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ji(Ye.internal.getWidth(t)/2)+" "+ji(Ye.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ps(t);e.scope=t.scope;var r=[],n=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ye.internal.Bezier_C).toFixed(5)),a=Number((n*Ye.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ji(Ye.internal.getWidth(t)/2)+" "+ji(Ye.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ji(Ye.internal.getWidth(t)/2)+" "+ji(Ye.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ps(t);e.scope=t.scope;var r=[],n=Ye.internal.getWidth(t)<=Ye.internal.getHeight(t)?Ye.internal.getWidth(t)/4:Ye.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ye.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ji(Ye.internal.getWidth(t)/2)+" "+ji(Ye.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ye.RadioButton.Cross.YesNormal,e.D[t]=Ye.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ps(t);e.scope=t.scope;var r=[],n=Ye.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ft(Ye.internal.getWidth(t)-2)+" "+ft(Ye.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ft(n.x1.x)+" "+ft(n.x1.y)+" m"),r.push(ft(n.x2.x)+" "+ft(n.x2.y)+" l"),r.push(ft(n.x4.x)+" "+ft(n.x4.y)+" m"),r.push(ft(n.x3.x)+" "+ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ps(t);e.scope=t.scope;var r=Ye.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ft(Ye.internal.getWidth(t))+" "+ft(Ye.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ft(Ye.internal.getWidth(t)-2)+" "+ft(Ye.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ft(r.x1.x)+" "+ft(r.x1.y)+" m"),n.push(ft(r.x2.x)+" "+ft(r.x2.y)+" l"),n.push(ft(r.x4.x)+" "+ft(r.x4.y)+" m"),n.push(ft(r.x3.x)+" "+ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ps(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ft(Ye.internal.getWidth(t))+" "+ft(Ye.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ye.internal.getWidth(t),r=Ye.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ye.internal.getWidth=function(t){var e=0;return Dt(t)==="object"&&(e=F2(t.Rect[2])),e},Ye.internal.getHeight=function(t){var e=0;return Dt(t)==="object"&&(e=F2(t.Rect[3])),e};var Qj=ur.addField=function(t){if(Xj(this,t),!(t instanceof xs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=Vo,ur.AcroFormListBox=Go,ur.AcroFormComboBox=Jo,ur.AcroFormEditBox=Ed,ur.AcroFormButton=Fr,ur.AcroFormPushButton=Td,ur.AcroFormRadioButton=Ko,ur.AcroFormCheckBox=Id,ur.AcroFormTextField=La,ur.AcroFormPasswordField=Rd,ur.AcroFormAppearance=Ye,ur.AcroForm={ChoiceField:Vo,ListBox:Go,ComboBox:Jo,EditBox:Ed,Button:Fr,PushButton:Td,RadioButton:Ko,CheckBox:Id,TextField:La,PasswordField:Rd,Appearance:Ye},at.AcroForm={ChoiceField:Vo,ListBox:Go,ComboBox:Jo,EditBox:Ed,Button:Fr,PushButton:Td,RadioButton:Ko,CheckBox:Id,TextField:La,PasswordField:Rd,Appearance:Ye};at.AcroForm;function Ew(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(T,R){var K,F,ce,se,de,V=e;if((R=R||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if($(T))for(de in r)for(ce=r[de],K=0;K<ce.length;K+=1){for(se=!0,F=0;F<ce[K].length;F+=1)if(ce[K][F]!==void 0&&ce[K][F]!==T[F]){se=!1;break}if(se===!0){V=de;break}}else for(de in r)for(ce=r[de],K=0;K<ce.length;K+=1){for(se=!0,F=0;F<ce[K].length;F+=1)if(ce[K][F]!==void 0&&ce[K][F]!==T.charCodeAt(F)){se=!1;break}if(se===!0){V=de;break}}return V===e&&R!==e&&(V=R),V},s=function T(R){for(var K=this.internal.write,F=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:R.width}),se.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var de="",V=0,oe=R.transparency.length;V<oe;V++)de+=R.transparency[V]+" "+R.transparency[V]+" ";se.push({key:"Mask",value:"["+de+"]"})}R.sMask!==void 0&&se.push({key:"SMask",value:R.objectId+1+" 0 R"});var Y=R.filter!==void 0?["/"+R.filter]:void 0;if(F({data:R.data,additionalKeyValues:se,alreadyAppliedFilters:Y,objectId:R.objectId}),K("endobj"),"sMask"in R&&R.sMask!==void 0){var ge="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,k={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ge,data:R.sMask};"filter"in R&&(k.filter=R.filter),T.call(this,k)}if(R.colorSpace===j.INDEXED){var B=this.internal.newObject();F({data:M(new Uint8Array(R.palette)),objectId:B}),K("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var R in T)s.call(this,T[R])},a=function(){var T,R=this.internal.collections.addImage_images,K=this.internal.write;for(var F in R)K("/I"+(T=R[F]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},p=function(T){return Dt(T)==="object"&&T.nodeType===1},y=function(T,R){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var K=""+T.getAttribute("src");if(K.indexOf("data:image/")===0)return bc(unescape(K).split("base64,").pop());var F=t.loadFile(K,!0);if(F!==void 0)return F}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ce;switch(R){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return bc(T.toDataURL(ce,1).split("base64,").pop())}},g=function(T){var R=this.internal.collections.addImage_images;if(R){for(var K in R)if(T===R[K].alias)return R[K]}},N=function(T,R,K){return T||R||(T=-96,R=-96),T<0&&(T=-1*K.width*72/T/this.internal.scaleFactor),R<0&&(R=-1*K.height*72/R/this.internal.scaleFactor),T===0&&(T=R*K.width/K.height),R===0&&(R=T*K.height/K.width),[T,R]},S=function(T,R,K,F,ce,se){var de=N.call(this,K,F,ce),V=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,Y=c.call(this);if(K=de[0],F=de[1],Y[ce.index]=ce,se){se*=Math.PI/180;var ge=Math.cos(se),k=Math.sin(se),B=function(X){return X.toFixed(4)},W=[B(ge),B(k),B(-1*k),B(ge),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,V(T),oe(R+F),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([V(K),"0","0",V(F),"0","0","cm"].join(" "))):this.internal.write([V(K),"0","0",V(F),V(T),oe(R+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(T){var R,K,F=0;if(typeof T=="string")for(K=T.length,R=0;R<K;R++)F=(F<<5)-F+T.charCodeAt(R),F|=0;else if($(T))for(K=T.byteLength/2,R=0;R<K;R++)F=(F<<5)-F+T[R],F|=0;return F},b=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var R=!0;return T.length===0&&(R=!1),T.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(R=!1),R},I=t.__addimage__.extractImageFromDataUrl=function(T){var R=(T=T||"").split("base64,"),K=null;if(R.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(F)&&(K={mimeType:F[1],charset:F[2],data:R[1]})}return K},q=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return q()&&T instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(T){return q()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},U=t.__addimage__.binaryStringToUint8Array=function(T){for(var R=T.length,K=new Uint8Array(R),F=0;F<R;F++)K[F]=T.charCodeAt(F);return K},M=t.__addimage__.arrayBufferToBinaryString=function(T){for(var R="",K=$(T)?T:new Uint8Array(T),F=0;F<K.length;F+=8192)R+=String.fromCharCode.apply(null,K.subarray(F,F+8192));return R};t.addImage=function(){var T,R,K,F,ce,se,de,V,oe;if(typeof arguments[1]=="number"?(R=e,K=arguments[1],F=arguments[2],ce=arguments[3],se=arguments[4],de=arguments[5],V=arguments[6],oe=arguments[7]):(R=arguments[1],K=arguments[2],F=arguments[3],ce=arguments[4],se=arguments[5],de=arguments[6],V=arguments[7],oe=arguments[8]),Dt(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var Y=T;T=Y.imageData,R=Y.format||R||e,K=Y.x||K||0,F=Y.y||F||0,ce=Y.w||Y.width||ce,se=Y.h||Y.height||se,de=Y.alias||de,V=Y.compression||V,oe=Y.rotation||Y.angle||oe}var ge=this.internal.getFilters();if(V===void 0&&ge.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(K)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=ae.call(this,T,R,de,V);return S.call(this,K,F,ce,se,k,oe),this};var ae=function(T,R,K,F){var ce,se,de;if(typeof T=="string"&&n(T)===e){T=unescape(T);var V=Z(T,!1);(V!==""||(V=t.loadFile(T,!0))!==void 0)&&(T=V)}if(p(T)&&(T=y(T,R)),R=n(T,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((de=K)==null||de.length===0)&&(K=function(oe){return typeof oe=="string"||$(oe)?x(oe):$(oe.data)?x(oe.data):null}(T)),(ce=g.call(this,K))||(q()&&(T instanceof Uint8Array||R==="RGBA"||(se=T,T=U(T))),ce=this["process"+R.toUpperCase()](T,d.call(this),K,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:w.NONE}(F),se)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},Z=t.__addimage__.convertBase64ToBinaryString=function(T,R){var K;R=typeof R!="boolean"||R;var F,ce="";if(typeof T=="string"){F=(K=I(T))!==null?K.data:T;try{ce=bc(F)}catch(se){if(R)throw b(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(T){var R,K,F="";if(p(T)&&(T=y(T)),typeof T=="string"&&n(T)===e&&((F=Z(T,!1))===""&&(F=t.loadFile(T)||""),T=F),K=n(T),!f(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!q()||T instanceof Uint8Array||(T=U(T)),!(R=this["process"+K.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=K,R}})(at.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};at.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((n=d[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(S.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(w(x))+") >>",S.content=i;var b=S.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(S.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(N(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var q=this.annotations._nameMap[n.options.name];n.options.pageNumber=q.page,n.options.top=q.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var $=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+i)},options:a,type:"link"})},t.textWithLink=function(r,n,s,i){var a,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var f=this.splitTextToSize(r,o).length;a=Math.ceil(d*f)}else o=c,a=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-d,o,a,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&i(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&s.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&i(S)&&e[S.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&i(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&i(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&i(S)&&e[S.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(S){var j=0,w=r,x="",b=0;for(j=0;j<S.length;j+=1)w[S.charCodeAt(j)]!==void 0?(b++,typeof(w=w[S.charCodeAt(j)])=="number"&&(x+=String.fromCharCode(w),w=r,b=0),j===S.length-1&&(w=r,x+=S.charAt(j-(b-1)),j-=b-1,b=0)):(w=r,x+=S.charAt(j-b),j-=b,b=0);return x};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,j,w){return a(S)?i(S)===!1?-1:!d(S)||!a(j)&&!a(w)||!a(w)&&o(j)||o(S)&&!a(j)||o(S)&&c(j)||o(S)&&o(j)?0:f(S)&&a(j)&&!o(j)&&a(w)&&d(w)?3:o(S)||!a(w)?1:2:-1},g=function(S){var j=0,w=0,x=0,b="",I="",q="",$=(S=S||"").split("\\s+"),U=[];for(j=0;j<$.length;j+=1){for(U.push(""),w=0;w<$[j].length;w+=1)b=$[j][w],I=$[j][w-1],q=$[j][w+1],a(b)?(x=y(b,I,q),U[j]+=x!==-1?String.fromCharCode(e[b.charCodeAt(0)][x]):b):U[j]+=b;U[j]=p(U[j])}return U.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var S,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(j)){var x=0;for(w=[],x=0;x<j.length;x+=1)Array.isArray(j[x])?w.push([g(j[x][0]),j[x][1],j[x][2]]):w.push([g(j[x])]);S=w}else S=g(j);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",N])}(at.API),at.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(S){N=S}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,g=0,N=0,S=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,I){return b.concat(j.splitTextToSize(I,w))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)g<(S=this.getStringUnitWidth(c[x],{font:p})*f)&&(g=S);return g!==0&&(N=c.length),{w:g/=y,h:Math.max((N*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,g&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,f,p,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,N,S,j,w=[],x=[],b=[],I={},q={},$=[],U=[],M=(y=y||{}).autoSize||!1,ae=y.printHeaders!==!1,Z=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},e),R=typeof y.padding=="number"?y.padding:3,K=y.headerBackgroundColor||"#c8c8c8",F=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=ae,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=F,this.setFontSize(Z),p==null)x=w=Object.keys(f[0]),b=w.map(function(){return"left"});else if(Array.isArray(p)&&Dt(p[0])==="object")for(w=p.map(function(Y){return Y.name}),x=p.map(function(Y){return Y.prompt||Y.name||""}),b=p.map(function(Y){return Y.align||"left"}),g=0;g<p.length;g+=1)q[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(x=w=p,b=w.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<w.length;g+=1){for(I[j=w[g]]=f.map(function(Y){return Y[j]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=I[j],this.setFont(void 0,"normal"),S=0;S<N.length;S+=1)$.push(this.getTextDimensions(N[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[j]=Math.max.apply(null,$)+R+R,$=[]}if(ae){var ce={};for(g=0;g<w.length;g+=1)ce[w[g]]={},ce[w[g]].text=x[g],ce[w[g]].align=b[g];var se=o.call(this,ce,q);U=w.map(function(Y){return new i(c,d,q[Y],se,ce[Y].text,void 0,ce[Y].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var de=p.reduce(function(Y,ge){return Y[ge.name]=ge.align,Y},{});for(g=0;g<f.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:f[g]},this);var V=o.call(this,f[g],q);for(S=0;S<w.length;S+=1){var oe=f[g][w[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:S,data:oe},this),a.call(this,new i(c,d,q[w[S]],V,oe,g+2,de[w[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(g){var N=c[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/y+f+f},this).reduce(function(g,N){return Math.max(g,N)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(at.API);var Tw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Iw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gm=Ew(Iw),Rw=[100,200,300,400,500,600,700,800,900],Zj=Ew(Rw);function Jm(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Tw[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof Gm[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function M2(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var ek={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function B2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tk(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},ek,r.genericFontFamilies||{}),i=null,a=null,o=0;o<e.length;++o)if(s[(i=Jm(e[o])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+B2(i)+"' and default family '"+n+"'.");if(a=function(c,d){if(d[c])return d[c];var f=Gm[c],p=f<=Gm.normal?-1:1,y=M2(d,Iw,f,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(i.stretch,a),a=function(c,d){if(d[c])return d[c];for(var f=Tw[c],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var f=Zj[c],p=M2(d,Rw,f,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+B2(i)+"'.");return a}function U2(t){return t.trimLeft()}function rk(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function nk(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var pd,q2,z2,Sp=["times"];(function(t){var e,r,n,s,i,a,o,c,d,f=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new c,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new a,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new a,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var p=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=k;Object.defineProperty(this,"pdf",{get:function(){return B}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(ye){W=!!ye}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(ye){X=!!ye}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(ye){isNaN(ye)||(te=ye)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(ye){isNaN(ye)||(J=ye)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ye){var G;typeof ye=="number"?G=[ye,ye,ye,ye]:((G=new Array(4))[0]=ye[0],G[1]=ye.length>=2?ye[1]:G[0],G[2]=ye.length>=3?ye[2]:G[0],G[3]=ye.length>=4?ye[3]:G[1]),d.margin=G}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(ye){Q=ye}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ye){ie=ye}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(ye){be=ye}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ye){ye instanceof f&&(d=ye)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ye){d.path=ye}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(ye){je=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var G;G=y(ye),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var G=y(ye);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Ce=null;function Ie(ye,G){if(Ce===null){var Qe=function(Fe){var Ne=[];return Object.keys(Fe).forEach(function(Te){Fe[Te].forEach(function(Me){var De=null;switch(Me){case"bold":De={family:Te,weight:"bold"};break;case"italic":De={family:Te,style:"italic"};break;case"bolditalic":De={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":De={family:Te}}De!==null&&(De.ref={name:Te,style:Me},Ne.push(De))})}),Ne}(ye.getFontList());Ce=function(Fe){for(var Ne={},Te=0;Te<Fe.length;++Te){var Me=Jm(Fe[Te]),De=Me.family,Ze=Me.stretch,it=Me.style,ct=Me.weight;Ne[De]=Ne[De]||{},Ne[De][Ze]=Ne[De][Ze]||{},Ne[De][Ze][it]=Ne[De][Ze][it]||{},Ne[De][Ze][it][ct]=Me}return Ne}(Qe.concat(G))}return Ce}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(ye){Ce=null,Ge=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var G;if(this.ctx.font=ye,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Qe=G[1],Fe=(G[2],G[3]),Ne=G[4],Te=(G[5],G[6]),Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Me==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var De=function(nt){var yt,Ue,ve=[],Se=nt.trim();if(Se==="")return Sp;if(Se in D2)return[D2[Se]];for(;Se!=="";){switch(Ue=null,yt=(Se=U2(Se)).charAt(0)){case'"':case"'":Ue=rk(Se.substring(1),yt);break;default:Ue=nk(Se)}if(Ue===null||(ve.push(Ue[0]),(Se=U2(Ue[1]))!==""&&Se.charAt(0)!==","))return Sp;Se=Se.replace(/^,/,"")}return ve}(Te);if(this.fontFaces){var Ze=tk(Ie(this.pdf,this.fontFaces),De.map(function(nt){return{family:nt,stretch:"normal",weight:Fe,style:Qe}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var it="";(Fe==="bold"||parseInt(Fe,10)>=700||Qe==="bold")&&(it="bold"),Qe==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var ct="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<De.length;pt++){if(this.pdf.internal.getFont(De[pt],it,{noFallback:!0,disableWarning:!0})!==void 0){ct=De[pt];break}if(it==="bolditalic"&&this.pdf.internal.getFont(De[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=De[pt],it="bold";else if(this.pdf.internal.getFont(De[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=De[pt],it="normal";break}}if(ct===""){for(var At=0;At<De.length;At++)if(vt[De[At]]){ct=vt[De[At]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};p.prototype.setLineDash=function(k){this.lineDash=k},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){I.call(this,"fill",!1)},p.prototype.stroke=function(){I.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(k,B){if(isNaN(k)||isNaN(B))throw $t.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(k,B));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(k,B)},p.prototype.closePath=function(){var k=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Dt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){k=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(k.x,k.y)},p.prototype.lineTo=function(k,B){if(isNaN(k)||isNaN(B))throw $t.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(k,B));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},p.prototype.quadraticCurveTo=function(k,B,W,X){if(isNaN(W)||isNaN(X)||isNaN(k)||isNaN(B))throw $t.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(W,X)),J=this.ctx.transform.applyToPoint(new a(k,B));this.path.push({type:"qct",x1:J.x,y1:J.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},p.prototype.bezierCurveTo=function(k,B,W,X,te,J){if(isNaN(te)||isNaN(J)||isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X))throw $t.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new a(te,J)),ie=this.ctx.transform.applyToPoint(new a(k,B)),be=this.ctx.transform.applyToPoint(new a(W,X));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:be.x,y2:be.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},p.prototype.arc=function(k,B,W,X,te,J){if(isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X)||isNaN(te))throw $t.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new a(k,B));k=Q.x,B=Q.y;var ie=this.ctx.transform.applyToPoint(new a(0,W)),be=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(ie.x-be.x,2)+Math.pow(ie.y-be.y,2))}Math.abs(te-X)>=2*Math.PI&&(X=0,te=2*Math.PI),this.path.push({type:"arc",x:k,y:B,radius:W,startAngle:X,endAngle:te,counterclockwise:J})},p.prototype.arcTo=function(k,B,W,X,te){throw new Error("arcTo not implemented.")},p.prototype.rect=function(k,B,W,X){if(isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X))throw $t.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,B),this.lineTo(k+W,B),this.lineTo(k+W,B+X),this.lineTo(k,B+X),this.lineTo(k,B),this.lineTo(k+W,B),this.lineTo(k,B)},p.prototype.fillRect=function(k,B,W,X){if(isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X))throw $t.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,B,W,X),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},p.prototype.strokeRect=function(k,B,W,X){if(isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X))throw $t.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(k,B,W,X),this.stroke())},p.prototype.clearRect=function(k,B,W,X){if(isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X))throw $t.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,B,W,X))},p.prototype.save=function(k){k=typeof k!="boolean"||k;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},p.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(B),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(k){var B,W,X,te;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))B=0,W=0,X=0,te=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(J!==null)B=parseInt(J[1]),W=parseInt(J[2]),X=parseInt(J[3]),te=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)B=parseInt(J[1]),W=parseInt(J[2]),X=parseInt(J[3]),te=parseFloat(J[4]);else{if(te=1,typeof k=="string"&&k.charAt(0)!=="#"){var Q=new jw(k);k=Q.ok?Q.toHex():"#000000"}k.length===4?(B=k.substring(1,2),B+=B,W=k.substring(2,3),W+=W,X=k.substring(3,4),X+=X):(B=k.substring(1,3),W=k.substring(3,5),X=k.substring(5,7)),B=parseInt(B,16),W=parseInt(W,16),X=parseInt(X,16)}}return{r:B,g:W,b:X,a:te,style:k}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(k,B,W,X){if(isNaN(B)||isNaN(W)||typeof k!="string")throw $t.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!g.call(this)){var te=V(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;R.call(this,{text:k,x:B,y:W,scale:J,angle:te,align:this.textAlign,maxWidth:X})}},p.prototype.strokeText=function(k,B,W,X){if(isNaN(B)||isNaN(W)||typeof k!="string")throw $t.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){X=isNaN(X)?void 0:X;var te=V(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;R.call(this,{text:k,x:B,y:W,scale:J,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:X})}},p.prototype.measureText=function(k){if(typeof k!="string")throw $t.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,W=this.pdf.internal.scaleFactor,X=B.internal.getFontSize(),te=B.getStringUnitWidth(k)*X/B.internal.scaleFactor,J=function(Q){var ie=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new J({width:te*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(k,B){if(isNaN(k)||isNaN(B))throw $t.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(k,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(k){if(isNaN(k))throw $t.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},p.prototype.translate=function(k,B){if(isNaN(k)||isNaN(B))throw $t.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,k,B);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(k,B,W,X,te,J){if(isNaN(k)||isNaN(B)||isNaN(W)||isNaN(X)||isNaN(te)||isNaN(J))throw $t.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new c(k,B,W,X,te,J);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.setTransform=function(k,B,W,X,te,J){k=isNaN(k)?1:k,B=isNaN(B)?0:B,W=isNaN(W)?0:W,X=isNaN(X)?1:X,te=isNaN(te)?0:te,J=isNaN(J)?0:J,this.ctx.transform=new c(k,B,W,X,te,J)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(k,B,W,X,te,J,Q,ie,be){var je=this.pdf.getImageProperties(k),Ce=1,Ie=1,Ge=1,ye=1;X!==void 0&&ie!==void 0&&(Ge=ie/X,ye=be/te,Ce=je.width/X*ie/X,Ie=je.height/te*be/te),J===void 0&&(J=B,Q=W,B=0,W=0),X!==void 0&&ie===void 0&&(ie=X,be=te),X===void 0&&ie===void 0&&(ie=je.width,be=je.height);for(var G,Qe=this.ctx.transform.decompose(),Fe=V(Qe.rotate.shx),Ne=new c,Te=(Ne=(Ne=(Ne=Ne.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new o(J-B*Ge,Q-W*ye,X*Ce,te*Ie)),Me=j.call(this,Te),De=[],Ze=0;Ze<Me.length;Ze+=1)De.indexOf(Me[Ze])===-1&&De.push(Me[Ze]);if(b(De),this.autoPaging)for(var it=De[0],ct=De[De.length-1],vt=it;vt<ct+1;vt++){this.pdf.setPage(vt);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=vt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=vt===1?0:nt+(vt-2)*yt;if(this.ctx.clip_path.length!==0){var ve=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(G,this.posX+this.margin[3],-Ue+At+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=ve}var Se=JSON.parse(JSON.stringify(Te));Se=x([Se],this.posX+this.margin[3],-Ue+At+this.ctx.prevPageLastElemOffset)[0];var Ve=(vt>it||vt<ct)&&S.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,yt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,Fe),Ve&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Fe)};var j=function(k,B,W){var X=[];B=B||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":X.push(Math.floor((k.y+te)/W)+1);break;case"arc":X.push(Math.floor((k.y+te-k.radius)/W)+1),X.push(Math.floor((k.y+te+k.radius)/W)+1);break;case"qct":var J=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);X.push(Math.floor((J.y+te)/W)+1),X.push(Math.floor((J.y+J.h+te)/W)+1);break;case"bct":var Q=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);X.push(Math.floor((Q.y+te)/W)+1),X.push(Math.floor((Q.y+Q.h+te)/W)+1);break;case"rect":X.push(Math.floor((k.y+te)/W)+1),X.push(Math.floor((k.y+k.h+te)/W)+1)}for(var ie=0;ie<X.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<X[ie];)w.call(this);return X},w=function(){var k=this.fillStyle,B=this.strokeStyle,W=this.font,X=this.lineCap,te=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=B,this.font=W,this.lineCap=X,this.lineWidth=te,this.lineJoin=J},x=function(k,B,W){for(var X=0;X<k.length;X++)switch(k[X].type){case"bct":k[X].x2+=B,k[X].y2+=W;case"qct":k[X].x1+=B,k[X].y1+=W;case"mt":case"lt":case"arc":default:k[X].x+=B,k[X].y+=W}return k},b=function(k){return k.sort(function(B,W){return B-W})},I=function(k,B){for(var W,X,te=this.fillStyle,J=this.strokeStyle,Q=this.lineCap,ie=this.lineWidth,be=Math.abs(ie*this.ctx.transform.scaleX),je=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Ge=[],ye=0;ye<Ie.length;ye++)if(Ie[ye].x!==void 0)for(var G=j.call(this,Ie[ye]),Qe=0;Qe<G.length;Qe+=1)Ge.indexOf(G[Qe])===-1&&Ge.push(G[Qe]);for(var Fe=0;Fe<Ge.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<Ge[Fe];)w.call(this);if(b(Ge),this.autoPaging)for(var Ne=Ge[0],Te=Ge[Ge.length-1],Me=Ne;Me<Te+1;Me++){this.pdf.setPage(Me),this.fillStyle=te,this.strokeStyle=J,this.lineCap=Q,this.lineWidth=be,this.lineJoin=je;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Me===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Me===1?0:it+(Me-2)*ct;if(this.ctx.clip_path.length!==0){var pt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(W,this.posX+this.margin[3],-vt+Ze+this.ctx.prevPageLastElemOffset),q.call(this,k,!0),this.path=pt}if(X=JSON.parse(JSON.stringify(Ce)),this.path=x(X,this.posX+this.margin[3],-vt+Ze+this.ctx.prevPageLastElemOffset),B===!1||Me===0){var At=(Me>Ne||Me<Te)&&S.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,ct,null).clip().discardPath()),q.call(this,k,B),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=be,q.call(this,k,B),this.lineWidth=ie;this.path=Ce},q=function(k,B){if((k!=="stroke"||B||!N.call(this))&&(k==="stroke"||B||!g.call(this))){for(var W,X,te=[],J=this.path,Q=0;Q<J.length;Q++){var ie=J[Q];switch(ie.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ie,deltas:[],abs:[]});break;case"lt":var be=te.length;if(J[Q-1]&&!isNaN(J[Q-1].x)&&(W=[ie.x-J[Q-1].x,ie.y-J[Q-1].y],be>0)){for(;be>=0;be--)if(te[be-1].close!==!0&&te[be-1].begin!==!0){te[be-1].deltas.push(W),te[be-1].abs.push(ie);break}}break;case"bct":W=[ie.x1-J[Q-1].x,ie.y1-J[Q-1].y,ie.x2-J[Q-1].x,ie.y2-J[Q-1].y,ie.x-J[Q-1].x,ie.y-J[Q-1].y],te[te.length-1].deltas.push(W);break;case"qct":var je=J[Q-1].x+2/3*(ie.x1-J[Q-1].x),Ce=J[Q-1].y+2/3*(ie.y1-J[Q-1].y),Ie=ie.x+2/3*(ie.x1-ie.x),Ge=ie.y+2/3*(ie.y1-ie.y),ye=ie.x,G=ie.y;W=[je-J[Q-1].x,Ce-J[Q-1].y,Ie-J[Q-1].x,Ge-J[Q-1].y,ye-J[Q-1].x,G-J[Q-1].y],te[te.length-1].deltas.push(W);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ie)}}X=B?null:k==="stroke"?"stroke":"fill";for(var Qe=!1,Fe=0;Fe<te.length;Fe++)if(te[Fe].arc)for(var Ne=te[Fe].abs,Te=0;Te<Ne.length;Te++){var Me=Ne[Te];Me.type==="arc"?M.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,B,!Qe):K.call(this,Me.x,Me.y),Qe=!0}else if(te[Fe].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(te[Fe].begin!==!0){var De=te[Fe].start.x,Ze=te[Fe].start.y;F.call(this,te[Fe].deltas,De,Ze),Qe=!0}X&&ae.call(this,X),B&&Z.call(this)}},$=function(k){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-W;case"top":return k+B-W;case"hanging":return k+B-2*W;case"middle":return k+B/2-W;case"ideographic":return k;case"alphabetic":default:return k}},U=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(B,W){this.colorStops.push([B,W])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(k,B,W,X,te,J,Q,ie,be){for(var je=se.call(this,W,X,te,J),Ce=0;Ce<je.length;Ce++){var Ie=je[Ce];Ce===0&&(be?T.call(this,Ie.x1+k,Ie.y1+B):K.call(this,Ie.x1+k,Ie.y1+B)),ce.call(this,k,B,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ie?Z.call(this):ae.call(this,Q)},ae=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(k,B){this.pdf.internal.out(r(k)+" "+n(B)+" m")},R=function(k){var B;switch(k.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var W=this.pdf.getTextDimensions(k.text),X=$.call(this,k.y),te=U.call(this,X)-W.h,J=this.ctx.transform.applyToPoint(new a(k.x,X)),Q=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(Q.translate)).multiply(Q.skew)).multiply(Q.scale);for(var be,je,Ce,Ie=this.ctx.transform.applyToRectangle(new o(k.x,X,W.w,W.h)),Ge=ie.applyToRectangle(new o(k.x,te,W.w,W.h)),ye=j.call(this,Ge),G=[],Qe=0;Qe<ye.length;Qe+=1)G.indexOf(ye[Qe])===-1&&G.push(ye[Qe]);if(b(G),this.autoPaging)for(var Fe=G[0],Ne=G[G.length-1],Te=Fe;Te<Ne+1;Te++){this.pdf.setPage(Te);var Me=Te===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],it=Ze-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],vt=ct-this.margin[3],pt=Te===1?0:De+(Te-2)*it;if(this.ctx.clip_path.length!==0){var At=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(be,this.posX+this.margin[3],-1*pt+Me),q.call(this,"fill",!0),this.path=At}var nt=x([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-pt+Me+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*k.scale),Ce=this.lineWidth,this.lineWidth=Ce*k.scale);var yt=this.autoPaging!=="text";if(yt||nt.y+nt.h<=Ze){if(yt||nt.y>=Me&&nt.x<=ct){var Ue=yt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||ct-nt.x)[0],ve=x([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-pt+Me+this.ctx.prevPageLastElemOffset)[0],Se=yt&&(Te>Fe||Te<Ne)&&S.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,it,null).clip().discardPath()),this.pdf.text(Ue,ve.x,ve.y,{angle:k.angle,align:B,renderingMode:k.renderingMode}),Se&&this.pdf.restoreGraphicsState()}}else nt.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-nt.y);k.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Ce)}else k.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*k.scale),Ce=this.lineWidth,this.lineWidth=Ce*k.scale),this.pdf.text(k.text,J.x+this.posX,J.y+this.posY,{angle:k.angle,align:B,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Ce)},K=function(k,B,W,X){W=W||0,X=X||0,this.pdf.internal.out(r(k+W)+" "+n(B+X)+" l")},F=function(k,B,W){return this.pdf.lines(k,B,W,null,null)},ce=function(k,B,W,X,te,J,Q,ie){this.pdf.internal.out([e(s(W+k)),e(i(X+B)),e(s(te+k)),e(i(J+B)),e(s(Q+k)),e(i(ie+B)),"c"].join(" "))},se=function(k,B,W,X){for(var te=2*Math.PI,J=Math.PI/2;B>W;)B-=te;var Q=Math.abs(W-B);Q<te&&X&&(Q=te-Q);for(var ie=[],be=X?-1:1,je=B;Q>1e-5;){var Ce=je+be*Math.min(Q,J);ie.push(de.call(this,k,je,Ce)),Q-=Math.abs(Ce-je),je=Ce}return ie},de=function(k,B,W){var X=(W-B)/2,te=k*Math.cos(X),J=k*Math.sin(X),Q=te,ie=-J,be=Q*Q+ie*ie,je=be+Q*te+ie*J,Ce=4/3*(Math.sqrt(2*be*je)-je)/(Q*J-ie*te),Ie=Q-Ce*ie,Ge=ie+Ce*Q,ye=Ie,G=-Ge,Qe=X+B,Fe=Math.cos(Qe),Ne=Math.sin(Qe);return{x1:k*Math.cos(B),y1:k*Math.sin(B),x2:Ie*Fe-Ge*Ne,y2:Ie*Ne+Ge*Fe,x3:ye*Fe-G*Ne,y3:ye*Ne+G*Fe,x4:k*Math.cos(W),y4:k*Math.sin(W)}},V=function(k){return 180*k/Math.PI},oe=function(k,B,W,X,te,J){var Q=k+.5*(W-k),ie=B+.5*(X-B),be=te+.5*(W-te),je=J+.5*(X-J),Ce=Math.min(k,te,Q,be),Ie=Math.max(k,te,Q,be),Ge=Math.min(B,J,ie,je),ye=Math.max(B,J,ie,je);return new o(Ce,Ge,Ie-Ce,ye-Ge)},Y=function(k,B,W,X,te,J,Q,ie){var be,je,Ce,Ie,Ge,ye,G,Qe,Fe,Ne,Te,Me,De,Ze,it=W-k,ct=X-B,vt=te-W,pt=J-X,At=Q-te,nt=ie-J;for(je=0;je<41;je++)Fe=(G=(Ce=k+(be=je/40)*it)+be*((Ge=W+be*vt)-Ce))+be*(Ge+be*(te+be*At-Ge)-G),Ne=(Qe=(Ie=B+be*ct)+be*((ye=X+be*pt)-Ie))+be*(ye+be*(J+be*nt-ye)-Qe),je==0?(Te=Fe,Me=Ne,De=Fe,Ze=Ne):(Te=Math.min(Te,Fe),Me=Math.min(Me,Ne),De=Math.max(De,Fe),Ze=Math.max(Ze,Ne));return new o(Math.round(Te),Math.round(Me),Math.round(De-Te),Math.round(Ze-Me))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,B,W=(k=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:B}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(at.API),function(t){var e=function(i){var a,o,c,d,f,p,y,g,N,S;for(o=[],c=0,d=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(S=f%85))/85)-(N=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)%85,o.push(p+33,y+33,g+33,N+33,S+33)):o.push(122);return function(j,w){for(var x=w;x>0;x--)j.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var a,o,c,d,f,p=String,y="length",g=255,N="charCodeAt",S="slice",j="replace";for(i[S](-2),i=i[S](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],d=0,f=(i+=a="uuuuu"[S](i[y]%5||5))[y];f>d;d+=5)o=52200625*(i[N](d)-33)+614125*(i[N](d+1)-33)+7225*(i[N](d+2)-33)+85*(i[N](d+3)-33)+(i[N](d+4)-33),c.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(w,x){for(var b=x;b>0;b--)w.pop()}(c,a[y]),p.fromCharCode.apply(p,c)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=zm(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(i,a){var o=0,c=i||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,d,f){var p=new XMLHttpRequest,y=0,g=function(N){var S=N.length,j=[],w=String.fromCharCode;for(y=0;y<S;y+=1)j.push(w(255&N.charCodeAt(y)));return j.join("")};if(p.open("GET",c,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return g(p.responseText)}(s,i,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):ti(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):ti(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Dt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var c=document.createElement(a);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},i=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var g=d[y],N=g.src.find(function(S){return S.format==="truetype"});N&&c.addFont(N.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,c,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,c,d){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,f).then(function(p){return c.updateProgress(1),p})})},i.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(d,a,o);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,at.getPageSize=function(a,o,c){if(Dt(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var g,N=0,S=0;if(y.hasOwnProperty(p))N=y[p][1]/f,S=y[p][0]/f;else try{N=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",S>N&&(g=S,S=N,N=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>S&&(g=S,S=N,N=g)}return{width:S,height:N,unit:o,k:f,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Jm):null;var c=new i(o);return o.worker?c:c.from(a).doCallback()}}(at.API),at.API.addJS=function(t){return z2=t,this.internal.events.subscribe("postPutResources",function(){pd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),q2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+z2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pd!==void 0&&q2!==void 0&&this.internal.out("/Names <</JavaScript "+pd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var p=r.internal.newObject();f.push(p);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,a,o){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(p){for(var y,g=256*p.charCodeAt(4)+p.charCodeAt(5),N=p.length,S={width:0,height:0,numcomponents:1},j=4;j<N;j+=2){if(j+=g,e.indexOf(p.charCodeAt(j+1))!==-1){y=256*p.charCodeAt(j+5)+p.charCodeAt(j+6),S={width:256*p.charCodeAt(j+7)+p.charCodeAt(j+8),height:y,numcomponents:p.charCodeAt(j+9)};break}g=256*p.charCodeAt(j+2)+p.charCodeAt(j+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(at.API);var bo,md,$2,W2,H2,sk=function(){var t,e,r;function n(i){var a,o,c,d,f,p,y,g,N,S,j,w,x,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),N=(function(){var I,q;for(q=[],I=0;I<4;++I)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,a-=4),i=(p!=null?p.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(x=0;0<=S?x<S:x>S;0<=S?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(j=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,j.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,j.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(p,y,g,N){var S,j,w,x,b,I,q,$,U,M,ae,Z,T,R,K,F,ce,se,de,V,oe,Y=Math.ceil((d.width-p)/g),ge=Math.ceil((d.height-y)/N),k=d.width==Y&&d.height==ge;for(R=a*Y,Z=k?o:new Uint8Array(R*ge),I=i.length,T=0,j=0;T<ge&&c<I;){switch(i[c++]){case 0:for(x=ce=0;ce<R;x=ce+=1)Z[j++]=i[c++];break;case 1:for(x=se=0;se<R;x=se+=1)S=i[c++],b=x<a?0:Z[j-a],Z[j++]=(S+b)%256;break;case 2:for(x=de=0;de<R;x=de+=1)S=i[c++],w=(x-x%a)/a,K=T&&Z[(T-1)*R+w*a+x%a],Z[j++]=(K+S)%256;break;case 3:for(x=V=0;V<R;x=V+=1)S=i[c++],w=(x-x%a)/a,b=x<a?0:Z[j-a],K=T&&Z[(T-1)*R+w*a+x%a],Z[j++]=(S+Math.floor((b+K)/2))%256;break;case 4:for(x=oe=0;oe<R;x=oe+=1)S=i[c++],w=(x-x%a)/a,b=x<a?0:Z[j-a],T===0?K=F=0:(K=Z[(T-1)*R+w*a+x%a],F=w&&Z[(T-1)*R+(w-1)*a+x%a]),q=b+K-F,$=Math.abs(q-b),M=Math.abs(q-K),ae=Math.abs(q-F),U=$<=M&&$<=ae?b:M<=ae?K:F,Z[j++]=(S+U)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!k){var B=((y+T*N)*d.width+p)*a,W=T*R;for(x=0;x<Y;x+=1){for(var X=0;X<a;X+=1)o[B++]=Z[W++];B+=(g-1)*a}}T++}}return i=Fj(i),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var i,a,o,c,d,f,p,y,g;for(o=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+o.length),c=0,i=0,a=p=0,y=o.length;p<y;a=p+=3)d[c++]=o[a],d[c++]=o[a+1],d[c++]=o[a+2],d[c++]=(g=f[i++])!=null?g:255;return d},n.prototype.copyToImageData=function(i,a){var o,c,d,f,p,y,g,N,S,j,w;if(c=this.colors,S=null,o=this.hasAlphaChannel,this.palette.length&&(S=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,o=!0),N=(d=i.data||i).length,p=S||a,f=y=0,c===1)for(;f<N;)g=S?4*a[f/4]:y,j=p[g++],d[f++]=j,d[f++]=j,d[f++]=j,d[f++]=o?p[g++]:255,y=g;else for(;f<N;)g=S?4*a[f/4]:y,d[f++]=p[g++],d[f++]=p[g++],d[f++]=p[g++],d[f++]=o?p[g++]:255,y=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,o,c,d,f,p,y,g;if(this.animation){for(g=[],o=f=0,p=(y=this.animation.frames).length;f<p;o=++f)a=y[o],c=i.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,g.push(a.image=t(c));return g}},n.prototype.renderFrame=function(i,a){var o,c,d;return o=(c=this.animation.frames)[a],d=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var a,o,c,d,f,p,y=this;return o=0,p=this.animation,d=p.numFrames,c=p.frames,f=p.numPlays,(a=function(){var g,N;if(g=o++%d,N=c[g],y.renderFrame(i,g),d>1&&o/d<f)return y.animation._timeout=setTimeout(a,N.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ik(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<(7&s)+1;t[e++],t[e++];var o=null,c=null;i&&(o=e,c=a,e+=3*a);var d=!0,f=[],p=0,y=null,g=0,N=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];p=t[e++]|t[e++]<<8,y=t[e++],!(1&S)&&(y=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,I=t[e++],q=I>>6&1,$=1<<(7&I)+1,U=o,M=c,ae=!1;I>>7&&(ae=!0,U=e,M=$,e+=3*$);var Z=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}f.push({x:j,y:w,width:x,height:b,has_local_palette:ae,palette_offset:U,palette_size:M,data_offset:Z,data_length:e-Z,transparent_index:y,interlaced:!!q,delay:p,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return N},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,K){var F=this.frameInfo(R),ce=F.width*F.height,se=new Uint8Array(ce);V2(t,F.data_offset,se,ce);var de=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var oe=F.width,Y=r-oe,ge=oe,k=4*(F.y*r+F.x),B=4*((F.y+F.height)*r+F.x),W=k,X=4*Y;F.interlaced===!0&&(X+=4*r*7);for(var te=8,J=0,Q=se.length;J<Q;++J){var ie=se[J];if(ge===0&&(ge=oe,(W+=X)>=B&&(X=4*Y+4*r*(te-1),W=k+(oe+Y)*(te<<1),te>>=1)),ie===V)W+=4;else{var be=t[de+3*ie],je=t[de+3*ie+1],Ce=t[de+3*ie+2];K[W++]=Ce,K[W++]=je,K[W++]=be,K[W++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(R,K){var F=this.frameInfo(R),ce=F.width*F.height,se=new Uint8Array(ce);V2(t,F.data_offset,se,ce);var de=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var oe=F.width,Y=r-oe,ge=oe,k=4*(F.y*r+F.x),B=4*((F.y+F.height)*r+F.x),W=k,X=4*Y;F.interlaced===!0&&(X+=4*r*7);for(var te=8,J=0,Q=se.length;J<Q;++J){var ie=se[J];if(ge===0&&(ge=oe,(W+=X)>=B&&(X=4*Y+4*r*(te-1),W=k+(oe+Y)*(te<<1),te>>=1)),ie===V)W+=4;else{var be=t[de+3*ie],je=t[de+3*ie+1],Ce=t[de+3*ie+2];K[W++]=be,K[W++]=je,K[W++]=Ce,K[W++]=255}--ge}}}function V2(t,e,r,n){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,c=s+1,d=(1<<c)-1,f=0,p=0,y=0,g=t[e++],N=new Int32Array(4096),S=null;;){for(;f<16&&g!==0;)p|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<c)break;var j=p&d;if(p>>=c,f-=c,j!==i){if(j===a)break;for(var w=j<o?j:S,x=0,b=w;b>i;)b=N[b]>>8,++x;var I=b;if(y+x+(w!==j?1:0)>n)return void $t.log("Warning, gif stream longer than expected.");r[y++]=I;var q=y+=x;for(w!==j&&(r[y++]=I),b=w;x--;)b=N[b],r[--q]=255&b,b>>=8;S!==null&&o<4096&&(N[o++]=S<<8|I,o>=d+1&&c<12&&(++c,d=d<<1|1)),S=j}else o=a+1,d=(1<<(c=s+1))-1,S=null}return y!==n&&$t.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jp(t){var e,r,n,s,i,a=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),y=new Array(65535),g=new Array(64),N=new Array(64),S=[],j=0,w=7,x=new Array(64),b=new Array(64),I=new Array(64),q=new Array(256),$=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(k,B){for(var W=0,X=0,te=new Array,J=1;J<=16;J++){for(var Q=1;Q<=k[J];Q++)te[B[X]]=[],te[B[X]][0]=W,te[B[X]][1]=J,X++,W++;W*=2}return te}function de(k){for(var B=k[0],W=k[1]-1;W>=0;)B&1<<W&&(j|=1<<w),W--,--w<0&&(j==255?(V(255),V(0)):V(j),w=7,j=0)}function V(k){S.push(k)}function oe(k){V(k>>8&255),V(255&k)}function Y(k,B,W,X,te){for(var J,Q=te[0],ie=te[240],be=function(Ne,Te){var Me,De,Ze,it,ct,vt,pt,At,nt,yt,Ue=0;for(nt=0;nt<8;++nt){Me=Ne[Ue],De=Ne[Ue+1],Ze=Ne[Ue+2],it=Ne[Ue+3],ct=Ne[Ue+4],vt=Ne[Ue+5],pt=Ne[Ue+6];var ve=Me+(At=Ne[Ue+7]),Se=Me-At,Ve=De+pt,$e=De-pt,me=Ze+vt,mt=Ze-vt,ot=it+ct,ar=it-ct,dt=ve+ot,Oe=ve-ot,Ke=Ve+me,Xe=Ve-me;Ne[Ue]=dt+Ke,Ne[Ue+4]=dt-Ke;var qe=.707106781*(Xe+Oe);Ne[Ue+2]=Oe+qe,Ne[Ue+6]=Oe-qe;var rt=.382683433*((dt=ar+mt)-(Xe=$e+Se)),Wt=.5411961*dt+rt,Lt=1.306562965*Xe+rt,jr=.707106781*(Ke=mt+$e),rn=Se+jr,tt=Se-jr;Ne[Ue+5]=tt+Wt,Ne[Ue+3]=tt-Wt,Ne[Ue+1]=rn+Lt,Ne[Ue+7]=rn-Lt,Ue+=8}for(Ue=0,nt=0;nt<8;++nt){Me=Ne[Ue],De=Ne[Ue+8],Ze=Ne[Ue+16],it=Ne[Ue+24],ct=Ne[Ue+32],vt=Ne[Ue+40],pt=Ne[Ue+48];var jt=Me+(At=Ne[Ue+56]),Pt=Me-At,Ht=De+pt,Rt=De-pt,qt=Ze+vt,Zt=Ze-vt,An=it+ct,or=it-ct,er=jt+An,nn=jt-An,Ln=Ht+qt,qn=Ht-qt;Ne[Ue]=er+Ln,Ne[Ue+32]=er-Ln;var Er=.707106781*(qn+nn);Ne[Ue+16]=nn+Er,Ne[Ue+48]=nn-Er;var _s=.382683433*((er=or+Zt)-(qn=Rt+Pt)),ra=.5411961*er+_s,Ba=1.306562965*qn+_s,Ua=.707106781*(Ln=Zt+Rt),qa=Pt+Ua,za=Pt-Ua;Ne[Ue+40]=za+ra,Ne[Ue+24]=za-ra,Ne[Ue+8]=qa+Ba,Ne[Ue+56]=qa-Ba,Ue++}for(nt=0;nt<64;++nt)yt=Ne[nt]*Te[nt],g[nt]=yt>0?yt+.5|0:yt-.5|0;return g}(k,B),je=0;je<64;++je)N[U[je]]=be[je];var Ce=N[0]-W;W=N[0],Ce==0?de(X[0]):(de(X[y[J=32767+Ce]]),de(p[J]));for(var Ie=63;Ie>0&&N[Ie]==0;)Ie--;if(Ie==0)return de(Q),W;for(var Ge,ye=1;ye<=Ie;){for(var G=ye;N[ye]==0&&ye<=Ie;)++ye;var Qe=ye-G;if(Qe>=16){Ge=Qe>>4;for(var Fe=1;Fe<=Ge;++Fe)de(ie);Qe&=15}J=32767+N[ye],de(te[(Qe<<4)+y[J]]),de(p[J]),ye++}return Ie!=63&&de(Q),W}function ge(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(B){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var te=a((W[X]*B+50)/100);te=Math.min(Math.max(te,1),255),o[U[X]]=te}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var ie=a((J[Q]*B+50)/100);ie=Math.min(Math.max(ie,1),255),c[U[Q]]=ie}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Ce=0;Ce<8;Ce++)for(var Ie=0;Ie<8;Ie++)d[je]=1/(o[U[je]]*be[Ce]*be[Ie]*8),f[je]=1/(c[U[je]]*be[Ce]*be[Ie]*8),je++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,B){B&&ge(B),S=new Array,j=0,w=7,oe(65496),oe(65504),oe(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),oe(1),oe(1),V(0),V(0),function(){oe(65499),oe(132),V(0);for(var De=0;De<64;De++)V(o[De]);V(1);for(var Ze=0;Ze<64;Ze++)V(c[Ze])}(),function(De,Ze){oe(65472),oe(17),V(8),oe(Ze),oe(De),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(k.width,k.height),function(){oe(65476),oe(418),V(0);for(var De=0;De<16;De++)V(M[De+1]);for(var Ze=0;Ze<=11;Ze++)V(ae[Ze]);V(16);for(var it=0;it<16;it++)V(Z[it+1]);for(var ct=0;ct<=161;ct++)V(T[ct]);V(1);for(var vt=0;vt<16;vt++)V(R[vt+1]);for(var pt=0;pt<=11;pt++)V(K[pt]);V(17);for(var At=0;At<16;At++)V(F[At+1]);for(var nt=0;nt<=161;nt++)V(ce[nt])}(),oe(65498),oe(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var W=0,X=0,te=0;j=0,w=7,this.encode.displayName="_encode_";for(var J,Q,ie,be,je,Ce,Ie,Ge,ye,G=k.data,Qe=k.width,Fe=k.height,Ne=4*Qe,Te=0;Te<Fe;){for(J=0;J<Ne;){for(je=Ne*Te+J,Ie=-1,Ge=0,ye=0;ye<64;ye++)Ce=je+(Ge=ye>>3)*Ne+(Ie=4*(7&ye)),Te+Ge>=Fe&&(Ce-=Ne*(Te+1+Ge-Fe)),J+Ie>=Ne&&(Ce-=J+Ie-Ne+4),Q=G[Ce++],ie=G[Ce++],be=G[Ce++],x[ye]=($[Q]+$[ie+256>>0]+$[be+512>>0]>>16)-128,b[ye]=($[Q+768>>0]+$[ie+1024>>0]+$[be+1280>>0]>>16)-128,I[ye]=($[Q+1280>>0]+$[ie+1536>>0]+$[be+1792>>0]>>16)-128;W=Y(x,d,W,e,n),X=Y(b,f,X,r,s),te=Y(I,f,te,r,s),J+=32}Te+=8}if(w>=0){var Me=[];Me[1]=w+1,Me[0]=(1<<w+1)-1,de(Me)}return oe(65497),new Uint8Array(S)},t=t||50,function(){for(var k=String.fromCharCode,B=0;B<256;B++)q[B]=k(B)}(),e=se(M,ae),r=se(R,K),n=se(Z,T),s=se(F,ce),function(){for(var k=1,B=2,W=1;W<=15;W++){for(var X=k;X<B;X++)y[32767+X]=W,p[32767+X]=[],p[32767+X][1]=W,p[32767+X][0]=X;for(var te=-(B-1);te<=-k;te++)y[32767+te]=W,p[32767+te]=[],p[32767+te][1]=W,p[32767+te][0]=B-1+te;k<<=1,B<<=1}}(),function(){for(var k=0;k<256;k++)$[k]=19595*k,$[k+256>>0]=38470*k,$[k+512>>0]=7471*k+32768,$[k+768>>0]=-11059*k,$[k+1024>>0]=-21709*k,$[k+1280>>0]=32768*k+8421375,$[k+1536>>0]=-27439*k,$[k+1792>>0]=-5329*k}(),ge(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function cs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function G2(t){function e(M){if(!M)throw Error("assert :P")}function r(M,ae,Z){for(var T=0;4>T;T++)if(M[ae+T]!=Z.charCodeAt(T))return!0;return!1}function n(M,ae,Z,T,R){for(var K=0;K<R;K++)M[ae+K]=Z[T+K]}function s(M,ae,Z,T){for(var R=0;R<T;R++)M[ae+R]=Z}function i(M){return new Int32Array(M)}function a(M,ae){for(var Z=[],T=0;T<M;T++)Z.push(new ae);return Z}function o(M,ae){var Z=[];return function T(R,K,F){for(var ce=F[K],se=0;se<ce&&(R.push(F.length>K+1?[]:new ae),!(F.length<K+1));se++)T(R[se],K+1,F)}(Z,0,M),Z}var c=function(){var M=this;function ae(l,h){for(var v=1<<h-1>>>0;l&v;)v>>>=1;return v?(l&v-1)+v:l}function Z(l,h,v,_,A){e(!(_%v));do l[h+(_-=v)]=A;while(0<_)}function T(l,h,v,_,A){if(e(2328>=A),512>=A)var P=i(512);else if((P=i(A))==null)return 0;return function(C,E,O,z,re,fe){var pe,ue,Le=E,xe=1<<O,ne=i(16),le=i(16);for(e(re!=0),e(z!=null),e(C!=null),e(0<O),ue=0;ue<re;++ue){if(15<z[ue])return 0;++ne[z[ue]]}if(ne[0]==re)return 0;for(le[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;le[pe+1]=le[pe]+ne[pe]}for(ue=0;ue<re;++ue)pe=z[ue],0<z[ue]&&(fe[le[pe]++]=ue);if(le[15]==1)return(z=new R).g=0,z.value=fe[0],Z(C,Le,1,xe,z),xe;var ke,Pe=-1,Ae=xe-1,He=0,Be=1,st=1,ze=1<<O;for(ue=0,pe=1,re=2;pe<=O;++pe,re<<=1){if(Be+=st<<=1,0>(st-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])(z=new R).g=pe,z.value=fe[ue++],Z(C,Le+He,re,ze,z),He=ae(He,pe)}for(pe=O+1,re=2;15>=pe;++pe,re<<=1){if(Be+=st<<=1,0>(st-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if(z=new R,(He&Ae)!=Pe){for(Le+=ze,ke=1<<(Pe=pe)-O;15>Pe&&!(0>=(ke-=ne[Pe]));)++Pe,ke<<=1;xe+=ze=1<<(ke=Pe-O),C[E+(Pe=He&Ae)].g=ke+O,C[E+Pe].value=Le-E-Pe}z.g=pe-O,z.value=fe[ue++],Z(C,Le+(He>>O),re,ze,z),He=ae(He,pe)}}return Be!=2*le[15]-1?0:xe}(l,h,v,_,A,P)}function R(){this.value=this.g=0}function K(){this.value=this.g=0}function F(){this.G=a(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Dr,K)}function ce(l,h,v,_){e(l!=null),e(h!=null),e(2147483648>_),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=h,l.pa=v,l.Jd=h,l.Yc=v+_,l.Zc=4<=_?v+_-4+1:v,J(l)}function se(l,h){for(var v=0;0<h--;)v|=ie(l,128)<<h;return v}function de(l,h){var v=se(l,h);return Q(l)?-v:v}function V(l,h,v,_){var A,P=0;for(e(l!=null),e(h!=null),e(4294967288>_),l.Sb=_,l.Ra=0,l.u=0,l.h=0,4<_&&(_=4),A=0;A<_;++A)P+=h[v+A]<<8*A;l.Ra=P,l.bb=_,l.oa=h,l.pa=v}function oe(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<no-8>>>0,++l.bb,l.u-=8;W(l)&&(l.h=1,l.u=0)}function Y(l,h){if(e(0<=h),!l.h&&h<=ro){var v=B(l)&to[h];return l.u+=h,oe(l),v}return l.h=1,l.u=0}function ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(l){return l.Ra>>>(l.u&no-1)>>>0}function W(l){return e(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>no}function X(l,h){l.u=h,l.h=W(l)}function te(l){l.u>=Tl&&(e(l.u>=Tl),oe(l))}function J(l){e(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(e(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function Q(l){return se(l,1)}function ie(l,h){var v=l.Ca;0>l.b&&J(l);var _=l.b,A=v*h>>>8,P=(l.I>>>_>A)+0;for(P?(v-=A,l.I-=A+1<<_>>>0):v=A+1,_=v,A=0;256<=_;)A+=8,_>>=8;return _=7^A+pn[_],l.b-=_,l.Ca=(v<<_)-1,P}function be(l,h,v){l[h+0]=v>>24&255,l[h+1]=v>>16&255,l[h+2]=v>>8&255,l[h+3]=v>>0&255}function je(l,h){return l[h+0]<<0|l[h+1]<<8}function Ce(l,h){return je(l,h)|l[h+2]<<16}function Ie(l,h){return je(l,h)|je(l,h+2)<<16}function Ge(l,h){var v=1<<h;return e(l!=null),e(0<h),l.X=i(v),l.X==null?0:(l.Mb=32-h,l.Xa=h,1)}function ye(l,h){e(l!=null),e(h!=null),e(l.Xa==h.Xa),n(h.X,0,l.X,0,1<<h.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function Qe(l,h,v,_){e(v!=null),e(_!=null);var A=v[0],P=_[0];return A==0&&(A=(l*P+h/2)/h),P==0&&(P=(h*A+l/2)/l),0>=A||0>=P?0:(v[0]=A,_[0]=P,1)}function Fe(l,h){return l+(1<<h)-1>>>h}function Ne(l,h){return((4278255360&l)+(4278255360&h)>>>0&4278255360)+((16711935&l)+(16711935&h)>>>0&16711935)>>>0}function Te(l,h){M[h]=function(v,_,A,P,C,E,O){var z;for(z=0;z<C;++z){var re=M[l](E[O+z-1],A,P+z);E[O+z]=Ne(v[_+z],re)}}}function Me(){this.ud=this.hd=this.jd=0}function De(l,h){return((4278124286&(l^h))>>>1)+(l&h)>>>0}function Ze(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function it(l,h){return Ze(l+(l-h+.5>>1))}function ct(l,h,v){return Math.abs(h-v)-Math.abs(l-v)}function vt(l,h,v,_,A,P,C){for(_=P[C-1],v=0;v<A;++v)P[C+v]=_=Ne(l[h+v],_)}function pt(l,h,v,_,A){var P;for(P=0;P<v;++P){var C=l[h+P],E=C>>8&255,O=16711935&(O=(O=16711935&C)+((E<<16)+E));_[A+P]=(4278255360&C)+O>>>0}}function At(l,h){h.jd=l>>0&255,h.hd=l>>8&255,h.ud=l>>16&255}function nt(l,h,v,_,A,P){var C;for(C=0;C<_;++C){var E=h[v+C],O=E>>>8,z=E,re=255&(re=(re=E>>>16)+((l.jd<<24>>24)*(O<<24>>24)>>>5));z=255&(z=(z=z+((l.hd<<24>>24)*(O<<24>>24)>>>5))+((l.ud<<24>>24)*(re<<24>>24)>>>5)),A[P+C]=(4278255360&E)+(re<<16)+z}}function yt(l,h,v,_,A){M[h]=function(P,C,E,O,z,re,fe,pe,ue){for(O=fe;O<pe;++O)for(fe=0;fe<ue;++fe)z[re++]=A(E[_(P[C++])])},M[l]=function(P,C,E,O,z,re,fe){var pe=8>>P.b,ue=P.Ea,Le=P.K[0],xe=P.w;if(8>pe)for(P=(1<<P.b)-1,xe=(1<<pe)-1;C<E;++C){var ne,le=0;for(ne=0;ne<ue;++ne)ne&P||(le=_(O[z++])),re[fe++]=A(Le[le&xe]),le>>=pe}else M["VP8LMapColor"+v](O,z,Le,xe,re,fe,C,E,ue)}}function Ue(l,h,v,_,A){for(v=h+v;h<v;){var P=l[h++];_[A++]=P>>16&255,_[A++]=P>>8&255,_[A++]=P>>0&255}}function ve(l,h,v,_,A){for(v=h+v;h<v;){var P=l[h++];_[A++]=P>>16&255,_[A++]=P>>8&255,_[A++]=P>>0&255,_[A++]=P>>24&255}}function Se(l,h,v,_,A){for(v=h+v;h<v;){var P=(C=l[h++])>>16&240|C>>12&15,C=C>>0&240|C>>28&15;_[A++]=P,_[A++]=C}}function Ve(l,h,v,_,A){for(v=h+v;h<v;){var P=(C=l[h++])>>16&248|C>>13&7,C=C>>5&224|C>>3&31;_[A++]=P,_[A++]=C}}function $e(l,h,v,_,A){for(v=h+v;h<v;){var P=l[h++];_[A++]=P>>0&255,_[A++]=P>>8&255,_[A++]=P>>16&255}}function me(l,h,v,_,A,P){if(P==0)for(v=h+v;h<v;)be(_,((P=l[h++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),A+=32;else n(_,A,l,h,v)}function mt(l,h){M[h][0]=M[l+"0"],M[h][1]=M[l+"1"],M[h][2]=M[l+"2"],M[h][3]=M[l+"3"],M[h][4]=M[l+"4"],M[h][5]=M[l+"5"],M[h][6]=M[l+"6"],M[h][7]=M[l+"7"],M[h][8]=M[l+"8"],M[h][9]=M[l+"9"],M[h][10]=M[l+"10"],M[h][11]=M[l+"11"],M[h][12]=M[l+"12"],M[h][13]=M[l+"13"],M[h][14]=M[l+"0"],M[h][15]=M[l+"0"]}function ot(l){return l==vf||l==yf||l==Eu||l==wf}function ar(){this.eb=[],this.size=this.A=this.fb=0}function dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ar,this.f.kb=new dt,this.sd=null}function Ke(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qe(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function rt(l,h){var v=l.T,_=h.ba.f.RGBA,A=_.eb,P=_.fb+l.ka*_.A,C=Gn[h.ba.S],E=l.y,O=l.O,z=l.f,re=l.N,fe=l.ea,pe=l.W,ue=h.cc,Le=h.dc,xe=h.Mc,ne=h.Nc,le=l.ka,ke=l.ka+l.T,Pe=l.U,Ae=Pe+1>>1;for(le==0?C(E,O,null,null,z,re,fe,pe,z,re,fe,pe,A,P,null,null,Pe):(C(h.ec,h.fc,E,O,ue,Le,xe,ne,z,re,fe,pe,A,P-_.A,A,P,Pe),++v);le+2<ke;le+=2)ue=z,Le=re,xe=fe,ne=pe,re+=l.Rc,pe+=l.Rc,P+=2*_.A,C(E,(O+=2*l.fa)-l.fa,E,O,ue,Le,xe,ne,z,re,fe,pe,A,P-_.A,A,P,Pe);return O+=l.fa,l.j+ke<l.o?(n(h.ec,h.fc,E,O,Pe),n(h.cc,h.dc,z,re,Ae),n(h.Mc,h.Nc,fe,pe,Ae),v--):1&ke||C(E,O,null,null,z,re,fe,pe,z,re,fe,pe,A,P+_.A,null,null,Pe),v}function Wt(l,h,v){var _=l.F,A=[l.J];if(_!=null){var P=l.U,C=h.ba.S,E=C==Cu||C==Eu;h=h.ba.f.RGBA;var O=[0],z=l.ka;O[0]=l.T,l.Kb&&(z==0?--O[0]:(--z,A[0]-=l.width),l.j+l.ka+l.T==l.o&&(O[0]=l.o-l.j-z));var re=h.eb;z=h.fb+z*h.A,l=Gt(_,A[0],l.width,P,O,re,z+(E?0:3),h.A),e(v==O),l&&ot(C)&&Hn(re,z,E,P,O,h.A)}return 0}function Lt(l){var h=l.ma,v=h.ba.S,_=11>v,A=v==Lu||v==Pu||v==Cu||v==gf||v==12||ot(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Cl(h.Oa,l,A?11:12))return 0;if(A&&ot(v)&&Ee(),l.da)alert("todo:use_scaling");else{if(_){if(h.Ib=qe,l.Kb){if(v=l.U+1>>1,h.memory=i(l.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+l.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=rt,Ee()}}else alert("todo:EmitYUV");A&&(h.Jb=Wt,_&&he())}if(_&&!pg){for(l=0;256>l;++l)tx[l]=89858*(l-128)+Iu>>Tu,sx[l]=-22014*(l-128)+Iu,nx[l]=-45773*(l-128),rx[l]=113618*(l-128)+Iu>>Tu;for(l=Bl;l<_f;++l)h=76283*(l-16)+Iu>>Tu,ix[l-Bl]=Pn(h,255),ax[l-Bl]=Pn(h+8>>4,15);pg=1}return 1}function jr(l){var h=l.ma,v=l.U,_=l.T;return e(!(1&l.ka)),0>=v||0>=_?0:(v=h.Ib(l,h),h.Jb!=null&&h.Jb(l,h,v),h.Dc+=v,1)}function rn(l){l.ma.memory=null}function tt(l,h,v,_){return Y(l,8)!=47?0:(h[0]=Y(l,14)+1,v[0]=Y(l,14)+1,_[0]=Y(l,1),Y(l,3)!=0?0:!l.h)}function jt(l,h){if(4>l)return l+1;var v=l-2>>1;return(2+(1&l)<<v)+Y(h,v)+1}function Pt(l,h){return 120<h?h-120:1<=(v=((v=qw[h-1])>>4)*l+(8-(15&v)))?v:1;var v}function Ht(l,h,v){var _=B(v),A=l[h+=255&_].g-8;return 0<A&&(X(v,v.u+8),_=B(v),h+=l[h].value,h+=_&(1<<A)-1),X(v,v.u+l[h].g),l[h].value}function Rt(l,h,v){return v.g+=l.g,v.value+=l.value<<h>>>0,e(8>=v.g),l.g}function qt(l,h,v){var _=l.xc;return e((h=_==0?0:l.vc[l.md*(v>>_)+(h>>_)])<l.Wb),l.Ya[h]}function Zt(l,h,v,_){var A=l.ab,P=l.c*h,C=l.C;h=C+h;var E=v,O=_;for(_=l.Ta,v=l.Ua;0<A--;){var z=l.gc[A],re=C,fe=h,pe=E,ue=O,Le=(O=_,E=v,z.Ea);switch(e(re<fe),e(fe<=z.nc),z.hc){case 2:bu(pe,ue,(fe-re)*Le,O,E);break;case 0:var xe=re,ne=fe,le=O,ke=E,Pe=(ze=z).Ea;xe==0&&(pf(pe,ue,null,null,1,le,ke),vt(pe,ue+1,0,0,Pe-1,le,ke+1),ue+=Pe,ke+=Pe,++xe);for(var Ae=1<<ze.b,He=Ae-1,Be=Fe(Pe,ze.b),st=ze.K,ze=ze.w+(xe>>ze.b)*Be;xe<ne;){var It=st,Ot=ze,Ct=1;for(Il(pe,ue,le,ke-Pe,1,le,ke);Ct<Pe;){var St=(Ct&~He)+Ae;St>Pe&&(St=Pe),(0,di[It[Ot++]>>8&15])(pe,ue+ +Ct,le,ke+Ct-Pe,St-Ct,le,ke+Ct),Ct=St}ue+=Pe,ke+=Pe,++xe&He||(ze+=Be)}fe!=z.nc&&n(O,E-Le,O,E+(fe-re-1)*Le,Le);break;case 1:for(Le=pe,ne=ue,Pe=(pe=z.Ea)-(ke=pe&~(le=(ue=1<<z.b)-1)),xe=Fe(pe,z.b),Ae=z.K,z=z.w+(re>>z.b)*xe;re<fe;){for(He=Ae,Be=z,st=new Me,ze=ne+ke,It=ne+pe;ne<ze;)At(He[Be++],st),oa(st,Le,ne,ue,O,E),ne+=ue,E+=ue;ne<It&&(At(He[Be++],st),oa(st,Le,ne,Pe,O,E),ne+=Pe,E+=Pe),++re&le||(z+=xe)}break;case 3:if(pe==O&&ue==E&&0<z.b){for(ne=O,pe=Le=E+(fe-re)*Le-(ke=(fe-re)*Fe(z.Ea,z.b)),ue=O,le=E,xe=[],ke=(Pe=ke)-1;0<=ke;--ke)xe[ke]=ue[le+ke];for(ke=Pe-1;0<=ke;--ke)ne[pe+ke]=xe[ke];zn(z,re,fe,O,Le,O,E)}else zn(z,re,fe,pe,ue,O,E)}E=_,O=v}O!=v&&n(_,v,E,O,P)}function An(l,h){var v=l.V,_=l.Ba+l.c*l.C,A=h-l.C;if(e(h<=l.l.o),e(16>=A),0<A){var P=l.l,C=l.Ta,E=l.Ua,O=P.width;if(Zt(l,A,v,_),A=E=[E],e((v=l.C)<(_=h)),e(P.v<P.va),_>P.o&&(_=P.o),v<P.j){var z=P.j-v;v=P.j,A[0]+=z*O}if(v>=_?v=0:(A[0]+=4*P.v,P.ka=v-P.j,P.U=P.va-P.v,P.T=_-v,v=1),v){if(E=E[0],11>(v=l.ca).S){var re=v.f.RGBA,fe=(_=v.S,A=P.U,P=P.T,z=re.eb,re.A),pe=P;for(re=re.fb+l.Ma*re.A;0<pe--;){var ue=C,Le=E,xe=A,ne=z,le=re;switch(_){case Au:mn(ue,Le,xe,ne,le);break;case Lu:sn(ue,Le,xe,ne,le);break;case vf:sn(ue,Le,xe,ne,le),Hn(ne,le,0,xe,1,0);break;case ig:qs(ue,Le,xe,ne,le);break;case Pu:me(ue,Le,xe,ne,le,1);break;case yf:me(ue,Le,xe,ne,le,1),Hn(ne,le,0,xe,1,0);break;case Cu:me(ue,Le,xe,ne,le,0);break;case Eu:me(ue,Le,xe,ne,le,0),Hn(ne,le,1,xe,1,0);break;case gf:hi(ue,Le,xe,ne,le);break;case wf:hi(ue,Le,xe,ne,le),Vt(ne,le,xe,1,0);break;case ag:Us(ue,Le,xe,ne,le);break;default:e(0)}E+=O,re+=fe}l.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(l.Ma<=v.height)}}l.C=h,e(l.C<=l.i)}function or(l){var h;if(0<l.ua)return 0;for(h=0;h<l.Wb;++h){var v=l.Ya[h].G,_=l.Ya[h].H;if(0<v[1][_[1]+0].g||0<v[2][_[2]+0].g||0<v[3][_[3]+0].g)return 0}return 1}function er(l,h,v,_,A,P){if(l.Z!=0){var C=l.qd,E=l.rd;for(e(gi[l.Z]!=null);h<v;++h)gi[l.Z](C,E,_,A,_,A,P),C=_,E=A,A+=P;l.qd=C,l.rd=E}}function nn(l,h){var v=l.l.ma,_=v.Z==0||v.Z==1?l.l.j:l.C;if(_=l.C<_?_:l.C,e(h<=l.l.o),h>_){var A=l.l.width,P=v.ca,C=v.tb+A*_,E=l.V,O=l.Ba+l.c*_,z=l.gc;e(l.ab==1),e(z[0].hc==3),_u(z[0],_,h,E,O,P,C),er(v,_,h,P,C,A)}l.C=l.Ma=h}function Ln(l,h,v,_,A,P,C){var E=l.$/_,O=l.$%_,z=l.m,re=l.s,fe=v+l.$,pe=fe;A=v+_*A;var ue=v+_*P,Le=280+re.ua,xe=l.Pb?E:16777216,ne=0<re.ua?re.Wa:null,le=re.wc,ke=fe<ue?qt(re,O,E):null;e(l.C<P),e(ue<=A);var Pe=!1;e:for(;;){for(;Pe||fe<ue;){var Ae=0;if(E>=xe){var He=fe-v;e((xe=l).Pb),xe.wd=xe.m,xe.xd=He,0<xe.s.ua&&ye(xe.s.Wa,xe.s.vb),xe=E+$w}if(O&le||(ke=qt(re,O,E)),e(ke!=null),ke.Qb&&(h[fe]=ke.qb,Pe=!0),!Pe)if(te(z),ke.jc){Ae=z,He=h;var Be=fe,st=ke.pd[B(Ae)&Dr-1];e(ke.jc),256>st.g?(X(Ae,Ae.u+st.g),He[Be]=st.value,Ae=0):(X(Ae,Ae.u+st.g-256),e(256<=st.value),Ae=st.value),Ae==0&&(Pe=!0)}else Ae=Ht(ke.G[0],ke.H[0],z);if(z.h)break;if(Pe||256>Ae){if(!Pe)if(ke.nd)h[fe]=(ke.qb|Ae<<8)>>>0;else{if(te(z),Pe=Ht(ke.G[1],ke.H[1],z),te(z),He=Ht(ke.G[2],ke.H[2],z),Be=Ht(ke.G[3],ke.H[3],z),z.h)break;h[fe]=(Be<<24|Pe<<16|Ae<<8|He)>>>0}if(Pe=!1,++fe,++O>=_&&(O=0,++E,C!=null&&E<=P&&!(E%16)&&C(l,E),ne!=null))for(;pe<fe;)Ae=h[pe++],ne.X[(506832829*Ae&4294967295)>>>ne.Mb]=Ae}else if(280>Ae){if(Ae=jt(Ae-256,z),He=Ht(ke.G[4],ke.H[4],z),te(z),He=Pt(_,He=jt(He,z)),z.h)break;if(fe-v<He||A-fe<Ae)break e;for(Be=0;Be<Ae;++Be)h[fe+Be]=h[fe+Be-He];for(fe+=Ae,O+=Ae;O>=_;)O-=_,++E,C!=null&&E<=P&&!(E%16)&&C(l,E);if(e(fe<=A),O&le&&(ke=qt(re,O,E)),ne!=null)for(;pe<fe;)Ae=h[pe++],ne.X[(506832829*Ae&4294967295)>>>ne.Mb]=Ae}else{if(!(Ae<Le))break e;for(Pe=Ae-280,e(ne!=null);pe<fe;)Ae=h[pe++],ne.X[(506832829*Ae&4294967295)>>>ne.Mb]=Ae;Ae=fe,e(!(Pe>>>(He=ne).Xa)),h[Ae]=He.X[Pe],Pe=!0}Pe||e(z.h==W(z))}if(l.Pb&&z.h&&fe<A)e(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&ye(l.s.vb,l.s.Wa);else{if(z.h)break e;C!=null&&C(l,E>P?P:E),l.a=0,l.$=fe-v}return 1}return l.a=3,0}function qn(l){e(l!=null),l.vc=null,l.yc=null,l.Ya=null;var h=l.Wa;h!=null&&(h.X=null),l.vb=null,e(l!=null)}function Er(){var l=new ff;return l==null?null:(l.a=0,l.xb=cg,mt("Predictor","VP8LPredictors"),mt("Predictor","VP8LPredictors_C"),mt("PredictorAdd","VP8LPredictorsAdd"),mt("PredictorAdd","VP8LPredictorsAdd_C"),bu=pt,oa=nt,mn=Ue,sn=ve,hi=Se,Us=Ve,qs=$e,M.VP8LMapColor32b=so,M.VP8LMapColor8b=Nu,l)}function _s(l,h,v,_,A){var P=1,C=[l],E=[h],O=_.m,z=_.s,re=null,fe=0;e:for(;;){if(v)for(;P&&Y(O,1);){var pe=C,ue=E,Le=_,xe=1,ne=Le.m,le=Le.gc[Le.ab],ke=Y(ne,2);if(Le.Oc&1<<ke)P=0;else{switch(Le.Oc|=1<<ke,le.hc=ke,le.Ea=pe[0],le.nc=ue[0],le.K=[null],++Le.ab,e(4>=Le.ab),ke){case 0:case 1:le.b=Y(ne,3)+2,xe=_s(Fe(le.Ea,le.b),Fe(le.nc,le.b),0,Le,le.K),le.K=le.K[0];break;case 3:var Pe,Ae=Y(ne,8)+1,He=16<Ae?0:4<Ae?1:2<Ae?2:3;if(pe[0]=Fe(le.Ea,He),le.b=He,Pe=xe=_s(Ae,1,0,Le,le.K)){var Be,st=Ae,ze=le,It=1<<(8>>ze.b),Ot=i(It);if(Ot==null)Pe=0;else{var Ct=ze.K[0],St=ze.w;for(Ot[0]=ze.K[0][0],Be=1;Be<1*st;++Be)Ot[Be]=Ne(Ct[St+Be],Ot[Be-1]);for(;Be<4*It;++Be)Ot[Be]=0;ze.K[0]=null,ze.K[0]=Ot,Pe=1}}xe=Pe;break;case 2:break;default:e(0)}P=xe}}if(C=C[0],E=E[0],P&&Y(O,1)&&!(P=1<=(fe=Y(O,4))&&11>=fe)){_.a=3;break e}var zt;if(zt=P)t:{var Ut,wt,_r,gn=_,Nr=C,vn=E,Ft=fe,En=v,Tn=gn.m,Ir=gn.s,Br=[null],on=1,Jn=0,ks=zw[Ft];r:for(;;){if(En&&Y(Tn,1)){var Rr=Y(Tn,3)+2,Hs=Fe(Nr,Rr),ha=Fe(vn,Rr),co=Hs*ha;if(!_s(Hs,ha,0,gn,Br))break r;for(Br=Br[0],Ir.xc=Rr,Ut=0;Ut<co;++Ut){var vi=Br[Ut]>>8&65535;Br[Ut]=vi,vi>=on&&(on=vi+1)}}if(Tn.h)break r;for(wt=0;5>wt;++wt){var cr=og[wt];!wt&&0<Ft&&(cr+=1<<Ft),Jn<cr&&(Jn=cr)}var Nf=a(on*ks,R),vg=on,yg=a(vg,F);if(yg==null)var Ou=null;else e(65536>=vg),Ou=yg;var Ul=i(Jn);if(Ou==null||Ul==null||Nf==null){gn.a=1;break r}var Fu=Nf;for(Ut=_r=0;Ut<on;++Ut){var as=Ou[Ut],uo=as.G,ho=as.H,wg=0,Mu=1,xg=0;for(wt=0;5>wt;++wt){cr=og[wt],uo[wt]=Fu,ho[wt]=_r,!wt&&0<Ft&&(cr+=1<<Ft);s:{var Du,Sf=cr,Bu=gn,ql=Ul,cx=Fu,ux=_r,jf=0,yi=Bu.m,dx=Y(yi,1);if(s(ql,0,0,Sf),dx){var hx=Y(yi,1)+1,fx=Y(yi,1),bg=Y(yi,fx==0?1:8);ql[bg]=1,hx==2&&(ql[bg=Y(yi,8)]=1);var Uu=1}else{var _g=i(19),Ng=Y(yi,4)+4;if(19<Ng){Bu.a=3;var qu=0;break s}for(Du=0;Du<Ng;++Du)_g[Uw[Du]]=Y(yi,3);var kf=void 0,zl=void 0,Sg=Bu,px=_g,zu=Sf,jg=ql,Af=0,wi=Sg.m,kg=8,Ag=a(128,R);n:for(;T(Ag,0,7,px,19);){if(Y(wi,1)){var mx=2+2*Y(wi,3);if((kf=2+Y(wi,mx))>zu)break n}else kf=zu;for(zl=0;zl<zu&&kf--;){te(wi);var Lg=Ag[0+(127&B(wi))];X(wi,wi.u+Lg.g);var fo=Lg.value;if(16>fo)jg[zl++]=fo,fo!=0&&(kg=fo);else{var gx=fo==16,Pg=fo-16,vx=Dw[Pg],Cg=Y(wi,Mw[Pg])+vx;if(zl+Cg>zu)break n;for(var yx=gx?kg:0;0<Cg--;)jg[zl++]=yx}}Af=1;break n}Af||(Sg.a=3),Uu=Af}(Uu=Uu&&!yi.h)&&(jf=T(cx,ux,8,ql,Sf)),Uu&&jf!=0?qu=jf:(Bu.a=3,qu=0)}if(qu==0)break r;if(Mu&&Bw[wt]==1&&(Mu=Fu[_r].g==0),wg+=Fu[_r].g,_r+=qu,3>=wt){var $l,Lf=Ul[0];for($l=1;$l<cr;++$l)Ul[$l]>Lf&&(Lf=Ul[$l]);xg+=Lf}}if(as.nd=Mu,as.Qb=0,Mu&&(as.qb=(uo[3][ho[3]+0].value<<24|uo[1][ho[1]+0].value<<16|uo[2][ho[2]+0].value)>>>0,wg==0&&256>uo[0][ho[0]+0].value&&(as.Qb=1,as.qb+=uo[0][ho[0]+0].value<<8)),as.jc=!as.Qb&&6>xg,as.jc){var $u,Vs=as;for($u=0;$u<Dr;++$u){var xi=$u,bi=Vs.pd[xi],Wu=Vs.G[0][Vs.H[0]+xi];256<=Wu.value?(bi.g=Wu.g+256,bi.value=Wu.value):(bi.g=0,bi.value=0,xi>>=Rt(Wu,8,bi),xi>>=Rt(Vs.G[1][Vs.H[1]+xi],16,bi),xi>>=Rt(Vs.G[2][Vs.H[2]+xi],0,bi),Rt(Vs.G[3][Vs.H[3]+xi],24,bi))}}}Ir.vc=Br,Ir.Wb=on,Ir.Ya=Ou,Ir.yc=Nf,zt=1;break t}zt=0}if(!(P=zt)){_.a=3;break e}if(0<fe){if(z.ua=1<<fe,!Ge(z.Wa,fe)){_.a=1,P=0;break e}}else z.ua=0;var Pf=_,Eg=C,wx=E,Cf=Pf.s,Ef=Cf.xc;if(Pf.c=Eg,Pf.i=wx,Cf.md=Fe(Eg,Ef),Cf.wc=Ef==0?-1:(1<<Ef)-1,v){_.xb=Yw;break e}if((re=i(C*E))==null){_.a=1,P=0;break e}P=(P=Ln(_,re,0,C,E,E,null))&&!O.h;break e}return P?(A!=null?A[0]=re:(e(re==null),e(v)),_.$=0,v||qn(z)):qn(z),P}function ra(l,h){var v=l.c*l.i,_=v+h+16*h;return e(l.c<=h),l.V=i(_),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+v+h,1)}function Ba(l,h){var v=l.C,_=h-v,A=l.V,P=l.Ba+l.c*v;for(e(h<=l.l.o);0<_;){var C=16<_?16:_,E=l.l.ma,O=l.l.width,z=O*C,re=E.ca,fe=E.tb+O*v,pe=l.Ta,ue=l.Ua;Zt(l,C,A,P),pr(pe,ue,re,fe,z),er(E,v,v+C,re,fe,O),_-=C,A+=C*l.c,v+=C}e(v==h),l.C=l.Ma=h}function Ua(){this.ub=this.yd=this.td=this.Rb=0}function qa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function za(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function tu(){this.Yb=function(){var l=[];return function h(v,_,A){for(var P=A[_],C=0;C<P&&(v.push(A.length>_+1?[]:0),!(A.length<_+1));C++)h(v[C],_+1,A)}(l,0,[3,11]),l}()}function $h(){this.jb=i(3),this.Wc=o([4,8],tu),this.Xc=o([4,17],tu)}function Wh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function $a(){this.ld=this.La=this.dd=this.tc=0}function ru(){this.Na=this.la=0}function Hh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vh(){this.uc=this.M=this.Nb=0,this.wa=Array(new $a),this.Y=0,this.ya=Array(new pl),this.aa=0,this.l=new Wa}function nu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Gh(){this.cb=this.a=0,this.sc="",this.m=new ge,this.Od=new Ua,this.Kc=new qa,this.ed=new Wh,this.Qa=new za,this.Ic=this.$c=this.Aa=0,this.D=new Vh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ge),this.ia=0,this.pb=a(4,Hh),this.Pa=new $h,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nu),this.Hd=0,this.rb=Array(new ru),this.sb=0,this.wa=Array(new $a),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pl),this.L=this.aa=0,this.gd=o([4,2],$a),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jh(){var l=new Gh;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,Dl||(Dl=au)),l}function hr(l,h,v){return l.a==0&&(l.a=h,l.sc=v,l.cb=0),0}function su(l,h,v){return 3<=v&&l[h+0]==157&&l[h+1]==1&&l[h+2]==42}function iu(l,h){if(l==null)return 0;if(l.a=0,l.sc="OK",h==null)return hr(l,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,_=h.w,A=h.ha;if(4>A)return hr(l,7,"Truncated header.");var P=v[_+0]|v[_+1]<<8|v[_+2]<<16,C=l.Od;if(C.Rb=!(1&P),C.td=P>>1&7,C.yd=P>>4&1,C.ub=P>>5,3<C.td)return hr(l,3,"Incorrect keyframe parameters.");if(!C.yd)return hr(l,4,"Frame not displayable.");_+=3,A-=3;var E=l.Kc;if(C.Rb){if(7>A)return hr(l,7,"cannot parse picture header");if(!su(v,_,A))return hr(l,3,"Bad code word");E.c=16383&(v[_+4]<<8|v[_+3]),E.Td=v[_+4]>>6,E.i=16383&(v[_+6]<<8|v[_+5]),E.Ud=v[_+6]>>6,_+=7,A-=7,l.za=E.c+15>>4,l.Ub=E.i+15>>4,h.width=E.c,h.height=E.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((P=l.Pa).jb,0,255,P.jb.length),e((P=l.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,s(P.Zb,0,0,P.Zb.length),s(P.Lb,0,0,P.Lb)}if(C.ub>A)return hr(l,7,"bad partition length");ce(P=l.m,v,_,C.ub),_+=C.ub,A-=C.ub,C.Rb&&(E.Ld=Q(P),E.Kd=Q(P)),E=l.Qa;var O,z=l.Pa;if(e(P!=null),e(E!=null),E.Cb=Q(P),E.Cb){if(E.Bb=Q(P),Q(P)){for(E.Fb=Q(P),O=0;4>O;++O)E.Zb[O]=Q(P)?de(P,7):0;for(O=0;4>O;++O)E.Lb[O]=Q(P)?de(P,6):0}if(E.Bb)for(O=0;3>O;++O)z.jb[O]=Q(P)?se(P,8):255}else E.Bb=0;if(P.Ka)return hr(l,3,"cannot parse segment header");if((E=l.ed).zd=Q(P),E.Tb=se(P,6),E.wb=se(P,3),E.Pc=Q(P),E.Pc&&Q(P)){for(z=0;4>z;++z)Q(P)&&(E.vd[z]=de(P,6));for(z=0;4>z;++z)Q(P)&&(E.od[z]=de(P,6))}if(l.L=E.Tb==0?0:E.zd?1:2,P.Ka)return hr(l,3,"cannot parse filter header");var re=A;if(A=O=_,_=O+re,E=re,l.Xb=(1<<se(l.m,2))-1,re<3*(z=l.Xb))v=7;else{for(O+=3*z,E-=3*z,re=0;re<z;++re){var fe=v[A+0]|v[A+1]<<8|v[A+2]<<16;fe>E&&(fe=E),ce(l.Jc[+re],v,O,fe),O+=fe,E-=fe,A+=3}ce(l.Jc[+z],v,O,E),v=O<_?0:5}if(v!=0)return hr(l,v,"cannot parse partitions");for(v=se(O=l.m,7),A=Q(O)?de(O,4):0,_=Q(O)?de(O,4):0,E=Q(O)?de(O,4):0,z=Q(O)?de(O,4):0,O=Q(O)?de(O,4):0,re=l.Qa,fe=0;4>fe;++fe){if(re.Cb){var pe=re.Zb[fe];re.Fb||(pe+=v)}else{if(0<fe){l.pb[fe]=l.pb[0];continue}pe=v}var ue=l.pb[fe];ue.Sc[0]=xf[Pn(pe+A,127)],ue.Sc[1]=bf[Pn(pe+0,127)],ue.Eb[0]=2*xf[Pn(pe+_,127)],ue.Eb[1]=101581*bf[Pn(pe+E,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=xf[Pn(pe+z,117)],ue.Qc[1]=bf[Pn(pe+O,127)],ue.lc=pe+O}if(!C.Rb)return hr(l,4,"Not a key frame.");for(Q(P),C=l.Pa,v=0;4>v;++v){for(A=0;8>A;++A)for(_=0;3>_;++_)for(E=0;11>E;++E)z=ie(P,Jw[v][A][_][E])?se(P,8):Vw[v][A][_][E],C.Wc[v][A].Yb[_][E]=z;for(A=0;17>A;++A)C.Xc[v][A]=C.Wc[v][Kw[A]]}return l.kc=Q(P),l.kc&&(l.Bd=se(P,8)),l.cb=1}function au(l,h,v,_,A,P,C){var E=h[A].Yb[v];for(v=0;16>A;++A){if(!ie(l,E[v+0]))return A;for(;!ie(l,E[v+1]);)if(E=h[++A].Yb[0],v=0,A==16)return 16;var O=h[A+1].Yb;if(ie(l,E[v+2])){var z=l,re=0;if(ie(z,(pe=E)[(fe=v)+3]))if(ie(z,pe[fe+6])){for(E=0,fe=2*(re=ie(z,pe[fe+8]))+(pe=ie(z,pe[fe+9+re])),re=0,pe=Ww[fe];pe[E];++E)re+=re+ie(z,pe[E]);re+=3+(8<<fe)}else ie(z,pe[fe+7])?(re=7+2*ie(z,165),re+=ie(z,145)):re=5+ie(z,159);else re=ie(z,pe[fe+4])?3+ie(z,pe[fe+5]):2;E=O[2]}else re=1,E=O[1];O=C+Hw[A],0>(z=l).b&&J(z);var fe,pe=z.b,ue=(fe=z.Ca>>1)-(z.I>>pe)>>31;--z.b,z.Ca+=ue,z.Ca|=1,z.I-=(fe+1&ue)<<pe,P[O]=((re^ue)-ue)*_[(0<A)+0]}return 16}function ml(l){var h=l.rb[l.sb-1];h.la=0,h.Na=0,s(l.zc,0,0,l.zc.length),l.ja=0}function Kh(l,h){if(l==null)return 0;if(h==null)return hr(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!iu(l,h))return 0;if(e(l.cb),h.ac==null||h.ac(h)){h.ob&&(l.L=0);var v=Ru[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=h.v-v>>4,l.zb=h.j-v>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=h.o+15+v>>4,l.Hb=h.va+15+v>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var _=l.ed;for(v=0;4>v;++v){var A;if(l.Qa.Cb){var P=l.Qa.Lb[v];l.Qa.Fb||(P+=_.Tb)}else P=_.Tb;for(A=0;1>=A;++A){var C=l.gd[v][A],E=P;if(_.Pc&&(E+=_.vd[0],A&&(E+=_.od[0])),0<(E=0>E?0:63<E?63:E)){var O=E;0<_.wb&&(O=4<_.wb?O>>2:O>>1)>9-_.wb&&(O=9-_.wb),1>O&&(O=1),C.dd=O,C.tc=2*E+O,C.ld=40<=E?2:15<=E?1:0}else C.tc=0;C.La=A}}}v=0}else hr(l,6,"Frame setup failed"),v=l.a;if(v=v==0){if(v){l.$c=0,0<l.Aa||(l.Ic=lx);e:{v=l.Ic,_=4*(O=l.za);var z=32*O,re=O+1,fe=0<l.L?O*(0<l.Aa?2:1):0,pe=(l.Aa==2?2:1)*O;if((C=_+832+(A=3*(16*v+Ru[l.L])/2*z)+(P=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=C)v=0;else{if(C>l.Vb){if(l.Vb=0,l.Ec=i(C),l.Fc=0,l.Ec==null){v=hr(l,1,"no memory during frame initialization.");break e}l.Vb=C}C=l.Ec,E=l.Fc,l.Ac=C,l.Bc=E,E+=_,l.Gd=a(z,nu),l.Hd=0,l.rb=a(re+1,ru),l.sb=1,l.wa=fe?a(fe,$a):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=O),e(!0),l.oc=C,l.pc=E,E+=832,l.ya=a(pe,pl),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=O),l.R=16*O,l.B=8*O,O=(z=Ru[l.L])*l.R,z=z/2*l.B,l.sa=C,l.ta=E+O,l.qa=l.sa,l.ra=l.ta+16*v*l.R+z,l.Ha=l.qa,l.Ia=l.ra+8*v*l.B+z,l.$c=0,E+=A,l.mb=P?C:null,l.nb=P?E:null,e(E+P<=l.Fc+l.Vb),ml(l),s(l.Ac,l.Bc,0,_),v=1}}if(v){if(h.ka=0,h.y=l.sa,h.O=l.ta,h.f=l.qa,h.N=l.ra,h.ea=l.Ha,h.Vd=l.Ia,h.fa=l.R,h.Rc=l.B,h.F=null,h.J=0,!ju){for(v=-255;255>=v;++v)kr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)$s[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Ml[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)lo[255+v]=0>v?0:255<v?255:v;ju=1}io=Qh,zs=Yh,Rl=lu,an=Xh,$n=cu,fr=ou,ao=bl,Su=ia,Ol=hf,la=_l,ca=df,fi=Ya,ua=Nl,oo=yu,da=vu,pi=Ss,Fl=Bs,Wn=uf,is[0]=Ns,is[1]=Zh,is[2]=nf,is[3]=sf,is[4]=hu,is[5]=Ja,is[6]=fu,is[7]=yl,is[8]=of,is[9]=af,mi[0]=uu,mi[1]=tf,mi[2]=Ds,mi[3]=Va,mi[4]=$r,mi[5]=rf,mi[6]=du,Ws[0]=li,Ws[1]=ef,Ws[2]=lf,Ws[3]=wl,Ws[4]=sa,Ws[5]=cf,Ws[6]=xl,v=1}else v=0}v&&(v=function(ue,Le){for(ue.M=0;ue.M<ue.Va;++ue.M){var xe,ne=ue.Jc[ue.M&ue.Xb],le=ue.m,ke=ue;for(xe=0;xe<ke.za;++xe){var Pe=le,Ae=ke,He=Ae.Ac,Be=Ae.Bc+4*xe,st=Ae.zc,ze=Ae.ya[Ae.aa+xe];if(Ae.Qa.Bb?ze.$b=ie(Pe,Ae.Pa.jb[0])?2+ie(Pe,Ae.Pa.jb[2]):ie(Pe,Ae.Pa.jb[1]):ze.$b=0,Ae.kc&&(ze.Ad=ie(Pe,Ae.Bd)),ze.Za=!ie(Pe,145)+0,ze.Za){var It=ze.Ob,Ot=0;for(Ae=0;4>Ae;++Ae){var Ct,St=st[0+Ae];for(Ct=0;4>Ct;++Ct){St=Gw[He[Be+Ct]][St];for(var zt=lg[ie(Pe,St[0])];0<zt;)zt=lg[2*zt+ie(Pe,St[zt])];St=-zt,He[Be+Ct]=St}n(It,Ot,He,Be,4),Ot+=4,st[0+Ae]=St}}else St=ie(Pe,156)?ie(Pe,128)?1:3:ie(Pe,163)?2:0,ze.Ob[0]=St,s(He,Be,St,4),s(st,0,St,4);ze.Dd=ie(Pe,142)?ie(Pe,114)?ie(Pe,183)?1:3:2:0}if(ke.m.Ka)return hr(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(ke=ne,Pe=(le=ue).rb[le.sb-1],He=le.rb[le.sb+le.ja],xe=le.ya[le.aa+le.ja],Be=le.kc?xe.Ad:0)Pe.la=He.la=0,xe.Za||(Pe.Na=He.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var Ut,wt;if(Pe=He,He=ke,Be=le.Pa.Xc,st=le.ya[le.aa+le.ja],ze=le.pb[st.$b],Ae=st.ad,It=0,Ot=le.rb[le.sb-1],St=Ct=0,s(Ae,It,0,384),st.Za)var _r=0,gn=Be[3];else{zt=i(16);var Nr=Pe.Na+Ot.Na;if(Nr=Dl(He,Be[1],Nr,ze.Eb,0,zt,0),Pe.Na=Ot.Na=(0<Nr)+0,1<Nr)io(zt,0,Ae,It);else{var vn=zt[0]+3>>3;for(zt=0;256>zt;zt+=16)Ae[It+zt]=vn}_r=1,gn=Be[0]}var Ft=15&Pe.la,En=15&Ot.la;for(zt=0;4>zt;++zt){var Tn=1&En;for(vn=wt=0;4>vn;++vn)Ft=Ft>>1|(Tn=(Nr=Dl(He,gn,Nr=Tn+(1&Ft),ze.Sc,_r,Ae,It))>_r)<<7,wt=wt<<2|(3<Nr?3:1<Nr?2:Ae[It+0]!=0),It+=16;Ft>>=4,En=En>>1|Tn<<7,Ct=(Ct<<8|wt)>>>0}for(gn=Ft,_r=En>>4,Ut=0;4>Ut;Ut+=2){for(wt=0,Ft=Pe.la>>4+Ut,En=Ot.la>>4+Ut,zt=0;2>zt;++zt){for(Tn=1&En,vn=0;2>vn;++vn)Nr=Tn+(1&Ft),Ft=Ft>>1|(Tn=0<(Nr=Dl(He,Be[2],Nr,ze.Qc,0,Ae,It)))<<3,wt=wt<<2|(3<Nr?3:1<Nr?2:Ae[It+0]!=0),It+=16;Ft>>=2,En=En>>1|Tn<<5}St|=wt<<4*Ut,gn|=Ft<<4<<Ut,_r|=(240&En)<<Ut}Pe.la=gn,Ot.la=_r,st.Hc=Ct,st.Gc=St,st.ia=43690&St?0:ze.ia,Be=!(Ct|St)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[xe.$b][xe.Za],le.wa[le.Y+le.ja].La|=!Be),ke.Ka)return hr(ue,7,"Premature end-of-file encountered.")}if(ml(ue),le=Le,ke=1,xe=(ne=ue).D,Pe=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(xe.M=ne.M,xe.uc=Pe,Pl(ne,xe),ke=1,xe=(wt=ne.D).Nb,Pe=(St=Ru[ne.L])*ne.R,He=St/2*ne.B,zt=16*xe*ne.R,vn=8*xe*ne.B,Be=ne.sa,st=ne.ta-Pe+zt,ze=ne.qa,Ae=ne.ra-He+vn,It=ne.Ha,Ot=ne.Ia-He+vn,En=(Ft=wt.M)==0,Ct=Ft>=ne.Va-1,ne.Aa==2&&Pl(ne,wt),wt.uc)for(Tn=(Nr=ne).D.M,e(Nr.D.uc),wt=Nr.yb;wt<Nr.Hb;++wt){_r=wt,gn=Tn;var Ir=(Br=(cr=Nr).D).Nb;Ut=cr.R;var Br=Br.wa[Br.Y+_r],on=cr.sa,Jn=cr.ta+16*Ir*Ut+16*_r,ks=Br.dd,Rr=Br.tc;if(Rr!=0)if(e(3<=Rr),cr.L==1)0<_r&&pi(on,Jn,Ut,Rr+4),Br.La&&Wn(on,Jn,Ut,Rr),0<gn&&da(on,Jn,Ut,Rr+4),Br.La&&Fl(on,Jn,Ut,Rr);else{var Hs=cr.B,ha=cr.qa,co=cr.ra+8*Ir*Hs+8*_r,vi=cr.Ha,cr=cr.Ia+8*Ir*Hs+8*_r;Ir=Br.ld,0<_r&&(Su(on,Jn,Ut,Rr+4,ks,Ir),la(ha,co,vi,cr,Hs,Rr+4,ks,Ir)),Br.La&&(fi(on,Jn,Ut,Rr,ks,Ir),oo(ha,co,vi,cr,Hs,Rr,ks,Ir)),0<gn&&(ao(on,Jn,Ut,Rr+4,ks,Ir),Ol(ha,co,vi,cr,Hs,Rr+4,ks,Ir)),Br.La&&(ca(on,Jn,Ut,Rr,ks,Ir),ua(ha,co,vi,cr,Hs,Rr,ks,Ir))}}if(ne.ia&&alert("todo:DitherRow"),le.put!=null){if(wt=16*Ft,Ft=16*(Ft+1),En?(le.y=ne.sa,le.O=ne.ta+zt,le.f=ne.qa,le.N=ne.ra+vn,le.ea=ne.Ha,le.W=ne.Ia+vn):(wt-=St,le.y=Be,le.O=st,le.f=ze,le.N=Ae,le.ea=It,le.W=Ot),Ct||(Ft-=St),Ft>le.o&&(Ft=le.o),le.F=null,le.J=null,ne.Fa!=null&&0<ne.Fa.length&&wt<Ft&&(le.J=Al(ne,le,wt,Ft-wt),le.F=ne.mb,le.F==null&&le.F.length==0)){ke=hr(ne,3,"Could not decode alpha data.");break e}wt<le.j&&(St=le.j-wt,wt=le.j,e(!(1&St)),le.O+=ne.R*St,le.N+=ne.B*(St>>1),le.W+=ne.B*(St>>1),le.F!=null&&(le.J+=le.width*St)),wt<Ft&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=wt-le.j,le.U=le.va-le.v,le.T=Ft-wt,ke=le.put(le))}xe+1!=ne.Ic||Ct||(n(ne.sa,ne.ta-Pe,Be,st+16*ne.R,Pe),n(ne.qa,ne.ra-He,ze,Ae+8*ne.B,He),n(ne.Ha,ne.Ia-He,It,Ot+8*ne.B,He))}if(!ke)return hr(ue,6,"Output aborted.")}return 1}(l,h)),h.bc!=null&&h.bc(h),v&=1}return v?(l.cb=0,v):0}function rs(l,h,v,_,A){A=l[h+v+32*_]+(A>>3),l[h+v+32*_]=-256&A?0>A?0:255:A}function Ha(l,h,v,_,A,P){rs(l,h,0,v,_+A),rs(l,h,1,v,_+P),rs(l,h,2,v,_-P),rs(l,h,3,v,_-A)}function fn(l){return(20091*l>>16)+l}function gl(l,h,v,_){var A,P=0,C=i(16);for(A=0;4>A;++A){var E=l[h+0]+l[h+8],O=l[h+0]-l[h+8],z=(35468*l[h+4]>>16)-fn(l[h+12]),re=fn(l[h+4])+(35468*l[h+12]>>16);C[P+0]=E+re,C[P+1]=O+z,C[P+2]=O-z,C[P+3]=E-re,P+=4,h++}for(A=P=0;4>A;++A)E=(l=C[P+0]+4)+C[P+8],O=l-C[P+8],z=(35468*C[P+4]>>16)-fn(C[P+12]),rs(v,_,0,0,E+(re=fn(C[P+4])+(35468*C[P+12]>>16))),rs(v,_,1,0,O+z),rs(v,_,2,0,O-z),rs(v,_,3,0,E-re),P++,_+=32}function ou(l,h,v,_){var A=l[h+0]+4,P=35468*l[h+4]>>16,C=fn(l[h+4]),E=35468*l[h+1]>>16;Ha(v,_,0,A+C,l=fn(l[h+1]),E),Ha(v,_,1,A+P,l,E),Ha(v,_,2,A-P,l,E),Ha(v,_,3,A-C,l,E)}function Yh(l,h,v,_,A){gl(l,h,v,_),A&&gl(l,h+16,v,_+4)}function lu(l,h,v,_){zs(l,h+0,v,_,1),zs(l,h+32,v,_+128,1)}function Xh(l,h,v,_){var A;for(l=l[h+0]+4,A=0;4>A;++A)for(h=0;4>h;++h)rs(v,_,h,A,l)}function cu(l,h,v,_){l[h+0]&&an(l,h+0,v,_),l[h+16]&&an(l,h+16,v,_+4),l[h+32]&&an(l,h+32,v,_+128),l[h+48]&&an(l,h+48,v,_+128+4)}function Qh(l,h,v,_){var A,P=i(16);for(A=0;4>A;++A){var C=l[h+0+A]+l[h+12+A],E=l[h+4+A]+l[h+8+A],O=l[h+4+A]-l[h+8+A],z=l[h+0+A]-l[h+12+A];P[0+A]=C+E,P[8+A]=C-E,P[4+A]=z+O,P[12+A]=z-O}for(A=0;4>A;++A)C=(l=P[0+4*A]+3)+P[3+4*A],E=P[1+4*A]+P[2+4*A],O=P[1+4*A]-P[2+4*A],z=l-P[3+4*A],v[_+0]=C+E>>3,v[_+16]=z+O>>3,v[_+32]=C-E>>3,v[_+48]=z-O>>3,_+=64}function vl(l,h,v){var _,A=h-32,P=Cn,C=255-l[A-1];for(_=0;_<v;++_){var E,O=P,z=C+l[h-1];for(E=0;E<v;++E)l[h+E]=O[z+l[A+E]];h+=32}}function Zh(l,h){vl(l,h,4)}function ef(l,h){vl(l,h,8)}function tf(l,h){vl(l,h,16)}function Ds(l,h){var v;for(v=0;16>v;++v)n(l,h+32*v,l,h-32,16)}function Va(l,h){var v;for(v=16;0<v;--v)s(l,h,l[h-1],16),h+=32}function Ga(l,h,v){var _;for(_=0;16>_;++_)s(h,v+32*_,l,16)}function uu(l,h){var v,_=16;for(v=0;16>v;++v)_+=l[h-1+32*v]+l[h+v-32];Ga(_>>5,l,h)}function $r(l,h){var v,_=8;for(v=0;16>v;++v)_+=l[h-1+32*v];Ga(_>>4,l,h)}function rf(l,h){var v,_=8;for(v=0;16>v;++v)_+=l[h+v-32];Ga(_>>4,l,h)}function du(l,h){Ga(128,l,h)}function ut(l,h,v){return l+2*h+v+2>>2}function nf(l,h){var v,_=h-32;for(_=new Uint8Array([ut(l[_-1],l[_+0],l[_+1]),ut(l[_+0],l[_+1],l[_+2]),ut(l[_+1],l[_+2],l[_+3]),ut(l[_+2],l[_+3],l[_+4])]),v=0;4>v;++v)n(l,h+32*v,_,0,_.length)}function sf(l,h){var v=l[h-1],_=l[h-1+32],A=l[h-1+64],P=l[h-1+96];be(l,h+0,16843009*ut(l[h-1-32],v,_)),be(l,h+32,16843009*ut(v,_,A)),be(l,h+64,16843009*ut(_,A,P)),be(l,h+96,16843009*ut(A,P,P))}function Ns(l,h){var v,_=4;for(v=0;4>v;++v)_+=l[h+v-32]+l[h-1+32*v];for(_>>=3,v=0;4>v;++v)s(l,h+32*v,_,4)}function hu(l,h){var v=l[h-1+0],_=l[h-1+32],A=l[h-1+64],P=l[h-1-32],C=l[h+0-32],E=l[h+1-32],O=l[h+2-32],z=l[h+3-32];l[h+0+96]=ut(_,A,l[h-1+96]),l[h+1+96]=l[h+0+64]=ut(v,_,A),l[h+2+96]=l[h+1+64]=l[h+0+32]=ut(P,v,_),l[h+3+96]=l[h+2+64]=l[h+1+32]=l[h+0+0]=ut(C,P,v),l[h+3+64]=l[h+2+32]=l[h+1+0]=ut(E,C,P),l[h+3+32]=l[h+2+0]=ut(O,E,C),l[h+3+0]=ut(z,O,E)}function fu(l,h){var v=l[h+1-32],_=l[h+2-32],A=l[h+3-32],P=l[h+4-32],C=l[h+5-32],E=l[h+6-32],O=l[h+7-32];l[h+0+0]=ut(l[h+0-32],v,_),l[h+1+0]=l[h+0+32]=ut(v,_,A),l[h+2+0]=l[h+1+32]=l[h+0+64]=ut(_,A,P),l[h+3+0]=l[h+2+32]=l[h+1+64]=l[h+0+96]=ut(A,P,C),l[h+3+32]=l[h+2+64]=l[h+1+96]=ut(P,C,E),l[h+3+64]=l[h+2+96]=ut(C,E,O),l[h+3+96]=ut(E,O,O)}function Ja(l,h){var v=l[h-1+0],_=l[h-1+32],A=l[h-1+64],P=l[h-1-32],C=l[h+0-32],E=l[h+1-32],O=l[h+2-32],z=l[h+3-32];l[h+0+0]=l[h+1+64]=P+C+1>>1,l[h+1+0]=l[h+2+64]=C+E+1>>1,l[h+2+0]=l[h+3+64]=E+O+1>>1,l[h+3+0]=O+z+1>>1,l[h+0+96]=ut(A,_,v),l[h+0+64]=ut(_,v,P),l[h+0+32]=l[h+1+96]=ut(v,P,C),l[h+1+32]=l[h+2+96]=ut(P,C,E),l[h+2+32]=l[h+3+96]=ut(C,E,O),l[h+3+32]=ut(E,O,z)}function yl(l,h){var v=l[h+0-32],_=l[h+1-32],A=l[h+2-32],P=l[h+3-32],C=l[h+4-32],E=l[h+5-32],O=l[h+6-32],z=l[h+7-32];l[h+0+0]=v+_+1>>1,l[h+1+0]=l[h+0+64]=_+A+1>>1,l[h+2+0]=l[h+1+64]=A+P+1>>1,l[h+3+0]=l[h+2+64]=P+C+1>>1,l[h+0+32]=ut(v,_,A),l[h+1+32]=l[h+0+96]=ut(_,A,P),l[h+2+32]=l[h+1+96]=ut(A,P,C),l[h+3+32]=l[h+2+96]=ut(P,C,E),l[h+3+64]=ut(C,E,O),l[h+3+96]=ut(E,O,z)}function af(l,h){var v=l[h-1+0],_=l[h-1+32],A=l[h-1+64],P=l[h-1+96];l[h+0+0]=v+_+1>>1,l[h+2+0]=l[h+0+32]=_+A+1>>1,l[h+2+32]=l[h+0+64]=A+P+1>>1,l[h+1+0]=ut(v,_,A),l[h+3+0]=l[h+1+32]=ut(_,A,P),l[h+3+32]=l[h+1+64]=ut(A,P,P),l[h+3+64]=l[h+2+64]=l[h+0+96]=l[h+1+96]=l[h+2+96]=l[h+3+96]=P}function of(l,h){var v=l[h-1+0],_=l[h-1+32],A=l[h-1+64],P=l[h-1+96],C=l[h-1-32],E=l[h+0-32],O=l[h+1-32],z=l[h+2-32];l[h+0+0]=l[h+2+32]=v+C+1>>1,l[h+0+32]=l[h+2+64]=_+v+1>>1,l[h+0+64]=l[h+2+96]=A+_+1>>1,l[h+0+96]=P+A+1>>1,l[h+3+0]=ut(E,O,z),l[h+2+0]=ut(C,E,O),l[h+1+0]=l[h+3+32]=ut(v,C,E),l[h+1+32]=l[h+3+64]=ut(_,v,C),l[h+1+64]=l[h+3+96]=ut(A,_,v),l[h+1+96]=ut(P,A,_)}function lf(l,h){var v;for(v=0;8>v;++v)n(l,h+32*v,l,h-32,8)}function wl(l,h){var v;for(v=0;8>v;++v)s(l,h,l[h-1],8),h+=32}function na(l,h,v){var _;for(_=0;8>_;++_)s(h,v+32*_,l,8)}function li(l,h){var v,_=8;for(v=0;8>v;++v)_+=l[h+v-32]+l[h-1+32*v];na(_>>4,l,h)}function cf(l,h){var v,_=4;for(v=0;8>v;++v)_+=l[h+v-32];na(_>>3,l,h)}function sa(l,h){var v,_=4;for(v=0;8>v;++v)_+=l[h-1+32*v];na(_>>3,l,h)}function xl(l,h){na(128,l,h)}function Ka(l,h,v){var _=l[h-v],A=l[h+0],P=3*(A-_)+mf[1020+l[h-2*v]-l[h+v]],C=ku[112+(P+4>>3)];l[h-v]=Cn[255+_+ku[112+(P+3>>3)]],l[h+0]=Cn[255+A-C]}function pu(l,h,v,_){var A=l[h+0],P=l[h+v];return Vn[255+l[h-2*v]-l[h-v]]>_||Vn[255+P-A]>_}function mu(l,h,v,_){return 4*Vn[255+l[h-v]-l[h+0]]+Vn[255+l[h-2*v]-l[h+v]]<=_}function gu(l,h,v,_,A){var P=l[h-3*v],C=l[h-2*v],E=l[h-v],O=l[h+0],z=l[h+v],re=l[h+2*v],fe=l[h+3*v];return 4*Vn[255+E-O]+Vn[255+C-z]>_?0:Vn[255+l[h-4*v]-P]<=A&&Vn[255+P-C]<=A&&Vn[255+C-E]<=A&&Vn[255+fe-re]<=A&&Vn[255+re-z]<=A&&Vn[255+z-O]<=A}function vu(l,h,v,_){var A=2*_+1;for(_=0;16>_;++_)mu(l,h+_,v,A)&&Ka(l,h+_,v)}function Ss(l,h,v,_){var A=2*_+1;for(_=0;16>_;++_)mu(l,h+_*v,1,A)&&Ka(l,h+_*v,1)}function Bs(l,h,v,_){var A;for(A=3;0<A;--A)vu(l,h+=4*v,v,_)}function uf(l,h,v,_){var A;for(A=3;0<A;--A)Ss(l,h+=4,v,_)}function ci(l,h,v,_,A,P,C,E){for(P=2*P+1;0<A--;){if(gu(l,h,v,P,C))if(pu(l,h,v,E))Ka(l,h,v);else{var O=l,z=h,re=v,fe=O[z-2*re],pe=O[z-re],ue=O[z+0],Le=O[z+re],xe=O[z+2*re],ne=27*(ke=mf[1020+3*(ue-pe)+mf[1020+fe-Le]])+63>>7,le=18*ke+63>>7,ke=9*ke+63>>7;O[z-3*re]=Cn[255+O[z-3*re]+ke],O[z-2*re]=Cn[255+fe+le],O[z-re]=Cn[255+pe+ne],O[z+0]=Cn[255+ue-ne],O[z+re]=Cn[255+Le-le],O[z+2*re]=Cn[255+xe-ke]}h+=_}}function ns(l,h,v,_,A,P,C,E){for(P=2*P+1;0<A--;){if(gu(l,h,v,P,C))if(pu(l,h,v,E))Ka(l,h,v);else{var O=l,z=h,re=v,fe=O[z-re],pe=O[z+0],ue=O[z+re],Le=ku[112+((xe=3*(pe-fe))+4>>3)],xe=ku[112+(xe+3>>3)],ne=Le+1>>1;O[z-2*re]=Cn[255+O[z-2*re]+ne],O[z-re]=Cn[255+fe+xe],O[z+0]=Cn[255+pe-Le],O[z+re]=Cn[255+ue-ne]}h+=_}}function bl(l,h,v,_,A,P){ci(l,h,v,1,16,_,A,P)}function ia(l,h,v,_,A,P){ci(l,h,1,v,16,_,A,P)}function df(l,h,v,_,A,P){var C;for(C=3;0<C;--C)ns(l,h+=4*v,v,1,16,_,A,P)}function Ya(l,h,v,_,A,P){var C;for(C=3;0<C;--C)ns(l,h+=4,1,v,16,_,A,P)}function hf(l,h,v,_,A,P,C,E){ci(l,h,A,1,8,P,C,E),ci(v,_,A,1,8,P,C,E)}function _l(l,h,v,_,A,P,C,E){ci(l,h,1,A,8,P,C,E),ci(v,_,1,A,8,P,C,E)}function Nl(l,h,v,_,A,P,C,E){ns(l,h+4*A,A,1,8,P,C,E),ns(v,_+4*A,A,1,8,P,C,E)}function yu(l,h,v,_,A,P,C,E){ns(l,h+4,1,A,8,P,C,E),ns(v,_+4,1,A,8,P,C,E)}function Xa(){this.ba=new Oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wu(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new R}function ff(){this.xb=this.a=0,this.l=new Wa,this.ca=new Oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wu,this.ab=0,this.gc=a(4,jl),this.Oc=0}function Qa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function aa(l,h,v,_,A,P,C){for(l=l==null?0:l[h+0],h=0;h<C;++h)A[P+h]=l+v[_+h]&255,l=A[P+h]}function kl(l,h,v,_,A,P,C){var E;if(l==null)aa(null,null,v,_,A,P,C);else for(E=0;E<C;++E)A[P+E]=l[h+E]+v[_+E]&255}function ui(l,h,v,_,A,P,C){if(l==null)aa(null,null,v,_,A,P,C);else{var E,O=l[h+0],z=O,re=O;for(E=0;E<C;++E)z=re+(O=l[h+E])-z,re=v[_+E]+(-256&z?0>z?0:255:z)&255,z=O,A[P+E]=re}}function Al(l,h,v,_){var A=h.width,P=h.o;if(e(l!=null&&h!=null),0>v||0>=_||v+_>P)return null;if(!l.Cc){if(l.ga==null){var C;if(l.ga=new Qa,(C=l.ga==null)||(C=h.width*h.o,e(l.Gb.length==0),l.Gb=i(C),l.Uc=0,l.Gb==null?C=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,C=1),C=!C),!C){C=l.ga;var E=l.Fa,O=l.P,z=l.qc,re=l.mb,fe=l.nb,pe=O+1,ue=z-1,Le=C.l;if(e(E!=null&&re!=null&&h!=null),gi[0]=null,gi[1]=aa,gi[2]=kl,gi[3]=ui,C.ca=re,C.tb=fe,C.c=h.width,C.i=h.height,e(0<C.c&&0<C.i),1>=z)h=0;else if(C.$a=E[O+0]>>0&3,C.Z=E[O+0]>>2&3,C.Lc=E[O+0]>>4&3,O=E[O+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||O)h=0;else if(Le.put=jr,Le.ac=Lt,Le.bc=rn,Le.ma=C,Le.width=h.width,Le.height=h.height,Le.Da=h.Da,Le.v=h.v,Le.va=h.va,Le.j=h.j,Le.o=h.o,C.$a)e:{e(C.$a==1),h=Er();t:for(;;){if(h==null){h=0;break e}if(e(C!=null),C.mc=h,h.c=C.c,h.i=C.i,h.l=C.l,h.l.ma=C,h.l.width=C.c,h.l.height=C.i,h.a=0,V(h.m,E,pe,ue),!_s(C.c,C.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&or(h.s)?(C.ic=1,E=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(E),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(C.ic=0,h=ra(h,C.c)),!h))break t;h=1;break e}C.mc=null,h=0}else h=ue>=C.c*C.i;C=!h}if(C)return null;l.ga.Lc!=1?l.Ga=0:_=P-v}e(l.ga!=null),e(v+_<=P);e:{if(h=(E=l.ga).c,P=E.l.o,E.$a==0){if(pe=l.rc,ue=l.Vc,Le=l.Fa,O=l.P+1+v*h,z=l.mb,re=l.nb+v*h,e(O<=l.P+l.qc),E.Z!=0)for(e(gi[E.Z]!=null),C=0;C<_;++C)gi[E.Z](pe,ue,Le,O,z,re,h),pe=z,ue=re,re+=h,O+=h;else for(C=0;C<_;++C)n(z,re,Le,O,h),pe=z,ue=re,re+=h,O+=h;l.rc=pe,l.Vc=ue}else{if(e(E.mc!=null),h=v+_,e((C=E.mc)!=null),e(h<=C.i),C.C>=h)h=1;else if(E.ic||he(),E.ic){E=C.V,pe=C.Ba,ue=C.c;var xe=C.i,ne=(Le=1,O=C.$/ue,z=C.$%ue,re=C.m,fe=C.s,C.$),le=ue*xe,ke=ue*h,Pe=fe.wc,Ae=ne<ke?qt(fe,z,O):null;e(ne<=le),e(h<=xe),e(or(fe));t:for(;;){for(;!re.h&&ne<ke;){if(z&Pe||(Ae=qt(fe,z,O)),e(Ae!=null),te(re),256>(xe=Ht(Ae.G[0],Ae.H[0],re)))E[pe+ne]=xe,++ne,++z>=ue&&(z=0,++O<=h&&!(O%16)&&nn(C,O));else{if(!(280>xe)){Le=0;break t}xe=jt(xe-256,re);var He,Be=Ht(Ae.G[4],Ae.H[4],re);if(te(re),!(ne>=(Be=Pt(ue,Be=jt(Be,re)))&&le-ne>=xe)){Le=0;break t}for(He=0;He<xe;++He)E[pe+ne+He]=E[pe+ne+He-Be];for(ne+=xe,z+=xe;z>=ue;)z-=ue,++O<=h&&!(O%16)&&nn(C,O);ne<ke&&z&Pe&&(Ae=qt(fe,z,O))}e(re.h==W(re))}nn(C,O>h?h:O);break t}!Le||re.h&&ne<le?(Le=0,C.a=re.h?5:3):C.$=ne,h=Le}else h=Ln(C,C.V,C.Ba,C.c,C.i,h,Ba);if(!h){_=0;break e}}v+_>=P&&(l.Cc=1),_=1}if(!_)return null;if(l.Cc&&((_=l.ga)!=null&&(_.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+v*A}function m(l,h,v,_,A,P){for(;0<A--;){var C,E=l,O=h+(v?1:0),z=l,re=h+(v?0:3);for(C=0;C<_;++C){var fe=z[re+4*C];fe!=255&&(fe*=32897,E[O+4*C+0]=E[O+4*C+0]*fe>>23,E[O+4*C+1]=E[O+4*C+1]*fe>>23,E[O+4*C+2]=E[O+4*C+2]*fe>>23)}h+=P}}function L(l,h,v,_,A){for(;0<_--;){var P;for(P=0;P<v;++P){var C=l[h+2*P+0],E=15&(z=l[h+2*P+1]),O=4369*E,z=(240&z|z>>4)*O>>16;l[h+2*P+0]=(240&C|C>>4)*O>>16&240|(15&C|C<<4)*O>>16>>4&15,l[h+2*P+1]=240&z|E}h+=A}}function H(l,h,v,_,A,P,C,E){var O,z,re=255;for(z=0;z<A;++z){for(O=0;O<_;++O){var fe=l[h+O];P[C+4*O]=fe,re&=fe}h+=v,C+=E}return re!=255}function ee(l,h,v,_,A){var P;for(P=0;P<A;++P)v[_+P]=l[h+P]>>8}function he(){Hn=m,Vt=L,Gt=H,pr=ee}function _e(l,h,v){M[l]=function(_,A,P,C,E,O,z,re,fe,pe,ue,Le,xe,ne,le,ke,Pe){var Ae,He=Pe-1>>1,Be=E[O+0]|z[re+0]<<16,st=fe[pe+0]|ue[Le+0]<<16;e(_!=null);var ze=3*Be+st+131074>>2;for(h(_[A+0],255&ze,ze>>16,xe,ne),P!=null&&(ze=3*st+Be+131074>>2,h(P[C+0],255&ze,ze>>16,le,ke)),Ae=1;Ae<=He;++Ae){var It=E[O+Ae]|z[re+Ae]<<16,Ot=fe[pe+Ae]|ue[Le+Ae]<<16,Ct=Be+It+st+Ot+524296,St=Ct+2*(It+st)>>3;ze=St+Be>>1,Be=(Ct=Ct+2*(Be+Ot)>>3)+It>>1,h(_[A+2*Ae-1],255&ze,ze>>16,xe,ne+(2*Ae-1)*v),h(_[A+2*Ae-0],255&Be,Be>>16,xe,ne+(2*Ae-0)*v),P!=null&&(ze=Ct+st>>1,Be=St+Ot>>1,h(P[C+2*Ae-1],255&ze,ze>>16,le,ke+(2*Ae-1)*v),h(P[C+2*Ae+0],255&Be,Be>>16,le,ke+(2*Ae+0)*v)),Be=It,st=Ot}1&Pe||(ze=3*Be+st+131074>>2,h(_[A+Pe-1],255&ze,ze>>16,xe,ne+(Pe-1)*v),P!=null&&(ze=3*st+Be+131074>>2,h(P[C+Pe-1],255&ze,ze>>16,le,ke+(Pe-1)*v)))}}function Ee(){Gn[Au]=Xw,Gn[Lu]=ug,Gn[ig]=Qw,Gn[Pu]=dg,Gn[Cu]=hg,Gn[gf]=fg,Gn[ag]=Zw,Gn[vf]=ug,Gn[yf]=dg,Gn[Eu]=hg,Gn[wf]=fg}function We(l){return l&-16384?0>l?0:255:l>>ex}function et(l,h){return We((19077*l>>8)+(26149*h>>8)-14234)}function gt(l,h,v){return We((19077*l>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function ht(l,h){return We((19077*l>>8)+(33050*h>>8)-17685)}function kt(l,h,v,_,A){_[A+0]=et(l,v),_[A+1]=gt(l,h,v),_[A+2]=ht(l,h)}function rr(l,h,v,_,A){_[A+0]=ht(l,h),_[A+1]=gt(l,h,v),_[A+2]=et(l,v)}function lr(l,h,v,_,A){var P=gt(l,h,v);h=P<<3&224|ht(l,h)>>3,_[A+0]=248&et(l,v)|P>>5,_[A+1]=h}function br(l,h,v,_,A){var P=240&ht(l,h)|15;_[A+0]=240&et(l,v)|gt(l,h,v)>>4,_[A+1]=P}function Wr(l,h,v,_,A){_[A+0]=255,kt(l,h,v,_,A+1)}function Tr(l,h,v,_,A){rr(l,h,v,_,A),_[A+3]=255}function ss(l,h,v,_,A){kt(l,h,v,_,A),_[A+3]=255}function Pn(l,h){return 0>l?0:l>h?h:l}function js(l,h,v){M[l]=function(_,A,P,C,E,O,z,re,fe){for(var pe=re+(-2&fe)*v;re!=pe;)h(_[A+0],P[C+0],E[O+0],z,re),h(_[A+1],P[C+0],E[O+0],z,re+v),A+=2,++C,++O,re+=2*v;1&fe&&h(_[A+0],P[C+0],E[O+0],z,re)}}function xu(l,h,v){return v==0?l==0?h==0?6:5:h==0?4:0:v}function Ll(l,h,v,_,A){switch(l>>>30){case 3:zs(h,v,_,A,0);break;case 2:fr(h,v,_,A);break;case 1:an(h,v,_,A)}}function Pl(l,h){var v,_,A=h.M,P=h.Nb,C=l.oc,E=l.pc+40,O=l.oc,z=l.pc+584,re=l.oc,fe=l.pc+600;for(v=0;16>v;++v)C[E+32*v-1]=129;for(v=0;8>v;++v)O[z+32*v-1]=129,re[fe+32*v-1]=129;for(0<A?C[E-1-32]=O[z-1-32]=re[fe-1-32]=129:(s(C,E-32-1,127,21),s(O,z-32-1,127,9),s(re,fe-32-1,127,9)),_=0;_<l.za;++_){var pe=h.ya[h.aa+_];if(0<_){for(v=-1;16>v;++v)n(C,E+32*v-4,C,E+32*v+12,4);for(v=-1;8>v;++v)n(O,z+32*v-4,O,z+32*v+4,4),n(re,fe+32*v-4,re,fe+32*v+4,4)}var ue=l.Gd,Le=l.Hd+_,xe=pe.ad,ne=pe.Hc;if(0<A&&(n(C,E-32,ue[Le].y,0,16),n(O,z-32,ue[Le].f,0,8),n(re,fe-32,ue[Le].ea,0,8)),pe.Za){var le=C,ke=E-32+16;for(0<A&&(_>=l.za-1?s(le,ke,ue[Le].y[15],4):n(le,ke,ue[Le+1].y,0,4)),v=0;4>v;v++)le[ke+128+v]=le[ke+256+v]=le[ke+384+v]=le[ke+0+v];for(v=0;16>v;++v,ne<<=2)le=C,ke=E+mg[v],is[pe.Ob[v]](le,ke),Ll(ne,xe,16*+v,le,ke)}else if(le=xu(_,A,pe.Ob[0]),mi[le](C,E),ne!=0)for(v=0;16>v;++v,ne<<=2)Ll(ne,xe,16*+v,C,E+mg[v]);for(v=pe.Gc,le=xu(_,A,pe.Dd),Ws[le](O,z),Ws[le](re,fe),ne=xe,le=O,ke=z,255&(pe=v>>0)&&(170&pe?Rl(ne,256,le,ke):$n(ne,256,le,ke)),pe=re,ne=fe,255&(v>>=8)&&(170&v?Rl(xe,320,pe,ne):$n(xe,320,pe,ne)),A<l.Ub-1&&(n(ue[Le].y,0,C,E+480,16),n(ue[Le].f,0,O,z+224,8),n(ue[Le].ea,0,re,fe+224,8)),v=8*P*l.B,ue=l.sa,Le=l.ta+16*_+16*P*l.R,xe=l.qa,pe=l.ra+8*_+v,ne=l.Ha,le=l.Ia+8*_+v,v=0;16>v;++v)n(ue,Le+v*l.R,C,E+32*v,16);for(v=0;8>v;++v)n(xe,pe+v*l.B,O,z+32*v,8),n(ne,le+v*l.B,re,fe+32*v,8)}}function Za(l,h,v,_,A,P,C,E,O){var z=[0],re=[0],fe=0,pe=O!=null?O.kd:0,ue=O??new Sl;if(l==null||12>v)return 7;ue.data=l,ue.w=h,ue.ha=v,h=[h],v=[v],ue.gb=[ue.gb];e:{var Le=h,xe=v,ne=ue.gb;if(e(l!=null),e(xe!=null),e(ne!=null),ne[0]=0,12<=xe[0]&&!r(l,Le[0],"RIFF")){if(r(l,Le[0]+8,"WEBP")){ne=3;break e}var le=Ie(l,Le[0]+4);if(12>le||4294967286<le){ne=3;break e}if(pe&&le>xe[0]-8){ne=7;break e}ne[0]=le,Le[0]+=12,xe[0]-=12}ne=0}if(ne!=0)return ne;for(le=0<ue.gb[0],v=v[0];;){e:{var ke=l;xe=h,ne=v;var Pe=z,Ae=re,He=Le=[0];if((ze=fe=[fe])[0]=0,8>ne[0])ne=7;else{if(!r(ke,xe[0],"VP8X")){if(Ie(ke,xe[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Be=Ie(ke,xe[0]+8),st=1+Ce(ke,xe[0]+12);if(2147483648<=st*(ke=1+Ce(ke,xe[0]+15))){ne=3;break e}He!=null&&(He[0]=Be),Pe!=null&&(Pe[0]=st),Ae!=null&&(Ae[0]=ke),xe[0]+=18,ne[0]-=18,ze[0]=1}ne=0}}if(fe=fe[0],Le=Le[0],ne!=0)return ne;if(xe=!!(2&Le),!le&&fe)return 3;if(P!=null&&(P[0]=!!(16&Le)),C!=null&&(C[0]=xe),E!=null&&(E[0]=0),C=z[0],Le=re[0],fe&&xe&&O==null){ne=0;break}if(4>v){ne=7;break}if(le&&fe||!le&&!fe&&!r(l,h[0],"ALPH")){v=[v],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Be=l,ne=h,le=v;var ze=ue.gb;Pe=ue.na,Ae=ue.P,He=ue.Sa,st=22,e(Be!=null),e(le!=null),ke=ne[0];var It=le[0];for(e(Pe!=null),e(He!=null),Pe[0]=null,Ae[0]=null,He[0]=0;;){if(ne[0]=ke,le[0]=It,8>It){ne=7;break e}var Ot=Ie(Be,ke+4);if(4294967286<Ot){ne=3;break e}var Ct=8+Ot+1&-2;if(st+=Ct,0<ze&&st>ze){ne=3;break e}if(!r(Be,ke,"VP8 ")||!r(Be,ke,"VP8L")){ne=0;break e}if(It[0]<Ct){ne=7;break e}r(Be,ke,"ALPH")||(Pe[0]=Be,Ae[0]=ke+8,He[0]=Ot),ke+=Ct,It-=Ct}}if(v=v[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ne!=0)break}v=[v],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(ze=l,ne=h,le=v,Pe=ue.gb[0],Ae=ue.Ja,He=ue.xa,Be=ne[0],ke=!r(ze,Be,"VP8 "),st=!r(ze,Be,"VP8L"),e(ze!=null),e(le!=null),e(Ae!=null),e(He!=null),8>le[0])ne=7;else{if(ke||st){if(ze=Ie(ze,Be+4),12<=Pe&&ze>Pe-12){ne=3;break e}if(pe&&ze>le[0]-8){ne=7;break e}Ae[0]=ze,ne[0]+=8,le[0]-=8,He[0]=st}else He[0]=5<=le[0]&&ze[Be+0]==47&&!(ze[Be+4]>>5),Ae[0]=le[0];ne=0}if(v=v[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],h=h[0],ne!=0)break;if(4294967286<ue.Ja)return 3;if(E==null||xe||(E[0]=ue.xa?2:1),C=[C],Le=[Le],ue.xa){if(5>v){ne=7;break}E=C,pe=Le,xe=P,l==null||5>v?l=0:5<=v&&l[h+0]==47&&!(l[h+4]>>5)?(le=[0],ze=[0],Pe=[0],V(Ae=new k,l,h,v),tt(Ae,le,ze,Pe)?(E!=null&&(E[0]=le[0]),pe!=null&&(pe[0]=ze[0]),xe!=null&&(xe[0]=Pe[0]),l=1):l=0):l=0}else{if(10>v){ne=7;break}E=Le,l==null||10>v||!su(l,h+3,v-3)?l=0:(pe=l[h+0]|l[h+1]<<8|l[h+2]<<16,xe=16383&(l[h+7]<<8|l[h+6]),l=16383&(l[h+9]<<8|l[h+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=ue.Ja||!xe||!l?l=0:(C&&(C[0]=xe),E&&(E[0]=l),l=1))}if(!l||(C=C[0],Le=Le[0],fe&&(z[0]!=C||re[0]!=Le)))return 3;O!=null&&(O[0]=ue,O.offset=h-O.w,e(4294967286>h-O.w),e(O.offset==O.ha-v));break}return ne==0||ne==7&&fe&&O==null?(P!=null&&(P[0]|=ue.na!=null&&0<ue.na.length),_!=null&&(_[0]=C),A!=null&&(A[0]=Le),0):ne}function Cl(l,h,v){var _=h.width,A=h.height,P=0,C=0,E=_,O=A;if(h.Da=l!=null&&0<l.Da,h.Da&&(E=l.cd,O=l.bd,P=l.v,C=l.j,11>v||(P&=-2,C&=-2),0>P||0>C||0>=E||0>=O||P+E>_||C+O>A))return 0;if(h.v=P,h.j=C,h.va=P+E,h.o=C+O,h.U=E,h.T=O,h.da=l!=null&&0<l.da,h.da){if(!Qe(E,O,v=[l.ib],P=[l.hb]))return 0;h.ib=v[0],h.hb=P[0]}return h.ob=l!=null&&l.ob,h.Kb=l==null||!l.Sd,h.da&&(h.ob=h.ib<3*_/4&&h.hb<3*A/4,h.Kb=0),1}function El(l){if(l==null)return 2;if(11>l.S){var h=l.f.RGBA;h.fb+=(l.height-1)*h.A,h.A=-h.A}else h=l.f.kb,l=l.height,h.O+=(l-1)*h.fa,h.fa=-h.fa,h.N+=(l-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(l-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(l-1)*h.lb,h.lb=-h.lb);return 0}function eo(l,h,v,_){if(_==null||0>=l||0>=h)return 2;if(v!=null){if(v.Da){var A=v.cd,P=v.bd,C=-2&v.v,E=-2&v.j;if(0>C||0>E||0>=A||0>=P||C+A>l||E+P>h)return 2;l=A,h=P}if(v.da){if(!Qe(l,h,A=[v.ib],P=[v.hb]))return 2;l=A[0],h=P[0]}}_.width=l,_.height=h;e:{var O=_.width,z=_.height;if(l=_.S,0>=O||0>=z||!(l>=Au&&13>l))l=2;else{if(0>=_.Rd&&_.sd==null){C=P=A=h=0;var re=(E=O*gg[l])*z;if(11>l||(P=(z+1)/2*(h=(O+1)/2),l==12&&(C=(A=O)*z)),(z=i(re+2*P+C))==null){l=1;break e}_.sd=z,11>l?((O=_.f.RGBA).eb=z,O.fb=0,O.A=E,O.size=re):((O=_.f.kb).y=z,O.O=0,O.fa=E,O.Fd=re,O.f=z,O.N=0+re,O.Ab=h,O.Cd=P,O.ea=z,O.W=0+re+P,O.Db=h,O.Ed=P,l==12&&(O.F=z,O.J=0+re+2*P),O.Tc=C,O.lb=A)}if(h=1,A=_.S,P=_.width,C=_.height,A>=Au&&13>A)if(11>A)l=_.f.RGBA,h&=(E=Math.abs(l.A))*(C-1)+P<=l.size,h&=E>=P*gg[A],h&=l.eb!=null;else{l=_.f.kb,E=(P+1)/2,re=(C+1)/2,O=Math.abs(l.fa),z=Math.abs(l.Ab);var fe=Math.abs(l.Db),pe=Math.abs(l.lb),ue=pe*(C-1)+P;h&=O*(C-1)+P<=l.Fd,h&=z*(re-1)+E<=l.Cd,h=(h&=fe*(re-1)+E<=l.Ed)&O>=P&z>=E&fe>=E,h&=l.y!=null,h&=l.f!=null,h&=l.ea!=null,A==12&&(h&=pe>=P,h&=ue<=l.Tc,h&=l.F!=null)}else h=0;l=h?0:2}}return l!=0||v!=null&&v.fd&&(l=El(_)),l}var Dr=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ro=24,no=32,Tl=8,pn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(l){return l},M.Predictor2=function(l,h,v){return h[v+0]},M.Predictor3=function(l,h,v){return h[v+1]},M.Predictor4=function(l,h,v){return h[v-1]},M.Predictor5=function(l,h,v){return De(De(l,h[v+1]),h[v+0])},M.Predictor6=function(l,h,v){return De(l,h[v-1])},M.Predictor7=function(l,h,v){return De(l,h[v+0])},M.Predictor8=function(l,h,v){return De(h[v-1],h[v+0])},M.Predictor9=function(l,h,v){return De(h[v+0],h[v+1])},M.Predictor10=function(l,h,v){return De(De(l,h[v-1]),De(h[v+0],h[v+1]))},M.Predictor11=function(l,h,v){var _=h[v+0];return 0>=ct(_>>24&255,l>>24&255,(h=h[v-1])>>24&255)+ct(_>>16&255,l>>16&255,h>>16&255)+ct(_>>8&255,l>>8&255,h>>8&255)+ct(255&_,255&l,255&h)?_:l},M.Predictor12=function(l,h,v){var _=h[v+0];return(Ze((l>>24&255)+(_>>24&255)-((h=h[v-1])>>24&255))<<24|Ze((l>>16&255)+(_>>16&255)-(h>>16&255))<<16|Ze((l>>8&255)+(_>>8&255)-(h>>8&255))<<8|Ze((255&l)+(255&_)-(255&h)))>>>0},M.Predictor13=function(l,h,v){var _=h[v-1];return(it((l=De(l,h[v+0]))>>24&255,_>>24&255)<<24|it(l>>16&255,_>>16&255)<<16|it(l>>8&255,_>>8&255)<<8|it(l>>0&255,_>>0&255))>>>0};var pf=M.PredictorAdd0;M.PredictorAdd1=vt,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var Il=M.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var bu,zn=M.ColorIndexInverseTransform,so=M.MapARGB,_u=M.VP8LColorIndexInverseTransformAlpha,Nu=M.MapAlpha,di=M.VP8LPredictorsAdd=[];di.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var oa,mn,sn,hi,Us,qs,io,zs,fr,Rl,an,$n,ao,Su,Ol,la,ca,fi,ua,oo,da,pi,Fl,Wn,Hn,Vt,Gt,pr,kr=i(511),$s=i(2041),Ml=i(225),lo=i(767),ju=0,mf=$s,ku=Ml,Cn=lo,Vn=kr,Au=0,Lu=1,ig=2,Pu=3,Cu=4,gf=5,ag=6,vf=7,yf=8,Eu=9,wf=10,Mw=[2,3,7],Dw=[3,3,11],og=[280,256,256,256,40],Bw=[0,1,1,1,0],Uw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$w=8,xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dl=null,Ww=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Gw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mi=[],is=[],Ws=[],Yw=1,cg=2,gi=[],Gn=[];_e("UpsampleRgbLinePair",kt,3),_e("UpsampleBgrLinePair",rr,3),_e("UpsampleRgbaLinePair",ss,4),_e("UpsampleBgraLinePair",Tr,4),_e("UpsampleArgbLinePair",Wr,4),_e("UpsampleRgba4444LinePair",br,2),_e("UpsampleRgb565LinePair",lr,2);var Xw=M.UpsampleRgbLinePair,Qw=M.UpsampleBgrLinePair,ug=M.UpsampleRgbaLinePair,dg=M.UpsampleBgraLinePair,hg=M.UpsampleArgbLinePair,fg=M.UpsampleRgba4444LinePair,Zw=M.UpsampleRgb565LinePair,Tu=16,Iu=1<<Tu-1,Bl=-227,_f=482,ex=6,pg=0,tx=i(256),rx=i(256),nx=i(256),sx=i(256),ix=i(_f-Bl),ax=i(_f-Bl);js("YuvToRgbRow",kt,3),js("YuvToBgrRow",rr,3),js("YuvToRgbaRow",ss,4),js("YuvToBgraRow",Tr,4),js("YuvToArgbRow",Wr,4),js("YuvToRgba4444Row",br,2),js("YuvToRgb565Row",lr,2);var mg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ru=[0,2,8],ox=[8,7,6,4,4,2,2,2,1,1,1,1],lx=1;this.WebPDecodeRGBA=function(l,h,v,_,A){var P=Lu,C=new Xa,E=new Oe;C.ba=E,E.S=P,E.width=[E.width],E.height=[E.height];var O=E.width,z=E.height,re=new Ke;if(re==null||l==null)var fe=2;else e(re!=null),fe=Za(l,h,v,re.width,re.height,re.Pd,re.Qd,re.format,null);if(fe!=0?O=0:(O!=null&&(O[0]=re.width[0]),z!=null&&(z[0]=re.height[0]),O=1),O){E.width=E.width[0],E.height=E.height[0],_!=null&&(_[0]=E.width),A!=null&&(A[0]=E.height);e:{if(_=new Wa,(A=new Sl).data=l,A.w=h,A.ha=v,A.kd=1,h=[0],e(A!=null),((l=Za(A.data,A.w,A.ha,null,null,null,h,null,A))==0||l==7)&&h[0]&&(l=4),(h=l)==0){if(e(C!=null),_.data=A.data,_.w=A.w+A.offset,_.ha=A.ha-A.offset,_.put=jr,_.ac=Lt,_.bc=rn,_.ma=C,A.xa){if((l=Er())==null){C=1;break e}if(function(pe,ue){var Le=[0],xe=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(ue==null)return pe.a=2,0;if(pe.l=ue,pe.a=0,V(pe.m,ue.data,ue.w,ue.ha),!tt(pe.m,Le,xe,ne)){pe.a=3;break t}if(pe.xb=cg,ue.width=Le[0],ue.height=xe[0],!_s(Le[0],xe[0],1,pe,null))break t;return 1}return e(pe.a!=0),0}(l,_)){if(_=(h=eo(_.width,_.height,C.Oa,C.ba))==0){t:{_=l;r:for(;;){if(_==null){_=0;break t}if(e(_.s.yc!=null),e(_.s.Ya!=null),e(0<_.s.Wb),e((v=_.l)!=null),e((A=v.ma)!=null),_.xb!=0){if(_.ca=A.ba,_.tb=A.tb,e(_.ca!=null),!Cl(A.Oa,v,Pu)){_.a=2;break r}if(!ra(_,v.width)||v.da)break r;if((v.da||ot(_.ca.S))&&he(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&he()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!Ge(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Ln(_,_.V,_.Ba,_.c,_.i,v.o,An))break r;A.Dc=_.Ma,_=1;break t}e(_.a!=0),_=0}_=!_}_&&(h=l.a)}else h=l.a}else{if((l=new Jh)==null){C=1;break e}if(l.Fa=A.na,l.P=A.P,l.qc=A.Sa,iu(l,_)){if((h=eo(_.width,_.height,C.Oa,C.ba))==0){if(l.Aa=0,v=C.Oa,e((A=l)!=null),v!=null){if(0<(O=0>(O=v.Md)?0:100<O?255:255*O/100)){for(z=re=0;4>z;++z)12>(fe=A.pb[z]).lc&&(fe.ia=O*ox[0>fe.lc?0:fe.lc]>>3),re|=fe.ia;re&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=v.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}Kh(l,_)||(h=l.a)}}else h=l.a}h==0&&C.Oa!=null&&C.Oa.fd&&(h=El(C.ba))}C=h}P=C!=0?null:11>P?E.f.RGBA.eb:E.f.kb.y}else P=null;return P};var gg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(M,ae){for(var Z="",T=0;T<4;T++)Z+=String.fromCharCode(M[ae++]);return Z}function f(M,ae){return(M[ae+0]<<0|M[ae+1]<<8|M[ae+2]<<16)>>>0}function p(M,ae){return(M[ae+0]<<0|M[ae+1]<<8|M[ae+2]<<16|M[ae+3]<<24)>>>0}new c;var y=[0],g=[0],N=[],S=new c,j=t,w=function(M,ae){var Z={},T=0,R=!1,K=0,F=0;if(Z.frames=[],!function(B,W,X,te){for(var J=0;J<te;J++)if(B[W+J]!=X.charCodeAt(J))return!0;return!1}(M,ae,"RIFF",4)){var ce,se;for(p(M,ae+=4),ae+=8;ae<M.length;){var de=d(M,ae),V=p(M,ae+=4);ae+=4;var oe=V+(1&V);switch(de){case"VP8 ":case"VP8L":Z.frames[T]===void 0&&(Z.frames[T]={}),(k=Z.frames[T]).src_off=R?F:ae-8,k.src_size=K+V+8,T++,R&&(R=!1,K=0,F=0);break;case"VP8X":(k=Z.header={}).feature_flags=M[ae];var Y=ae+4;k.canvas_width=1+f(M,Y),Y+=3,k.canvas_height=1+f(M,Y),Y+=3;break;case"ALPH":R=!0,K=oe+8,F=ae-8;break;case"ANIM":(k=Z.header).bgcolor=p(M,ae),Y=ae+4,k.loop_count=(ce=M)[(se=Y)+0]<<0|ce[se+1]<<8,Y+=2;break;case"ANMF":var ge,k;(k=Z.frames[T]={}).offset_x=2*f(M,ae),ae+=3,k.offset_y=2*f(M,ae),ae+=3,k.width=1+f(M,ae),ae+=3,k.height=1+f(M,ae),ae+=3,k.duration=f(M,ae),ae+=3,ge=M[ae++],k.dispose=1&ge,k.blend=ge>>1&1}de!="ANMF"&&(ae+=oe)}return Z}}(j,0);w.response=j,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,b=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,y=[x.canvas_height],g=[x.canvas_width];for(var I=0;I<b.length&&b[I].blend!=0;I++);}var q=b[0],$=S.WebPDecodeRGBA(j,q.src_off,q.src_size,g,y);q.rgba=$,q.imgwidth=g[0],q.imgheight=y[0];for(var U=0;U<g[0]*y[0]*4;U++)N[U]=$[U];return this.width=g,this.height=y,this.data=N,this}(function(t){var e=function(){return typeof zm=="function"},r=function(y,g,N,S){var j=4,w=a;switch(S){case t.image_compression.FAST:j=1,w=i;break;case t.image_compression.MEDIUM:j=6,w=o;break;case t.image_compression.SLOW:j=9,w=c}y=n(y,g,N,w);var x=zm(y,{level:j});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(y,g,N,S){for(var j,w,x,b=y.length/g,I=new Uint8Array(y.length+b),q=f(),$=0;$<b;$+=1){if(x=$*g,j=y.subarray(x,x+g),S)I.set(S(j,N,w),x+$);else{for(var U,M=q.length,ae=[];U<M;U+=1)ae[U]=q[U](j,N,w);var Z=p(ae.concat());I.set(ae[Z],x+$)}w=j}return I},s=function(y){var g=Array.apply([],y);return g.unshift(0),g},i=function(y,g){var N,S=[],j=y.length;S[0]=1;for(var w=0;w<j;w+=1)N=y[w-g]||0,S[w+1]=y[w]-N+256&255;return S},a=function(y,g,N){var S,j=[],w=y.length;j[0]=2;for(var x=0;x<w;x+=1)S=N&&N[x]||0,j[x+1]=y[x]-S+256&255;return j},o=function(y,g,N){var S,j,w=[],x=y.length;w[0]=3;for(var b=0;b<x;b+=1)S=y[b-g]||0,j=N&&N[b]||0,w[b+1]=y[b]+256-(S+j>>>1)&255;return w},c=function(y,g,N){var S,j,w,x,b=[],I=y.length;b[0]=4;for(var q=0;q<I;q+=1)S=y[q-g]||0,j=N&&N[q]||0,w=N&&N[q-g]||0,x=d(S,j,w),b[q+1]=y[q]-x+256&255;return b},d=function(y,g,N){if(y===g&&g===N)return y;var S=Math.abs(g-N),j=Math.abs(y-N),w=Math.abs(y+g-N-N);return S<=j&&S<=w?y:j<=w?g:N},f=function(){return[s,i,a,o,c]},p=function(y){var g=y.map(function(N){return N.reduce(function(S,j){return S+Math.abs(j)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(y,g,N,S){var j,w,x,b,I,q,$,U,M,ae,Z,T,R,K,F,ce=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(x=new sk(y)).imgData,w=x.bits,j=x.colorSpace,I=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){M=(U=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,Z=new Uint8Array(M*x.colors),ae=new Uint8Array(M);var de,V=x.pixelBitlength-x.bits;for(K=0,F=0;K<M;K++){for(R=U[K],de=0;de<V;)Z[F++]=R>>>de&255,de+=x.bits;ae[K]=R>>>de&255}}if(x.bits===16){M=(U=new Uint32Array(x.decodePixels().buffer)).length,Z=new Uint8Array(M*(32/x.pixelBitlength)*x.colors),ae=new Uint8Array(M*(32/x.pixelBitlength)),T=x.colors>1,K=0,F=0;for(var oe=0;K<M;)R=U[K++],Z[F++]=R>>>0&255,T&&(Z[F++]=R>>>16&255,R=U[K++],Z[F++]=R>>>0&255),ae[oe++]=R>>>16&255;w=8}S!==t.image_compression.NONE&&e()?(y=r(Z,x.width*x.colors,x.colors,S),$=r(ae,x.width,1,S)):(y=Z,$=ae,ce=void 0)}if(x.colorType===3&&(j=this.color_spaces.INDEXED,q=x.palette,x.transparency.indexed)){var Y=x.transparency.indexed,ge=0;for(K=0,M=Y.length;K<M;++K)ge+=Y[K];if((ge/=255)===M-1&&Y.indexOf(0)!==-1)b=[Y.indexOf(0)];else if(ge!==M){for(U=x.decodePixels(),ae=new Uint8Array(U.length),K=0,M=U.length;K<M;K++)ae[K]=Y[U[K]];$=r(ae,x.width,1)}}var k=function(B){var W;switch(B){case t.image_compression.FAST:W=11;break;case t.image_compression.MEDIUM:W=13;break;case t.image_compression.SLOW:W=14;break;default:W=12}return W}(S);return ce===this.decode.FLATE_DECODE&&(se="/Predictor "+k+" "),se+="/Colors "+I+" /BitsPerComponent "+w+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:N,data:y,index:g,filter:ce,decodeParameters:se,transparency:b,palette:q,sMask:$,predictor:k,width:x.width,height:x.height,bitsPerComponent:w,colorSpace:j}}}})(at.API),function(t){t.processGIF89A=function(e,r,n,s){var i=new ik(e),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:o},f=new jp(100).encode(d,100);return t.processJPEG.call(this,f,r,n,s)},t.processGIF87A=t.processGIF89A}(at.API),cs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){$t.log("bit decode error:"+r)}},cs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},cs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},cs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},cs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=d}this.pos+=t}},cs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&r)/r*255|0,d=(a>>11)/e*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},cs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},cs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},cs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new cs(e,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},d=new jp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,s)}}(at.API),G2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new G2(e),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},d=new jp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,s)}}(at.API),at.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,d=0;d<s;d+=4){var f=n[d],p=n[d+1],y=n[d+2],g=n[d+3];i[o++]=f,i[o++]=p,i[o++]=y,a[c++]=g}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bo=at.API,md=bo.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=e.doKerning!==!1,y=0,g=t.length,N=0,S=o[0]||c,j=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(y=p&&Dt(d[n])==="object"&&!isNaN(parseInt(d[n][N],10))?d[n][N]/f:0,j.push((o[n]||S)/c+y)),N=n;return j},$2=bo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return bo.processArabic&&(t=bo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:md.apply(this,arguments).reduce(function(i,a){return i+a},0)},W2=function(t,e,r,n){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<r;)o+=e[i],i++;s.push(t.slice(0,i));var c=i;for(o=0;i!==a;)o+e[i]>n&&(s.push(t.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},H2=function(t,e,r){r||(r={});var n,s,i,a,o,c,d,f=[],p=[f],y=r.textIndent||0,g=0,N=0,S=t.split(" "),j=md.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),x=[];S.map(function(I){(I=I.split(/\s*\n/)).length>1?x=x.concat(I.map(function(q,$){return($&&q.length?`
`:"")+q})):x.push(I[0])}),S=x,c=$2.apply(this,[w,r])}for(i=0,a=S.length;i<a;i++){var b=0;if(n=S[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),y+g+(N=(s=md.apply(this,[n,r])).reduce(function(I,q){return I+q},0))>e||b){if(N>e){for(o=W2.apply(this,[n,s,e-(y+g),e]),f.push(o.shift()),f=[o.pop()];o.length;)p.push([o.shift()]);N=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(I,q){return I+q},0)}else f=[n];p.push(f),y=N+c,g=j}else f.push(n),y+=g+N,g=j}return d=c?function(I,q){return(q?w:"")+I.join(" ")}:function(I){return I.join(" ")},p.map(d)},bo.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(H2.apply(this,[n[o],a,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},s=0;s<e.length;s++)r[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var y,g,N,S,j=["{"];for(var w in p){if(y=p[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=i(w).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof y=="number")y<0?(N=i(y).slice(3),S="-"):(N=i(y).slice(2),S=""),N=S+N.slice(0,-1)+n[N.slice(-1)];else{if(Dt(y)!=="object")throw new Error("Don't know what to do with value type "+Dt(y)+".");N=a(y)}j.push(g+N)}return j.push("}"),j.join("")},o=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,N,S,j={},w=1,x=j,b=[],I="",q="",$=p.length-1,U=1;U<$;U+=1)(S=p[U])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(S):S=="{"?(b.push([x,N]),x={},N=void 0):S=="}"?((g=b.pop())[0][g[1]]=x,N=void 0,x=g[0]):S=="-"?w=-1:N===void 0?r.hasOwnProperty(S)?(I+=r[S],N=parseInt(I,16)*w,w=1,I=""):I+=S:r.hasOwnProperty(S)?(q+=r[S],x[N]=parseInt(q,16)*w,w=1,N=void 0,q=""):q+=S;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var y=p.font,g=f.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var N=d.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])}(at.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(bc(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(at),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):ti(()=>import("./index.es-CheEBCN-.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}at.API.addSvgAsImage=function(r,n,s,i,a,o,c,d){if(isNaN(n)||isNaN(s))throw $t.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw $t.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(N){return N.fromString(p,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(y)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),n,s,i,a,c,d)})}}(),at.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},at.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],d=0,f=0,p=0;function y(N,S){var j,w=!1;for(j=0;j<N.length;j+=1)N[j]===S&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(p=0;p<g;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Dt(t)==="object"){for(s in t)if(i=t[s],y(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&y(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,S=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?S.push("/"+N+" /"+r[N].value):S.push("/"+N+" "+r[N].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,y=i.length;p<y;++p){if(o=a.metadata.characterToGlyph(i.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(d[4-o.length],o)}return f.join("")},n=function(i){var a,o,c,d,f,p,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,y=(o=Object.keys(i).sort(function(g,N){return g-N})).length;p<y;p++)a=o[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,d=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",N=0;N<y.length;N++)g+=String.fromCharCode(y[N]);var S=d();f({data:g,addLength1:!0,objectId:S}),c("endobj");var j=d();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+jo(o.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var x=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+jo(o.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+jo(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,d=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,y="",g=0;g<p.length;g++)y+=String.fromCharCode(p[g]);var N=d();f({data:y,addLength1:!0,objectId:N}),c("endobj");var S=d();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var j=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+jo(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+jo(o.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,d=i.y,f=i.options||{},p=i.mutex||{},y=p.pdfEscape,g=p.activeFontKey,N=p.fonts,S=g,j="",w=0,x="",b=N[S].encoding;if(N[S].encoding!=="Identity-H")return{text:o,x:c,y:d,options:f,mutex:p};for(x=o,S=g,Array.isArray(o)&&(x=o[0]),w=0;w<x.length;w+=1)N[S].metadata.hasOwnProperty("cmap")&&(a=N[S].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),a||x[w].charCodeAt(0)<256&&N[S].metadata.hasOwnProperty("Unicode")?j+=x[w]:j+="";var I="";return parseInt(S.slice(1))<14||b==="WinAnsiEncoding"?I=y(j,S).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(I=r(j,N[S])),p.isHex=!0,{text:I,x:c,y:d,options:f,mutex:p}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([s(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(s(Object.assign({},c,{text:a[d]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,a,o,c,d,f,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,b=0;this.__bidiEngine__={};var I=function(T){var R=T.charCodeAt(),K=R>>8,F=S[K];return F!==void 0?p[256*F+(255&R)]:K===252||K===253?"AL":w.test(K)?"L":K===8?"R":"N"},q=function(T){for(var R,K=0;K<T.length;K++){if((R=I(T.charAt(K)))==="L")return!1;if(R==="R")return!0}return!1},$=function(T,R,K,F){var ce,se,de,V,oe=R[F];switch(oe){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(oe="AN");break;case"AL":x=!0,oe="R";break;case"WS":oe="N";break;case"CS":F<1||F+1>=R.length||(ce=K[F-1])!=="EN"&&ce!=="AN"||(se=R[F+1])!=="EN"&&se!=="AN"?oe="N":x&&(se="AN"),oe=se===ce?se:"N";break;case"ES":oe=(ce=F>0?K[F-1]:"B")==="EN"&&F+1<R.length&&R[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&K[F-1]==="EN"){oe="EN";break}if(x){oe="N";break}for(de=F+1,V=R.length;de<V&&R[de]==="ET";)de++;oe=de<V&&R[de]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(V=R.length,de=F+1;de<V&&R[de]==="NSM";)de++;if(de<V){var Y=T[F],ge=Y>=1425&&Y<=2303||Y===64286;if(ce=R[de],ge&&(ce==="R"||ce==="AL")){oe="R";break}}}oe=F<1||(ce=R[F-1])==="B"?"N":K[F-1];break;case"B":x=!1,s=!0,oe=b;break;case"S":i=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":oe="N"}return oe},U=function(T,R,K){var F=T.split("");return K&&M(F,K,{hiLevel:b}),F.reverse(),R&&R.reverse(),F.join("")},M=function(T,R,K){var F,ce,se,de,V,oe=-1,Y=T.length,ge=0,k=[],B=b?g:y,W=[];for(x=!1,s=!1,i=!1,ce=0;ce<Y;ce++)W[ce]=I(T[ce]);for(se=0;se<Y;se++){if(V=ge,k[se]=$(T,W,k,se),F=240&(ge=B[V][N[k[se]]]),ge&=15,R[se]=de=B[ge][5],F>0)if(F===16){for(ce=oe;ce<se;ce++)R[ce]=1;oe=-1}else oe=-1;if(B[ge][6])oe===-1&&(oe=se);else if(oe>-1){for(ce=oe;ce<se;ce++)R[ce]=de;oe=-1}W[se]==="B"&&(R[se]=0),K.hiLevel|=de}i&&function(X,te,J){for(var Q=0;Q<J;Q++)if(X[Q]==="S"){te[Q]=b;for(var ie=Q-1;ie>=0&&X[ie]==="WS";ie--)te[ie]=b}}(W,R,Y)},ae=function(T,R,K,F,ce){if(!(ce.hiLevel<T)){if(T===1&&b===1&&!s)return R.reverse(),void(K&&K.reverse());for(var se,de,V,oe,Y=R.length,ge=0;ge<Y;){if(F[ge]>=T){for(V=ge+1;V<Y&&F[V]>=T;)V++;for(oe=ge,de=V-1;oe<de;oe++,de--)se=R[oe],R[oe]=R[de],R[de]=se,K&&(se=K[oe],K[oe]=K[de],K[de]=se);ge=V}ge++}}},Z=function(T,R,K){var F=T.split(""),ce={hiLevel:b};return K||(K=[]),M(F,K,ce),function(se,de,V){if(V.hiLevel!==0&&f)for(var oe,Y=0;Y<se.length;Y++)de[Y]===1&&(oe=j.indexOf(se[Y]))>=0&&(se[Y]=j[oe+1])}(F,K,ce),ae(2,F,R,K,ce),ae(1,F,R,K,ce),F.join("")};return this.__bidiEngine__.doBidiReorder=function(T,R,K){if(function(ce,se){if(se)for(var de=0;de<ce.length;de++)se[de]=de;o===void 0&&(o=q(ce)),d===void 0&&(d=q(ce))}(T,R),a||!c||d)if(a&&c&&o^d)b=o?1:0,T=U(T,R,K);else if(!a&&c&&d)b=o?1:0,T=Z(T,R,K),T=U(T,R);else if(!a||o||c||d){if(a&&!c&&o^d)T=U(T,R),o?(b=0,T=Z(T,R,K)):(b=1,T=Z(T,R,K),T=U(T,R));else if(a&&o&&!c&&d)b=1,T=Z(T,R,K),T=U(T,R);else if(!a&&!c&&o^d){var F=f;o?(b=1,T=Z(T,R,K),b=0,f=!1,T=Z(T,R,K),f=F):(b=0,T=Z(T,R,K),T=U(T,R),b=1,f=!1,T=Z(T,R,K),f=F,T=U(T,R))}}else b=0,T=Z(T,R,K);else b=o?1:0,T=Z(T,R,K);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,c=T.isOutputVisual,o=T.isInputRtl,d=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([r.doBidiReorder(s[o])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ki(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new xk(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ak(this.contents),this.head=new lk(this),this.name=new fk(this),this.cmap=new Ow(this),this.toUnicode={},this.hhea=new ck(this),this.maxp=new pk(this),this.hmtx=new mk(this),this.post=new dk(this),this.os2=new uk(this),this.loca=new wk(this),this.glyf=new gk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,d;for(d=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var bs,Ki=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,a,o,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),ak=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,a,o,c,d,f,p,y,g,N,S;for(S in g=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(g)/c),a=Math.floor(p/c),f=16*g-p,(s=new Ki).writeInt(this.scalarType),s.writeShort(g),s.writeShort(p),s.writeShort(a),s.writeShort(f),i=16*g,d=s.pos+i,o=null,N=[],r)for(y=r[S],s.writeString(S),s.writeInt(t(y)),s.writeInt(d),s.writeInt(y.length),N=N.concat(y),S==="head"&&(o=d),d+=y.length;d%4;)N.push(0),d++;return s.write(N),n=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,a;for(r=Fw.call(r);r.length%4;)r.push(0);for(i=new Ki(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),ok={}.hasOwnProperty,Ms=function(t,e){for(var r in e)ok.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};bs=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var lk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ki).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),J2=function(){function t(e,r){var n,s,i,a,o,c,d,f,p,y,g,N,S,j,w,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,i=function(){var I,q;for(q=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)q.push(e.readUInt16());return q}(),e.pos+=2,S=function(){var I,q;for(q=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)q.push(e.readUInt16());return q}(),d=function(){var I,q;for(q=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)q.push(e.readUInt16());return q}(),f=function(){var I,q;for(q=[],c=I=0;0<=y?I<y:I>y;c=0<=y?++I:--I)q.push(e.readUInt16());return q}(),s=(this.length-e.pos+this.offset)/2,o=function(){var I,q;for(q=[],c=I=0;0<=s?I<s:I>s;c=0<=s?++I:--I)q.push(e.readUInt16());return q}(),c=w=0,b=i.length;w<b;c=++w)for(j=i[c],n=x=N=S[c];N<=j?x<=j:x>=j;n=N<=j?++x:--x)f[c]===0?a=n+d[c]:(a=o[f[c]/2+(n-N)-(y-c)]||0)!==0&&(a+=d[c]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,s,i,a,o,c,d,f,p,y,g,N,S,j,w,x,b,I,q,$,U,M,ae,Z,T,R,K,F,ce,se,de,V,oe,Y,ge,k,B,W,X,te,J,Q,ie,be,je,Ce;switch(F=new Ki,a=Object.keys(e).sort(function(Ie,Ge){return Ie-Ge}),r){case"macroman":for(S=0,j=function(){var Ie=[];for(N=0;N<256;++N)Ie.push(0);return Ie}(),x={0:0},i={},ce=0,oe=a.length;ce<oe;ce++)x[ie=e[s=a[ce]]]==null&&(x[ie]=++S),i[s]={old:e[s],new:x[e[s]]},j[s]=x[e[s]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(j),{charMap:i,subtable:F.data,maxGlyphID:S+1};case"unicode":for(R=[],p=[],b=0,x={},n={},w=d=null,se=0,Y=a.length;se<Y;se++)x[q=e[s=a[se]]]==null&&(x[q]=++b),n[s]={old:q,new:x[q]},o=x[q]-s,w!=null&&o===d||(w&&p.push(w),R.push(s),d=o),w=s;for(w&&p.push(w),p.push(65535),R.push(65535),Z=2*(ae=R.length),M=2*Math.pow(Math.log(ae)/Math.LN2,2),y=Math.log(M/2)/Math.LN2,U=2*ae-M,c=[],$=[],g=[],N=de=0,ge=R.length;de<ge;N=++de){if(T=R[N],f=p[N],T===65535){c.push(0),$.push(0);break}if(T-(K=n[T].new)>=32768)for(c.push(0),$.push(2*(g.length+ae-N)),s=V=T;T<=f?V<=f:V>=f;s=T<=f?++V:--V)g.push(n[s].new);else c.push(K-T),$.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*ae+2*g.length),F.writeUInt16(0),F.writeUInt16(Z),F.writeUInt16(M),F.writeUInt16(y),F.writeUInt16(U),J=0,k=p.length;J<k;J++)s=p[J],F.writeUInt16(s);for(F.writeUInt16(0),Q=0,B=R.length;Q<B;Q++)s=R[Q],F.writeUInt16(s);for(be=0,W=c.length;be<W;be++)o=c[be],F.writeUInt16(o);for(je=0,X=$.length;je<X;je++)I=$[je],F.writeUInt16(I);for(Ce=0,te=g.length;Ce<te;Ce++)S=g[Ce],F.writeUInt16(S);return{charMap:n,subtable:F.data,maxGlyphID:b+1}}},t}(),Ow=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new J2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=J2.encode(r,n),(i=new Ki).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),ck=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),uk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),dk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="post",e.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)d.push(r.readUInt32());return d}).call(this)}},e}(),hk=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="name",e.prototype.parse=function(r){var n,s,i,a,o,c,d,f,p,y,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},a=p=0,y=s.length;p<y;a=++p)i=s[a],r.pos=i.offset,f=r.readString(i.length),o=new hk(f,i),d[g=i.nameID]==null&&(d[g]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),pk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),mk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,s,i,a,o,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(r.readInt16());return p}(),this.widths=(function(){var f,p,y,g;for(g=[],f=0,p=(y=this.metrics).length;f<p;f++)a=y[f],g.push(a.advance);return g}).call(this),s=this.widths[this.widths.length-1],d=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)d.push(this.widths.push(s));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),Fw=[].slice,gk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,s,i,a,o,c,d,f,p,y;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(c=new Ki(n.read(i))).readShort(),f=c.readShort(),y=c.readShort(),d=c.readShort(),p=c.readShort(),this.cache[r]=o===-1?new yk(c,f,y,d,p):new vk(c,o,f,y,d,p),this.cache[r]))},e.prototype.encode=function(r,n,s){var i,a,o,c,d;for(o=[],a=[],c=0,d=n.length;c<d;c++)i=r[n[c]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},e}(),vk=function(){function t(e,r,n,s,i,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),yk=function(){function t(e,r,n,s,i){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ki(Fw.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),wk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ms(e,bs),e.prototype.tag="loca",e.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<n.length&&n[a]==o){++a,s[o]=i;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(i+=d)}for(var f=new Array(4*s.length),p=0;p<s.length;++p)f[4*p+3]=255&s[p],f[4*p+2]=(65280&s[p])>>8,f[4*p+1]=(16711680&s[p])>>16,f[4*p]=(4278190080&s[p])>>24;return f},e}(),xk=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,a,o,c;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,a,o,c,d,f,p,y,g,N,S,j,w;for(s in n=Ow.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),g={0:0},w=n.charMap)g[(c=w[s]).old]=c.new;for(N in y=n.maxGlyphID,a)N in g||(g[N]=y++);return f=function(x){var b,I;for(b in I={},x)I[x[b]]=b;return I}(g),p=Object.keys(f).sort(function(x,b){return x-b}),S=function(){var x,b,I;for(I=[],x=0,b=p.length;x<b;x++)o=p[x],I.push(f[o]);return I}(),i=this.font.glyf.encode(a,S,g),d=this.font.loca.encode(i.offsets,S),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)n=r[o],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+r},e}();function bk(t,e){const[r,n]=D.useState(""),[s,i]=D.useState(!1),a=D.useRef(null),o=D.useRef(null);return D.useEffect(()=>{const d=t||"";n(""),i(!1);let f=0;const p=Math.max(15,Math.floor((e||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(e||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[t,e]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(t||""),i(!0)}}}function _k(t,e="zelia"){try{if(t!=null&&t.avatar_url&&typeof t.avatar_url=="string")return t.avatar_url;if(t!=null&&t.avatar&&typeof t.avatar=="string")return t.avatar;if(t!=null&&t.avatar_json){let n=t.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(e)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(e)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"300",radius:"15"}).toString()}`}function Nk(){const t=Un(),[e,r]=D.useState(null),[n,s]=D.useState(""),[i,a]=D.useState(!0),[o,c]=D.useState(""),[d,f]=D.useState("intro"),[p,y]=D.useState(0),[g,N]=D.useState(0),[S,j]=D.useState([]),[w,x]=D.useState({}),[b,I]=D.useState(null),[q,$]=D.useState(""),[U,M]=D.useState(!1),[ae,Z]=D.useState(!1),[T,R]=D.useState(!1),[K,F]=D.useState(""),[ce,se]=D.useState(!1),[de,V]=D.useState(!1),[oe,Y]=D.useState(!1),[ge,k]=D.useState(!1),[B,W]=D.useState("actions"),X={bg:"#f7f9fc",accent1:"#c1ff72",accent2:"#f68fff",text:"#000000"},te="/assets/images/logo-dark.png",J="@zelia",Q={ISTJ:["Comptable","Contrleur qualit","Analyste financier","Gestionnaire logistique","Responsable conformit"],ISFJ:["Assistant social","Infirmier","Gestionnaire RH","Coordinateur pdagogique","Orthophoniste"],INFJ:["Psychologue","Coach","Rdacteur","UX Writer","Conseiller dorientation"],INTJ:["Data Scientist","Architecte logiciel","Consultant stratgie","Chercheur","Chef de produit technique"],ISTP:["Technicien industriel","Dveloppeur embarqu","Mcanicien de prcision","Pilote de ligne","Secops Analyst"],ISFP:["Designer graphique","Photographe","Styliste","Illustrateur","Ergonome"],INFP:["crivain","Psychologue","UX Designer","Mtiers de ldition","Charg de communication"],INTP:["Dveloppeur","Chercheur IA","Analyste systmes","Ingnieur R&D","Architecte donnes"],ESTP:["Commercial","Entrepreneur","Chef de chantier","vnementiel","Responsable oprations"],ESFP:["Animateur","Community Manager","vnementiel","Vente retail","Charg de projets culturels"],ENFP:["Cratif publicitaire","Chef de projet innovation","Conseiller en insertion","Charg de communication","Formateur"],ENTP:["Growth Hacker","Entrepreneur","Consultant innovation","Chef de produit","Stratge digital"],ESTJ:["Chef de projet","Manager logistique","Responsable qualit","Administrateur systmes","Gestion de production"],ESFJ:["RH","Conseiller clientle","Enseignant","Coordinateur vnementiel","Charg de mission associative"],ENFJ:["Coach","Formateur","Consultant RH","Responsable partenariats","Chef de projet communautaire"],ENTJ:["Directeur produit","Consultant stratgie","Sales Manager","Entrepreneur","Project Director"]};function ie(ve){if(!ve)return null;const Se=ve.match(/\(([IE][NS][FT][JP])\)/i);return Se?Se[1].toUpperCase():null}function be(ve,Se=34){return!ve||typeof ve!="string"?"":ve.length>Se?ve.slice(0,Se-1)+"":ve}D.useEffect(()=>{let ve=!0;return(async()=>{var Se;try{const{data:{user:Ve}}=await Qr.auth.getUser();if(!Ve){t("/login");return}$(Ve.id);const $e=await Ho.getProfile().catch(()=>null);if(!ve)return;const me=((Se=$e==null?void 0:$e.data)==null?void 0:Se.profile)||null;r(me),s(_k(me,Ve.id));const mt=await Mt.get("/questionnaire/questions",{params:{type:"mbti",_:Date.now()}}),ot=Array.isArray(mt==null?void 0:mt.data)?mt.data:[];j(ot)}catch(Ve){if(console.error("Niv4 init error",Ve),!ve)return;c("Erreur de chargement")}finally{ve&&a(!1)}})(),()=>{ve=!1}},[t]);const je=D.useMemo(()=>[{text:"Yo, niveau 4 ! On passe au MBTI pour mieux cerner ton style.",durationMs:3500},{text:"Je te pose quelques questions, tu rponds  l'instinct.",durationMs:3500},{text:"Ensuite j'analyse tes rponses et je te sors une analyse MBTI bien complte ( 1000 mots).",durationMs:4500},{text:"Objectif: que tu comprennes comment tu fonctionnes et quels mtiers te collent  la peau.",durationMs:4500},{text:"Prt(e) ? On dmarre tranquille.",durationMs:2500}],[]),Ce=je[p]||{text:"",durationMs:1500},{text:Ie,done:Ge,skip:ye}=bk(Ce.text,Ce.durationMs);D.useEffect(()=>{if(d!=="intro"||Ge)return;const ve=setInterval(()=>Z(Se=>!Se),200);return()=>clearInterval(ve)},[d,Ge]);function G(){if(!Ge){ye();return}p+1<je.length?y(p+1):(f("quiz"),N(0))}const Qe=D.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]),Fe=S[g],Ne=D.useMemo(()=>{const ve=Fe&&(Fe.content??Fe.contenu);if(typeof ve!="string")return ve;if(ve.startsWith("(")){const Se=ve.indexOf('"'),Ve=ve.indexOf('"',Se+1);if(Se!==-1&&Ve!==-1)return ve.slice(Se+1,Ve)}return ve},[Fe]),Te=S.length?Math.round((g+1)/S.length*100):0,Me=Fe?w[Fe.id]!=null:!1;async function De(){var ve;M(!0);try{const Se={answers:Object.entries(w).map(([me,mt])=>({question_id:Number(me),answer:mt})),questionnaireType:"mbti"};await Mt.post("/questionnaire/submit?type=mbti",Se);const Ve=await Mt.post("/analysis/generate-analysis-by-type",{userId:q,questionnaireType:"mbti"}),$e=(ve=Ve==null?void 0:Ve.data)==null?void 0:ve.analysis;$e&&I($e),f("results")}catch(Se){console.error("MBTI submit/analyze error",Se),c("Impossible de gnrer l'analyse MBTI")}finally{M(!1)}}function Ze(){f("success"),(async()=>{try{const ve=await Gi.get().catch(()=>({data:{level:1,xp:0,quests:[],perks:[]}})),Se=(ve==null?void 0:ve.data)||{level:1,xp:0,quests:[],perks:[]},Ve=(Se.xp||0)+180,$e=Math.max(4,Se.level||1);await Gi.update({level:$e,xp:Ve,quests:Se.quests||[],perks:Se.perks||[]})}catch(ve){console.warn("Progression update failed (non-blocking):",ve)}})()}function it(ve){return new Promise((Se,Ve)=>{const $e=new Image;$e.crossOrigin="anonymous",$e.onload=()=>Se($e),$e.onerror=Ve,$e.src=ve})}function ct(ve,Se=3){if(!ve||typeof ve!="string")return[];const Ve=ve.split(/\r?\n/).map(me=>me.trim()).filter(Boolean),$e=[];for(const me of Ve){let mt=me.replace(/^[-]\s+/,"").replace(/^\d+\.\s*/,"").trim();if(mt.includes(":")&&(mt=mt.split(":")[0].trim()),mt.length>60&&(mt=mt.slice(0,57)+""),mt&&$e.push(mt),$e.length>=Se)break}return $e}async function vt(){try{const ve=new FontFace("ClashGroteskSemibold",'url(/static/fonts/ClashGroteskSemibold.woff2) format("woff2")');await ve.load(),document.fonts.add(ve);try{const Se=new FontFace("Bricolage Grotesque",'url("https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap")');await Se.load(),document.fonts.add(Se)}catch{console.warn("Bricolage Grotesque not available, using ClashGroteskSemibold")}await document.fonts.load('800 88px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 64px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 48px "Bricolage Grotesque", "ClashGroteskSemibold"')}catch(ve){console.warn("Canvas font load failed, falling back to system fonts",ve)}}async function pt(ve){try{await vt();const Se=1080,Ve=1920,$e=document.createElement("canvas");$e.width=Se,$e.height=Ve;const me=$e.getContext("2d"),mt=me.createLinearGradient(0,0,0,Ve);mt.addColorStop(0,X.bg),mt.addColorStop(1,"#ffffff"),me.fillStyle=mt,me.fillRect(0,0,Se,Ve),me.fillStyle=X.accent1,me.fillRect(0,0,Se,80),me.fillStyle="#c1ff72",me.fillRect(0,Ve-200,Se,200);let ot=null;try{ot=await it(te);const Pt=280*.6,Ht=ot.height/ot.width*Pt,Rt=(Se-Pt)/2,qt=Ve-180+(180-Ht)/2;me.drawImage(ot,Rt,qt,Pt,Ht)}catch(jt){console.warn("Logo not loaded",jt)}const ar=(ve==null?void 0:ve.personalityType)||"Profil MBTI";me.fillStyle=X.text,me.font='800 120px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, -apple-system, sans-serif',me.textAlign="center",me.textBaseline="top",me.letterSpacing="-0.02em";const dt=Se-80,Oe=ar.split(" ");let Ke="",Xe=630;for(let jt=0;jt<Oe.length;jt++){const Pt=Ke+Oe[jt]+" ";me.measureText(Pt).width>dt&&jt>0?(me.fillText(Ke.trim(),Se/2,Xe),Ke=Oe[jt]+" ",Xe+=130):Ke=Pt}me.fillText(Ke.trim(),Se/2,Xe);try{const jt=await it(n),Pt=420,Ht=(Se-Pt)/2,Rt=180;me.save(),me.shadowColor="rgba(0,0,0,0.15)",me.shadowBlur=20,me.shadowOffsetY=10,me.beginPath(),me.arc(Ht+Pt/2,Rt+Pt/2,Pt/2,0,Math.PI*2),me.closePath(),me.clip(),me.drawImage(jt,Ht,Rt,Pt,Pt),me.restore(),me.beginPath(),me.arc(Ht+Pt/2,Rt+Pt/2,Pt/2+8,0,Math.PI*2),me.strokeStyle=X.accent1,me.lineWidth=6,me.stroke()}catch(jt){console.warn("Avatar not loaded",jt)}const qe=ct((ve==null?void 0:ve.skillsAssessment)||"",3);me.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',me.fillStyle=X.text,me.textAlign="center",me.letterSpacing="-0.02em";const rt=Xe+150;me.fillText("Qualits",Se/2,rt),me.font="600 40px system-ui, -apple-system, sans-serif";let Wt=rt+80;qe.forEach((jt,Pt)=>{const qt=me.measureText(jt).width,Zt=Math.min(qt+30*2,Se-80),An=70,or=(Se-Zt)/2,er=Wt,nn=me.createLinearGradient(or,er,or+Zt,er+An),Ln=Pt%2===0?X.accent1:X.accent2,qn=Pt%2===0?"#a8f542":"#e859d9";nn.addColorStop(0,Ln),nn.addColorStop(1,qn),me.fillStyle=nn,me.beginPath();const Er=35;me.moveTo(or+Er,er),me.arcTo(or+Zt,er,or+Zt,er+An,Er),me.arcTo(or+Zt,er+An,or,er+An,Er),me.arcTo(or,er+An,or,er,Er),me.arcTo(or,er,or+Zt,er,Er),me.closePath(),me.fill(),me.fillStyle="#000",me.font="600 40px system-ui, -apple-system, sans-serif",me.textAlign="center",me.fillText(jt,or+Zt/2,er+20+10),Wt+=An+25});let Lt=Array.isArray(ve==null?void 0:ve.jobRecommendations)?ve.jobRecommendations.slice(0,3):[];const jr=ie(ve==null?void 0:ve.personalityType);!Lt.length&&jr&&Q[jr]&&(Lt=Q[jr].slice(0,3).map(jt=>({title:jt})));const rn=Wt+20;me.fillStyle=X.text,me.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',me.textAlign="center",me.letterSpacing="-0.02em",me.fillText("Top mtiers",Se/2+20,rn),me.font="600 50px system-ui, -apple-system, sans-serif",me.fillStyle=X.text;let tt=rn+80;return Lt.forEach((jt,Pt)=>{const Ht=typeof jt=="string"?jt:(jt==null?void 0:jt.title)||"";if(Ht){const Rt=be(Ht,35);me.save(),me.fillStyle=Pt%2===0?X.accent1:X.accent2;const qt=Se/2-150,Zt=tt+25;me.beginPath(),me.arc(qt,Zt,25,0,Math.PI*2),me.fill(),me.fillStyle="#000",me.font="700 28px system-ui, sans-serif",me.textAlign="center",me.fillText((Pt+1).toString(),qt,Zt-2),me.restore(),me.fillStyle=X.text,me.font="600 50px system-ui, -apple-system, sans-serif",me.textAlign="center",me.fillText(Rt,Se/2+30,tt+5),tt+=70}}),$e.toDataURL("image/png")}catch(Se){return console.error("Share image generation failed",Se),""}}async function At(ve){try{V(!0);const Se=new at({orientation:"p",unit:"mm",format:"a4"}),Ve=Se.internal.pageSize.getWidth(),$e=Se.internal.pageSize.getHeight(),me=new Image,mt=await(await fetch(ve)).blob(),ot=URL.createObjectURL(mt);await new Promise((Lt,jr)=>{me.onload=()=>Lt(),me.onerror=jr,me.src=ot});const ar=me.width,dt=me.height,Oe=ar/dt,Ke=Ve/$e;let Xe,qe;Oe>Ke?(Xe=Ve,qe=Xe/Oe):(qe=$e,Xe=qe*Oe);const rt=(Ve-Xe)/2,Wt=($e-qe)/2;Se.addImage(ve,"PNG",rt,Wt,Xe,qe,void 0,"FAST"),Se.save("zelia-mbti-resultat.pdf"),URL.revokeObjectURL(ot)}catch(Se){console.error("PDF generation failed",Se)}finally{V(!1)}}async function nt(){var ve,Se;if(b){Y(!0);try{let Ve=b;if(!Ve.jobRecommendations||Ve.jobRecommendations.length===0)try{const me=await Mt.get("/analysis/my-results"),mt=(Se=(ve=me==null?void 0:me.data)==null?void 0:ve.results)==null?void 0:Se.jobRecommendations;Array.isArray(mt)&&mt.length&&(Ve={...Ve||{},jobRecommendations:mt})}catch{}const $e=await pt(Ve);$e&&(F($e),R(!0))}finally{Y(!1)}}}async function yt(){var ve,Se;if(b){se(!0);try{let Ve=b;if(!Ve.jobRecommendations||Ve.jobRecommendations.length===0)try{const ar=await Mt.get("/analysis/my-results"),dt=(Se=(ve=ar==null?void 0:ar.data)==null?void 0:ve.results)==null?void 0:Se.jobRecommendations;Array.isArray(dt)&&dt.length&&(Ve={...Ve||{},jobRecommendations:dt})}catch(ar){console.warn("Fallback fetch for job recommendations failed",ar)}const $e=await pt(Ve);if(!$e)throw new Error("no image");const mt=await(await fetch($e)).blob(),ot=new File([mt],"zelia-mbti-story.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[ot]})){await navigator.share({title:(b==null?void 0:b.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zlia  ${(b==null?void 0:b.personalityType)||""}`.trim(),files:[ot]}),se(!1);return}F($e),R(!0)}catch(Ve){console.warn("Native share failed, falling back to modal",Ve);const $e=await pt(b);F($e),R(!0)}finally{se(!1)}}}async function Ue(){if(b)try{k(!0);const ve=new at({orientation:"p",unit:"mm",format:"a4"}),Se=15,Ve=ve.internal.pageSize.getWidth(),$e=Ve-Se*2;let me=Se;ve.setFont("helvetica","bold"),ve.setFontSize(18);const mt=b!=null&&b.personalityType?`Rsultats MBTI  ${b.personalityType}`:"Rsultats MBTI";if(ve.text(mt,Se,me),me+=8,ve.setDrawColor(0),ve.setLineWidth(.5),ve.line(Se,me,Ve-Se,me),me+=6,b!=null&&b.personalityAnalysis){ve.setFont("helvetica","bold"),ve.setFontSize(14),ve.text("Analyse de personnalit",Se,me),me+=6,ve.setFont("helvetica","normal"),ve.setFontSize(11);const dt=ve.splitTextToSize(b.personalityAnalysis,$e);for(const Oe of dt)me>280&&(ve.addPage(),me=Se),ve.text(Oe,Se,me),me+=6;me+=2}if(b!=null&&b.skillsAssessment){me>270&&(ve.addPage(),me=Se),ve.setFont("helvetica","bold"),ve.setFontSize(14),ve.text("Points forts",Se,me),me+=6,ve.setFont("helvetica","normal"),ve.setFontSize(11);const dt=ve.splitTextToSize(b.skillsAssessment,$e);for(const Oe of dt)me>280&&(ve.addPage(),me=Se),ve.text(Oe,Se,me),me+=6;me+=2}if(Array.isArray(b==null?void 0:b.jobRecommendations)&&b.jobRecommendations.length){me>270&&(ve.addPage(),me=Se),ve.setFont("helvetica","bold"),ve.setFontSize(14),ve.text("Recommandations d'emploi",Se,me),me+=6,ve.setFont("helvetica","normal"),ve.setFontSize(11);const dt=b.jobRecommendations;for(let Oe=0;Oe<dt.length;Oe++){const Ke=dt[Oe],Xe=typeof Ke=="string"?Ke:(Ke==null?void 0:Ke.title)||"";if(Xe){if(me>275&&(ve.addPage(),me=Se),ve.setFont("helvetica","bold"),ve.text(` ${Xe}`,Se,me),me+=6,ve.setFont("helvetica","normal"),Array.isArray(Ke==null?void 0:Ke.skills)&&Ke.skills.length){const qe=`Comptences cls: ${Ke.skills.join(", ")}`,rt=ve.splitTextToSize(qe,$e);for(const Wt of rt)me>280&&(ve.addPage(),me=Se),ve.text(Wt,Se+4,me),me+=6}me+=2}}}ve.setFont("helvetica","italic"),ve.setFontSize(9);const ot="Gnr par Zlia  Niveau 4 MBTI",ar=ve.getNumberOfPages();for(let dt=1;dt<=ar;dt++){ve.setPage(dt);const Oe=ve.getTextWidth(ot);ve.text(ot,(Ve-Oe)/2,295)}ve.save("zelia-mbti-resultats.pdf")}catch(ve){console.error("PDF report generation failed",ve)}finally{k(!1)}}return i?u.jsxs("div",{className:"p-6 text-center",children:[u.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement"})]}):o?u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):u.jsxs("div",{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[u.jsx("img",{src:n,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[u.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:d==="intro"?u.jsx(u.Fragment,{children:Ie}):d==="quiz"?u.jsx(u.Fragment,{children:"Rponds aux questions MBTI, puis termine pour lancer l'analyse."}):d==="generating"?u.jsx(u.Fragment,{children:"J'analyse tes rponses"}):d==="results"?u.jsx(u.Fragment,{children:B==="confirm"?"Hsite pas  nous taguer dans ta story pour qu'on te republie si t'as aim les rsultats":u.jsxs(u.Fragment,{children:["Voici ton analyse MBTI. Si tu veux, tu peux la partager en story et me taguer ",u.jsx("strong",{children:"@zelia"})," pour que je la reposte "]})}):d==="success"?u.jsx(u.Fragment,{children:"Niveau 4 russi !"}):null}),u.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),d==="intro"&&u.jsx("div",{className:"mt-4",children:u.jsx("button",{onClick:G,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})}),d==="results"&&u.jsx("div",{className:"mt-4",children:B==="actions"?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:[u.jsx("button",{onClick:nt,disabled:oe,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("path",{d:"M2 12s4-8 10-8 10 8 10 8-4 8-10 8S2 12 2 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),u.jsx("span",{className:"font-medium",children:oe?"Prparation":"Aperu"})]})}),u.jsx("button",{onClick:Ue,disabled:ge,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"}),u.jsx("path",{d:"M14 2v6h6"}),u.jsx("path",{d:"M8 14h8M8 18h5"})]}),u.jsx("span",{className:"font-medium",children:ge?"Cration du PDF":"PDF"})]})}),u.jsx("button",{onClick:yt,disabled:ce,className:"w-full h-12 px-3 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("path",{d:"M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"}),u.jsx("path",{d:"M12 16V4"}),u.jsx("path",{d:"m8 8 4-4 4 4"})]}),u.jsx("span",{className:"font-medium",children:ce?"Prparation":"Partager"})]})}),u.jsx("button",{onClick:()=>W("confirm"),className:"w-full h-12 px-3 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:u.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[u.jsx("span",{className:"font-medium",children:"Continuer"}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{d:"m9 18 6-6-6-6",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}):u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:Ze,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Valider et terminer"})})})]})]})}),u.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[d==="quiz"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Test de personnalit MBTI"}),(()=>{const Se=S.length||0,Ve=Se>=38&&Se<=40?40:Math.max(2+Se,3),$e=3+g;return u.jsxs("div",{className:"text-sm text-text-secondary",children:[$e," / ",Ve,"  ",Te,"%"]})})()]}),u.jsx("div",{className:"mb-4 text-text-primary whitespace-pre-wrap",children:Ne}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Qe.map((ve,Se)=>u.jsx("button",{type:"button",onClick:()=>x({...w,[Fe==null?void 0:Fe.id]:ve}),className:`px-3 py-2 rounded-lg border ${w[Fe==null?void 0:Fe.id]===ve?"border-black bg-black text-white":"border-line"}`,children:ve},Se))}),u.jsxs("div",{className:"flex items-center justify-between mt-6",children:[u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>N(ve=>Math.max(0,ve-1)),disabled:g===0,children:"Prcdent"}),g<S.length-1?u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>N(ve=>Math.min(S.length-1,ve+1)),disabled:!Me,children:"Suivant"}):u.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>{f("generating"),De()},disabled:!Me||U,children:U?"Analyse":"Terminer"})]})]}),d==="results"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:"Mes Rsultats (MBTI)"}),u.jsx("p",{className:"text-text-secondary",children:"Analyse personnalise de ton test MBTI"})]}),u.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyse de personnalit"}),u.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:(b==null?void 0:b.personalityAnalysis)||""})]}),Array.isArray(b==null?void 0:b.jobRecommendations)&&b.jobRecommendations.length>0&&u.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommandations d'emploi"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.jobRecommendations.map((ve,Se)=>{var Ve;return u.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold mb-2",children:ve.title}),!!((Ve=ve.skills)!=null&&Ve.length)&&u.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700",children:ve.skills.map(($e,me)=>u.jsx("li",{children:$e},me))})]},Se)})})]})]})]})]}),d==="success"&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[u.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:""}),u.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 4 russi !"}),u.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as complt le test MBTI et dcouvert ton profil."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:()=>t("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activits"}),u.jsx("button",{onClick:()=>t("/app/results"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Voir mes rsultats"})]}),u.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),u.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})}),T&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 overscroll-contain",onClick:()=>R(!1),children:u.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-[92%] max-w-[360px] sm:max-w-[420px] md:max-w-[560px] lg:max-w-[720px] p-4 md:p-5 border border-gray-200 max-h-[88vh] sm:max-h-[90vh] overflow-y-auto",onClick:ve=>ve.stopPropagation(),children:[u.jsx("button",{onClick:()=>R(!1),"aria-label":"Fermer",className:"absolute top-3 right-3 h-8 w-8 rounded-full bg-black text-white flex items-center justify-center shadow-sm hover:opacity-90",children:""}),u.jsx("h3",{className:"text-lg font-bold pr-8",children:"Prvisualisation  partager"}),K?u.jsx("img",{src:K,alt:"Zlia MBTI Story",className:"mt-3 w-full h-auto rounded-lg border border-gray-200"}):u.jsx("div",{className:"text-center py-10",children:"Gnration de l'image"}),u.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3 opacity-80",children:[u.jsx("img",{src:"/assets/images/social/instagram.svg",alt:"Instagram",className:"w-7 h-7"}),u.jsx("img",{src:"/assets/images/social/twitter.svg",alt:"Twitter",className:"w-7 h-7"}),u.jsx("img",{src:"/assets/images/social/snapchat.svg",alt:"Snapchat",className:"w-7 h-7"})]}),u.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:["Astuce: Partage la story sur Instagram et tag ",J," pour qu'on puisse la republier."]}),u.jsx("div",{className:"sticky bottom-0 pt-3 mt-3 bg-white/95 supports-[backdrop-filter]:bg-white/80 backdrop-blur border-t border-gray-200",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[u.jsx("div",{className:"flex-1 text-left",children:K&&u.jsx("button",{onClick:()=>At(K),disabled:de,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 mr-2",children:de?"Cration du PDF":"Tlcharger PDF"})}),K&&u.jsx("a",{href:K,download:"zelia-mbti-story.png",className:"px-4 py-2 rounded-lg bg-black text-white border border-gray-200",children:"Enregistrer l'image"}),K&&u.jsx("button",{onClick:async()=>{try{const Se=await(await fetch(K)).blob(),Ve=new File([Se],"zelia-mbti-story.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[Ve]})?(await navigator.share({title:(b==null?void 0:b.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zlia  ${(b==null?void 0:b.personalityType)||""}`.trim(),files:[Ve]}),R(!1)):alert("Le partage natif n'est pas support sur cet appareil. Vous pouvez enregistrer l'image puis la partager manuellement.")}catch(ve){console.warn("Share from modal failed",ve)}},className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:"Partager"}),u.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Fermer"})]})})]})})]})}function Sk(){const[t,e]=D.useState("loading"),[r,n]=D.useState(""),s=Un(),i=ea();return D.useEffect(()=>{(async()=>{try{const o=new URLSearchParams(i.hash.substring(1)),c=o.get("access_token"),d=o.get("refresh_token");if(o.get("type")==="signup"&&c){const{data:p,error:y}=await Qr.auth.setSession({access_token:c,refresh_token:d});if(y){console.error("Error setting session:",y),e("error"),n("Erreur lors de la validation de l'email");return}localStorage.setItem("supabase_auth_token",c),e("success"),n("Email valid"),setTimeout(()=>{alert("Email valid");const g=localStorage.getItem("answers_cache");s(g?"/app/results":"/app")},1e3)}else e("error"),n("Lien de confirmation invalide")}catch(o){console.error("Email confirmation error:",o),e("error"),n("Erreur lors de la validation de l'email")}})()},[i,s]),u.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-md text-center",children:[t==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsxs("svg",{className:"w-8 h-8 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Validation en cours..."}),u.jsx("p",{className:"text-text-secondary",children:"Nous validons votre email, veuillez patienter."})]}),t==="success"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:r}),u.jsx("p",{className:"text-text-secondary",children:"Redirection vers votre tableau de bord..."})]}),t==="error"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Erreur"}),u.jsx("p",{className:"text-text-secondary mb-4",children:r}),u.jsx("button",{onClick:()=>s("/login"),className:"bg-black text-white px-6 py-2 rounded-lg",children:"Retour  la connexion"})]})]})})}const jk=new Set(["joris.geerdes@zelia.io","nicolas.wiegele@zelia.io"]);function kk(){const[t,e]=D.useState("student"),[r,n]=D.useState(null),[s,i]=D.useState(!0),[a,o]=D.useState(""),[c,d]=D.useState([]),[f,p]=D.useState(""),y=D.useRef(null),[g,N]=D.useState([]),[S,j]=D.useState(""),[w,x]=D.useState(!1),[b,I]=D.useState([]),[q,$]=D.useState(null);D.useEffect(()=>{let Z=!0;return(async()=>{var T,R,K,F;try{i(!0);let ce=null;const{data:{user:se},error:de}=await Qr.auth.getUser();if(se&&!de)ce={id:se.id,email:se.email};else try{const ge=await Mt.get("/users/me");ce={id:ge.data.user.id,email:ge.data.user.email}}catch{throw new Error("Non authentifi")}if(!Z)return;n(ce);const{data:V,error:oe}=await Qr.from("global_chat").select("*").order("created_at",{ascending:!0}).limit(200);if(oe)throw oe;if(!Z)return;d(V||[]);try{let ge=[];try{const k=await Mt.get(`/analysis/results/${ce.id}`);ge=((R=(T=k==null?void 0:k.data)==null?void 0:T.results)==null?void 0:R.jobRecommendations)||[]}catch{try{const B=await Mt.get("/analysis/my-results");ge=((F=(K=B==null?void 0:B.data)==null?void 0:K.results)==null?void 0:F.jobRecommendations)||[]}catch{}}I(ge),ge.length>0&&$(ge[0])}catch{}const Y=Qr.channel("global_chat_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"global_chat"},ge=>{d(k=>[...k,ge.new])}).subscribe();return()=>{Qr.removeChannel(Y)}}catch(ce){Z&&o(ce.message||"Erreur de chargement")}finally{Z&&i(!1)}})(),()=>{Z=!1}},[]),D.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[c,g]);const U=async()=>{const Z=f.trim();if(!Z||!r)return;p("");const T={id:Date.now(),user_id:r.id,user_email:r.email,content:Z,created_at:new Date().toISOString()};d(K=>[...K,T]);const{error:R}=await Qr.from("global_chat").insert({user_id:r.id,user_email:r.email,content:Z});R&&(o(R.message),d(K=>K.filter(F=>F!==T)),p(Z))},M=Z=>Z&&jk.has(Z.toLowerCase()),ae=async()=>{var R;const Z=S.trim();if(!Z)return;const T=[...g,{role:"user",content:Z}];N(T),j(""),x(!0);try{const{data:{session:K}}=await Qr.auth.getSession(),F=(K==null?void 0:K.access_token)||localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),ce=F?{Authorization:`Bearer ${F}`}:{},se=await Mt.post("/chat/ai",{mode:q?"persona":"advisor",persona:q||void 0,message:Z,history:T.slice(-10),jobTitles:(b||[]).map(V=>V==null?void 0:V.title).filter(Boolean),advisorType:(q==null?void 0:q.title)||"conseiller-ia"},{headers:ce}),de=((R=se==null?void 0:se.data)==null?void 0:R.reply)||"Je n'ai pas pu gnrer de rponse.";N(V=>[...V,{role:"assistant",content:de}])}catch(K){N(F=>{var ce,se;return[...F,{role:"assistant",content:"Erreur IA: "+(((se=(ce=K==null?void 0:K.response)==null?void 0:ce.data)==null?void 0:se.error)||K.message)}]})}finally{x(!1)}};return s?u.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full border-4 border-gray-200 relative",children:[u.jsx("div",{className:"absolute inset-1 rounded-full border-4",style:{borderColor:"#c1ff72"}}),u.jsx("div",{className:"absolute right-0 bottom-0 h-3 w-3 rounded-full",style:{background:"#f68fff"}})]}),u.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Chargement du chat"})]})}):a?u.jsx("div",{className:"p-6 text-red-600",children:a}):u.jsx("div",{className:"min-h-screen bg-white p-4 flex flex-col",children:u.jsxs("div",{className:"w-full space-y-6 flex flex-col",children:[u.jsx("div",{className:"bg-white rounded-3xl p-6 border border-gray-200 shadow-card",children:u.jsx("div",{className:"flex flex-col items-center gap-3 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${t==="student"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>e("student"),children:"tudiant"}),u.jsx("span",{className:"text-gray-400",children:"/"}),u.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${t==="ai"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>e("ai"),children:"IA"})]})})}),t==="student"?u.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[u.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Chat global"}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c1ff72] text-black border border-gray-200",children:"Tous les utilisateurs"})]}),u.jsx("div",{ref:y,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:c.map(Z=>u.jsx("div",{className:`flex ${Z.user_id===r.id?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${Z.user_id===r.id?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[u.jsxs("div",{className:"text-xs mb-1 flex items-center gap-2",children:[M(Z.user_email)?u.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-[#f68fff] text-white",children:"Admin"}):u.jsx("span",{className:"text-gray-600",children:Z.user_email||"Utilisateur"}),u.jsxs("span",{className:"text-gray-400",children:[" ",new Date(Z.created_at).toLocaleTimeString()]})]}),u.jsx("div",{className:"whitespace-pre-wrap break-words",children:Z.content})]})},Z.id))}),u.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:"crire un message",value:f,onChange:Z=>p(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&U()}}),u.jsx("button",{className:"px-4 py-2 rounded-lg bg-black text-white",onClick:U,children:"Envoyer"})]})})]}):u.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[u.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2 flex-wrap",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center",children:"Conseiller IA"}),b.length>0?u.jsxs("div",{className:"mt-3 w-full flex flex-wrap items-center justify-center gap-2",children:[u.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${q?"bg-white border-line":"bg-black text-white border-black"}`,onClick:()=>$(null),title:"Conseiller gnral",children:"Gnral"},"general"),b.map((Z,T)=>{var R;return u.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${(q==null?void 0:q.title)===Z.title?"bg-black text-white border-black":"bg-white border-line"}`,onClick:()=>$(Z),title:(R=Z.skills)==null?void 0:R.join(", "),children:Z.title},T)})]}):u.jsx("p",{className:"text-sm text-text-secondary text-center mt-1",children:"Conseiller d'orientation"})]}),u.jsxs("div",{ref:y,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:[g.map((Z,T)=>u.jsx("div",{className:`flex ${Z.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${Z.role==="user"?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[u.jsx("div",{className:"text-xs mb-1 text-gray-600",children:Z.role==="user"?"Vous":q?q.title:"Conseiller IA"}),u.jsx("div",{className:"whitespace-pre-wrap break-words",children:Z.content})]})},T)),w&&u.jsx("div",{className:"text-sm text-gray-500",children:"L'IA rdige une rponse"})]}),u.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:q?`Parler avec ${q.title}`:"Poser une question d'orientation",value:S,onChange:Z=>j(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&ae()}}),u.jsx("button",{disabled:w,className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-60",onClick:ae,children:"Envoyer"})]})})]})]})})}const K2=D.lazy(()=>ti(()=>import("./Activites-xiPJ5zv-.js"),[]));function Ak(){return u.jsx(Q3,{children:u.jsxs(H3,{children:[u.jsx(mr,{path:"/",element:u.jsx(tj,{})}),u.jsx(mr,{path:"/login",element:u.jsx(J6,{})}),u.jsx(mr,{path:"/register",element:u.jsx(K6,{})}),u.jsx(mr,{path:"/email-confirmation",element:u.jsx(Sk,{})}),u.jsx(mr,{path:"/avatar",element:u.jsx(ij,{})}),u.jsx(mr,{path:"/questionnaire",element:u.jsx(Q6,{})}),u.jsxs(mr,{path:"/app",element:u.jsx(Pk,{children:u.jsx(dj,{})}),children:[u.jsx(mr,{index:!0,element:u.jsx(D.Suspense,{fallback:u.jsx("div",{className:"p-6 text-center",children:"Chargement des activits"}),children:u.jsx(K2,{})})}),u.jsx(mr,{path:"profile",element:u.jsx(cj,{})}),u.jsx(mr,{path:"results",element:u.jsx(lj,{})}),u.jsx(mr,{path:"formations",element:u.jsx(hj,{})}),u.jsx(mr,{path:"emplois",element:u.jsx(fj,{})}),u.jsx(mr,{path:"activites",element:u.jsx(D.Suspense,{fallback:u.jsx("div",{className:"p-6 text-center",children:"Chargement des activits"}),children:u.jsx(K2,{})})}),u.jsx(mr,{path:"lettre",element:u.jsx(pj,{})}),u.jsx(mr,{path:"chat",element:u.jsx(kk,{})}),u.jsx(mr,{path:"niveau/1",element:u.jsx(gj,{})}),u.jsx(mr,{path:"niveau/2",element:u.jsx(xj,{})}),u.jsx(mr,{path:"niveau/3",element:u.jsx(Nj,{})}),u.jsx(mr,{path:"niveau/4",element:u.jsx(Nk,{})})]}),u.jsx(mr,{path:"*",element:u.jsx(wy,{to:"/"})})]})})}const Lk=ly(document.getElementById("root"));Lk.render(u.jsx(Ak,{}));function Pk({children:t}){return localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")?t:u.jsx(wy,{to:"/login"})}export{Ho as a,Mt as b,Zn as c,Nx as g,u as j,D as r,Qr as s,Un as u};
