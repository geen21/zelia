import{r as _,u as Z,s as L,a as U,b as R,j as e}from"./index-CAT44HDS.js";class X{constructor(t="zelia"){this.levelThreshold=r=>Math.round(80+28*Math.pow(r-1,1.22)),this.seed=String(t||"zelia")}setSeed(t){this.seed=String(t||"zelia")}processEvent(t,r){let a={...t},p=0,v=[];switch(r.type){case"micro_action":p=Math.random()>.5?3:5;break;case"quiz_completed":p=35,r.questId&&v.push(r.questId);break;case"mission_completed":p=65,v.push(r.questId);break;case"meeting_completed":p=120,v.push(r.questId);break;case"parcoursup_milestone":p=200,v.push(r.questId);break;case"video_watched":p=15;break}a.progression.xp+=p;const l=this.calculateLevel(a.progression.xp),j=l>a.progression.level;a.progression.level=l,a.progression.toNext=this.levelThreshold(l+1)-a.progression.xp;const i=[...Array.isArray(a.quests)?a.quests:[],...v].filter(Boolean);a.quests=Array.from(new Set(i));const n=this.generateResponse(a,r,p,j,v);if(n&&Array.isArray(n.perks)){const h=Array.isArray(a.perks)?a.perks:[];a.perks=Array.from(new Set([...h,...n.perks]))}return{newState:a,response:n}}calculateLevel(t){let r=1;for(;t>=this.levelThreshold(r+1)&&r<50;)r++;return r}generateResponse(t,r,a,p,v){const l=t.progression.level,j=this.getArc(l);let s="calm",i="",n=[],h=[];switch(p&&(s="celebratory",i=`Bravo ! Tu passes au niveau ${l} ! `,h=this.unlockPerks(l)),j){case"exploration":i||(i="CommenÃ§ons ton aventure d'orientation ! "),i+="Explorons tes premiers intÃ©rÃªts ensemble.",s=s==="calm"?"encouraging":s,n=[{id:"complete_test",type:"quiz_completed",label:"ComplÃ©ter le test d'orientation",xp:35},{id:"explore_interests",type:"micro_action",label:"Explorer mes centres d'intÃ©rÃªt",xp:5},{id:"watch_intro",type:"video_watched",label:"Regarder la vidÃ©o d'introduction",xp:15}];break;case"interets_forces":i||(i="Maintenant, approfondissons tes forces ! "),i+="Quels sont tes talents cachÃ©s ?",s=s==="calm"?"thinking":s,n=[{id:"strengths_quiz",type:"quiz_completed",label:"Quiz sur tes forces",xp:40},{id:"personality_test",type:"mission_completed",label:"Test de personnalitÃ© approfondi",xp:60},{id:"values_exploration",type:"micro_action",label:"DÃ©finir tes valeurs",xp:8}];break;case"recherche_metiers":i||(i="Place Ã  la dÃ©couverte des mÃ©tiers ! "),i+="Quels univers professionnels t'attirent ?",s=s==="calm"?"focused":s,n=[{id:"job_research",type:"mission_completed",label:"Rechercher 5 mÃ©tiers correspondants",xp:70},{id:"salary_analysis",type:"micro_action",label:"Analyser les salaires",xp:10},{id:"job_videos",type:"video_watched",label:"VidÃ©os mÃ©tiers recommandÃ©s",xp:20}];break;case"immersions_rencontres":i||(i="Temps de rencontrer des professionnels ! "),i+="PrÃªt(e) pour des Ã©changes inspirants ?",s=s==="calm"?"excited":s,n=[{id:"schedule_meeting",type:"meeting_completed",label:"Planifier un entretien professionnel",xp:120},{id:"prepare_questions",type:"mission_completed",label:"PrÃ©parer tes questions",xp:50},{id:"company_visit",type:"meeting_completed",label:"Visite d'entreprise virtuelle",xp:100}];break;case"competences_soft_skills":i||(i="DÃ©veloppons tes compÃ©tences ! "),i+="Montrons ce dont tu es capable.",s=s==="calm"?"proud":s,n=[{id:"soft_skills_assessment",type:"mission_completed",label:"Ã‰valuation des soft skills",xp:80},{id:"star_method",type:"quiz_completed",label:"MÃ©thode STAR pour tes expÃ©riences",xp:45},{id:"leadership_test",type:"micro_action",label:"Test de leadership",xp:12}];break;case"cv_lm":i||(i="CrÃ©ons ton CV et ta lettre ! "),i+="Premier pas vers Parcoursup.",s=s==="calm"?"focused":s,n=[{id:"cv_builder",type:"mission_completed",label:"GÃ©nÃ©rateur de CV guidÃ©",xp:90},{id:"cover_letter",type:"mission_completed",label:"RÃ©diger ta lettre de motivation",xp:85},{id:"cv_review",type:"micro_action",label:"RÃ©vision et amÃ©lioration",xp:15}];break;case"parcoursup_preparation":i||(i="Direction Parcoursup ! "),i+="PrÃ©parons ton dossier d'excellence.",s=s==="calm"?"thinking":s,n=[{id:"projet_motive",type:"parcoursup_milestone",label:"RÃ©diger ton projet motivÃ©",xp:200},{id:"voeux_strategy",type:"mission_completed",label:"StratÃ©gie de vÅ“ux",xp:120},{id:"calendar_planning",type:"micro_action",label:"Planifier ton calendrier",xp:20}];break;case"orals_pitch":i||(i="PrÃ©parons tes oraux ! "),i+="Tu vas briller lors des entretiens.",s=s==="calm"?"encouraging":s,n=[{id:"pitch_practice",type:"mission_completed",label:"EntraÃ®nement pitch 60 secondes",xp:100},{id:"interview_simulation",type:"meeting_completed",label:"Simulation d'entretien avec ZÃ©lia",xp:150},{id:"confidence_building",type:"quiz_completed",label:"Exercices de confiance",xp:40}];break;case"dossiers_avances":i||(i="Perfectionnons tout ! "),i+="Ton dossier sera exceptionnel.",s=s==="calm"?"proud":s,n=[{id:"portfolio_review",type:"parcoursup_milestone",label:"RÃ©vision complÃ¨te du portfolio",xp:180},{id:"coherence_check",type:"mission_completed",label:"VÃ©rification de cohÃ©rence",xp:90},{id:"final_polish",type:"micro_action",label:"Finitions et optimisations",xp:25}];break;case"maitrise_finale":i||(i="Tu es maintenant expert(e) ! "),i+="Accompagne d'autres dans leur parcours.",s=s==="calm"?"celebratory":s,n=[{id:"mentor_others",type:"meeting_completed",label:"Mentorat d'autres utilisateurs",xp:200},{id:"success_story",type:"mission_completed",label:"Partager ton histoire",xp:150},{id:"expert_badge",type:"parcoursup_milestone",label:"Obtenir le badge expert",xp:250}];break}const q=this.generateAvatar(s);return{progression:t.progression,ui:{speak:i},suggestedActions:n,avatar:q,perks:h,xpGained:a}}getArc(t){return t<=5?"exploration":t<=10?"interets_forces":t<=15?"recherche_metiers":t<=20?"immersions_rencontres":t<=25?"competences_soft_skills":t<=30?"cv_lm":t<=35?"parcoursup_preparation":t<=40?"orals_pitch":t<=45?"dossiers_avances":"maitrise_finale"}unlockPerks(t){const r=[];return t===5&&r.push("Checklist intelligente dÃ©bloquÃ©e"),t===10&&r.push("GÃ©nÃ©rateur de CV disponible"),t===15&&r.push("BibliothÃ¨que d'exemples dÃ©bloquÃ©e"),t===20&&r.push("Conseils personnalisÃ©s activÃ©s"),t===25&&r.push("Simulateur de cohÃ©rence disponible"),t===30&&r.push("Alertes calendrier activÃ©es"),t===35&&r.push("Coaching express dÃ©bloquÃ©"),t===40&&r.push("RÃ©visions STAR disponibles"),t===45&&r.push("Mode mentor activÃ©"),t===50&&r.push("MaÃ®tre ZÃ©lia - Badge ultime !"),r}generateAvatar(t){const r=["ffdfbf","ffeaa7","d63031","fd79a8"],a=`${this.seed}-${t||"calm"}`,p=Array.from(a).reduce((n,h)=>n*31+h.charCodeAt(0)>>>0,0),s={...{size:"200",radius:"15",backgroundColor:r[p%r.length],skinColor:"fdbcb4",hairColor:"4a4a4a",eyesColor:"000000",seed:this.seed},...{happy:{mouth:"happy12",glassesProbability:"0",frecklesProbability:"0"},excited:{mouth:"happy17",hairAccessories:"flowers",hairAccessoriesProbability:"60",eyesColor:"000000"},calm:{mouth:"happy04",frecklesProbability:"10"},focused:{mouth:"happy03",glasses:"variant03",glassesProbability:"100"},thinking:{mouth:"sad03",glasses:"variant02",glassesProbability:"60"},proud:{mouth:"happy15",head:"variant02",hairAccessories:"flowers",hairAccessoriesProbability:"40"},confused:{mouth:"sad05",glassesProbability:"0",frecklesProbability:"20"},encouraging:{mouth:"happy10",eyesColor:"000000"},celebratory:{mouth:"happy18",hairAccessories:"flowers",hairAccessoriesProbability:"80"}}[t]};return{dicebear:`https://api.dicebear.com/9.x/lorelei/svg?${Object.entries(s).map(([n,h])=>`${n}=${h}`).join("&")}`,emotion:t}}}function z(c,t,r="zelia"){try{if(c!=null&&c.avatar&&typeof c.avatar=="string")return{dicebear:c.avatar,emotion:(t==null?void 0:t.emotion)||"calm"};if(c!=null&&c.avatar_json){let a=c.avatar_json;if(typeof a=="string")try{a=JSON.parse(a)}catch{}if(a&&typeof a=="object"){const p=new URLSearchParams;return p.set("seed",String(r)),Object.entries(a).forEach(([v,l])=>{l!=null&&l!==""&&p.set(v,String(l))}),p.has("size")||p.set("size","200"),{dicebear:`https://api.dicebear.com/9.x/lorelei/svg?${p.toString()}`,emotion:(t==null?void 0:t.emotion)||"calm"}}}}catch{}return t||{dicebear:"",emotion:"calm"}}function J(c){return{complete_test:"Test d'orientation",explore_interests:"Explorer mes centres d'intÃ©rÃªt",watch_intro:"VidÃ©o d'introduction",strengths_quiz:"Quiz sur mes forces",personality_test:"Test de personnalitÃ©",values_exploration:"DÃ©finir mes valeurs",job_research:"Rechercher des mÃ©tiers",salary_analysis:"Analyser les salaires",job_videos:"VidÃ©os mÃ©tiers",schedule_meeting:"Planifier un entretien",prepare_questions:"PrÃ©parer des questions",company_visit:"Visite d'entreprise virtuelle",soft_skills_assessment:"Ã‰val. des soft skills",star_method:"MÃ©thode STAR",leadership_test:"Test de leadership",cv_builder:"GÃ©nÃ©rateur de CV",cover_letter:"Lettre de motivation",cv_review:"RÃ©vision du CV",projet_motive:"Projet motivÃ©",voeux_strategy:"StratÃ©gie de vÅ“ux",calendar_planning:"Planifier le calendrier",pitch_practice:"Pitch 60s",interview_simulation:"Simulation d'entretien",confidence_building:"Confiance en soi",portfolio_review:"RÃ©vision du portfolio",coherence_check:"VÃ©rification de cohÃ©rence",final_polish:"Finitions",mentor_others:"Mentorat",success_story:"Partager mon histoire",expert_badge:"Badge expert"}[c]||c}const K={micro_action:"micro action",video_watched:"vidÃ©o regardÃ©e",quiz_completed:"quiz complÃ©tÃ©",mission_completed:"mission complÃ©tÃ©e",meeting_completed:"entretien complÃ©tÃ©",parcoursup_milestone:"jalon Parcoursup"};function Y(c){return K[c]||String(c||"").replace("_"," ")}const V=["complete_test","explore_interests","watch_intro","strengths_quiz","personality_test","values_exploration","job_research","salary_analysis","job_videos","schedule_meeting","prepare_questions","company_visit","soft_skills_assessment","star_method","leadership_test","cv_builder","cover_letter","cv_review","projet_motive","voeux_strategy","calendar_planning","pitch_practice","interview_simulation","confidence_building","portfolio_review","coherence_check","final_polish","mentor_others","success_story","expert_badge"],ee=()=>{var E,I;const[c,t]=_.useState(null),[r,a]=_.useState(null),[p,v]=_.useState(!1),[l,j]=_.useState(null),[s]=_.useState(new X),[i,n]=_.useState(null),h=Z();_.useEffect(()=>{let o=!0;return(async()=>{var g;const{data:{user:d}}=await L.auth.getUser();if(!d){h("/login");return}if(o){t(d);try{s.setSeed(d.id)}catch{}try{const[m,b]=await Promise.all([U.getProfile().catch(()=>null),R.get(`/progression/${d.id}`).catch(()=>null)]),f=((g=m==null?void 0:m.data)==null?void 0:g.profile)||null;o&&a(f);const u=(b==null?void 0:b.data)||{},C={progression:{level:(u==null?void 0:u.level)||1,xp:(u==null?void 0:u.xp)||0,toNext:s.levelThreshold(((u==null?void 0:u.level)||1)+1)-((u==null?void 0:u.xp)||0)},quests:(u==null?void 0:u.quests)||[],perks:(u==null?void 0:u.perks)||[]};if(!o)return;let P=!1;try{const{data:w}=await L.from("user_responses").select("id").eq("user_id",d.id).eq("questionnaire_type","inscription").limit(1);P=Array.isArray(w)&&w.length>0}catch{}o&&v(P);let N=C,y;if(P&&!(C.quests||[]).includes("complete_test")){const{newState:w,response:B}=s.processEvent(C,{type:"quiz_completed",questId:"complete_test",actionId:"complete_test"});N={...w};try{await R.post(`/progression/${d.id}`,{level:N.progression.level,xp:N.progression.xp,quests:N.quests,perks:N.perks})}catch(O){console.error("Progression save after award failed:",O)}y=B}else y=s.generateResponse(N,{type:"init"},0,!1,[]);f&&(y={...y,avatar:z(f,y.avatar,d.id)}),P&&(y={...y,suggestedActions:(y.suggestedActions||[]).filter(w=>w.id!=="complete_test")}),j(N),n(y)}catch(m){console.error("Init load error:",m);const b={progression:{level:1,xp:0,toNext:s.levelThreshold(2)},quests:[],perks:[]};if(!o)return;j(b);let f=s.generateResponse(b,{type:"init"},0,!1,[]);r&&(f={...f,avatar:z(r,f.avatar,d.id)}),n(f)}}})(),()=>{o=!1}},[h,s]);const q=_.useCallback(async o=>{if(!l)return;const d={type:o.type,questId:o.id,actionId:o.id},{newState:g,response:m}=s.processEvent(l,d);j(g);const b=r?{...m,avatar:z(r,m.avatar,c==null?void 0:c.id)}:m;n(b);try{await R.post(`/progression/${c.id}`,{level:g.progression.level,xp:g.progression.xp,quests:g.quests,perks:g.perks})}catch(f){console.error("Error saving progression:",f)}},[l,c,s,r]),k=((E=l==null?void 0:l.progression)==null?void 0:E.level)??1,T=((I=l==null?void 0:l.progression)==null?void 0:I.xp)??0,$=_.useMemo(()=>{const o=s.levelThreshold(k+1),d=k<=1?0:s.levelThreshold(k),g=Math.max(1,o-d),m=Math.max(0,Math.min(o-d,T-d));return Math.max(0,Math.min(100,m/g*100))},[k,T,s]);if(!l||!i)return e.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full border-4 border-gray-200 relative",children:[e.jsx("div",{className:"absolute inset-1 rounded-full border-4",style:{borderColor:"#c1ff72"}}),e.jsx("div",{className:"absolute right-0 bottom-0 h-3 w-3 rounded-full",style:{background:"#f68fff"}})]}),e.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:["Chargement de ton aventure ",e.jsx("span",{className:"text-[#f68fff]",children:"ZÃ©lia"}),"â€¦"]}),e.jsx("div",{className:"mt-3 h-2 w-48 bg-gray-200 rounded-full mx-auto overflow-hidden",children:e.jsx("div",{className:"h-2 bg-[#c1ff72]",style:{width:"60%"}})})]})});const{progression:x}=l,A=Math.min(((x==null?void 0:x.level)||1)+1,4),{ui:F,suggestedActions:D,avatar:G,perks:S,xpGained:M}=i,Q=(D||[]).filter(o=>!new Set(["watch_intro","cover_letter","explore_interests"]).has(o.id));return e.jsx("div",{className:"min-h-screen bg-white p-4",children:e.jsx("div",{className:"mx-auto w-full",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:G.dicebear,alt:"Avatar ZÃ©lia",className:"w-24 h-24 rounded-full border-4 border-white shadow-lg",loading:"lazy",decoding:"async",width:"96",height:"96"}),e.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-yellow-400 text-black px-2 py-1 rounded-full text-xs font-bold",children:["Niv. ",x.level]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Aventure ZÃ©lia - Niveau ",x.level]}),e.jsxs("button",{onClick:()=>h(`/app/niveau/${A}`),className:"inline-flex items-center gap-2 bg-[#f68fff] text-white px-3 py-1.5 rounded-lg text-sm border border-transparent hover:opacity-90 transition",title:`Aller au Niveau ${A}`,children:[e.jsx("span",{role:"img","aria-label":"jeu",children:"ðŸŽ®"}),e.jsxs("span",{children:["Aller au Niveau ",A]})]})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:F.speak})]})]}),M>0&&e.jsxs("div",{className:"bg-[#c1ff72] text-black px-4 py-2 rounded-lg font-bold border border-gray-200",children:["+",M," XP !"]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[x.xp," XP"]}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[x.toNext," XP jusqu'au niveau ",x.level+1]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"h-4 rounded-full bg-[#c1ff72]",style:{width:`${$}%`}})})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-gray-200 shadow-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Revoir mes rÃ©sultats"}),e.jsx("button",{onClick:()=>h("/app/results"),className:"text-sm text-text-secondary hover:text-text-primary",children:"Voir tout"})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 items-center",children:[e.jsx("div",{className:"text-sm text-gray-700",children:"Consulte ton analyse et tes recommandations personnalisÃ©es pour guider tes prochaines actions."}),e.jsx("div",{className:"text-right",children:e.jsxs("button",{onClick:()=>h("/app/results"),className:"inline-flex items-center gap-2 bg-black text-white px-4 py-2 rounded-lg text-sm",children:[e.jsx("i",{className:"ph ph-arrow-up-right"}),"Ouvrir mes rÃ©sultats"]})})]})]}),S&&S.length>0&&e.jsx("div",{className:"bg-[#fffbf7] border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:"ðŸŽ‰"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-gray-800",children:e.jsx("strong",{children:"Nouveaux bonus dÃ©bloquÃ©s :"})}),e.jsx("ul",{className:"list-disc list-inside text-gray-700",children:S.map((o,d)=>e.jsx("li",{children:o},d))})]})]})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.map((o,d)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-card cursor-pointer",onClick:()=>q(o),children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-2xl",children:[o.type==="quiz_completed"&&"ðŸ§ ",o.type==="mission_completed"&&"ðŸŽ¯",o.type==="meeting_completed"&&"ðŸ‘¥",o.type==="video_watched"&&"ðŸ“¹",o.type==="micro_action"&&"âš¡",o.type==="parcoursup_milestone"&&"ðŸ†"]}),e.jsxs("span",{className:"bg-[#f68fff] text-white px-2 py-1 rounded-full text-xs font-bold",children:["+",o.xp," XP"]})]})}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:o.label}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600 capitalize",children:Y(o.type)}),e.jsx("button",{className:"bg-[#c1ff72] text-black px-4 py-2 rounded-lg font-semibold border border-gray-200 w-full sm:w-auto text-center",children:"C'est parti !"})]})]},o.id))}),e.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-gray-200 shadow-card",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Roadmap vers Parcoursup Excellence"}),e.jsx("div",{className:"grid md:grid-cols-5 gap-4",children:[{levels:"1-5",title:"Exploration",emoji:"ðŸŒŸ",color:"from-green-400 to-green-600"},{levels:"6-10",title:"IntÃ©rÃªts & Forces",emoji:"ðŸ’ª",color:"from-blue-400 to-blue-600"},{levels:"11-15",title:"Recherche MÃ©tiers",emoji:"ðŸ”",color:"from-purple-400 to-purple-600"},{levels:"16-20",title:"Immersions",emoji:"ðŸ¤",color:"from-orange-400 to-orange-600"},{levels:"21-25",title:"CompÃ©tences",emoji:"ðŸŽ¯",color:"from-pink-400 to-pink-600"},{levels:"26-30",title:"CV & LM",emoji:"ðŸ“„",color:"from-indigo-400 to-indigo-600"},{levels:"31-35",title:"Parcoursup",emoji:"ðŸŽ“",color:"from-red-400 to-red-600"},{levels:"36-40",title:"Oraux",emoji:"ðŸŽ¤",color:"from-yellow-400 to-yellow-600"},{levels:"41-45",title:"Excellence",emoji:"â­",color:"from-teal-400 to-teal-600"},{levels:"46-50",title:"MaÃ®trise",emoji:"ðŸ‘‘",color:"from-purple-600 to-pink-600"}].map((o,d)=>{const g=parseInt(o.levels.split("-")[0]),m=parseInt(o.levels.split("-")[1]),b=x.level>=g&&x.level<=m,f=x.level>m;return e.jsxs("div",{className:`relative p-4 rounded-xl text-center ${b?"bg-white border-2 border-[#c1ff72] text-gray-800":f?"bg-gray-100 border-2 border-green-400":"bg-white border border-gray-200"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:o.emoji}),e.jsxs("div",{className:"text-xs font-bold mb-1",children:["Niveaux ",o.levels]}),e.jsx("div",{className:"text-sm font-medium",children:o.title}),f&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:"âœ“"}),b&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-[#c1ff72] text-black rounded-full w-6 h-6 flex items-center justify-center text-xs border border-gray-200",children:"âš¡"})]},d)})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-200 shadow-card",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x.level}),e.jsx("div",{className:"text-sm text-gray-600",children:"Niveau Actuel"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-200 shadow-card",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.xp}),e.jsx("div",{className:"text-sm text-gray-600",children:"XP Total"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-200 shadow-card",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(x.level/50*100),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Progression"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-200 shadow-card",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:50-x.level}),e.jsx("div",{className:"text-sm text-gray-600",children:"Niveaux Restants"})]})]})]}),e.jsx("aside",{className:"mt-6 lg:mt-0 lg:col-span-1 lg:sticky lg:top-6",children:e.jsxs("div",{className:"bg-white rounded-3xl p-6 border border-gray-200 shadow-card",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Toutes les quÃªtes"}),(()=>{const o=new Set(l.quests||[]),d=V.length,g=o.size;return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[g," / ",d," complÃ©tÃ©e(s)"]}),e.jsx("ul",{className:"space-y-2 max-h-[420px] overflow-auto pr-1",children:V.map(m=>{const b=o.has(m);return e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-800",children:J(m)}),b?e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-[#c1ff72] text-black border border-gray-200",children:"OK"}):e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:"Ã€ faire"})]},m)})})]})})()]})})]})})})};console.log("Activites component loaded");export{ee as default};
