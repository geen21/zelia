const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Niveau11-BzRIyQPf.js","assets/NiveauPlaceholder-CSK8Gh2I.js","assets/Niveau12-BCj6LWAI.js","assets/Niveau13-Cqg1nX-L.js","assets/Niveau14-BxxcpknF.js","assets/Niveau15-DV6bbBCV.js","assets/Niveau16-BvlXFJBz.js","assets/Niveau17-CD3paj1Z.js","assets/Niveau18-B-l12oqR.js","assets/Niveau19-Bv0WozNw.js","assets/Niveau20-CExvccbD.js","assets/Niveau21-tGgR3PKC.js","assets/Niveau22-BLCAQowa.js","assets/Niveau23-C7VJQd2q.js","assets/Niveau24-dZeoa4Ro.js","assets/Niveau25-CBKVInbY.js","assets/Niveau26-C5WRTbU5.js","assets/Niveau27-CKkHtQmj.js","assets/Niveau28-DsESfJ8a.js","assets/Niveau29-CiwQu7m7.js","assets/Niveau30-BtvIIHbr.js","assets/Niveau31-N5TODgs4.js","assets/Niveau32-C_lMJkqq.js","assets/Niveau33-Dasl11H3.js","assets/Niveau34-D5J07NjC.js","assets/Niveau35-UtTpJu4A.js","assets/Niveau36-CjPNE9mA.js","assets/Niveau37-Bug4cH5q.js","assets/Niveau38-DEkUssR8.js","assets/Niveau39-DsBP0SJa.js","assets/Niveau40-Cb5ZO4_I.js","assets/Niveau41-BAiUWimL.js","assets/Niveau42-CNaxb1pK.js","assets/Niveau43-COMEMZ9F.js","assets/Niveau44-B9HLnFwX.js","assets/Niveau45-n2hRe9aM.js","assets/Niveau46-CRg3FEV8.js","assets/Niveau47-sIFHtJzG.js","assets/Niveau48-DzZwBUJG.js","assets/Niveau49-C9iyqmhX.js","assets/Niveau50-Do8pSW-A.js"])))=>i.map(i=>d[i]);
function Mb(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const Db="modulepreload",Bb=function(e){return"/"+e},Ug={},Qe=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Bb(u),u in Ug)return;Ug[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Db,d||(p.as="script"),p.crossOrigin="",p.href=u,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ub(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var lv={exports:{}},mh={},uv={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),qb=Symbol.for("react.portal"),$b=Symbol.for("react.fragment"),Vb=Symbol.for("react.strict_mode"),Wb=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),Kb=Symbol.for("react.suspense"),Yb=Symbol.for("react.memo"),Xb=Symbol.for("react.lazy"),zg=Symbol.iterator;function Qb(e){return e===null||typeof e!="object"?null:(e=zg&&e[zg]||e["@@iterator"],typeof e=="function"?e:null)}var cv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dv=Object.assign,hv={};function il(e,t,r){this.props=e,this.context=t,this.refs=hv,this.updater=r||cv}il.prototype.isReactComponent={};il.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};il.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fv(){}fv.prototype=il.prototype;function e0(e,t,r){this.props=e,this.context=t,this.refs=hv,this.updater=r||cv}var t0=e0.prototype=new fv;t0.constructor=e0;dv(t0,il.prototype);t0.isPureReactComponent=!0;var qg=Array.isArray,pv=Object.prototype.hasOwnProperty,r0={current:null},mv={key:!0,ref:!0,__self:!0,__source:!0};function gv(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)pv.call(t,n)&&!mv.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),d=0;d<o;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Wu,type:e,key:i,ref:a,props:s,_owner:r0.current}}function Zb(e,t){return{$$typeof:Wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function n0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wu}function ew(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $g=/\/+/g;function Of(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ew(""+e.key):t.toString(36)}function yd(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Wu:case qb:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Of(a,0):n,qg(s)?(r="",e!=null&&(r=e.replace($g,"$&/")+"/"),yd(s,t,r,"",function(d){return d})):s!=null&&(n0(s)&&(s=Zb(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace($g,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",qg(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+Of(i,o);a+=yd(i,t,r,u,s)}else if(u=Qb(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+Of(i,o++),a+=yd(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gc(e,t,r){if(e==null)return e;var n=[],s=0;return yd(e,n,"","",function(i){return t.call(r,i,s++)}),n}function tw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},xd={transition:null},rw={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:xd,ReactCurrentOwner:r0};function vv(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Gc,forEach:function(e,t,r){Gc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gc(e,function(){t++}),t},toArray:function(e){return Gc(e,function(t){return t})||[]},only:function(e){if(!n0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=il;_t.Fragment=$b;_t.Profiler=Wb;_t.PureComponent=e0;_t.StrictMode=Vb;_t.Suspense=Kb;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rw;_t.act=vv;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dv({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=r0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)pv.call(t,u)&&!mv.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var d=0;d<u;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Wu,type:e.type,key:s,ref:i,props:n,_owner:a}};_t.createContext=function(e){return e={$$typeof:Gb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hb,_context:e},e.Consumer=e};_t.createElement=gv;_t.createFactory=function(e){var t=gv.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:Jb,render:e}};_t.isValidElement=n0;_t.lazy=function(e){return{$$typeof:Xb,_payload:{_status:-1,_result:e},_init:tw}};_t.memo=function(e,t){return{$$typeof:Yb,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=xd.transition;xd.transition={};try{e()}finally{xd.transition=t}};_t.unstable_act=vv;_t.useCallback=function(e,t){return tn.current.useCallback(e,t)};_t.useContext=function(e){return tn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return tn.current.useEffect(e,t)};_t.useId=function(){return tn.current.useId()};_t.useImperativeHandle=function(e,t,r){return tn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return tn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return tn.current.useReducer(e,t,r)};_t.useRef=function(e){return tn.current.useRef(e)};_t.useState=function(e){return tn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return tn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return tn.current.useTransition()};_t.version="18.3.1";uv.exports=_t;var T=uv.exports;const s0=Ub(T),nw=Mb({__proto__:null,default:s0},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw=T,iw=Symbol.for("react.element"),aw=Symbol.for("react.fragment"),ow=Object.prototype.hasOwnProperty,lw=sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uw={key:!0,ref:!0,__self:!0,__source:!0};function yv(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ow.call(t,n)&&!uw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:iw,type:e,key:i,ref:a,props:s,_owner:lw.current}}mh.Fragment=aw;mh.jsx=yv;mh.jsxs=yv;lv.exports=mh;var c=lv.exports,xv={exports:{}},Cn={},bv={exports:{}},wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,te){var $=Y.length;Y.push(te);e:for(;0<$;){var ce=$-1>>>1,k=Y[ce];if(0<s(k,te))Y[ce]=te,Y[$]=k,$=ce;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var te=Y[0],$=Y.pop();if($!==te){Y[0]=$;e:for(var ce=0,k=Y.length,q=k>>>1;ce<q;){var W=2*(ce+1)-1,Z=Y[W],se=W+1,X=Y[se];if(0>s(Z,$))se<k&&0>s(X,Z)?(Y[ce]=X,Y[se]=$,ce=se):(Y[ce]=Z,Y[W]=$,ce=W);else if(se<k&&0>s(X,$))Y[ce]=X,Y[se]=$,ce=se;else break e}}return te}function s(Y,te){var $=Y.sortIndex-te.sortIndex;return $!==0?$:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],d=[],f=1,p=null,y=3,g=!1,N=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var te=r(d);te!==null;){if(te.callback===null)n(d);else if(te.startTime<=Y)n(d),te.sortIndex=te.expirationTime,t(u,te);else break;te=r(d)}}function A(Y){if(S=!1,b(Y),!N)if(r(u)!==null)N=!0,re(F);else{var te=r(d);te!==null&&fe(A,te.startTime-Y)}}function F(Y,te){N=!1,S&&(S=!1,x(M),M=-1),g=!0;var $=y;try{for(b(te),p=r(u);p!==null&&(!(p.expirationTime>te)||Y&&!E());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,y=p.priorityLevel;var k=ce(p.expirationTime<=te);te=e.unstable_now(),typeof k=="function"?p.callback=k:p===r(u)&&n(u),b(te)}else n(u);p=r(u)}if(p!==null)var q=!0;else{var W=r(d);W!==null&&fe(A,W.startTime-te),q=!1}return q}finally{p=null,y=$,g=!1}}var z=!1,D=null,M=-1,Q=5,H=-1;function E(){return!(e.unstable_now()-H<Q)}function R(){if(D!==null){var Y=e.unstable_now();H=Y;var te=!0;try{te=D(!0,Y)}finally{te?G():(z=!1,D=null)}}else z=!1}var G;if(typeof w=="function")G=function(){w(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=R,G=function(){le.postMessage(null)}}else G=function(){j(R,0)};function re(Y){D=Y,z||(z=!0,G())}function fe(Y,te){M=j(function(){Y(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){N||g||(N=!0,re(F))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var $=y;y=te;try{return Y()}finally{y=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var $=y;y=Y;try{return te()}finally{y=$}},e.unstable_scheduleCallback=function(Y,te,$){var ce=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,Y){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=$+k,Y={id:f++,callback:te,priorityLevel:Y,startTime:$,expirationTime:k,sortIndex:-1},$>ce?(Y.sortIndex=$,t(d,Y),r(u)===null&&Y===r(d)&&(S?(x(M),M=-1):S=!0,fe(A,$-ce))):(Y.sortIndex=k,t(u,Y),N||g||(N=!0,re(F))),Y},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(Y){var te=y;return function(){var $=y;y=te;try{return Y.apply(this,arguments)}finally{y=$}}}})(wv);bv.exports=wv;var cw=bv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw=T,En=cw;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _v=new Set,Nu={};function Ra(e,t){Ko(e,t),Ko(e+"Capture",t)}function Ko(e,t){for(Nu[e]=t,e=0;e<t.length;e++)_v.add(t[e])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,hw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},Wg={};function fw(e){return Ep.call(Wg,e)?!0:Ep.call(Vg,e)?!1:hw.test(e)?Wg[e]=!0:(Vg[e]=!0,!1)}function pw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mw(e,t,r,n){if(t===null||typeof t>"u"||pw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fr[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fr[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fr[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fr[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fr[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fr[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fr[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fr[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fr[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function a0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(i0,a0);Fr[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(i0,a0);Fr[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(i0,a0);Fr[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fr[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Fr.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fr[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function o0(e,t,r,n){var s=Fr.hasOwnProperty(t)?Fr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mw(t,r,s,n)&&(r=null),n||s===null?fw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ai=dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jc=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),Nv=Symbol.for("react.provider"),Sv=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),jv=Symbol.for("react.offscreen"),Hg=Symbol.iterator;function Vl(e){return e===null||typeof e!="object"?null:(e=Hg&&e[Hg]||e["@@iterator"],typeof e=="function"?e:null)}var Qt=Object.assign,Ff;function nu(e){if(Ff===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ff=t&&t[1]||""}return`
`+Ff+e}var Mf=!1;function Df(e,t){if(!e||Mf)return"";Mf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{Mf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nu(e):""}function gw(e){switch(e.tag){case 5:return nu(e.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return e=Df(e.type,!1),e;case 11:return e=Df(e.type.render,!1),e;case 1:return e=Df(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ao:return"Fragment";case ko:return"Portal";case Cp:return"Profiler";case l0:return"StrictMode";case Ip:return"Suspense";case Tp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sv:return(e.displayName||"Context")+".Consumer";case Nv:return(e._context.displayName||"Context")+".Provider";case u0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c0:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Li:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function vw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===l0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yw(e){var t=kv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kc(e){e._valueTracker||(e._valueTracker=yw(e))}function Av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Op(e,t){var r=t.checked;return Qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Hi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lv(e,t){t=t.checked,t!=null&&o0(e,"checked",t,!1)}function Fp(e,t){Lv(e,t);var r=Hi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mp(e,t.type,Hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mp(e,t,r){(t!=="number"||Dd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var su=Array.isArray;function Bo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Hi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Oe(92));if(su(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Hi(r)}}function Pv(e,t){var r=Hi(t.value),n=Hi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ev(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ev(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yc,Cv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Su(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xw=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(e){xw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uu[t]=uu[e]})});function Iv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uu.hasOwnProperty(e)&&uu[e]?(""+t).trim():t+"px"}function Tv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Iv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var bw=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(e,t){if(t){if(bw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function zp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=null;function d0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $p=null,Uo=null,zo=null;function Xg(e){if(e=Ju(e)){if(typeof $p!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=bh(t),$p(e.stateNode,e.type,t))}}function Rv(e){Uo?zo?zo.push(e):zo=[e]:Uo=e}function Ov(){if(Uo){var e=Uo,t=zo;if(zo=Uo=null,Xg(e),t)for(e=0;e<t.length;e++)Xg(t[e])}}function Fv(e,t){return e(t)}function Mv(){}var Bf=!1;function Dv(e,t,r){if(Bf)return e(t,r);Bf=!0;try{return Fv(e,t,r)}finally{Bf=!1,(Uo!==null||zo!==null)&&(Mv(),Ov())}}function ju(e,t){var r=e.stateNode;if(r===null)return null;var n=bh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Oe(231,t,typeof r));return r}var Vp=!1;if(ri)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Vp=!1}function ww(e,t,r,n,s,i,a,o,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var cu=!1,Bd=null,Ud=!1,Wp=null,_w={onError:function(e){cu=!0,Bd=e}};function Nw(e,t,r,n,s,i,a,o,u){cu=!1,Bd=null,ww.apply(_w,arguments)}function Sw(e,t,r,n,s,i,a,o,u){if(Nw.apply(this,arguments),cu){if(cu){var d=Bd;cu=!1,Bd=null}else throw Error(Oe(198));Ud||(Ud=!0,Wp=d)}}function Oa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qg(e){if(Oa(e)!==e)throw Error(Oe(188))}function jw(e){var t=e.alternate;if(!t){if(t=Oa(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Qg(s),e;if(i===n)return Qg(s),t;i=i.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?e:t}function Uv(e){return e=jw(e),e!==null?zv(e):null}function zv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zv(e);if(t!==null)return t;e=e.sibling}return null}var qv=En.unstable_scheduleCallback,Zg=En.unstable_cancelCallback,kw=En.unstable_shouldYield,Aw=En.unstable_requestPaint,ar=En.unstable_now,Lw=En.unstable_getCurrentPriorityLevel,h0=En.unstable_ImmediatePriority,$v=En.unstable_UserBlockingPriority,zd=En.unstable_NormalPriority,Pw=En.unstable_LowPriority,Vv=En.unstable_IdlePriority,gh=null,Ts=null;function Ew(e){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(gh,e,void 0,(e.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:Tw,Cw=Math.log,Iw=Math.LN2;function Tw(e){return e>>>=0,e===0?32:31-(Cw(e)/Iw|0)|0}var Xc=64,Qc=4194304;function iu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=iu(o):(i&=a,i!==0&&(n=iu(i)))}else a=r&~s,a!==0?n=iu(a):i!==0&&(n=iu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fs(t),s=1<<r,n|=e[r],t&=~s;return n}function Rw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-fs(i),o=1<<a,u=s[a];u===-1?(!(o&r)||o&n)&&(s[a]=Rw(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function Hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wv(){var e=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),e}function Uf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fs(t),e[t]=r}function Fw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fs(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function f0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fs(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Rt=0;function Hv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gv,p0,Jv,Kv,Yv,Gp=!1,Zc=[],Mi=null,Di=null,Bi=null,ku=new Map,Au=new Map,Ei=[],Mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e1(e,t){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":ku.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(t.pointerId)}}function Hl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ju(t),t!==null&&p0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dw(e,t,r,n,s){switch(t){case"focusin":return Mi=Hl(Mi,e,t,r,n,s),!0;case"dragenter":return Di=Hl(Di,e,t,r,n,s),!0;case"mouseover":return Bi=Hl(Bi,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ku.set(i,Hl(ku.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Au.set(i,Hl(Au.get(i)||null,e,t,r,n,s)),!0}return!1}function Xv(e){var t=ba(e.target);if(t!==null){var r=Oa(t);if(r!==null){if(t=r.tag,t===13){if(t=Bv(r),t!==null){e.blockedOn=t,Yv(e.priority,function(){Jv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qp=n,r.target.dispatchEvent(n),qp=null}else return t=Ju(r),t!==null&&p0(t),e.blockedOn=r,!1;t.shift()}return!0}function t1(e,t,r){bd(e)&&r.delete(t)}function Bw(){Gp=!1,Mi!==null&&bd(Mi)&&(Mi=null),Di!==null&&bd(Di)&&(Di=null),Bi!==null&&bd(Bi)&&(Bi=null),ku.forEach(t1),Au.forEach(t1)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Gp||(Gp=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,Bw)))}function Lu(e){function t(s){return Gl(s,e)}if(0<Zc.length){Gl(Zc[0],e);for(var r=1;r<Zc.length;r++){var n=Zc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mi!==null&&Gl(Mi,e),Di!==null&&Gl(Di,e),Bi!==null&&Gl(Bi,e),ku.forEach(t),Au.forEach(t),r=0;r<Ei.length;r++)n=Ei[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ei.length&&(r=Ei[0],r.blockedOn===null);)Xv(r),r.blockedOn===null&&Ei.shift()}var qo=ai.ReactCurrentBatchConfig,$d=!0;function Uw(e,t,r,n){var s=Rt,i=qo.transition;qo.transition=null;try{Rt=1,m0(e,t,r,n)}finally{Rt=s,qo.transition=i}}function zw(e,t,r,n){var s=Rt,i=qo.transition;qo.transition=null;try{Rt=4,m0(e,t,r,n)}finally{Rt=s,qo.transition=i}}function m0(e,t,r,n){if($d){var s=Jp(e,t,r,n);if(s===null)Yf(e,t,n,Vd,r),e1(e,n);else if(Dw(s,e,t,r,n))n.stopPropagation();else if(e1(e,n),t&4&&-1<Mw.indexOf(e)){for(;s!==null;){var i=Ju(s);if(i!==null&&Gv(i),i=Jp(e,t,r,n),i===null&&Yf(e,t,n,Vd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yf(e,t,n,null,r)}}var Vd=null;function Jp(e,t,r,n){if(Vd=null,e=d0(n),e=ba(e),e!==null)if(t=Oa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vd=e,null}function Qv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lw()){case h0:return 1;case $v:return 4;case zd:case Pw:return 16;case Vv:return 536870912;default:return 16}default:return 16}}var Ti=null,g0=null,wd=null;function Zv(){if(wd)return wd;var e,t=g0,r=t.length,n,s="value"in Ti?Ti.value:Ti.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return wd=s.slice(e,1<n?1-n:void 0)}function _d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ed(){return!0}function r1(){return!1}function In(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ed:r1,this.isPropagationStopped=r1,this}return Qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v0=In(al),Gu=Qt({},al,{view:0,detail:0}),qw=In(Gu),zf,qf,Jl,vh=Qt({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jl&&(Jl&&e.type==="mousemove"?(zf=e.screenX-Jl.screenX,qf=e.screenY-Jl.screenY):qf=zf=0,Jl=e),zf)},movementY:function(e){return"movementY"in e?e.movementY:qf}}),n1=In(vh),$w=Qt({},vh,{dataTransfer:0}),Vw=In($w),Ww=Qt({},Gu,{relatedTarget:0}),$f=In(Ww),Hw=Qt({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),Gw=In(Hw),Jw=Qt({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kw=In(Jw),Yw=Qt({},al,{data:0}),s1=In(Yw),Xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zw[e])?!!t[e]:!1}function y0(){return e4}var t4=Qt({},Gu,{key:function(e){if(e.key){var t=Xw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(e){return e.type==="keypress"?_d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r4=In(t4),n4=Qt({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=In(n4),s4=Qt({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),i4=In(s4),a4=Qt({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),o4=In(a4),l4=Qt({},vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u4=In(l4),c4=[9,13,27,32],x0=ri&&"CompositionEvent"in window,du=null;ri&&"documentMode"in document&&(du=document.documentMode);var d4=ri&&"TextEvent"in window&&!du,e5=ri&&(!x0||du&&8<du&&11>=du),a1=" ",o1=!1;function t5(e,t){switch(e){case"keyup":return c4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function h4(e,t){switch(e){case"compositionend":return r5(t);case"keypress":return t.which!==32?null:(o1=!0,a1);case"textInput":return e=t.data,e===a1&&o1?null:e;default:return null}}function f4(e,t){if(Lo)return e==="compositionend"||!x0&&t5(e,t)?(e=Zv(),wd=g0=Ti=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e5&&t.locale!=="ko"?null:t.data;default:return null}}var p4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p4[e.type]:t==="textarea"}function n5(e,t,r,n){Rv(n),t=Wd(t,"onChange"),0<t.length&&(r=new v0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hu=null,Pu=null;function m4(e){p5(e,0)}function yh(e){var t=Co(e);if(Av(t))return e}function g4(e,t){if(e==="change")return t}var s5=!1;if(ri){var Vf;if(ri){var Wf="oninput"in document;if(!Wf){var u1=document.createElement("div");u1.setAttribute("oninput","return;"),Wf=typeof u1.oninput=="function"}Vf=Wf}else Vf=!1;s5=Vf&&(!document.documentMode||9<document.documentMode)}function c1(){hu&&(hu.detachEvent("onpropertychange",i5),Pu=hu=null)}function i5(e){if(e.propertyName==="value"&&yh(Pu)){var t=[];n5(t,Pu,e,d0(e)),Dv(m4,t)}}function v4(e,t,r){e==="focusin"?(c1(),hu=t,Pu=r,hu.attachEvent("onpropertychange",i5)):e==="focusout"&&c1()}function y4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yh(Pu)}function x4(e,t){if(e==="click")return yh(t)}function b4(e,t){if(e==="input"||e==="change")return yh(t)}function w4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ms=typeof Object.is=="function"?Object.is:w4;function Eu(e,t){if(ms(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ep.call(t,s)||!ms(e[s],t[s]))return!1}return!0}function d1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h1(e,t){var r=d1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=d1(r)}}function a5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o5(){for(var e=window,t=Dd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dd(e.document)}return t}function b0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _4(e){var t=o5(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&a5(r.ownerDocument.documentElement,r)){if(n!==null&&b0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=h1(r,i);var a=h1(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N4=ri&&"documentMode"in document&&11>=document.documentMode,Po=null,Kp=null,fu=null,Yp=!1;function f1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yp||Po==null||Po!==Dd(n)||(n=Po,"selectionStart"in n&&b0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fu&&Eu(fu,n)||(fu=n,n=Wd(Kp,"onSelect"),0<n.length&&(t=new v0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Po)))}function td(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Eo={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Hf={},l5={};ri&&(l5=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function xh(e){if(Hf[e])return Hf[e];if(!Eo[e])return e;var t=Eo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l5)return Hf[e]=t[r];return e}var u5=xh("animationend"),c5=xh("animationiteration"),d5=xh("animationstart"),h5=xh("transitionend"),f5=new Map,p1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){f5.set(e,t),Ra(t,[e])}for(var Gf=0;Gf<p1.length;Gf++){var Jf=p1[Gf],S4=Jf.toLowerCase(),j4=Jf[0].toUpperCase()+Jf.slice(1);Yi(S4,"on"+j4)}Yi(u5,"onAnimationEnd");Yi(c5,"onAnimationIteration");Yi(d5,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(h5,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k4=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function m1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sw(n,t,void 0,e),e.currentTarget=null}function p5(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,d=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;m1(s,o,d),i=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,d=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;m1(s,o,d),i=u}}}if(Ud)throw e=Wp,Ud=!1,Wp=null,e}function Vt(e,t){var r=t[tm];r===void 0&&(r=t[tm]=new Set);var n=e+"__bubble";r.has(n)||(m5(t,e,2,!1),r.add(n))}function Kf(e,t,r){var n=0;t&&(n|=4),m5(r,e,n,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[rd]){e[rd]=!0,_v.forEach(function(r){r!=="selectionchange"&&(k4.has(r)||Kf(r,!1,e),Kf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,Kf("selectionchange",!1,t))}}function m5(e,t,r,n){switch(Qv(t)){case 1:var s=Uw;break;case 4:s=zw;break;default:s=m0}r=s.bind(null,t,r,e),s=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Yf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ba(o),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Dv(function(){var d=i,f=d0(r),p=[];e:{var y=f5.get(e);if(y!==void 0){var g=v0,N=e;switch(e){case"keypress":if(_d(r)===0)break e;case"keydown":case"keyup":g=r4;break;case"focusin":N="focus",g=$f;break;case"focusout":N="blur",g=$f;break;case"beforeblur":case"afterblur":g=$f;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=i4;break;case u5:case c5:case d5:g=Gw;break;case h5:g=o4;break;case"scroll":g=qw;break;case"wheel":g=u4;break;case"copy":case"cut":case"paste":g=Kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=i1}var S=(t&4)!==0,j=!S&&e==="scroll",x=S?y!==null?y+"Capture":null:y;S=[];for(var w=d,b;w!==null;){b=w;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,x!==null&&(A=ju(w,x),A!=null&&S.push(Iu(w,A,b)))),j)break;w=w.return}0<S.length&&(y=new g(y,N,null,r,f),p.push({event:y,listeners:S}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",y&&r!==qp&&(N=r.relatedTarget||r.fromElement)&&(ba(N)||N[ni]))break e;if((g||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,g?(N=r.relatedTarget||r.toElement,g=d,N=N?ba(N):null,N!==null&&(j=Oa(N),N!==j||N.tag!==5&&N.tag!==6)&&(N=null)):(g=null,N=d),g!==N)){if(S=n1,A="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(S=i1,A="onPointerLeave",x="onPointerEnter",w="pointer"),j=g==null?y:Co(g),b=N==null?y:Co(N),y=new S(A,w+"leave",g,r,f),y.target=j,y.relatedTarget=b,A=null,ba(f)===d&&(S=new S(x,w+"enter",N,r,f),S.target=b,S.relatedTarget=j,A=S),j=A,g&&N)t:{for(S=g,x=N,w=0,b=S;b;b=po(b))w++;for(b=0,A=x;A;A=po(A))b++;for(;0<w-b;)S=po(S),w--;for(;0<b-w;)x=po(x),b--;for(;w--;){if(S===x||x!==null&&S===x.alternate)break t;S=po(S),x=po(x)}S=null}else S=null;g!==null&&g1(p,y,g,S,!1),N!==null&&j!==null&&g1(p,j,N,S,!0)}}e:{if(y=d?Co(d):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var F=g4;else if(l1(y))if(s5)F=b4;else{F=y4;var z=v4}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=x4);if(F&&(F=F(e,d))){n5(p,F,r,f);break e}z&&z(e,y,d),e==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&Mp(y,"number",y.value)}switch(z=d?Co(d):window,e){case"focusin":(l1(z)||z.contentEditable==="true")&&(Po=z,Kp=d,fu=null);break;case"focusout":fu=Kp=Po=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,f1(p,r,f);break;case"selectionchange":if(N4)break;case"keydown":case"keyup":f1(p,r,f)}var D;if(x0)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Lo?t5(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(e5&&r.locale!=="ko"&&(Lo||M!=="onCompositionStart"?M==="onCompositionEnd"&&Lo&&(D=Zv()):(Ti=f,g0="value"in Ti?Ti.value:Ti.textContent,Lo=!0)),z=Wd(d,M),0<z.length&&(M=new s1(M,e,null,r,f),p.push({event:M,listeners:z}),D?M.data=D:(D=r5(r),D!==null&&(M.data=D)))),(D=d4?h4(e,r):f4(e,r))&&(d=Wd(d,"onBeforeInput"),0<d.length&&(f=new s1("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:d}),f.data=D))}p5(p,t)})}function Iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ju(e,r),i!=null&&n.unshift(Iu(e,i,s)),i=ju(e,t),i!=null&&n.push(Iu(e,i,s))),e=e.return}return n}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g1(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,d=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&d!==null&&(o=d,s?(u=ju(r,i),u!=null&&a.unshift(Iu(r,u,o))):s||(u=ju(r,i),u!=null&&a.push(Iu(r,u,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var A4=/\r\n?/g,L4=/\u0000|\uFFFD/g;function v1(e){return(typeof e=="string"?e:""+e).replace(A4,`
`).replace(L4,"")}function nd(e,t,r){if(t=v1(t),v1(e)!==t&&r)throw Error(Oe(425))}function Hd(){}var Xp=null,Qp=null;function Zp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,P4=typeof clearTimeout=="function"?clearTimeout:void 0,y1=typeof Promise=="function"?Promise:void 0,E4=typeof queueMicrotask=="function"?queueMicrotask:typeof y1<"u"?function(e){return y1.resolve(null).then(e).catch(C4)}:em;function C4(e){setTimeout(function(){throw e})}function Xf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Lu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Lu(t)}function Ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function x1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Cs="__reactFiber$"+ol,Tu="__reactProps$"+ol,ni="__reactContainer$"+ol,tm="__reactEvents$"+ol,I4="__reactListeners$"+ol,T4="__reactHandles$"+ol;function ba(e){var t=e[Cs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ni]||r[Cs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=x1(e);e!==null;){if(r=e[Cs])return r;e=x1(e)}return t}e=r,r=e.parentNode}return null}function Ju(e){return e=e[Cs]||e[ni],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function bh(e){return e[Tu]||null}var rm=[],Io=-1;function Xi(e){return{current:e}}function Ht(e){0>Io||(e.current=rm[Io],rm[Io]=null,Io--)}function $t(e,t){Io++,rm[Io]=e.current,e.current=t}var Gi={},Jr=Xi(Gi),pn=Xi(!1),La=Gi;function Yo(e,t){var r=e.type.contextTypes;if(!r)return Gi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mn(e){return e=e.childContextTypes,e!=null}function Gd(){Ht(pn),Ht(Jr)}function b1(e,t,r){if(Jr.current!==Gi)throw Error(Oe(168));$t(Jr,t),$t(pn,r)}function g5(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Oe(108,vw(e)||"Unknown",s));return Qt({},r,n)}function Jd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gi,La=Jr.current,$t(Jr,e),$t(pn,pn.current),!0}function w1(e,t,r){var n=e.stateNode;if(!n)throw Error(Oe(169));r?(e=g5(e,t,La),n.__reactInternalMemoizedMergedChildContext=e,Ht(pn),Ht(Jr),$t(Jr,e)):Ht(pn),$t(pn,r)}var Qs=null,wh=!1,Qf=!1;function v5(e){Qs===null?Qs=[e]:Qs.push(e)}function R4(e){wh=!0,v5(e)}function Qi(){if(!Qf&&Qs!==null){Qf=!0;var e=0,t=Rt;try{var r=Qs;for(Rt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qs=null,wh=!1}catch(s){throw Qs!==null&&(Qs=Qs.slice(e+1)),qv(h0,Qi),s}finally{Rt=t,Qf=!1}}return null}var To=[],Ro=0,Kd=null,Yd=0,qn=[],$n=0,Pa=null,Zs=1,ei="";function pa(e,t){To[Ro++]=Yd,To[Ro++]=Kd,Kd=e,Yd=t}function y5(e,t,r){qn[$n++]=Zs,qn[$n++]=ei,qn[$n++]=Pa,Pa=e;var n=Zs;e=ei;var s=32-fs(n)-1;n&=~(1<<s),r+=1;var i=32-fs(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Zs=1<<32-fs(t)+s|r<<s|n,ei=i+e}else Zs=1<<i|r<<s|n,ei=e}function w0(e){e.return!==null&&(pa(e,1),y5(e,1,0))}function _0(e){for(;e===Kd;)Kd=To[--Ro],To[Ro]=null,Yd=To[--Ro],To[Ro]=null;for(;e===Pa;)Pa=qn[--$n],qn[$n]=null,ei=qn[--$n],qn[$n]=null,Zs=qn[--$n],qn[$n]=null}var Pn=null,An=null,Gt=!1,hs=null;function x5(e,t){var r=Vn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,An=Ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pa!==null?{id:Zs,overflow:ei}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pn=e,An=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sm(e){if(Gt){var t=An;if(t){var r=t;if(!_1(e,t)){if(nm(e))throw Error(Oe(418));t=Ui(r.nextSibling);var n=Pn;t&&_1(e,t)?x5(n,r):(e.flags=e.flags&-4097|2,Gt=!1,Pn=e)}}else{if(nm(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,Gt=!1,Pn=e}}}function N1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function sd(e){if(e!==Pn)return!1;if(!Gt)return N1(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zp(e.type,e.memoizedProps)),t&&(t=An)){if(nm(e))throw b5(),Error(Oe(418));for(;t;)x5(e,t),t=Ui(t.nextSibling)}if(N1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){An=Ui(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}An=null}}else An=Pn?Ui(e.stateNode.nextSibling):null;return!0}function b5(){for(var e=An;e;)e=Ui(e.nextSibling)}function Xo(){An=Pn=null,Gt=!1}function N0(e){hs===null?hs=[e]:hs.push(e)}var O4=ai.ReactCurrentBatchConfig;function Kl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S1(e){var t=e._init;return t(e._payload)}function w5(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Vi(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,A){return w===null||w.tag!==6?(w=ip(b,x.mode,A),w.return=x,w):(w=s(w,b),w.return=x,w)}function u(x,w,b,A){var F=b.type;return F===Ao?f(x,w,b.props.children,A,b.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Li&&S1(F)===w.type)?(A=s(w,b.props),A.ref=Kl(x,w,b),A.return=x,A):(A=Pd(b.type,b.key,b.props,null,x.mode,A),A.ref=Kl(x,w,b),A.return=x,A)}function d(x,w,b,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=ap(b,x.mode,A),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function f(x,w,b,A,F){return w===null||w.tag!==7?(w=ja(b,x.mode,A,F),w.return=x,w):(w=s(w,b),w.return=x,w)}function p(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ip(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jc:return b=Pd(w.type,w.key,w.props,null,x.mode,b),b.ref=Kl(x,null,w),b.return=x,b;case ko:return w=ap(w,x.mode,b),w.return=x,w;case Li:var A=w._init;return p(x,A(w._payload),b)}if(su(w)||Vl(w))return w=ja(w,x.mode,b,null),w.return=x,w;id(x,w)}return null}function y(x,w,b,A){var F=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return F!==null?null:o(x,w,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:return b.key===F?u(x,w,b,A):null;case ko:return b.key===F?d(x,w,b,A):null;case Li:return F=b._init,y(x,w,F(b._payload),A)}if(su(b)||Vl(b))return F!==null?null:f(x,w,b,A,null);id(x,b)}return null}function g(x,w,b,A,F){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(b)||null,o(w,x,""+A,F);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Jc:return x=x.get(A.key===null?b:A.key)||null,u(w,x,A,F);case ko:return x=x.get(A.key===null?b:A.key)||null,d(w,x,A,F);case Li:var z=A._init;return g(x,w,b,z(A._payload),F)}if(su(A)||Vl(A))return x=x.get(b)||null,f(w,x,A,F,null);id(w,A)}return null}function N(x,w,b,A){for(var F=null,z=null,D=w,M=w=0,Q=null;D!==null&&M<b.length;M++){D.index>M?(Q=D,D=null):Q=D.sibling;var H=y(x,D,b[M],A);if(H===null){D===null&&(D=Q);break}e&&D&&H.alternate===null&&t(x,D),w=i(H,w,M),z===null?F=H:z.sibling=H,z=H,D=Q}if(M===b.length)return r(x,D),Gt&&pa(x,M),F;if(D===null){for(;M<b.length;M++)D=p(x,b[M],A),D!==null&&(w=i(D,w,M),z===null?F=D:z.sibling=D,z=D);return Gt&&pa(x,M),F}for(D=n(x,D);M<b.length;M++)Q=g(D,x,M,b[M],A),Q!==null&&(e&&Q.alternate!==null&&D.delete(Q.key===null?M:Q.key),w=i(Q,w,M),z===null?F=Q:z.sibling=Q,z=Q);return e&&D.forEach(function(E){return t(x,E)}),Gt&&pa(x,M),F}function S(x,w,b,A){var F=Vl(b);if(typeof F!="function")throw Error(Oe(150));if(b=F.call(b),b==null)throw Error(Oe(151));for(var z=F=null,D=w,M=w=0,Q=null,H=b.next();D!==null&&!H.done;M++,H=b.next()){D.index>M?(Q=D,D=null):Q=D.sibling;var E=y(x,D,H.value,A);if(E===null){D===null&&(D=Q);break}e&&D&&E.alternate===null&&t(x,D),w=i(E,w,M),z===null?F=E:z.sibling=E,z=E,D=Q}if(H.done)return r(x,D),Gt&&pa(x,M),F;if(D===null){for(;!H.done;M++,H=b.next())H=p(x,H.value,A),H!==null&&(w=i(H,w,M),z===null?F=H:z.sibling=H,z=H);return Gt&&pa(x,M),F}for(D=n(x,D);!H.done;M++,H=b.next())H=g(D,x,M,H.value,A),H!==null&&(e&&H.alternate!==null&&D.delete(H.key===null?M:H.key),w=i(H,w,M),z===null?F=H:z.sibling=H,z=H);return e&&D.forEach(function(R){return t(x,R)}),Gt&&pa(x,M),F}function j(x,w,b,A){if(typeof b=="object"&&b!==null&&b.type===Ao&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jc:e:{for(var F=b.key,z=w;z!==null;){if(z.key===F){if(F=b.type,F===Ao){if(z.tag===7){r(x,z.sibling),w=s(z,b.props.children),w.return=x,x=w;break e}}else if(z.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Li&&S1(F)===z.type){r(x,z.sibling),w=s(z,b.props),w.ref=Kl(x,z,b),w.return=x,x=w;break e}r(x,z);break}else t(x,z);z=z.sibling}b.type===Ao?(w=ja(b.props.children,x.mode,A,b.key),w.return=x,x=w):(A=Pd(b.type,b.key,b.props,null,x.mode,A),A.ref=Kl(x,w,b),A.return=x,x=A)}return a(x);case ko:e:{for(z=b.key;w!==null;){if(w.key===z)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=ap(b,x.mode,A),w.return=x,x=w}return a(x);case Li:return z=b._init,j(x,w,z(b._payload),A)}if(su(b))return N(x,w,b,A);if(Vl(b))return S(x,w,b,A);id(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(x,w.sibling),w=s(w,b),w.return=x,x=w):(r(x,w),w=ip(b,x.mode,A),w.return=x,x=w),a(x)):r(x,w)}return j}var Qo=w5(!0),_5=w5(!1),Xd=Xi(null),Qd=null,Oo=null,S0=null;function j0(){S0=Oo=Qd=null}function k0(e){var t=Xd.current;Ht(Xd),e._currentValue=t}function im(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $o(e,t){Qd=e,S0=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fn=!0),e.firstContext=null)}function Gn(e){var t=e._currentValue;if(S0!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(Qd===null)throw Error(Oe(308));Oo=e,Qd.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var wa=null;function A0(e){wa===null?wa=[e]:wa.push(e)}function N5(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,A0(t)):(r.next=s.next,s.next=r),t.interleaved=r,si(e,n)}function si(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pi=!1;function L0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ti(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,kt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,si(e,r)}return s=n.interleaved,s===null?(t.next=t,A0(n)):(t.next=s.next,s.next=t),n.interleaved=t,si(e,r)}function Nd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,f0(e,r)}}function j1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zd(e,t,r,n){var s=e.updateQueue;Pi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,f=d=u=null,o=i;do{var y=o.lane,g=o.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,S=o;switch(y=t,g=r,S.tag){case 1:if(N=S.payload,typeof N=="function"){p=N.call(g,p,y);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,y=typeof N=="function"?N.call(g,p,y):N,y==null)break e;p=Qt({},p,y);break e;case 2:Pi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[o]:y.push(o))}else g={eventTime:g,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=g,u=p):f=f.next=g,a|=y;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;y=o,o=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ca|=a,e.lanes=a,e.memoizedState=p}}function k1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Oe(191,s));s.call(n)}}}var Ku={},Rs=Xi(Ku),Ru=Xi(Ku),Ou=Xi(Ku);function _a(e){if(e===Ku)throw Error(Oe(174));return e}function P0(e,t){switch($t(Ou,t),$t(Ru,e),$t(Rs,Ku),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bp(t,e)}Ht(Rs),$t(Rs,t)}function Zo(){Ht(Rs),Ht(Ru),Ht(Ou)}function j5(e){_a(Ou.current);var t=_a(Rs.current),r=Bp(t,e.type);t!==r&&($t(Ru,e),$t(Rs,r))}function E0(e){Ru.current===e&&(Ht(Rs),Ht(Ru))}var Yt=Xi(0);function eh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zf=[];function C0(){for(var e=0;e<Zf.length;e++)Zf[e]._workInProgressVersionPrimary=null;Zf.length=0}var Sd=ai.ReactCurrentDispatcher,ep=ai.ReactCurrentBatchConfig,Ea=0,Xt=null,br=null,Lr=null,th=!1,pu=!1,Fu=0,F4=0;function Br(){throw Error(Oe(321))}function I0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ms(e[r],t[r]))return!1;return!0}function T0(e,t,r,n,s,i){if(Ea=i,Xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sd.current=e===null||e.memoizedState===null?U4:z4,e=r(n,s),pu){i=0;do{if(pu=!1,Fu=0,25<=i)throw Error(Oe(301));i+=1,Lr=br=null,t.updateQueue=null,Sd.current=q4,e=r(n,s)}while(pu)}if(Sd.current=rh,t=br!==null&&br.next!==null,Ea=0,Lr=br=Xt=null,th=!1,t)throw Error(Oe(300));return e}function R0(){var e=Fu!==0;return Fu=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Xt.memoizedState=Lr=e:Lr=Lr.next=e,Lr}function Jn(){if(br===null){var e=Xt.alternate;e=e!==null?e.memoizedState:null}else e=br.next;var t=Lr===null?Xt.memoizedState:Lr.next;if(t!==null)Lr=t,br=e;else{if(e===null)throw Error(Oe(310));br=e,e={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Lr===null?Xt.memoizedState=Lr=e:Lr=Lr.next=e}return Lr}function Mu(e,t){return typeof t=="function"?t(e):t}function tp(e){var t=Jn(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=br,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,u=null,d=i;do{var f=d.lane;if((Ea&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(o=u=p,a=n):u=u.next=p,Xt.lanes|=f,Ca|=f}d=d.next}while(d!==null&&d!==i);u===null?a=n:u.next=o,ms(n,t.memoizedState)||(fn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Xt.lanes|=i,Ca|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rp(e){var t=Jn(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ms(i,t.memoizedState)||(fn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function k5(){}function A5(e,t){var r=Xt,n=Jn(),s=t(),i=!ms(n.memoizedState,s);if(i&&(n.memoizedState=s,fn=!0),n=n.queue,O0(E5.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Lr!==null&&Lr.memoizedState.tag&1){if(r.flags|=2048,Du(9,P5.bind(null,r,n,s,t),void 0,null),Er===null)throw Error(Oe(349));Ea&30||L5(r,t,s)}return s}function L5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function P5(e,t,r,n){t.value=r,t.getSnapshot=n,C5(t)&&I5(e)}function E5(e,t,r){return r(function(){C5(t)&&I5(e)})}function C5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ms(e,r)}catch{return!0}}function I5(e){var t=si(e,1);t!==null&&ps(t,e,1,-1)}function A1(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:e},t.queue=e,e=e.dispatch=B4.bind(null,Xt,e),[t.memoizedState,e]}function Du(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xt.updateQueue,t===null?(t={lastEffect:null,stores:null},Xt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function T5(){return Jn().memoizedState}function jd(e,t,r,n){var s=Ps();Xt.flags|=e,s.memoizedState=Du(1|t,r,void 0,n===void 0?null:n)}function _h(e,t,r,n){var s=Jn();n=n===void 0?null:n;var i=void 0;if(br!==null){var a=br.memoizedState;if(i=a.destroy,n!==null&&I0(n,a.deps)){s.memoizedState=Du(t,r,i,n);return}}Xt.flags|=e,s.memoizedState=Du(1|t,r,i,n)}function L1(e,t){return jd(8390656,8,e,t)}function O0(e,t){return _h(2048,8,e,t)}function R5(e,t){return _h(4,2,e,t)}function O5(e,t){return _h(4,4,e,t)}function F5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M5(e,t,r){return r=r!=null?r.concat([e]):null,_h(4,4,F5.bind(null,t,e),r)}function F0(){}function D5(e,t){var r=Jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&I0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function B5(e,t){var r=Jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&I0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function U5(e,t,r){return Ea&21?(ms(r,t)||(r=Wv(),Xt.lanes|=r,Ca|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fn=!0),e.memoizedState=r)}function M4(e,t){var r=Rt;Rt=r!==0&&4>r?r:4,e(!0);var n=ep.transition;ep.transition={};try{e(!1),t()}finally{Rt=r,ep.transition=n}}function z5(){return Jn().memoizedState}function D4(e,t,r){var n=$i(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},q5(e))$5(t,r);else if(r=N5(e,t,r,n),r!==null){var s=en();ps(r,e,n,s),V5(r,t,n)}}function B4(e,t,r){var n=$i(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(q5(e))$5(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ms(o,a)){var u=t.interleaved;u===null?(s.next=s,A0(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=N5(e,t,s,n),r!==null&&(s=en(),ps(r,e,n,s),V5(r,t,n))}}function q5(e){var t=e.alternate;return e===Xt||t!==null&&t===Xt}function $5(e,t){pu=th=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function V5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,f0(e,r)}}var rh={readContext:Gn,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},U4={readContext:Gn,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:Gn,useEffect:L1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jd(4194308,4,F5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jd(4194308,4,e,t)},useInsertionEffect:function(e,t){return jd(4,2,e,t)},useMemo:function(e,t){var r=Ps();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ps();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=D4.bind(null,Xt,e),[n.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:A1,useDebugValue:F0,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=A1(!1),t=e[0];return e=M4.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xt,s=Ps();if(Gt){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=t(),Er===null)throw Error(Oe(349));Ea&30||L5(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,L1(E5.bind(null,n,i,e),[e]),n.flags|=2048,Du(9,P5.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ps(),t=Er.identifierPrefix;if(Gt){var r=ei,n=Zs;r=(n&~(1<<32-fs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=F4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z4={readContext:Gn,useCallback:D5,useContext:Gn,useEffect:O0,useImperativeHandle:M5,useInsertionEffect:R5,useLayoutEffect:O5,useMemo:B5,useReducer:tp,useRef:T5,useState:function(){return tp(Mu)},useDebugValue:F0,useDeferredValue:function(e){var t=Jn();return U5(t,br.memoizedState,e)},useTransition:function(){var e=tp(Mu)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:k5,useSyncExternalStore:A5,useId:z5,unstable_isNewReconciler:!1},q4={readContext:Gn,useCallback:D5,useContext:Gn,useEffect:O0,useImperativeHandle:M5,useInsertionEffect:R5,useLayoutEffect:O5,useMemo:B5,useReducer:rp,useRef:T5,useState:function(){return rp(Mu)},useDebugValue:F0,useDeferredValue:function(e){var t=Jn();return br===null?t.memoizedState=e:U5(t,br.memoizedState,e)},useTransition:function(){var e=rp(Mu)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:k5,useSyncExternalStore:A5,useId:z5,unstable_isNewReconciler:!1};function ls(e,t){if(e&&e.defaultProps){t=Qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function am(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nh={isMounted:function(e){return(e=e._reactInternals)?Oa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=en(),s=$i(e),i=ti(n,s);i.payload=t,r!=null&&(i.callback=r),t=zi(e,i,s),t!==null&&(ps(t,e,s,n),Nd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=en(),s=$i(e),i=ti(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=zi(e,i,s),t!==null&&(ps(t,e,s,n),Nd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=en(),n=$i(e),s=ti(r,n);s.tag=2,t!=null&&(s.callback=t),t=zi(e,s,n),t!==null&&(ps(t,e,n,r),Nd(t,e,n))}};function P1(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Eu(r,n)||!Eu(s,i):!0}function W5(e,t,r){var n=!1,s=Gi,i=t.contextType;return typeof i=="object"&&i!==null?i=Gn(i):(s=mn(t)?La:Jr.current,n=t.contextTypes,i=(n=n!=null)?Yo(e,s):Gi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function E1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nh.enqueueReplaceState(t,t.state,null)}function om(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},L0(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Gn(i):(i=mn(t)?La:Jr.current,s.context=Yo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(am(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nh.enqueueReplaceState(s,s.state,null),Zd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var r="",n=t;do r+=gw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function np(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $4=typeof WeakMap=="function"?WeakMap:Map;function H5(e,t,r){r=ti(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sh||(sh=!0,ym=n),lm(e,t)},r}function G5(e,t,r){r=ti(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lm(e,t),typeof n!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function C1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $4;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=n3.bind(null,e,t,r),t.then(e,e))}function I1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ti(-1,1),t.tag=2,zi(r,t,1))),r.lanes|=1),e)}var V4=ai.ReactCurrentOwner,fn=!1;function Zr(e,t,r,n){t.child=e===null?_5(t,null,r,n):Qo(t,e.child,r,n)}function R1(e,t,r,n,s){r=r.render;var i=t.ref;return $o(t,s),n=T0(e,t,r,n,i,s),r=R0(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ii(e,t,s)):(Gt&&r&&w0(t),t.flags|=1,Zr(e,t,n,s),t.child)}function O1(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!V0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,J5(e,t,i,n,s)):(e=Pd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Eu,r(a,n)&&e.ref===t.ref)return ii(e,t,s)}return t.flags|=1,e=Vi(i,n),e.ref=t.ref,e.return=t,t.child=e}function J5(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Eu(i,n)&&e.ref===t.ref)if(fn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(fn=!0);else return t.lanes=e.lanes,ii(e,t,s)}return um(e,t,r,n,s)}function K5(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Mo,kn),kn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Mo,kn),kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,$t(Mo,kn),kn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,$t(Mo,kn),kn|=n;return Zr(e,t,s,r),t.child}function Y5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function um(e,t,r,n,s){var i=mn(r)?La:Jr.current;return i=Yo(t,i),$o(t,s),r=T0(e,t,r,n,i,s),n=R0(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ii(e,t,s)):(Gt&&n&&w0(t),t.flags|=1,Zr(e,t,r,s),t.child)}function F1(e,t,r,n,s){if(mn(r)){var i=!0;Jd(t)}else i=!1;if($o(t,s),t.stateNode===null)kd(e,t),W5(t,r,n),om(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Gn(d):(d=mn(r)?La:Jr.current,d=Yo(t,d));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==d)&&E1(t,a,n,d),Pi=!1;var y=t.memoizedState;a.state=y,Zd(t,n,a,s),u=t.memoizedState,o!==n||y!==u||pn.current||Pi?(typeof f=="function"&&(am(t,r,f,n),u=t.memoizedState),(o=Pi||P1(t,r,o,n,y,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,S5(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:ls(t.type,o),a.props=d,p=t.pendingProps,y=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Gn(u):(u=mn(r)?La:Jr.current,u=Yo(t,u));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||y!==u)&&E1(t,a,n,u),Pi=!1,y=t.memoizedState,a.state=y,Zd(t,n,a,s);var N=t.memoizedState;o!==p||y!==N||pn.current||Pi?(typeof g=="function"&&(am(t,r,g,n),N=t.memoizedState),(d=Pi||P1(t,r,d,n,y,N,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,N,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,N,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),a.props=n,a.state=N,a.context=u,n=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return cm(e,t,r,n,i,s)}function cm(e,t,r,n,s,i){Y5(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&w1(t,r,!1),ii(e,t,i);n=t.stateNode,V4.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Qo(t,e.child,null,i),t.child=Qo(t,null,o,i)):Zr(e,t,o,i),t.memoizedState=n.state,s&&w1(t,r,!0),t.child}function X5(e){var t=e.stateNode;t.pendingContext?b1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b1(e,t.context,!1),P0(e,t.containerInfo)}function M1(e,t,r,n,s){return Xo(),N0(s),t.flags|=256,Zr(e,t,r,n),t.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q5(e,t,r){var n=t.pendingProps,s=Yt.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$t(Yt,s&1),e===null)return sm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=kh(a,n,0,null),e=ja(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hm(r),t.memoizedState=dm,e):M0(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return W4(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Vi(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Vi(o,i):(i=ja(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?hm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=dm,n}return i=e.child,e=i.sibling,n=Vi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function M0(e,t){return t=kh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ad(e,t,r,n){return n!==null&&N0(n),Qo(t,e.child,null,r),e=M0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W4(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=np(Error(Oe(422))),ad(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=kh({mode:"visible",children:n.children},s,0,null),i=ja(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qo(t,e.child,null,a),t.child.memoizedState=hm(a),t.memoizedState=dm,i);if(!(t.mode&1))return ad(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Oe(419)),n=np(i,n,void 0),ad(e,t,a,n)}if(o=(a&e.childLanes)!==0,fn||o){if(n=Er,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,si(e,s),ps(n,e,s,-1))}return $0(),n=np(Error(Oe(421))),ad(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=s3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,An=Ui(s.nextSibling),Pn=t,Gt=!0,hs=null,e!==null&&(qn[$n++]=Zs,qn[$n++]=ei,qn[$n++]=Pa,Zs=e.id,ei=e.overflow,Pa=t),t=M0(t,n.children),t.flags|=4096,t)}function D1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),im(e.return,t,r)}function sp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Z5(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Zr(e,t,n.children,r),n=Yt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D1(e,r,t);else if(e.tag===19)D1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($t(Yt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&eh(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),sp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&eh(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}sp(t,!0,r,null,i);break;case"together":sp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ii(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ca|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,r=Vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function H4(e,t,r){switch(t.tag){case 3:X5(t),Xo();break;case 5:j5(t);break;case 1:mn(t.type)&&Jd(t);break;case 4:P0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;$t(Xd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($t(Yt,Yt.current&1),t.flags|=128,null):r&t.child.childLanes?Q5(e,t,r):($t(Yt,Yt.current&1),e=ii(e,t,r),e!==null?e.sibling:null);$t(Yt,Yt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Z5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$t(Yt,Yt.current),n)break;return null;case 22:case 23:return t.lanes=0,K5(e,t,r)}return ii(e,t,r)}var ey,fm,ty,ry;ey=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fm=function(){};ty=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_a(Rs.current);var i=null;switch(r){case"input":s=Op(e,s),n=Op(e,n),i=[];break;case"select":s=Qt({},s,{value:void 0}),n=Qt({},n,{value:void 0}),i=[];break;case"textarea":s=Dp(e,s),n=Dp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hd)}Up(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(o=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==o&&(u!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Vt("scroll",e),i||o===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ry=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yl(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function G4(e,t,r){var n=t.pendingProps;switch(_0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return mn(t.type)&&Gd(),Ur(t),null;case 3:return n=t.stateNode,Zo(),Ht(pn),Ht(Jr),C0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hs!==null&&(wm(hs),hs=null))),fm(e,t),Ur(t),null;case 5:E0(t);var s=_a(Ou.current);if(r=t.type,e!==null&&t.stateNode!=null)ty(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Oe(166));return Ur(t),null}if(e=_a(Rs.current),sd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Cs]=t,n[Tu]=i,e=(t.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<au.length;s++)Vt(au[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Gg(n,i),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",n);break;case"textarea":Kg(n,i),Vt("invalid",n)}Up(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,o,e),s=["children",""+o]):Nu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vt("scroll",n)}switch(r){case"input":Kc(n),Jg(n,i,!0);break;case"textarea":Kc(n),Yg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ev(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Cs]=t,e[Tu]=n,ey(e,t,!1,!1),t.stateNode=e;e:{switch(a=zp(r,n),r){case"dialog":Vt("cancel",e),Vt("close",e),s=n;break;case"iframe":case"object":case"embed":Vt("load",e),s=n;break;case"video":case"audio":for(s=0;s<au.length;s++)Vt(au[s],e);s=n;break;case"source":Vt("error",e),s=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=n;break;case"details":Vt("toggle",e),s=n;break;case"input":Gg(e,n),s=Op(e,n),Vt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Qt({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":Kg(e,n),s=Dp(e,n),Vt("invalid",e);break;default:s=n}Up(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?Tv(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cv(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Su(e,u):typeof u=="number"&&Su(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nu.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Vt("scroll",e):u!=null&&o0(e,i,u,a))}switch(r){case"input":Kc(e),Jg(e,n,!1);break;case"textarea":Kc(e),Yg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Hi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Bo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Bo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)ry(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Oe(166));if(r=_a(Ou.current),_a(Rs.current),sd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Cs]=t,(i=n.nodeValue!==r)&&(e=Pn,e!==null))switch(e.tag){case 3:nd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cs]=t,t.stateNode=n}return Ur(t),null;case 13:if(Ht(Yt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&An!==null&&t.mode&1&&!(t.flags&128))b5(),Xo(),t.flags|=98560,i=!1;else if(i=sd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[Cs]=t}else Xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),i=!1}else hs!==null&&(wm(hs),hs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Yt.current&1?wr===0&&(wr=3):$0())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return Zo(),fm(e,t),e===null&&Cu(t.stateNode.containerInfo),Ur(t),null;case 10:return k0(t.type._context),Ur(t),null;case 17:return mn(t.type)&&Gd(),Ur(t),null;case 19:if(Ht(Yt),i=t.memoizedState,i===null)return Ur(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Yl(i,!1);else{if(wr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=eh(e),a!==null){for(t.flags|=128,Yl(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(Yt,Yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ar()>tl&&(t.flags|=128,n=!0,Yl(i,!1),t.lanes=4194304)}else{if(!n)if(e=eh(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Gt)return Ur(t),null}else 2*ar()-i.renderingStartTime>tl&&r!==1073741824&&(t.flags|=128,n=!0,Yl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ar(),t.sibling=null,r=Yt.current,$t(Yt,n?r&1|2:r&1),t):(Ur(t),null);case 22:case 23:return q0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kn&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function J4(e,t){switch(_0(t),t.tag){case 1:return mn(t.type)&&Gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zo(),Ht(pn),Ht(Jr),C0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E0(t),null;case 13:if(Ht(Yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));Xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(Yt),null;case 4:return Zo(),null;case 10:return k0(t.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var od=!1,Wr=!1,K4=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Fo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rr(e,t,n)}else r.current=null}function pm(e,t,r){try{r()}catch(n){rr(e,t,n)}}var B1=!1;function Y4(e,t){if(Xp=$d,e=o5(),b0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,d=0,f=0,p=e,y=null;t:for(;;){for(var g;p!==r||s!==0&&p.nodeType!==3||(o=a+s),p!==i||n!==0&&p.nodeType!==3||(u=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)y=p,p=g;for(;;){if(p===e)break t;if(y===r&&++d===s&&(o=a),y===i&&++f===n&&(u=a),(g=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=g}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qp={focusedElem:e,selectionRange:r},$d=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,j=N.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?S:ls(t.type,S),j);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(A){rr(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return N=B1,B1=!1,N}function mu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pm(t,r,i)}s=s.next}while(s!==n)}}function Sh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ny(e){var t=e.alternate;t!==null&&(e.alternate=null,ny(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cs],delete t[Tu],delete t[tm],delete t[I4],delete t[T4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sy(e){return e.tag===5||e.tag===3||e.tag===4}function U1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hd));else if(n!==4&&(e=e.child,e!==null))for(gm(e,t,r),e=e.sibling;e!==null;)gm(e,t,r),e=e.sibling}function vm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vm(e,t,r),e=e.sibling;e!==null;)vm(e,t,r),e=e.sibling}var Tr=null,cs=!1;function Ni(e,t,r){for(r=r.child;r!==null;)iy(e,t,r),r=r.sibling}function iy(e,t,r){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:Wr||Fo(r,t);case 6:var n=Tr,s=cs;Tr=null,Ni(e,t,r),Tr=n,cs=s,Tr!==null&&(cs?(e=Tr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Tr.removeChild(r.stateNode));break;case 18:Tr!==null&&(cs?(e=Tr,r=r.stateNode,e.nodeType===8?Xf(e.parentNode,r):e.nodeType===1&&Xf(e,r),Lu(e)):Xf(Tr,r.stateNode));break;case 4:n=Tr,s=cs,Tr=r.stateNode.containerInfo,cs=!0,Ni(e,t,r),Tr=n,cs=s;break;case 0:case 11:case 14:case 15:if(!Wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&pm(r,t,a),s=s.next}while(s!==n)}Ni(e,t,r);break;case 1:if(!Wr&&(Fo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){rr(r,t,o)}Ni(e,t,r);break;case 21:Ni(e,t,r);break;case 22:r.mode&1?(Wr=(n=Wr)||r.memoizedState!==null,Ni(e,t,r),Wr=n):Ni(e,t,r);break;default:Ni(e,t,r)}}function z1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new K4),t.forEach(function(n){var s=i3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ss(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Tr=o.stateNode,cs=!1;break e;case 3:Tr=o.stateNode.containerInfo,cs=!0;break e;case 4:Tr=o.stateNode.containerInfo,cs=!0;break e}o=o.return}if(Tr===null)throw Error(Oe(160));iy(i,a,s),Tr=null,cs=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){rr(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ay(t,e),t=t.sibling}function ay(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ss(t,e),ks(e),n&4){try{mu(3,e,e.return),Sh(3,e)}catch(S){rr(e,e.return,S)}try{mu(5,e,e.return)}catch(S){rr(e,e.return,S)}}break;case 1:ss(t,e),ks(e),n&512&&r!==null&&Fo(r,r.return);break;case 5:if(ss(t,e),ks(e),n&512&&r!==null&&Fo(r,r.return),e.flags&32){var s=e.stateNode;try{Su(s,"")}catch(S){rr(e,e.return,S)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Lv(s,i),zp(o,a);var d=zp(o,i);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?Tv(s,p):f==="dangerouslySetInnerHTML"?Cv(s,p):f==="children"?Su(s,p):o0(s,f,p,d)}switch(o){case"input":Fp(s,i);break;case"textarea":Pv(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Bo(s,!!i.multiple,g,!1):y!==!!i.multiple&&(i.defaultValue!=null?Bo(s,!!i.multiple,i.defaultValue,!0):Bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tu]=i}catch(S){rr(e,e.return,S)}}break;case 6:if(ss(t,e),ks(e),n&4){if(e.stateNode===null)throw Error(Oe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){rr(e,e.return,S)}}break;case 3:if(ss(t,e),ks(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lu(t.containerInfo)}catch(S){rr(e,e.return,S)}break;case 4:ss(t,e),ks(e);break;case 13:ss(t,e),ks(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(U0=ar())),n&4&&z1(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Wr=(d=Wr)||f,ss(t,e),Wr=d):ss(t,e),ks(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Ge=e,f=e.child;f!==null;){for(p=Ge=f;Ge!==null;){switch(y=Ge,g=y.child,y.tag){case 0:case 11:case 14:case 15:mu(4,y,y.return);break;case 1:Fo(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(S){rr(n,r,S)}}break;case 5:Fo(y,y.return);break;case 22:if(y.memoizedState!==null){$1(p);continue}}g!==null?(g.return=y,Ge=g):$1(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Iv("display",a))}catch(S){rr(e,e.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(S){rr(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ss(t,e),ks(e),n&4&&z1(e);break;case 21:break;default:ss(t,e),ks(e)}}function ks(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sy(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Su(s,""),n.flags&=-33);var i=U1(e);vm(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=U1(e);gm(e,o,a);break;default:throw Error(Oe(161))}}catch(u){rr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X4(e,t,r){Ge=e,oy(e)}function oy(e,t,r){for(var n=(e.mode&1)!==0;Ge!==null;){var s=Ge,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||od;if(!a){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Wr;o=od;var d=Wr;if(od=a,(Wr=u)&&!d)for(Ge=s;Ge!==null;)a=Ge,u=a.child,a.tag===22&&a.memoizedState!==null?V1(s):u!==null?(u.return=a,Ge=u):V1(s);for(;i!==null;)Ge=i,oy(i),i=i.sibling;Ge=s,od=o,Wr=d}q1(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ge=i):q1(e)}}function q1(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wr||Sh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ls(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&k1(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}k1(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Lu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Wr||t.flags&512&&mm(t)}catch(y){rr(t,t.return,y)}}if(t===e){Ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ge=r;break}Ge=t.return}}function $1(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ge=r;break}Ge=t.return}}function V1(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sh(4,t)}catch(u){rr(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){rr(t,s,u)}}var i=t.return;try{mm(t)}catch(u){rr(t,i,u)}break;case 5:var a=t.return;try{mm(t)}catch(u){rr(t,a,u)}}}catch(u){rr(t,t.return,u)}if(t===e){Ge=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ge=o;break}Ge=t.return}}var Q4=Math.ceil,nh=ai.ReactCurrentDispatcher,D0=ai.ReactCurrentOwner,Wn=ai.ReactCurrentBatchConfig,kt=0,Er=null,mr=null,Or=0,kn=0,Mo=Xi(0),wr=0,Bu=null,Ca=0,jh=0,B0=0,gu=null,dn=null,U0=0,tl=1/0,Ys=null,sh=!1,ym=null,qi=null,ld=!1,Ri=null,ih=0,vu=0,xm=null,Ad=-1,Ld=0;function en(){return kt&6?ar():Ad!==-1?Ad:Ad=ar()}function $i(e){return e.mode&1?kt&2&&Or!==0?Or&-Or:O4.transition!==null?(Ld===0&&(Ld=Wv()),Ld):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:Qv(e.type)),e):1}function ps(e,t,r,n){if(50<vu)throw vu=0,xm=null,Error(Oe(185));Hu(e,r,n),(!(kt&2)||e!==Er)&&(e===Er&&(!(kt&2)&&(jh|=r),wr===4&&Ci(e,Or)),gn(e,n),r===1&&kt===0&&!(t.mode&1)&&(tl=ar()+500,wh&&Qi()))}function gn(e,t){var r=e.callbackNode;Ow(e,t);var n=qd(e,e===Er?Or:0);if(n===0)r!==null&&Zg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zg(r),t===1)e.tag===0?R4(W1.bind(null,e)):v5(W1.bind(null,e)),E4(function(){!(kt&6)&&Qi()}),r=null;else{switch(Hv(n)){case 1:r=h0;break;case 4:r=$v;break;case 16:r=zd;break;case 536870912:r=Vv;break;default:r=zd}r=my(r,ly.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ly(e,t){if(Ad=-1,Ld=0,kt&6)throw Error(Oe(327));var r=e.callbackNode;if(Vo()&&e.callbackNode!==r)return null;var n=qd(e,e===Er?Or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ah(e,n);else{t=n;var s=kt;kt|=2;var i=cy();(Er!==e||Or!==t)&&(Ys=null,tl=ar()+500,Sa(e,t));do try{t3();break}catch(o){uy(e,o)}while(!0);j0(),nh.current=i,kt=s,mr!==null?t=0:(Er=null,Or=0,t=wr)}if(t!==0){if(t===2&&(s=Hp(e),s!==0&&(n=s,t=bm(e,s))),t===1)throw r=Bu,Sa(e,0),Ci(e,n),gn(e,ar()),r;if(t===6)Ci(e,n);else{if(s=e.current.alternate,!(n&30)&&!Z4(s)&&(t=ah(e,n),t===2&&(i=Hp(e),i!==0&&(n=i,t=bm(e,i))),t===1))throw r=Bu,Sa(e,0),Ci(e,n),gn(e,ar()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Oe(345));case 2:ma(e,dn,Ys);break;case 3:if(Ci(e,n),(n&130023424)===n&&(t=U0+500-ar(),10<t)){if(qd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){en(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=em(ma.bind(null,e,dn,Ys),t);break}ma(e,dn,Ys);break;case 4:if(Ci(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-fs(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Q4(n/1960))-n,10<n){e.timeoutHandle=em(ma.bind(null,e,dn,Ys),n);break}ma(e,dn,Ys);break;case 5:ma(e,dn,Ys);break;default:throw Error(Oe(329))}}}return gn(e,ar()),e.callbackNode===r?ly.bind(null,e):null}function bm(e,t){var r=gu;return e.current.memoizedState.isDehydrated&&(Sa(e,t).flags|=256),e=ah(e,t),e!==2&&(t=dn,dn=r,t!==null&&wm(t)),e}function wm(e){dn===null?dn=e:dn.push.apply(dn,e)}function Z4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ms(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t){for(t&=~B0,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fs(t),n=1<<r;e[r]=-1,t&=~n}}function W1(e){if(kt&6)throw Error(Oe(327));Vo();var t=qd(e,0);if(!(t&1))return gn(e,ar()),null;var r=ah(e,t);if(e.tag!==0&&r===2){var n=Hp(e);n!==0&&(t=n,r=bm(e,n))}if(r===1)throw r=Bu,Sa(e,0),Ci(e,t),gn(e,ar()),r;if(r===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ma(e,dn,Ys),gn(e,ar()),null}function z0(e,t){var r=kt;kt|=1;try{return e(t)}finally{kt=r,kt===0&&(tl=ar()+500,wh&&Qi())}}function Ia(e){Ri!==null&&Ri.tag===0&&!(kt&6)&&Vo();var t=kt;kt|=1;var r=Wn.transition,n=Rt;try{if(Wn.transition=null,Rt=1,e)return e()}finally{Rt=n,Wn.transition=r,kt=t,!(kt&6)&&Qi()}}function q0(){kn=Mo.current,Ht(Mo)}function Sa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,P4(r)),mr!==null)for(r=mr.return;r!==null;){var n=r;switch(_0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gd();break;case 3:Zo(),Ht(pn),Ht(Jr),C0();break;case 5:E0(n);break;case 4:Zo();break;case 13:Ht(Yt);break;case 19:Ht(Yt);break;case 10:k0(n.type._context);break;case 22:case 23:q0()}r=r.return}if(Er=e,mr=e=Vi(e.current,null),Or=kn=t,wr=0,Bu=null,B0=jh=Ca=0,dn=gu=null,wa!==null){for(t=0;t<wa.length;t++)if(r=wa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}wa=null}return e}function uy(e,t){do{var r=mr;try{if(j0(),Sd.current=rh,th){for(var n=Xt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}th=!1}if(Ea=0,Lr=br=Xt=null,pu=!1,Fu=0,D0.current=null,r===null||r.return===null){wr=1,Bu=t,mr=null;break}e:{var i=e,a=r.return,o=r,u=t;if(t=Or,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=I1(a);if(g!==null){g.flags&=-257,T1(g,a,o,i,t),g.mode&1&&C1(i,d,t),t=g,u=d;var N=t.updateQueue;if(N===null){var S=new Set;S.add(u),t.updateQueue=S}else N.add(u);break e}else{if(!(t&1)){C1(i,d,t),$0();break e}u=Error(Oe(426))}}else if(Gt&&o.mode&1){var j=I1(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),T1(j,a,o,i,t),N0(el(u,o));break e}}i=u=el(u,o),wr!==4&&(wr=2),gu===null?gu=[i]:gu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=H5(i,u,t);j1(i,x);break e;case 1:o=u;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qi===null||!qi.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var A=G5(i,o,t);j1(i,A);break e}}i=i.return}while(i!==null)}hy(r)}catch(F){t=F,mr===r&&r!==null&&(mr=r=r.return);continue}break}while(!0)}function cy(){var e=nh.current;return nh.current=rh,e===null?rh:e}function $0(){(wr===0||wr===3||wr===2)&&(wr=4),Er===null||!(Ca&268435455)&&!(jh&268435455)||Ci(Er,Or)}function ah(e,t){var r=kt;kt|=2;var n=cy();(Er!==e||Or!==t)&&(Ys=null,Sa(e,t));do try{e3();break}catch(s){uy(e,s)}while(!0);if(j0(),kt=r,nh.current=n,mr!==null)throw Error(Oe(261));return Er=null,Or=0,wr}function e3(){for(;mr!==null;)dy(mr)}function t3(){for(;mr!==null&&!kw();)dy(mr)}function dy(e){var t=py(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?hy(e):mr=t,D0.current=null}function hy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=J4(r,t),r!==null){r.flags&=32767,mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wr=6,mr=null;return}}else if(r=G4(r,t,kn),r!==null){mr=r;return}if(t=t.sibling,t!==null){mr=t;return}mr=t=e}while(t!==null);wr===0&&(wr=5)}function ma(e,t,r){var n=Rt,s=Wn.transition;try{Wn.transition=null,Rt=1,r3(e,t,r,n)}finally{Wn.transition=s,Rt=n}return null}function r3(e,t,r,n){do Vo();while(Ri!==null);if(kt&6)throw Error(Oe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Fw(e,i),e===Er&&(mr=Er=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ld||(ld=!0,my(zd,function(){return Vo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wn.transition,Wn.transition=null;var a=Rt;Rt=1;var o=kt;kt|=4,D0.current=null,Y4(e,r),ay(r,e),_4(Qp),$d=!!Xp,Qp=Xp=null,e.current=r,X4(r),Aw(),kt=o,Rt=a,Wn.transition=i}else e.current=r;if(ld&&(ld=!1,Ri=e,ih=s),i=e.pendingLanes,i===0&&(qi=null),Ew(r.stateNode),gn(e,ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(sh)throw sh=!1,e=ym,ym=null,e;return ih&1&&e.tag!==0&&Vo(),i=e.pendingLanes,i&1?e===xm?vu++:(vu=0,xm=e):vu=0,Qi(),null}function Vo(){if(Ri!==null){var e=Hv(ih),t=Wn.transition,r=Rt;try{if(Wn.transition=null,Rt=16>e?16:e,Ri===null)var n=!1;else{if(e=Ri,Ri=null,ih=0,kt&6)throw Error(Oe(331));var s=kt;for(kt|=4,Ge=e.current;Ge!==null;){var i=Ge,a=i.child;if(Ge.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var d=o[u];for(Ge=d;Ge!==null;){var f=Ge;switch(f.tag){case 0:case 11:case 15:mu(8,f,i)}var p=f.child;if(p!==null)p.return=f,Ge=p;else for(;Ge!==null;){f=Ge;var y=f.sibling,g=f.return;if(ny(f),f===d){Ge=null;break}if(y!==null){y.return=g,Ge=y;break}Ge=g}}}var N=i.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}Ge=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ge=a;else e:for(;Ge!==null;){if(i=Ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ge=x;break e}Ge=i.return}}var w=e.current;for(Ge=w;Ge!==null;){a=Ge;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Ge=b;else e:for(a=w;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sh(9,o)}}catch(F){rr(o,o.return,F)}if(o===a){Ge=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Ge=A;break e}Ge=o.return}}if(kt=s,Qi(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(gh,e)}catch{}n=!0}return n}finally{Rt=r,Wn.transition=t}}return!1}function H1(e,t,r){t=el(r,t),t=H5(e,t,1),e=zi(e,t,1),t=en(),e!==null&&(Hu(e,1,t),gn(e,t))}function rr(e,t,r){if(e.tag===3)H1(e,e,r);else for(;t!==null;){if(t.tag===3){H1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qi===null||!qi.has(n))){e=el(r,e),e=G5(t,e,1),t=zi(t,e,1),e=en(),t!==null&&(Hu(t,1,e),gn(t,e));break}}t=t.return}}function n3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&r,Er===e&&(Or&r)===r&&(wr===4||wr===3&&(Or&130023424)===Or&&500>ar()-U0?Sa(e,0):B0|=r),gn(e,t)}function fy(e,t){t===0&&(e.mode&1?(t=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):t=1);var r=en();e=si(e,t),e!==null&&(Hu(e,t,r),gn(e,r))}function s3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fy(e,r)}function i3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(t),fy(e,r)}var py;py=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pn.current)fn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fn=!1,H4(e,t,r);fn=!!(e.flags&131072)}else fn=!1,Gt&&t.flags&1048576&&y5(t,Yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kd(e,t),e=t.pendingProps;var s=Yo(t,Jr.current);$o(t,r),s=T0(null,t,n,e,s,r);var i=R0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(n)?(i=!0,Jd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,L0(t),s.updater=Nh,t.stateNode=s,s._reactInternals=t,om(t,n,e,r),t=cm(null,t,n,!0,i,r)):(t.tag=0,Gt&&i&&w0(t),Zr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=o3(n),e=ls(n,e),s){case 0:t=um(null,t,n,e,r);break e;case 1:t=F1(null,t,n,e,r);break e;case 11:t=R1(null,t,n,e,r);break e;case 14:t=O1(null,t,n,ls(n.type,e),r);break e}throw Error(Oe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ls(n,s),um(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ls(n,s),F1(e,t,n,s,r);case 3:e:{if(X5(t),e===null)throw Error(Oe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,S5(e,t),Zd(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=el(Error(Oe(423)),t),t=M1(e,t,n,r,s);break e}else if(n!==s){s=el(Error(Oe(424)),t),t=M1(e,t,n,r,s);break e}else for(An=Ui(t.stateNode.containerInfo.firstChild),Pn=t,Gt=!0,hs=null,r=_5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xo(),n===s){t=ii(e,t,r);break e}Zr(e,t,n,r)}t=t.child}return t;case 5:return j5(t),e===null&&sm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Zp(n,s)?a=null:i!==null&&Zp(n,i)&&(t.flags|=32),Y5(e,t),Zr(e,t,a,r),t.child;case 6:return e===null&&sm(t),null;case 13:return Q5(e,t,r);case 4:return P0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qo(t,null,n,r):Zr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ls(n,s),R1(e,t,n,s,r);case 7:return Zr(e,t,t.pendingProps,r),t.child;case 8:return Zr(e,t,t.pendingProps.children,r),t.child;case 12:return Zr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,$t(Xd,n._currentValue),n._currentValue=a,i!==null)if(ms(i.value,a)){if(i.children===s.children&&!pn.current){t=ii(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=ti(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),im(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Oe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),im(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Zr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$o(t,r),s=Gn(s),n=n(s),t.flags|=1,Zr(e,t,n,r),t.child;case 14:return n=t.type,s=ls(n,t.pendingProps),s=ls(n.type,s),O1(e,t,n,s,r);case 15:return J5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ls(n,s),kd(e,t),t.tag=1,mn(n)?(e=!0,Jd(t)):e=!1,$o(t,r),W5(t,n,s),om(t,n,s,r),cm(null,t,n,!0,e,r);case 19:return Z5(e,t,r);case 22:return K5(e,t,r)}throw Error(Oe(156,t.tag))};function my(e,t){return qv(e,t)}function a3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,t,r,n){return new a3(e,t,r,n)}function V0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o3(e){if(typeof e=="function")return V0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===u0)return 11;if(e===c0)return 14}return 2}function Vi(e,t){var r=e.alternate;return r===null?(r=Vn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pd(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")V0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ao:return ja(r.children,s,i,t);case l0:a=8,s|=8;break;case Cp:return e=Vn(12,r,t,s|2),e.elementType=Cp,e.lanes=i,e;case Ip:return e=Vn(13,r,t,s),e.elementType=Ip,e.lanes=i,e;case Tp:return e=Vn(19,r,t,s),e.elementType=Tp,e.lanes=i,e;case jv:return kh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nv:a=10;break e;case Sv:a=9;break e;case u0:a=11;break e;case c0:a=14;break e;case Li:a=16,n=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=Vn(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ja(e,t,r,n){return e=Vn(7,e,n,t),e.lanes=r,e}function kh(e,t,r,n){return e=Vn(22,e,n,t),e.elementType=jv,e.lanes=r,e.stateNode={isHidden:!1},e}function ip(e,t,r){return e=Vn(6,e,null,t),e.lanes=r,e}function ap(e,t,r){return t=Vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uf(0),this.expirationTimes=Uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function W0(e,t,r,n,s,i,a,o,u){return e=new l3(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},L0(i),e}function u3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gy(e){if(!e)return Gi;e=e._reactInternals;e:{if(Oa(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var r=e.type;if(mn(r))return g5(e,r,t)}return t}function vy(e,t,r,n,s,i,a,o,u){return e=W0(r,n,!0,e,s,i,a,o,u),e.context=gy(null),r=e.current,n=en(),s=$i(r),i=ti(n,s),i.callback=t??null,zi(r,i,s),e.current.lanes=s,Hu(e,s,n),gn(e,n),e}function Ah(e,t,r,n){var s=t.current,i=en(),a=$i(s);return r=gy(r),t.context===null?t.context=r:t.pendingContext=r,t=ti(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zi(s,t,a),e!==null&&(ps(e,s,a,i),Nd(e,s,a)),a}function oh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function H0(e,t){G1(e,t),(e=e.alternate)&&G1(e,t)}function c3(){return null}var yy=typeof reportError=="function"?reportError:function(e){console.error(e)};function G0(e){this._internalRoot=e}Lh.prototype.render=G0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));Ah(e,t,null,null)};Lh.prototype.unmount=G0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ia(function(){Ah(null,e,null,null)}),t[ni]=null}};function Lh(e){this._internalRoot=e}Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ei.length&&t!==0&&t<Ei[r].priority;r++);Ei.splice(r,0,e),r===0&&Xv(e)}};function J0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function J1(){}function d3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=oh(a);i.call(d)}}var a=vy(t,n,e,0,null,!1,!1,"",J1);return e._reactRootContainer=a,e[ni]=a.current,Cu(e.nodeType===8?e.parentNode:e),Ia(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var d=oh(u);o.call(d)}}var u=W0(e,0,!1,null,null,!1,!1,"",J1);return e._reactRootContainer=u,e[ni]=u.current,Cu(e.nodeType===8?e.parentNode:e),Ia(function(){Ah(t,u,r,n)}),u}function Eh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var u=oh(a);o.call(u)}}Ah(t,a,e,s)}else a=d3(r,t,e,s,n);return oh(a)}Gv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=iu(t.pendingLanes);r!==0&&(f0(t,r|1),gn(t,ar()),!(kt&6)&&(tl=ar()+500,Qi()))}break;case 13:Ia(function(){var n=si(e,1);if(n!==null){var s=en();ps(n,e,1,s)}}),H0(e,1)}};p0=function(e){if(e.tag===13){var t=si(e,134217728);if(t!==null){var r=en();ps(t,e,134217728,r)}H0(e,134217728)}};Jv=function(e){if(e.tag===13){var t=$i(e),r=si(e,t);if(r!==null){var n=en();ps(r,e,t,n)}H0(e,t)}};Kv=function(){return Rt};Yv=function(e,t){var r=Rt;try{return Rt=e,t()}finally{Rt=r}};$p=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bh(n);if(!s)throw Error(Oe(90));Av(n),Fp(n,s)}}}break;case"textarea":Pv(e,r);break;case"select":t=r.value,t!=null&&Bo(e,!!r.multiple,t,!1)}};Fv=z0;Mv=Ia;var h3={usingClientEntryPoint:!1,Events:[Ju,Co,bh,Rv,Ov,z0]},Xl={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f3={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uv(e),e===null?null:e.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||c3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{gh=ud.inject(f3),Ts=ud}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h3;Cn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J0(t))throw Error(Oe(200));return u3(e,t,null,r)};Cn.createRoot=function(e,t){if(!J0(e))throw Error(Oe(299));var r=!1,n="",s=yy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=W0(e,1,!1,null,null,r,!1,n,s),e[ni]=t.current,Cu(e.nodeType===8?e.parentNode:e),new G0(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=Uv(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return Ia(e)};Cn.hydrate=function(e,t,r){if(!Ph(t))throw Error(Oe(200));return Eh(null,e,t,!0,r)};Cn.hydrateRoot=function(e,t,r){if(!J0(e))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=yy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=vy(t,null,e,1,r??null,s,!1,i,a),e[ni]=t.current,Cu(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Lh(t)};Cn.render=function(e,t,r){if(!Ph(t))throw Error(Oe(200));return Eh(null,e,t,!1,r)};Cn.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(Oe(40));return e._reactRootContainer?(Ia(function(){Eh(null,null,e,!1,function(){e._reactRootContainer=null,e[ni]=null})}),!0):!1};Cn.unstable_batchedUpdates=z0;Cn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ph(r))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return Eh(e,t,r,!1,n)};Cn.version="18.3.1-next-f1338f8080-20240426";function xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xy)}catch(e){console.error(e)}}xy(),xv.exports=Cn;var p3=xv.exports,by,K1=p3;by=K1.createRoot,K1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uu.apply(this,arguments)}var Oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oi||(Oi={}));const Y1="popstate";function m3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return _m("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:lh(s)}return v3(t,r,null,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g3(){return Math.random().toString(36).substr(2,8)}function X1(e,t){return{usr:e.state,key:e.key,idx:t}}function _m(e,t,r,n){return r===void 0&&(r=null),Uu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ll(t):t,{state:r,key:t&&t.key||n||g3()})}function lh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Oi.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(Uu({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){o=Oi.Pop;let j=f(),x=j==null?null:j-d;d=j,u&&u({action:o,location:S.location,delta:x})}function y(j,x){o=Oi.Push;let w=_m(S.location,j,x);d=f()+1;let b=X1(w,d),A=S.createHref(w);try{a.pushState(b,"",A)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(A)}i&&u&&u({action:o,location:S.location,delta:1})}function g(j,x){o=Oi.Replace;let w=_m(S.location,j,x);d=f();let b=X1(w,d),A=S.createHref(w);a.replaceState(b,"",A),i&&u&&u({action:o,location:S.location,delta:0})}function N(j){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof j=="string"?j:lh(j);return w=w.replace(/ $/,"%20"),cr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let S={get action(){return o},get location(){return e(s,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Y1,p),u=j,()=>{s.removeEventListener(Y1,p),u=null}},createHref(j){return t(s,j)},createURL:N,encodeLocation(j){let x=N(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:g,go(j){return a.go(j)}};return S}var Q1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q1||(Q1={}));function y3(e,t,r){return r===void 0&&(r="/"),x3(e,t,r)}function x3(e,t,r,n){let s=typeof t=="string"?ll(t):t,i=K0(s.pathname||"/",r);if(i==null)return null;let a=_y(e);b3(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let d=I3(i);o=P3(a[u],d)}return o}function _y(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let u={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(cr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=Wi([n,u.relativePath]),f=r.concat(u);i.children&&i.children.length>0&&(cr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_y(i.children,t,f,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:A3(d,i.index),routesMeta:f})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let u of Ny(i.path))s(i,a,u)}),t}function Ny(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Ny(n.join("/")),o=[];return o.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function b3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:L3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const w3=/^:[\w-]+$/,_3=3,N3=2,S3=1,j3=10,k3=-2,Z1=e=>e==="*";function A3(e,t){let r=e.split("/"),n=r.length;return r.some(Z1)&&(n+=k3),t&&(n+=N3),r.filter(s=>!Z1(s)).reduce((s,i)=>s+(w3.test(i)?_3:i===""?S3:j3),n)}function L3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function P3(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],d=o===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",p=E3({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),y=u.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Wi([i,p.pathname]),pathnameBase:F3(Wi([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=Wi([i,p.pathnameBase]))}return a}function E3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((d,f,p)=>{let{paramName:y,isOptional:g}=f;if(y==="*"){let S=o[p]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const N=o[p];return g&&!N?d[y]=void 0:d[y]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function C3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function I3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function K0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function T3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ll(e):e;return{pathname:r?r.startsWith("/")?r:R3(r,t):t,search:M3(n),hash:D3(s)}}function R3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function op(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Y0(e,t){let r=O3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function X0(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ll(e):(s=Uu({},e),cr(!s.pathname||!s.pathname.includes("?"),op("?","pathname","search",s)),cr(!s.pathname||!s.pathname.includes("#"),op("#","pathname","hash",s)),cr(!s.search||!s.search.includes("#"),op("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let p=t.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;s.pathname=y.join("/")}o=p>=0?t[p]:"/"}let u=T3(s,o),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Wi=e=>e.join("/").replace(/\/\/+/g,"/"),F3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sy=["post","put","patch","delete"];new Set(Sy);const U3=["get",...Sy];new Set(U3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(this,arguments)}const Q0=T.createContext(null),z3=T.createContext(null),Zi=T.createContext(null),Ch=T.createContext(null),oi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),jy=T.createContext(null);function q3(e,t){let{relative:r}=t===void 0?{}:t;ul()||cr(!1);let{basename:n,navigator:s}=T.useContext(Zi),{hash:i,pathname:a,search:o}=Ay(e,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:Wi([n,a])),s.createHref({pathname:u,search:o,hash:i})}function ul(){return T.useContext(Ch)!=null}function li(){return ul()||cr(!1),T.useContext(Ch).location}function ky(e){T.useContext(Zi).static||T.useLayoutEffect(e)}function nn(){let{isDataRoute:e}=T.useContext(oi);return e?n_():$3()}function $3(){ul()||cr(!1);let e=T.useContext(Q0),{basename:t,future:r,navigator:n}=T.useContext(Zi),{matches:s}=T.useContext(oi),{pathname:i}=li(),a=JSON.stringify(Y0(s,r.v7_relativeSplatPath)),o=T.useRef(!1);return ky(()=>{o.current=!0}),T.useCallback(function(d,f){if(f===void 0&&(f={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let p=X0(d,JSON.parse(a),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wi([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,i,e])}const V3=T.createContext(null);function W3(e){let t=T.useContext(oi).outlet;return t&&T.createElement(V3.Provider,{value:e},t)}function Ay(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=T.useContext(Zi),{matches:s}=T.useContext(oi),{pathname:i}=li(),a=JSON.stringify(Y0(s,n.v7_relativeSplatPath));return T.useMemo(()=>X0(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function H3(e,t){return G3(e,t)}function G3(e,t,r,n){ul()||cr(!1);let{navigator:s}=T.useContext(Zi),{matches:i}=T.useContext(oi),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=li(),f;if(t){var p;let j=typeof t=="string"?ll(t):t;u==="/"||(p=j.pathname)!=null&&p.startsWith(u)||cr(!1),f=j}else f=d;let y=f.pathname||"/",g=y;if(u!=="/"){let j=u.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=y3(e,{pathname:g}),S=Q3(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Wi([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Wi([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&S?T.createElement(Ch.Provider,{value:{location:zu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Oi.Pop}},S):S}function J3(){let e=r_(),t=B3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),r?T.createElement("pre",{style:s},r):null,null)}const K3=T.createElement(J3,null);class Y3 extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?T.createElement(oi.Provider,{value:this.props.routeContext},T.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X3(e){let{routeContext:t,match:r,children:n}=e,s=T.useContext(Q0);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(oi.Provider,{value:t},n)}function Q3(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let f=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||cr(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:y,errors:g}=r,N=p.route.loader&&y[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||N){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let g,N=!1,S=null,j=null;r&&(g=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||K3,u&&(d<0&&y===0?(s_("route-fallback"),N=!0,j=null):d===y&&(N=!0,j=p.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,y+1)),w=()=>{let b;return g?b=S:N?b=j:p.route.Component?b=T.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,T.createElement(X3,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:b})};return r&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?T.createElement(Y3,{location:r.location,revalidation:r.revalidation,component:S,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var Ly=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ly||{}),Py=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Py||{});function Z3(e){let t=T.useContext(Q0);return t||cr(!1),t}function e_(e){let t=T.useContext(z3);return t||cr(!1),t}function t_(e){let t=T.useContext(oi);return t||cr(!1),t}function Ey(e){let t=t_(),r=t.matches[t.matches.length-1];return r.route.id||cr(!1),r.route.id}function r_(){var e;let t=T.useContext(jy),r=e_(),n=Ey();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function n_(){let{router:e}=Z3(Ly.UseNavigateStable),t=Ey(Py.UseNavigateStable),r=T.useRef(!1);return ky(()=>{r.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zu({fromRouteId:t},i)))},[e,t])}const e2={};function s_(e,t,r){e2[e]||(e2[e]=!0)}function i_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cy(e){let{to:t,replace:r,state:n,relative:s}=e;ul()||cr(!1);let{future:i,static:a}=T.useContext(Zi),{matches:o}=T.useContext(oi),{pathname:u}=li(),d=nn(),f=X0(t,Y0(o,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(f);return T.useEffect(()=>d(JSON.parse(p),{replace:r,state:n,relative:s}),[d,p,s,r,n]),null}function a_(e){return W3(e.context)}function Kt(e){cr(!1)}function o_(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Oi.Pop,navigator:i,static:a=!1,future:o}=e;ul()&&cr(!1);let u=t.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:u,navigator:i,static:a,future:zu({v7_relativeSplatPath:!1},o)}),[u,o,i,a]);typeof n=="string"&&(n=ll(n));let{pathname:f="/",search:p="",hash:y="",state:g=null,key:N="default"}=n,S=T.useMemo(()=>{let j=K0(f,u);return j==null?null:{location:{pathname:j,search:p,hash:y,state:g,key:N},navigationType:s}},[u,f,p,y,g,N,s]);return S==null?null:T.createElement(Zi.Provider,{value:d},T.createElement(Ch.Provider,{children:r,value:S}))}function l_(e){let{children:t,location:r}=e;return H3(Nm(t),r)}new Promise(()=>{});function Nm(e,t){t===void 0&&(t=[]);let r=[];return T.Children.forEach(e,(n,s)=>{if(!T.isValidElement(n))return;let i=[...t,s];if(n.type===T.Fragment){r.push.apply(r,Nm(n.props.children,i));return}n.type!==Kt&&cr(!1),!n.props.index||!n.props.children||cr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Nm(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sm.apply(this,arguments)}function u_(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function c_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d_(e,t){return e.button===0&&(!t||t==="_self")&&!c_(e)}function jm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function h_(e,t){let r=jm(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const f_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p_="6";try{window.__reactRouterVersion=p_}catch{}const m_="startTransition",t2=nw[m_];function g_(e){let{basename:t,children:r,future:n,window:s}=e,i=T.useRef();i.current==null&&(i.current=m3({window:s,v5Compat:!0}));let a=i.current,[o,u]=T.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},f=T.useCallback(p=>{d&&t2?t2(()=>u(p)):u(p)},[u,d]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.useEffect(()=>i_(n),[n]),T.createElement(o_,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const v_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rl=T.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:u,to:d,preventScrollReset:f,viewTransition:p}=t,y=u_(t,f_),{basename:g}=T.useContext(Zi),N,S=!1;if(typeof d=="string"&&y_.test(d)&&(N=d,v_))try{let b=new URL(window.location.href),A=d.startsWith("//")?new URL(b.protocol+d):new URL(d),F=K0(A.pathname,g);A.origin===b.origin&&F!=null?d=F+A.search+A.hash:S=!0}catch{}let j=q3(d,{relative:s}),x=x_(d,{replace:a,state:o,target:u,preventScrollReset:f,relative:s,viewTransition:p});function w(b){n&&n(b),b.defaultPrevented||x(b)}return T.createElement("a",Sm({},y,{href:N||j,onClick:S||i?n:w,ref:r,target:u}))});var r2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r2||(r2={}));var n2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n2||(n2={}));function x_(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,u=nn(),d=li(),f=Ay(e,{relative:a});return T.useCallback(p=>{if(d_(p,r)){p.preventDefault();let y=n!==void 0?n:lh(d)===lh(f);u(e,{replace:y,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,u,f,n,s,r,e,i,a,o])}function h8(e){let t=T.useRef(jm(e)),r=T.useRef(!1),n=li(),s=T.useMemo(()=>h_(n.search,r.current?null:t.current),[n.search]),i=nn(),a=T.useCallback((o,u)=>{const d=jm(typeof o=="function"?o(s):o);r.current=!0,i("?"+d,u)},[i,s]);return[s,a]}function Iy(e,t){return function(){return e.apply(t,arguments)}}const{toString:b_}=Object.prototype,{getPrototypeOf:Z0}=Object,{iterator:Ih,toStringTag:Ty}=Symbol,Th=(e=>t=>{const r=b_.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gs=e=>(e=e.toLowerCase(),t=>Th(t)===e),Rh=e=>t=>typeof t===e,{isArray:cl}=Array,qu=Rh("undefined");function Yu(e){return e!==null&&!qu(e)&&e.constructor!==null&&!qu(e.constructor)&&vn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ry=gs("ArrayBuffer");function w_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ry(e.buffer),t}const __=Rh("string"),vn=Rh("function"),Oy=Rh("number"),Xu=e=>e!==null&&typeof e=="object",N_=e=>e===!0||e===!1,Ed=e=>{if(Th(e)!=="object")return!1;const t=Z0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ty in e)&&!(Ih in e)},S_=e=>{if(!Xu(e)||Yu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},j_=gs("Date"),k_=gs("File"),A_=gs("Blob"),L_=gs("FileList"),P_=e=>Xu(e)&&vn(e.pipe),E_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vn(e.append)&&((t=Th(e))==="formdata"||t==="object"&&vn(e.toString)&&e.toString()==="[object FormData]"))},C_=gs("URLSearchParams"),[I_,T_,R_,O_]=["ReadableStream","Request","Response","Headers"].map(gs),F_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),cl(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Yu(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(n=0;n<a;n++)o=i[n],t.call(null,e[o],o,e)}}function Fy(e,t){if(Yu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,My=e=>!qu(e)&&e!==Na;function km(){const{caseless:e}=My(this)&&this||{},t={},r=(n,s)=>{const i=e&&Fy(t,s)||s;Ed(t[i])&&Ed(n)?t[i]=km(t[i],n):Ed(n)?t[i]=km({},n):cl(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Qu(arguments[n],r);return t}const M_=(e,t,r,{allOwnKeys:n}={})=>(Qu(t,(s,i)=>{r&&vn(s)?e[i]=Iy(s,r):e[i]=s},{allOwnKeys:n}),e),D_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),B_=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},U_=(e,t,r,n)=>{let s,i,a;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&Z0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},z_=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},q_=e=>{if(!e)return null;if(cl(e))return e;let t=e.length;if(!Oy(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},$_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Z0(Uint8Array)),V_=(e,t)=>{const n=(e&&e[Ih]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},W_=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},H_=gs("HTMLFormElement"),G_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),s2=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),J_=gs("RegExp"),Dy=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Qu(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},K_=e=>{Dy(e,(t,r)=>{if(vn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(vn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Y_=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return cl(e)?n(e):n(String(e).split(t)),r},X_=()=>{},Q_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Z_(e){return!!(e&&vn(e.append)&&e[Ty]==="FormData"&&e[Ih])}const eN=e=>{const t=new Array(10),r=(n,s)=>{if(Xu(n)){if(t.indexOf(n)>=0)return;if(Yu(n))return n;if(!("toJSON"in n)){t[s]=n;const i=cl(n)?[]:{};return Qu(n,(a,o)=>{const u=r(a,s+1);!qu(u)&&(i[o]=u)}),t[s]=void 0,i}}return n};return r(e,0)},tN=gs("AsyncFunction"),rN=e=>e&&(Xu(e)||vn(e))&&vn(e.then)&&vn(e.catch),By=((e,t)=>e?setImmediate:t?((r,n)=>(Na.addEventListener("message",({source:s,data:i})=>{s===Na&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Na.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",vn(Na.postMessage)),nN=typeof queueMicrotask<"u"?queueMicrotask.bind(Na):typeof process<"u"&&process.nextTick||By,sN=e=>e!=null&&vn(e[Ih]),be={isArray:cl,isArrayBuffer:Ry,isBuffer:Yu,isFormData:E_,isArrayBufferView:w_,isString:__,isNumber:Oy,isBoolean:N_,isObject:Xu,isPlainObject:Ed,isEmptyObject:S_,isReadableStream:I_,isRequest:T_,isResponse:R_,isHeaders:O_,isUndefined:qu,isDate:j_,isFile:k_,isBlob:A_,isRegExp:J_,isFunction:vn,isStream:P_,isURLSearchParams:C_,isTypedArray:$_,isFileList:L_,forEach:Qu,merge:km,extend:M_,trim:F_,stripBOM:D_,inherits:B_,toFlatObject:U_,kindOf:Th,kindOfTest:gs,endsWith:z_,toArray:q_,forEachEntry:V_,matchAll:W_,isHTMLForm:H_,hasOwnProperty:s2,hasOwnProp:s2,reduceDescriptors:Dy,freezeMethods:K_,toObjectSet:Y_,toCamelCase:G_,noop:X_,toFiniteNumber:Q_,findKey:Fy,global:Na,isContextDefined:My,isSpecCompliantForm:Z_,toJSONObject:eN,isAsyncFn:tN,isThenable:rN,setImmediate:By,asap:nN,isIterable:sN};function yt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}be.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const Uy=yt.prototype,zy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zy[e]={value:e}});Object.defineProperties(yt,zy);Object.defineProperty(Uy,"isAxiosError",{value:!0});yt.from=(e,t,r,n,s,i)=>{const a=Object.create(Uy);return be.toFlatObject(e,a,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),yt.call(a,e.message,t,r,n,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const iN=null;function Am(e){return be.isPlainObject(e)||be.isArray(e)}function qy(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function i2(e,t,r){return e?e.concat(t).map(function(s,i){return s=qy(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function aN(e){return be.isArray(e)&&!e.some(Am)}const oN=be.toFlatObject(be,{},null,function(t){return/^is[A-Z]/.test(t)});function Oh(e,t,r){if(!be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,j){return!be.isUndefined(j[S])});const n=r.metaTokens,s=r.visitor||f,i=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(t);if(!be.isFunction(s))throw new TypeError("visitor must be a function");function d(N){if(N===null)return"";if(be.isDate(N))return N.toISOString();if(be.isBoolean(N))return N.toString();if(!u&&be.isBlob(N))throw new yt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(N)||be.isTypedArray(N)?u&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function f(N,S,j){let x=N;if(N&&!j&&typeof N=="object"){if(be.endsWith(S,"{}"))S=n?S:S.slice(0,-2),N=JSON.stringify(N);else if(be.isArray(N)&&aN(N)||(be.isFileList(N)||be.endsWith(S,"[]"))&&(x=be.toArray(N)))return S=qy(S),x.forEach(function(b,A){!(be.isUndefined(b)||b===null)&&t.append(a===!0?i2([S],A,i):a===null?S:S+"[]",d(b))}),!1}return Am(N)?!0:(t.append(i2(j,S,i),d(N)),!1)}const p=[],y=Object.assign(oN,{defaultVisitor:f,convertValue:d,isVisitable:Am});function g(N,S){if(!be.isUndefined(N)){if(p.indexOf(N)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(N),be.forEach(N,function(x,w){(!(be.isUndefined(x)||x===null)&&s.call(t,x,be.isString(w)?w.trim():w,S,y))===!0&&g(x,S?S.concat(w):[w])}),p.pop()}}if(!be.isObject(e))throw new TypeError("data must be an object");return g(e),t}function a2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function eg(e,t){this._pairs=[],e&&Oh(e,this,t)}const $y=eg.prototype;$y.append=function(t,r){this._pairs.push([t,r])};$y.toString=function(t){const r=t?function(n){return t.call(this,n,a2)}:a2;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function lN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vy(e,t,r){if(!t)return e;const n=r&&r.encode||lN;be.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=be.isURLSearchParams(t)?t.toString():new eg(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class o2{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){be.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Wy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uN=typeof URLSearchParams<"u"?URLSearchParams:eg,cN=typeof FormData<"u"?FormData:null,dN=typeof Blob<"u"?Blob:null,hN={isBrowser:!0,classes:{URLSearchParams:uN,FormData:cN,Blob:dN},protocols:["http","https","file","blob","url","data"]},tg=typeof window<"u"&&typeof document<"u",Lm=typeof navigator=="object"&&navigator||void 0,fN=tg&&(!Lm||["ReactNative","NativeScript","NS"].indexOf(Lm.product)<0),pN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mN=tg&&window.location.href||"http://localhost",gN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tg,hasStandardBrowserEnv:fN,hasStandardBrowserWebWorkerEnv:pN,navigator:Lm,origin:mN},Symbol.toStringTag,{value:"Module"})),Hr={...gN,...hN};function vN(e,t){return Oh(e,new Hr.classes.URLSearchParams,{visitor:function(r,n,s,i){return Hr.isNode&&be.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function yN(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xN(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Hy(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=i>=r.length;return a=!a&&be.isArray(s)?s.length:a,u?(be.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!be.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&be.isArray(s[a])&&(s[a]=xN(s[a])),!o)}if(be.isFormData(e)&&be.isFunction(e.entries)){const r={};return be.forEachEntry(e,(n,s)=>{t(yN(n),s,r,0)}),r}return null}function bN(e,t,r){if(be.isString(e))try{return(t||JSON.parse)(e),be.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Zu={transitional:Wy,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=be.isObject(t);if(i&&be.isHTMLForm(t)&&(t=new FormData(t)),be.isFormData(t))return s?JSON.stringify(Hy(t)):t;if(be.isArrayBuffer(t)||be.isBuffer(t)||be.isStream(t)||be.isFile(t)||be.isBlob(t)||be.isReadableStream(t))return t;if(be.isArrayBufferView(t))return t.buffer;if(be.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return vN(t,this.formSerializer).toString();if((o=be.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Oh(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),bN(t)):t}],transformResponse:[function(t){const r=this.transitional||Zu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(be.isResponse(t)||be.isReadableStream(t))return t;if(t&&be.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?yt.from(o,yt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hr.classes.FormData,Blob:Hr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],e=>{Zu.headers[e]={}});const wN=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_N=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&wN[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},l2=Symbol("internals");function Ql(e){return e&&String(e).trim().toLowerCase()}function Cd(e){return e===!1||e==null?e:be.isArray(e)?e.map(Cd):String(e)}function NN(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const SN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lp(e,t,r,n,s){if(be.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!be.isString(t)){if(be.isString(n))return t.indexOf(n)!==-1;if(be.isRegExp(n))return n.test(t)}}function jN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function kN(e,t){const r=be.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}let yn=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(o,u,d){const f=Ql(u);if(!f)throw new Error("header name must be a non-empty string");const p=be.findKey(s,f);(!p||s[p]===void 0||d===!0||d===void 0&&s[p]!==!1)&&(s[p||u]=Cd(o))}const a=(o,u)=>be.forEach(o,(d,f)=>i(d,f,u));if(be.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(be.isString(t)&&(t=t.trim())&&!SN(t))a(_N(t),r);else if(be.isObject(t)&&be.isIterable(t)){let o={},u,d;for(const f of t){if(!be.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(u=o[d])?be.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Ql(t),t){const n=be.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return NN(s);if(be.isFunction(r))return r.call(this,s,n);if(be.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ql(t),t){const n=be.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||lp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(a){if(a=Ql(a),a){const o=be.findKey(n,a);o&&(!r||lp(n,n[o],o,r))&&(delete n[o],s=!0)}}return be.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||lp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return be.forEach(this,(s,i)=>{const a=be.findKey(n,i);if(a){r[a]=Cd(s),delete r[i];return}const o=t?jN(i):String(i).trim();o!==i&&delete r[i],r[o]=Cd(s),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return be.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&be.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[l2]=this[l2]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=Ql(a);n[o]||(kN(s,a),n[o]=!0)}return be.isArray(t)?t.forEach(i):i(t),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(yn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});be.freezeMethods(yn);function up(e,t){const r=this||Zu,n=t||r,s=yn.from(n.headers);let i=n.data;return be.forEach(e,function(o){i=o.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Gy(e){return!!(e&&e.__CANCEL__)}function dl(e,t,r){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,r),this.name="CanceledError"}be.inherits(dl,yt,{__CANCEL__:!0});function Jy(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new yt("Request failed with status code "+r.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function AN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LN(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=n[i];a||(a=d),r[s]=u,n[s]=d;let p=i,y=0;for(;p!==s;)y+=r[p++],p=p%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-a<t)return;const g=f&&d-f;return g?Math.round(y*1e3/g):void 0}}function PN(e,t){let r=0,n=1e3/t,s,i;const a=(d,f=Date.now())=>{r=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),p=f-r;p>=n?a(d,f):(s=d,i||(i=setTimeout(()=>{i=null,a(s)},n-p)))},()=>s&&a(s)]}const uh=(e,t,r=3)=>{let n=0;const s=LN(50,250);return PN(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,d=s(u),f=a<=o;n=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:d||void 0,estimated:d&&o&&f?(o-a)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(p)},r)},u2=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},c2=e=>(...t)=>be.asap(()=>e(...t)),EN=Hr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Hr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Hr.origin),Hr.navigator&&/(msie|trident)/i.test(Hr.navigator.userAgent)):()=>!0,CN=Hr.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const a=[e+"="+encodeURIComponent(t)];be.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),be.isString(n)&&a.push("path="+n),be.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function TN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ky(e,t,r){let n=!IN(t);return e&&(n||r==!1)?TN(e,t):t}const d2=e=>e instanceof yn?{...e}:e;function Ta(e,t){t=t||{};const r={};function n(d,f,p,y){return be.isPlainObject(d)&&be.isPlainObject(f)?be.merge.call({caseless:y},d,f):be.isPlainObject(f)?be.merge({},f):be.isArray(f)?f.slice():f}function s(d,f,p,y){if(be.isUndefined(f)){if(!be.isUndefined(d))return n(void 0,d,p,y)}else return n(d,f,p,y)}function i(d,f){if(!be.isUndefined(f))return n(void 0,f)}function a(d,f){if(be.isUndefined(f)){if(!be.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function o(d,f,p){if(p in t)return n(d,f);if(p in e)return n(void 0,d)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(d,f,p)=>s(d2(d),d2(f),p,!0)};return be.forEach(Object.keys({...e,...t}),function(f){const p=u[f]||s,y=p(e[f],t[f],f);be.isUndefined(y)&&p!==o||(r[f]=y)}),r}const Yy=e=>{const t=Ta({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=t;t.headers=a=yn.from(a),t.url=Vy(Ky(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(be.isFormData(r)){if(Hr.hasStandardBrowserEnv||Hr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[d,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Hr.hasStandardBrowserEnv&&(n&&be.isFunction(n)&&(n=n(t)),n||n!==!1&&EN(t.url))){const d=s&&i&&CN.read(i);d&&a.set(s,d)}return t},RN=typeof XMLHttpRequest<"u",ON=RN&&function(e){return new Promise(function(r,n){const s=Yy(e);let i=s.data;const a=yn.from(s.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:d}=s,f,p,y,g,N;function S(){g&&g(),N&&N(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function x(){if(!j)return;const b=yn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),F={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:b,config:e,request:j};Jy(function(D){r(D),S()},function(D){n(D),S()},F),j=null}"onloadend"in j?j.onloadend=x:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(x)},j.onabort=function(){j&&(n(new yt("Request aborted",yt.ECONNABORTED,e,j)),j=null)},j.onerror=function(){n(new yt("Network Error",yt.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||Wy;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),n(new yt(A,F.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,j)),j=null},i===void 0&&a.setContentType(null),"setRequestHeader"in j&&be.forEach(a.toJSON(),function(A,F){j.setRequestHeader(F,A)}),be.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),o&&o!=="json"&&(j.responseType=s.responseType),d&&([y,N]=uh(d,!0),j.addEventListener("progress",y)),u&&j.upload&&([p,g]=uh(u),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(f=b=>{j&&(n(!b||b.type?new dl(null,e,j):b),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const w=AN(s.url);if(w&&Hr.protocols.indexOf(w)===-1){n(new yt("Unsupported protocol "+w+":",yt.ERR_BAD_REQUEST,e));return}j.send(i||null)})},FN=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,o();const f=d instanceof Error?d:this.reason;n.abort(f instanceof yt?f:new dl(f instanceof Error?f.message:f))}};let a=t&&setTimeout(()=>{a=null,i(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>be.asap(o),u}},MN=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},DN=async function*(e,t){for await(const r of BN(e))yield*MN(r,t)},BN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},h2=(e,t,r,n)=>{const s=DN(e,t);let i=0,a,o=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await s.next();if(d){o(),u.close();return}let p=f.byteLength;if(r){let y=i+=p;r(y)}u.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(u){return o(u),s.return()}},{highWaterMark:2})},Fh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xy=Fh&&typeof ReadableStream=="function",UN=Fh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Qy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zN=Xy&&Qy(()=>{let e=!1;const t=new Request(Hr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f2=64*1024,Pm=Xy&&Qy(()=>be.isReadableStream(new Response("").body)),ch={stream:Pm&&(e=>e.body)};Fh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ch[t]&&(ch[t]=be.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new yt(`Response type '${t}' is not supported`,yt.ERR_NOT_SUPPORT,n)})})})(new Response);const qN=async e=>{if(e==null)return 0;if(be.isBlob(e))return e.size;if(be.isSpecCompliantForm(e))return(await new Request(Hr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(be.isArrayBufferView(e)||be.isArrayBuffer(e))return e.byteLength;if(be.isURLSearchParams(e)&&(e=e+""),be.isString(e))return(await UN(e)).byteLength},$N=async(e,t)=>{const r=be.toFiniteNumber(e.getContentLength());return r??qN(t)},VN=Fh&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:u,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:y}=Yy(e);d=d?(d+"").toLowerCase():"text";let g=FN([s,i&&i.toAbortSignal()],a),N;const S=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let j;try{if(u&&zN&&r!=="get"&&r!=="head"&&(j=await $N(f,n))!==0){let F=new Request(t,{method:"POST",body:n,duplex:"half"}),z;if(be.isFormData(n)&&(z=F.headers.get("content-type"))&&f.setContentType(z),F.body){const[D,M]=u2(j,uh(c2(u)));n=h2(F.body,f2,D,M)}}be.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;N=new Request(t,{...y,signal:g,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:x?p:void 0});let w=await fetch(N,y);const b=Pm&&(d==="stream"||d==="response");if(Pm&&(o||b&&S)){const F={};["status","statusText","headers"].forEach(Q=>{F[Q]=w[Q]});const z=be.toFiniteNumber(w.headers.get("content-length")),[D,M]=o&&u2(z,uh(c2(o),!0))||[];w=new Response(h2(w.body,f2,D,()=>{M&&M(),S&&S()}),F)}d=d||"text";let A=await ch[be.findKey(ch,d)||"text"](w,e);return!b&&S&&S(),await new Promise((F,z)=>{Jy(F,z,{data:A,headers:yn.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:N})})}catch(x){throw S&&S(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,e,N),{cause:x.cause||x}):yt.from(x,x&&x.code,e,N)}}),Em={http:iN,xhr:ON,fetch:VN};be.forEach(Em,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const p2=e=>`- ${e}`,WN=e=>be.isFunction(e)||e===null||e===!1,Zy={getAdapter:e=>{e=be.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let a;if(n=r,!WN(r)&&(n=Em[(a=String(r)).toLowerCase()],n===void 0))throw new yt(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(p2).join(`
`):" "+p2(i[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Em};function cp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dl(null,e)}function m2(e){return cp(e),e.headers=yn.from(e.headers),e.data=up.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zy.getAdapter(e.adapter||Zu.adapter)(e).then(function(n){return cp(e),n.data=up.call(e,e.transformResponse,n),n.headers=yn.from(n.headers),n},function(n){return Gy(n)||(cp(e),n&&n.response&&(n.response.data=up.call(e,e.transformResponse,n.response),n.response.headers=yn.from(n.response.headers))),Promise.reject(n)})}const ex="1.11.0",Mh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const g2={};Mh.transitional=function(t,r,n){function s(i,a){return"[Axios v"+ex+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(t===!1)throw new yt(s(a," has been removed"+(r?" in "+r:"")),yt.ERR_DEPRECATED);return r&&!g2[a]&&(g2[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,o):!0}};Mh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function HN(e,t,r){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],a=t[i];if(a){const o=e[i],u=o===void 0||a(o,i,e);if(u!==!0)throw new yt("option "+i+" must be "+u,yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new yt("Unknown option "+i,yt.ERR_BAD_OPTION)}}const Id={assertOptions:HN,validators:Mh},As=Id.validators;let ka=class{constructor(t){this.defaults=t||{},this.interceptors={request:new o2,response:new o2}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ta(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Id.assertOptions(n,{silentJSONParsing:As.transitional(As.boolean),forcedJSONParsing:As.transitional(As.boolean),clarifyTimeoutError:As.transitional(As.boolean)},!1),s!=null&&(be.isFunction(s)?r.paramsSerializer={serialize:s}:Id.assertOptions(s,{encode:As.function,serialize:As.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Id.assertOptions(r,{baseUrl:As.spelling("baseURL"),withXsrfToken:As.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&be.merge(i.common,i[r.method]);i&&be.forEach(["delete","get","head","post","put","patch","common"],N=>{delete i[N]}),r.headers=yn.concat(a,i);const o=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(u=u&&S.synchronous,o.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,p=0,y;if(!u){const N=[m2.bind(this),void 0];for(N.unshift(...o),N.push(...d),y=N.length,f=Promise.resolve(r);p<y;)f=f.then(N[p++],N[p++]);return f}y=o.length;let g=r;for(p=0;p<y;){const N=o[p++],S=o[p++];try{g=N(g)}catch(j){S.call(this,j);break}}try{f=m2.call(this,g)}catch(N){return Promise.reject(N)}for(p=0,y=d.length;p<y;)f=f.then(d[p++],d[p++]);return f}getUri(t){t=Ta(this.defaults,t);const r=Ky(t.baseURL,t.url,t.allowAbsoluteUrls);return Vy(r,t.params,t.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(t){ka.prototype[t]=function(r,n){return this.request(Ta(n||{},{method:t,url:r,data:(n||{}).data}))}});be.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,o){return this.request(Ta(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ka.prototype[t]=r(),ka.prototype[t+"Form"]=r(!0)});let GN=class tx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,o){n.reason||(n.reason=new dl(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new tx(function(s){t=s}),cancel:t}}};function JN(e){return function(r){return e.apply(null,r)}}function KN(e){return be.isObject(e)&&e.isAxiosError===!0}const Cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cm).forEach(([e,t])=>{Cm[t]=e});function rx(e){const t=new ka(e),r=Iy(ka.prototype.request,t);return be.extend(r,ka.prototype,t,{allOwnKeys:!0}),be.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return rx(Ta(e,s))},r}const Lt=rx(Zu);Lt.Axios=ka;Lt.CanceledError=dl;Lt.CancelToken=GN;Lt.isCancel=Gy;Lt.VERSION=ex;Lt.toFormData=Oh;Lt.AxiosError=yt;Lt.Cancel=Lt.CanceledError;Lt.all=function(t){return Promise.all(t)};Lt.spread=JN;Lt.isAxiosError=KN;Lt.mergeConfig=Ta;Lt.AxiosHeaders=yn;Lt.formToJSON=e=>Hy(be.isHTMLForm(e)?new FormData(e):e);Lt.getAdapter=Zy.getAdapter;Lt.HttpStatusCode=Cm;Lt.default=Lt;const{Axios:m8,AxiosError:g8,CanceledError:v8,isCancel:y8,CancelToken:x8,VERSION:b8,all:w8,Cancel:_8,isAxiosError:N8,spread:S8,toFormData:j8,AxiosHeaders:k8,HttpStatusCode:A8,formToJSON:L8,getAdapter:P8,mergeConfig:E8}=Lt,YN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qe(async()=>{const{default:n}=await Promise.resolve().then(()=>hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class rg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class XN extends rg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class v2 extends rg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class y2 extends rg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Im;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Im||(Im={}));var QN=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};class ZN{constructor(t,{headers:r={},customFetch:n,region:s=Im.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=YN(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return QN(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(o["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(o["Content-Type"]="application/json",f=JSON.stringify(a)));const p=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:f}).catch(S=>{throw new XN(S)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new v2(p);if(!p.ok)throw new y2(p);let g=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),N;return g==="application/json"?N=yield p.json():g==="application/octet-stream"?N=yield p.blob():g==="text/event-stream"?N=p:g==="multipart/form-data"?N=yield p.formData():N=yield p.text(),{data:N,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof y2||s instanceof v2?s.context:void 0}}})}}var hn={},ng={},Dh={},ec={},Bh={},Uh={},eS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nl=eS();const tS=nl.fetch,nx=nl.fetch.bind(nl),sx=nl.Headers,rS=nl.Request,nS=nl.Response,hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:sx,Request:rS,Response:nS,default:nx,fetch:tS},Symbol.toStringTag,{value:"Module"})),sS=zb(hl);var zh={};Object.defineProperty(zh,"__esModule",{value:!0});let iS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zh.default=iS;var ix=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uh,"__esModule",{value:!0});const aS=ix(sS),oS=ix(zh);let lS=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=aS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,u,d;let f=null,p=null,y=null,g=i.status,N=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?p=w:p=JSON.parse(w))}const j=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");j&&x&&x.length>1&&(y=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,g=406,N="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const j=await i.text();try{f=JSON.parse(j),Array.isArray(f)&&i.status===404&&(p=[],f=null,g=200,N="OK")}catch{i.status===404&&j===""?(g=204,N="No Content"):f={message:j}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,g=200,N="OK"),f&&this.shouldThrowOnError)throw new oS.default(f)}return{error:f,data:p,count:y,status:g,statusText:N}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Uh.default=lS;var uS=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bh,"__esModule",{value:!0});const cS=uS(Uh);let dS=class extends cS.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Bh.default=dS;var hS=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const fS=hS(Bh);let pS=class extends fS.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ec.default=pS;var mS=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});const Zl=mS(ec);let gS=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Zl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(a.length>0){const o=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Zl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Zl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Zl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Zl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Dh.default=gS;var ax=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ng,"__esModule",{value:!0});const vS=ax(Dh),yS=ax(ec);let xS=class ox{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new vS.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ox(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const u=new URL(`${this.url}/rpc/${t}`);let d;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,y])=>y!==void 0).map(([p,y])=>[p,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([p,y])=>{u.searchParams.append(p,y)})):(o="POST",d=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new yS.default({method:o,url:u,headers:f,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};ng.default=xS;var fl=Hn&&Hn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hn,"__esModule",{value:!0});hn.PostgrestError=hn.PostgrestBuilder=hn.PostgrestTransformBuilder=hn.PostgrestFilterBuilder=hn.PostgrestQueryBuilder=hn.PostgrestClient=void 0;const lx=fl(ng);hn.PostgrestClient=lx.default;const ux=fl(Dh);hn.PostgrestQueryBuilder=ux.default;const cx=fl(ec);hn.PostgrestFilterBuilder=cx.default;const dx=fl(Bh);hn.PostgrestTransformBuilder=dx.default;const hx=fl(Uh);hn.PostgrestBuilder=hx.default;const fx=fl(zh);hn.PostgrestError=fx.default;var bS=hn.default={PostgrestClient:lx.default,PostgrestQueryBuilder:ux.default,PostgrestFilterBuilder:cx.default,PostgrestTransformBuilder:dx.default,PostgrestBuilder:hx.default,PostgrestError:fx.default};const{PostgrestClient:wS,PostgrestQueryBuilder:F8,PostgrestFilterBuilder:M8,PostgrestTransformBuilder:D8,PostgrestBuilder:B8,PostgrestError:U8}=bS;class _S{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NS="2.15.1",SS=`realtime-js/${NS}`,jS="1.0.0",Tm=1e4,kS=1e3,AS=100;var yu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yu||(yu={}));var yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yr||(yr={}));var ds;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ds||(ds={}));var Rm;(function(e){e.websocket="websocket"})(Rm||(Rm={}));var ya;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ya||(ya={}));class LS{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:u,payload:d}}}class px{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qt||(qt={}));const x2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=PS(a,e,t,s),i),{})},PS=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?mx(i,a):Om(a)},mx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return TS(t,r)}switch(e){case qt.bool:return ES(t);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return CS(t);case qt.json:case qt.jsonb:return IS(t);case qt.timestamp:return RS(t);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return Om(t);default:return Om(t)}},Om=e=>e,ES=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>mx(t,o))}return e},RS=e=>typeof e=="string"?e.replace(" ","T"):e,gx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class dp{constructor(t,r,n={},s=Tm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var b2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(b2||(b2={}));class xu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=xu.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xu.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},u={};return this.map(i,(d,f)=>{a[d]||(u[d]=f)}),this.map(a,(d,f)=>{const p=i[d];if(p){const y=f.map(j=>j.presence_ref),g=p.map(j=>j.presence_ref),N=f.filter(j=>g.indexOf(j.presence_ref)<0),S=p.filter(j=>y.indexOf(j.presence_ref)<0);N.length>0&&(o[d]=N),S.length>0&&(u[d]=S)}else o[d]=f}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var d;const f=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(u),f.length>0){const p=t[o].map(g=>g.presence_ref),y=f.filter(g=>p.indexOf(g.presence_ref)<0);t[o].unshift(...y)}n(o,f,u)}),this.map(a,(o,u)=>{let d=t[o];if(!d)return;const f=u.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[o]=d,s(o,d,u),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(w2||(w2={}));var bu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bu||(bu={}));var Xs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xs||(Xs={}));class sg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dp(this,ds.join,this.params,this.timeout),this.rejoinTimer=new px(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ds.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xu(this),this.broadcastEndpointURL=gx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==yr.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[bu.PRESENCE]&&this.bindings[bu.PRESENCE].length>0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Xs.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Xs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var g;if(this.socket.setAuth(),y===void 0){t==null||t(Xs.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,S=(g=N==null?void 0:N.length)!==null&&g!==void 0?g:0,j=[];for(let x=0;x<S;x++){const w=N[x],{filter:{event:b,schema:A,table:F,filter:z}}=w,D=y&&y[x];if(D&&D.event===b&&D.schema===A&&D.table===F&&D.filter===z)j.push(Object.assign(Object.assign({},w),{id:D.id}));else{this.unsubscribe(),this.state=yr.errored,t==null||t(Xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Xs.SUBSCRIBED);return}}).receive("error",y=>{this.state=yr.errored,t==null||t(Xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===yr.joined&&t===bu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ds.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new dp(this,ds.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dp(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>AS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:u,leave:d,join:f}=ds;if(n&&[o,u,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var N,S,j;return((N=g.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(S=g.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(g=>g.callback(y,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var N,S,j,x,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const A=g.id,F=(N=g.filter)===null||N===void 0?void 0:N.event;return A&&((S=r.ids)===null||S===void 0?void 0:S.includes(A))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const A=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:S,table:j,commit_timestamp:x,type:w,errors:b}=N;y=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(N))}g.callback(y,n)})}_isClosed(){return this.state===yr.closed}_isJoined(){return this.state===yr.joined}_isJoining(){return this.state===yr.joining}_isLeaving(){return this.state===yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&sg.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ds.close,{},t)}_onError(t){this._on(ds.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=x2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=x2(t.columns,t.old_record)),r}}const _2=()=>{},cd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OS=[1e3,2e3,5e3,1e4],FS=1e4,MS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tm,this.transport=null,this.heartbeatIntervalMs=cd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_2,this.ref=0,this.reconnectTimer=null,this.logger=_2,this.conn=null,this.sendBuffer=[],this.serializer=new LS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Qe(async()=>{const{default:o}=await Promise.resolve().then(()=>hl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Rm.websocket}`,this.httpEndpoint=gx(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_S.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jS}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yu.connecting:return ya.Connecting;case yu.open:return ya.Open;case yu.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new sg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ds.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([MS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:SS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ds.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new px(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Tm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:cd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:f=>OS[f-1]||FS,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ig extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BS extends ig{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fm extends ig{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var US=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const vx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qe(async()=>{const{default:n}=await Promise.resolve().then(()=>hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zS=()=>US(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qe(()=>Promise.resolve().then(()=>hl),void 0)).Response:Response}),Mm=e=>{if(Array.isArray(e))return e.map(r=>Mm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Mm(n)}),t},qS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Fa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const hp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$S=(e,t,r)=>Fa(void 0,void 0,void 0,function*(){const n=yield zS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new BS(hp(s),i,a))}).catch(s=>{t(new Fm(hp(s),s))}):t(new Fm(hp(e),e))}),VS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(qS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function tc(e,t,r,n,s,i){return Fa(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,VS(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>$S(u,o,n))})})}function dh(e,t,r,n){return Fa(this,void 0,void 0,function*(){return tc(e,"GET",t,r,n)})}function Es(e,t,r,n,s){return Fa(this,void 0,void 0,function*(){return tc(e,"POST",t,n,s,r)})}function Dm(e,t,r,n,s){return Fa(this,void 0,void 0,function*(){return tc(e,"PUT",t,n,s,r)})}function WS(e,t,r,n){return Fa(this,void 0,void 0,function*(){return tc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yx(e,t,r,n,s){return Fa(this,void 0,void 0,function*(){return tc(e,"DELETE",t,n,s,r)})}var Qr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const HS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GS{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=vx(s)}uploadOrUpdate(t,r,n,s){return Qr(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},N2),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),p=yield(t=="PUT"?Dm:Es)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(xr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Qr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:N2.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const p=yield Dm(this.fetch,o.toString(),u,{headers:f});return{data:{path:i,fullPath:p.Key},error:null}}catch(u){if(xr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Qr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Es(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new ig("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:{path:(yield Es(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Qr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Es(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Qr(this,void 0,void 0,function*(){try{const s=yield Es(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}download(t,r){return Qr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield dh(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(xr(o))return{data:null,error:o};throw o}})}info(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mm(n),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}exists(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield WS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xr(n)&&n instanceof Fm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield yx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},HS),r),{prefix:t||""});return{data:yield Es(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}listV2(t,r){return Qr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Es(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const JS="2.11.0",KS={"X-Client-Info":`storage-js/${JS}`};var mo=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};class YS{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},KS),r),this.fetch=vx(n)}listBuckets(){return mo(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xr(t))return{data:null,error:t};throw t}})}getBucket(t){return mo(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return mo(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return mo(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return mo(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return mo(this,void 0,void 0,function*(){try{return{data:yield yx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}}class XS extends YS{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new GS(this.url,this.headers,t,this.fetch)}}const QS="2.56.0";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const ZS={"X-Client-Info":`supabase-js-${ou}/${QS}`},e6={headers:ZS},t6={schema:"public"},r6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n6={};var s6=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};const i6=e=>{let t;return e?t=e:typeof fetch>"u"?t=nx:t=fetch,(...r)=>t(...r)},a6=()=>typeof Headers>"u"?sx:Headers,o6=(e,t,r)=>{const n=i6(r),s=a6();return(i,a)=>s6(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:d}))})};var l6=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};function u6(e){return e.endsWith("/")?e:e+"/"}function c6(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:u,auth:d,realtime:f,global:p}=t,y={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>l6(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const xx="2.71.1",_o=30*1e3,Bm=3,fp=Bm*_o,d6="http://localhost:9999",h6="supabase.auth.token",f6={"X-Client-Info":`gotrue-js/${xx}`},Um="X-Supabase-Api-Version",bx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},p6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m6=10*60*1e3;class ag extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class g6 extends ag{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function v6(e){return vt(e)&&e.name==="AuthApiError"}class wx extends ag{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ea extends ag{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ai extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function y6(e){return vt(e)&&e.name==="AuthSessionMissingError"}class dd extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hd extends ea{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fd extends ea{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x6(e){return vt(e)&&e.name==="AuthImplicitGrantRedirectError"}class S2 extends ea{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zm extends ea{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pp(e){return vt(e)&&e.name==="AuthRetryableFetchError"}class j2 extends ea{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qm extends ea{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k2=` 	
\r=`.split(""),b6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<k2.length;t+=1)e[k2[t].charCodeAt(0)]=-2;for(let t=0;t<hh.length;t+=1)e[hh[t].charCodeAt(0)]=t;return e})();function A2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hh[n]),t.queuedBits-=6}}function _x(e,t,r){const n=b6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function L2(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{N6(a,n,r)};for(let a=0;a<e.length;a+=1)_x(e.charCodeAt(a),s,i);return t.join("")}function w6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}w6(n,t)}}function N6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function S6(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_x(e.charCodeAt(s),r,n);return new Uint8Array(t)}function j6(e){const t=[];return _6(e,r=>t.push(r)),new Uint8Array(t)}function k6(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>A2(s,r,n)),A2(null,r,n),t.join("")}function A6(e){return Math.round(Date.now()/1e3)+e}function L6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const os=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},Nx=()=>{if(!os())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function P6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Sx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qe(async()=>{const{default:n}=await Promise.resolve().then(()=>hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},E6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",No=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Si=async(e,t)=>{await e.removeItem(t)};class qh{constructor(){this.promise=new qh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qh.promiseConstructor=Promise;function mp(e){const t=e.split(".");if(t.length!==3)throw new qm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!p6.test(t[n]))throw new qm("JWT not in base64url format");return{header:JSON.parse(L2(t[0])),payload:JSON.parse(L2(t[1])),signature:S6(t[2]),raw:{header:t[0],payload:t[1]}}}async function C6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function I6(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function T6(e){return("0"+e.toString(16)).substr(-2)}function R6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,T6).join("")}async function O6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function F6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await O6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(e,t,r=!1){const n=R6();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await No(e,`${t}-code-verifier`,s);const i=await F6(n);return[i,n===i?"plain":"s256"]}const M6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D6(e){const t=e.headers.get(Um);if(!t||!t.match(M6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function B6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function U6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vo(e){if(!z6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P2(e){return JSON.parse(JSON.stringify(e))}var q6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$6=[502,503,504];async function E2(e){var t;if(!E6(e))throw new zm(ga(e),0);if($6.includes(e.status))throw new zm(ga(e),e.status);let r;try{r=await e.json()}catch(i){throw new wx(ga(i),i)}let n;const s=D6(e);if(s&&s.getTime()>=bx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new j2(ga(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ai}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new j2(ga(r),e.status,r.weak_password.reasons);throw new g6(ga(r),e.status||500,n)}const V6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function wt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Um]||(i[Um]=bx["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await W6(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function W6(e,t,r,n,s,i){const a=V6(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new zm(ga(u),0)}if(o.ok||await E2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await E2(u)}}function Ks(e){var t;let r=null;K6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=A6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function C2(e){const t=Ks(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ii(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function H6(e){return{data:e,error:null}}function G6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=q6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function J6(e){return e}function K6(e){return e.access_token&&e.refresh_token&&e.expires_in}const vp=["global","local","others"];var Y6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class X6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=vp[0]){if(vp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vp.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ii})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Y6(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:G6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ii})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,u;try{const d={nextPage:null,lastPage:0,total:0},f=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:J6});if(f.error)throw f.error;const p=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(u=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);d[`${j}Page`]=S}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(vt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){vo(t);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ii})}catch(r){if(vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vo(t);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ii})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vo(t);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ii})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vo(t.userId);try{const{data:r,error:n}=await wt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vo(t.userId),vo(t.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}}function I2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Q6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yo={debug:!!(globalThis&&Nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Z6 extends jx{}async function ej(e,t,r){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Z6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Q6();const tj={url:d6,storageKey:h6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function T2(e,t,r){return await r()}const xo={};class $u{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$u.nextInstanceID,$u.nextInstanceID+=1,this.instanceID>0&&os()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tj),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new X6({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sx(s.fetch),this.lock=s.lock||T2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:os()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ej:this.lock=T2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=I2(this.memoryStorage)),os()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=xo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){xo[this.storageKey]=Object.assign(Object.assign({},xo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=xo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xo[this.storageKey]=Object.assign(Object.assign({},xo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=P6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),os()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),x6(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return vt(r)?{error:r}:{error:new wx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ks}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(vt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:p,options:y}=t;let g=null,N=null;this.flowType==="pkce"&&([g,N]=await go(this.storage,this.storageKey)),i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:f,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:N},xform:Ks})}else if("phone"in t){const{phone:f,password:p,options:y}=t;i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Ks})}else throw new hd("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C2})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C2})}else throw new hd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,u,d,f,p,y,g;let N,S;if("message"in t)N=t.message,S=t.signature;else{const{chain:j,wallet:x,statement:w,options:b}=t;let A;if(os())if(typeof x=="object")A=x;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))A=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const F=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const z=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),w?{statement:w}:null));let D;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")D=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)D=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)N=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${F.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((p=(f=b==null?void 0:b.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...b.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const z=await A.signMessage(new TextEncoder().encode(N),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=z}}try{const{data:j,error:x}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:k6(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ks});if(x)throw x;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new dd}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:x})}catch(j){if(vt(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await fa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ks});if(await Si(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(vt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ks}),{data:u,error:d}=o;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new dd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await go(this.storage,this.storageKey));const{error:p}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:o,options:u}=t,{data:d,error:f}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new hd("You must provide either an email or phone number.")}catch(o){if(vt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ks});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await go(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:H6})}catch(i){if(vt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ai;const{error:s}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(vt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await wt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await wt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new hd("You must provide either an email or phone number and a type")}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await fa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=gp()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,d,f)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ii}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ii})})}catch(r){if(vt(r))return y6(r)&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ai;const a=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await go(this.storage,this.storageKey));const{data:d,error:f}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:Ii});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(vt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ai;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=mp(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(vt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ai;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(vt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!os())throw new fd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new S2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new S2("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:u,token_type:d}=t;if(!i||!o||!a||!d)throw new fd("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let y=f+p;u&&(y=parseInt(u));const g=y-f;g*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const N=y-p;f-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,f):f-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,f);const{data:S,error:j}=await this._getUser(i);if(j)throw j;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:y,refresh_token:a,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(v6(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=L6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await go(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(vt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,u,d,f;const{data:p,error:y}=i;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return os()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(vt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await I6(async s=>(s>0&&await C6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ks})),(s,i)=>{const a=200*Math.pow(2,s);return i&&pp(i)&&Date.now()+a-n<_o})}catch(n){if(this._debug(r,"error",n),vt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),os()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await fa(this.storage,this.storageKey);if(s&&this.userStorage){let a=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await No(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:gp()}else if(s&&!s.user&&!s.user){const a=await fa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Si(this.storage,this.storageKey+"-user"),await No(this.storage,this.storageKey,s)):s.user=gp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),pp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qh;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Ai;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),vt(i)){const a={session:null,error:i};return pp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await No(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=P2(s);await No(this.storage,this.storageKey,i)}else{const s=P2(r);await No(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Si(this.storage,this.storageKey),await Si(this.storage,this.storageKey+"-code-verifier"),await Si(this.storage,this.storageKey+"-user"),this.userStorage&&await Si(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&os()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_o}ms, refresh threshold is ${Bm} ticks`),s<=Bm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!os()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await go(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await wt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:d}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(vt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await wt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(vt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=mp(s.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+m6>s)return n;const{data:i,error:a}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:N}=await this.getSession();if(N||!g.session)return{data:null,error:N};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:u}}=mp(n);r!=null&&r.allowExpired||B6(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const f=U6(s.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,a,j6(`${o}.${u}`)))throw new qm("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}}}$u.nextInstanceID=0;const rj=$u;class nj extends rj{constructor(t){super(t)}}var sj=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(f){try{d(n.next(f))}catch(p){a(p)}}function u(f){try{d(n.throw(f))}catch(p){a(p)}}function d(f){f.done?i(f.value):s(f.value).then(o,u)}d((n=n.apply(e,t||[])).next())})};class ij{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=u6(t),u=new URL(o);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:t6,realtime:n6,auth:Object.assign(Object.assign({},r6),{storageKey:d}),global:e6},p=c6(n??{},f);this.storageKey=(s=p.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=p.auth)!==null&&a!==void 0?a:{},this.headers,p.global.fetch),this.fetch=o6(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new wS(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new XS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new ZN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return sj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:u},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nj({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new DS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aj=(e,t,r)=>new ij(e,t,r);function oj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}oj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lj="https://ofhklmyaioxznrqiolad.supabase.co",uj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maGtsbXlhaW94em5ycWlvbGFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMTY4NjYsImV4cCI6MjA3MjU5Mjg2Nn0.idw8ArFNe8wgM2iELJkVLxjrW1yPDJ81tiqvXzo6JM8",Rr=aj(lj,uj),cj="http://localhost:3001/api",bt=Lt.create({baseURL:cj,headers:{"Content-Type":"application/json"}});bt.interceptors.request.use(async e=>{var t;try{const{data:r}=await Rr.auth.getSession(),n=(t=r==null?void 0:r.session)==null?void 0:t.access_token,s=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),i=n||s;i&&(e.headers=e.headers||{},e.headers.Authorization||(e.headers.Authorization=`Bearer ${i}`))}catch{const r=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");r&&(e.headers=e.headers||{},e.headers.Authorization||(e.headers.Authorization=`Bearer ${r}`))}return e},e=>Promise.reject(e));bt.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&localStorage.removeItem("supabase_auth_token"),Promise.reject(e)});const Os={getProfile:()=>bt.get("/users/profile"),updateProfile:e=>bt.put("/users/profile",e),getCurrentUser:()=>bt.get("/users/me"),saveExtraInfo:e=>bt.post("/users/profile/extra-info",{entries:e})},z8={getAll:(e={})=>bt.get("/formations",{params:e}),getById:e=>bt.get(`/formations/${e}`),create:e=>bt.post("/formations",e),update:(e,t)=>bt.put(`/formations/${e}`,t),delete:e=>bt.delete(`/formations/${e}`)},wu={getMyResults:()=>bt.get("/analysis/my-results"),evaluateJob:({job:e})=>bt.post("/analysis/level9/evaluate-job",{job:e}),saveShareImage:({dataUrl:e,questionnaireType:t="mbti",metadata:r})=>bt.post("/analysis/share-image",{image:e,questionnaireType:t,metadata:r})},dj={aiChat:({mode:e,persona:t,message:r,history:n})=>bt.post("/chat/ai",{mode:e,persona:t,message:r,history:n})},R2={suggest:({q:e,type:t})=>bt.get("/letter/suggest",{params:{q:e,type:t}}),generate:({selection:e,style:t,emploi_selection:r,formation_selection:n})=>bt.post("/letter/generate",{selection:e,style:t,emploi_selection:r,formation_selection:n})},og={get:async()=>{var r;const{data:e}=await Rr.auth.getUser(),t=(r=e==null?void 0:e.user)==null?void 0:r.id;if(!t)throw new Error("No user");return bt.get(`/progression/${t}`)},update:async({level:e,xp:t,quests:r,perks:n})=>{var a;const{data:s}=await Rr.auth.getUser(),i=(a=s==null?void 0:s.user)==null?void 0:a.id;if(!i)throw new Error("No user");return bt.post(`/progression/${i}`,{level:e,xp:t,quests:r,perks:n})}},q8={getConfig:()=>bt.get("/payments/config"),createCheckout:(e={})=>bt.post("/payments/checkout",e),verifySession:e=>bt.post("/payments/verify",{sessionId:e})},$8={sendResults:(e={})=>bt.post("/share/results",e)};function hj(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[s,i]=T.useState("student"),[a,o]=T.useState(""),[u,d]=T.useState(!1),f=nn();async function p(y){var g,N,S;y.preventDefault(),o(""),d(!0);try{const{data:j,error:x}=await Rr.auth.signInWithPassword({email:e,password:r});if(x)throw x;if((g=j.session)!=null&&g.access_token&&localStorage.setItem("supabase_auth_token",j.session.access_token),s)try{const{data:b}=await Rr.from("profiles").upsert({id:j.user.id,profile_type:s,updated_at:new Date().toISOString()})}catch(b){console.warn("Profile update failed:",b)}if(localStorage.getItem("answers_cache"))try{localStorage.removeItem("answers_cache"),f("/app/results");return}catch(b){console.warn("Failed to submit cached answers:",b)}f("/app")}catch(j){const x=(j==null?void 0:j.message)||(j==null?void 0:j.error_description)||((S=(N=j==null?void 0:j.response)==null?void 0:N.data)==null?void 0:S.error)||"Échec de connexion";o(x)}finally{d(!1)}}return c.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-xl",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Se connecter"}),c.jsx("p",{className:"text-text-secondary",children:"Sélectionnez votre profil et connectez-vous pour continuer."})]}),c.jsxs("form",{onSubmit:p,className:"bg-surface border border-line rounded-xl shadow-card p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"email",placeholder:"Email",value:e,onChange:y=>t(y.target.value),required:!0}),c.jsx("input",{className:"border border-line rounded-lg px-3 py-2 outline-none",type:"password",placeholder:"Mot de passe",value:r,onChange:y=>n(y.target.value),required:!0})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="student"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("student"),children:"Étudiant"}),c.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s==="company"?"border-black bg-black text-white":"border-line"}`,onClick:()=>i("company"),children:"Entreprise"})]}),a&&c.jsx("div",{className:"text-red-600 text-sm",children:a}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:u,className:"w-full bg-black text-white rounded-lg h-11 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Connexion...":"Se connecter"})})]}),c.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Pas de compte ? ",c.jsx(rl,{to:"/avatar",className:"underline",children:"S'inscrire"})]})]})})}function fj(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[s,i]=T.useState(""),[a,o]=T.useState(""),[u,d]=T.useState("18"),[f,p]=T.useState(""),[y,g]=T.useState(""),[N,S]=T.useState(""),[j,x]=T.useState(""),[w,b]=T.useState(""),[A,F]=T.useState(""),[z,D]=T.useState(!1);nn();const M=T.useMemo(()=>[{code:"01",name:"Ain"},{code:"02",name:"Aisne"},{code:"03",name:"Allier"},{code:"04",name:"Alpes-de-Haute-Provence"},{code:"05",name:"Hautes-Alpes"},{code:"06",name:"Alpes-Maritimes"},{code:"07",name:"Ardèche"},{code:"08",name:"Ardennes"},{code:"09",name:"Ariège"},{code:"10",name:"Aube"},{code:"11",name:"Aude"},{code:"12",name:"Aveyron"},{code:"13",name:"Bouches-du-Rhône"},{code:"14",name:"Calvados"},{code:"15",name:"Cantal"},{code:"16",name:"Charente"},{code:"17",name:"Charente-Maritime"},{code:"18",name:"Cher"},{code:"19",name:"Corrèze"},{code:"2A",name:"Corse-du-Sud"},{code:"2B",name:"Haute-Corse"},{code:"21",name:"Côte-d’Or"},{code:"22",name:"Côtes-d’Armor"},{code:"23",name:"Creuse"},{code:"24",name:"Dordogne"},{code:"25",name:"Doubs"},{code:"26",name:"Drôme"},{code:"27",name:"Eure"},{code:"28",name:"Eure-et-Loir"},{code:"29",name:"Finistère"},{code:"30",name:"Gard"},{code:"31",name:"Haute-Garonne"},{code:"32",name:"Gers"},{code:"33",name:"Gironde"},{code:"34",name:"Hérault"},{code:"35",name:"Ille-et-Vilaine"},{code:"36",name:"Indre"},{code:"37",name:"Indre-et-Loire"},{code:"38",name:"Isère"},{code:"39",name:"Jura"},{code:"40",name:"Landes"},{code:"41",name:"Loir-et-Cher"},{code:"42",name:"Loire"},{code:"43",name:"Haute-Loire"},{code:"44",name:"Loire-Atlantique"},{code:"45",name:"Loiret"},{code:"46",name:"Lot"},{code:"47",name:"Lot-et-Garonne"},{code:"48",name:"Lozère"},{code:"49",name:"Maine-et-Loire"},{code:"50",name:"Manche"},{code:"51",name:"Marne"},{code:"52",name:"Haute-Marne"},{code:"53",name:"Mayenne"},{code:"54",name:"Meurthe-et-Moselle"},{code:"55",name:"Meuse"},{code:"56",name:"Morbihan"},{code:"57",name:"Moselle"},{code:"58",name:"Nièvre"},{code:"59",name:"Nord"},{code:"60",name:"Oise"},{code:"61",name:"Orne"},{code:"62",name:"Pas-de-Calais"},{code:"63",name:"Puy-de-Dôme"},{code:"64",name:"Pyrénées-Atlantiques"},{code:"65",name:"Hautes-Pyrénées"},{code:"66",name:"Pyrénées-Orientales"},{code:"67",name:"Bas-Rhin"},{code:"68",name:"Haut-Rhin"},{code:"69",name:"Rhône"},{code:"70",name:"Haute-Saône"},{code:"71",name:"Saône-et-Loire"},{code:"72",name:"Sarthe"},{code:"73",name:"Savoie"},{code:"74",name:"Haute-Savoie"},{code:"75",name:"Paris"},{code:"76",name:"Seine-Maritime"},{code:"77",name:"Seine-et-Marne"},{code:"78",name:"Yvelines"},{code:"79",name:"Deux-Sèvres"},{code:"80",name:"Somme"},{code:"81",name:"Tarn"},{code:"82",name:"Tarn-et-Garonne"},{code:"83",name:"Var"},{code:"84",name:"Vaucluse"},{code:"85",name:"Vendée"},{code:"86",name:"Vienne"},{code:"87",name:"Haute-Vienne"},{code:"88",name:"Vosges"},{code:"89",name:"Yonne"},{code:"90",name:"Territoire de Belfort"},{code:"91",name:"Essonne"},{code:"92",name:"Hauts-de-Seine"},{code:"93",name:"Seine-Saint-Denis"},{code:"94",name:"Val-de-Marne"},{code:"95",name:"Val-d’Oise"},{code:"971",name:"Guadeloupe"},{code:"972",name:"Martinique"},{code:"973",name:"Guyane"},{code:"974",name:"La Réunion"},{code:"976",name:"Mayotte"}],[]);async function Q(H){var E,R;H.preventDefault(),b("");try{if(r!==A){b("Les mots de passe ne correspondent pas");return}const G=localStorage.getItem("avatar_cfg"),U=localStorage.getItem("avatar_url"),le=localStorage.getItem("answers_cache");let re=null,fe=null;if(G&&U)try{re={...JSON.parse(G),url:U,provider:"dicebear/lorelei"}}catch($){console.warn("Failed to parse avatar config:",$)}if(le)try{const $=JSON.parse(le);fe=$.answers||$.responses||[]}catch($){console.warn("Failed to parse questionnaire cache:",$)}const Y={profile_type:"student",nom:s,prenom:a,age:Number(u),genre:f,departement:y,ecole:N,numeroTelephone:j,first_name:a,last_name:s,gender:f,department:y,school:N,phone_number:j},te=await Lt.post("/api/auth/register",{email:e,password:r,userData:Y,avatarData:re,questionnaireResponses:fe});D(!0),re&&(localStorage.removeItem("avatar_cfg"),localStorage.removeItem("avatar_url")),fe&&(localStorage.removeItem("answers_cache"),localStorage.removeItem("answers_progress"))}catch(G){const U=((R=(E=G==null?void 0:G.response)==null?void 0:E.data)==null?void 0:R.error)||(G==null?void 0:G.message)||(G==null?void 0:G.error_description)||"Échec d'inscription";b(U)}}return c.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-5xl py-10",children:[c.jsx("style",{children:`
        /* Helper to remove outlines / rings / transitions */
        .no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
        .no-outline::-moz-focus-inner { border: 0 !important; }
        `}),z?c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 7.89a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Email de confirmation envoyé !"}),c.jsxs("p",{className:"text-text-secondary mb-4",children:["Nous avons envoyé un email de confirmation à ",c.jsx("strong",{children:e})]}),c.jsx("p",{className:"text-text-secondary",children:"Veuillez cliquer sur le lien dans l'email pour valider votre compte et accéder à votre tableau de bord."})]}),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("span",{className:"text-sm font-medium",children:"Vérifiez votre boîte de réception"})]}),c.jsx("p",{className:"text-sm text-text-secondary",children:"L'email peut prendre quelques minutes à arriver. Pensez à vérifier votre dossier spam si vous ne le recevez pas."})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Créer un compte"}),c.jsx("p",{className:"text-text-secondary",children:"Choisissez votre type de profil pour une expérience personnalisée."})]}),c.jsx("div",{className:"mb-4 flex gap-2",children:c.jsx("button",{type:"button",className:"h-11 px-4 rounded-none border border-line bg-white text-sm text-text-primary cursor-default",disabled:!0,children:"Étudiant"})}),c.jsx("form",{onSubmit:Q,className:"bg-surface border border-line rounded-xl shadow-card p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Prénom *"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Votre prénom",value:a,onChange:H=>o(H.target.value),required:!0})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom *"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Votre nom",value:s,onChange:H=>i(H.target.value),required:!0})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Âge *"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"number",min:"10",max:"100",placeholder:"Votre âge",value:u,onChange:H=>d(H.target.value),required:!0})]}),c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Département *"}),c.jsxs("select",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:y,onChange:H=>g(H.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Sélectionnez votre département"}),M.map(H=>c.jsxs("option",{value:`${H.code} - ${H.name}`,children:[H.code," - ",H.name]},H.code))]})]}),c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Genre *"}),c.jsxs("select",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:f,onChange:H=>p(H.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Sélectionnez un genre"}),c.jsx("option",{value:"Homme",children:"Homme"}),c.jsx("option",{value:"Femme",children:"Femme"}),c.jsx("option",{value:"Autre",children:"Autre"})]})]}),c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"École/Formation"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"text",placeholder:"Nom de votre école...",value:N,onChange:H=>S(H.target.value)}),c.jsx("small",{className:"text-text-secondary",children:"Facultatif - Saisissez le nom de votre école"})]}),c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Numéro de téléphone"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"tel",placeholder:"ex: 06 12 34 56 78",value:j,onChange:H=>x(H.target.value)}),c.jsx("small",{className:"text-text-secondary",children:"Facultatif"})]}),c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse Email *"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"email",placeholder:"Entrez votre adresse email",value:e,onChange:H=>t(H.target.value),required:!0})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Mot de passe *"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"password",placeholder:"Entrez votre mot de passe",value:r,onChange:H=>n(H.target.value),required:!0})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Confirmer le mot de passe *"}),c.jsx("input",{className:"w-full border border-line rounded-none h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",type:"password",placeholder:"Confirmez votre mot de passe",value:A,onChange:H=>F(H.target.value),required:!0})]}),w&&c.jsx("div",{className:"md:col-span-12 text-red-600 text-sm",children:w}),c.jsx("div",{className:"md:col-span-12",children:c.jsx("button",{type:"submit",className:"w-full bg-black text-white rounded-none h-11",children:"S'inscrire"})})]})}),c.jsxs("p",{className:"mt-3 text-sm text-text-secondary",children:["Vous avez déjà un compte ? ",c.jsx(rl,{to:"/login",className:"underline",children:"Se connecter"})]})]})]})})}function pj({size:e=90}){const[t,r]=T.useState(()=>localStorage.getItem("avatar_url")||null);return T.useEffect(()=>{if(!t)try{const n=localStorage.getItem("avatar_cfg");if(n){const s=JSON.parse(n),i=mj(s,256);r(i),localStorage.setItem("avatar_url",i)}}catch{}},[t]),t?c.jsx("img",{src:t,alt:"avatar",width:e,height:e,style:{borderRadius:8,background:"#fff",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"}}):c.jsx("div",{style:{width:e,height:e,borderRadius:8,background:"#f5f5f5",display:"grid",placeItems:"center",color:"#999",boxShadow:"0 0 0 1px rgba(0,0,0,.06)"},children:"🙂"})}function yp(e){return(e||"").replace("#","")}function mj(e,t){const r="https://api.dicebear.com/9.x/lorelei/svg",n=new URLSearchParams;return n.set("seed",e.seed||"zelia"),n.set("size",String(t)),n.set("radius",String(e.radius??30)),e.bg&&(n.set("backgroundType","solid"),n.set("backgroundColor",yp(e.bg))),e.skin&&n.set("skinColor",yp(e.skin)),e.hair&&n.set("hairColor",yp(e.hair)),e.glasses===!0?(n.set("accessories","glasses"),n.set("accessoriesProbability","100")):n.set("accessoriesProbability","0"),`${r}?${n.toString()}`}function gj(){const[e,t]=T.useState([]),[r,n]=T.useState(0),[s,i]=T.useState(()=>{try{return JSON.parse(localStorage.getItem("answers_progress")||"{}")}catch{return{}}}),[a,o]=T.useState(!0),[u,d]=T.useState(""),f=nn();T.useEffect(()=>{(async()=>{try{const{data:w}=await Lt.get("/api/questionnaire/questions");t(w)}catch{d("Impossible de charger les questions")}finally{o(!1)}})()},[]);const p=e[r],y=T.useMemo(()=>{const w=p==null?void 0:p.contenu;if(typeof w!="string")return w;if(w.startsWith("(")){const b=w.indexOf('"'),A=w.indexOf('"',b+1);if(b!==-1&&A!==-1)return w.slice(b+1,A)}return w},[p]),g=T.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]);async function N(){const w={answers:Object.entries(s).map(([F,z])=>({question_id:Number(F),answer:z}))},b=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");let A=!1;if(b)try{const F={Authorization:`Bearer ${b}`};await Lt.get("/api/users/me",{headers:F}),A=!0}catch{localStorage.removeItem("supabase_auth_token"),localStorage.removeItem("token"),A=!1}if(A)try{const F={Authorization:`Bearer ${b}`};await Lt.post("/api/questionnaire/submit",w,{headers:F}),await Lt.post("/api/results/generate",{},{headers:F}),localStorage.setItem("answers_cache",JSON.stringify(w)),f("/app/results");return}catch(F){console.warn("Failed to submit authenticated questionnaire:",F)}localStorage.setItem("answers_cache",JSON.stringify(w)),f("/register?after=results")}function S(w){const b=p==null?void 0:p.id;if(!b)return;const A=r+1,F={...s,[b]:w};i(F),localStorage.setItem("answers_progress",JSON.stringify(F)),A<e.length&&n(A)}const j=e.length?Math.round((r+1)/e.length*100):0,x=p?s[p.id]!=null:!1;return a?c.jsx("div",{className:"min-h-screen grid place-items-center text-text-secondary",children:"Chargement…"}):u?c.jsx("div",{className:"min-h-screen grid place-items-center text-red-600",children:u}):c.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-3xl py-10",children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Questionnaire"}),c.jsx("p",{className:"text-text-secondary",children:"Répondez pour affiner votre profil et vos recommandations."})]}),c.jsx("div",{className:"hidden sm:block",children:c.jsx(pj,{size:72})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-full bg-line h-2 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-black",style:{width:`${j}%`}})}),c.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-text-secondary",children:[c.jsxs("span",{children:[Math.min(r+1,e.length)," / ",e.length]}),c.jsxs("span",{children:[j,"%"]})]})]}),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-3",children:y}),c.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((w,b)=>c.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg border ${s[p==null?void 0:p.id]===w?"border-black bg-black text-white":"border-line"}`,onClick:()=>S(w),children:w},b))}),c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>n(w=>Math.max(0,w-1)),disabled:r===0,children:"Précédent"}),r<e.length-1?c.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>n(w=>Math.min(e.length-1,w+1)),disabled:!x,children:"Suivant"}):c.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:N,disabled:!x,children:"Terminer"})]})]})]})})}function vj(e,t){const[r,n]=T.useState(""),[s,i]=T.useState(!1),a=T.useRef(0);T.useEffect(()=>{if(n(""),i(!1),!e)return;const u=Math.max(1,Math.floor(t/30));let d=0;const f=()=>{d++;const p=Math.min(e.length,Math.floor(d/u*e.length));if(n(e.slice(0,p)),p>=e.length){i(!0);return}a.current=requestAnimationFrame(f)};return a.current=requestAnimationFrame(f),()=>cancelAnimationFrame(a.current)},[e,t]);const o=T.useCallback(()=>{n(e||""),i(!0)},[e]);return{text:r,done:s,skip:o}}function yj(e="zelia"){return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(e),size:"320",radius:"15"}).toString()}`}function O2(e,t={}){try{const r=new URL(e);return Object.entries(t).forEach(([n,s])=>{s===null?r.searchParams.delete(n):Array.isArray(s)?(r.searchParams.delete(n),s.forEach(i=>r.searchParams.append(n,i))):r.searchParams.set(n,String(s))}),r.toString()}catch{return e}}function xj(){const e=nn(),t=li(),r=T.useRef(null),n=T.useRef(!1);T.useEffect(()=>{if(localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")){e("/app",{replace:!0});return}const A=new URLSearchParams(t.hash.substring(1)),F=A.get("access_token");A.get("type")==="signup"&&F&&e(`/email-confirmation#${t.hash.substring(1)}`,{replace:!0})},[t,e]),T.useEffect(()=>{const b=window.matchMedia("(prefers-reduced-motion: reduce)").matches;n.current=b;const A=r.current;if(!A||b)return;let F=0;const z={x:0,y:0},D={x:0,y:0},M=H=>{const E=A.getBoundingClientRect(),R=E.left+E.width/2,G=E.top+E.height/2;z.x=(H.clientX-R)/E.width,z.y=(H.clientY-G)/E.height},Q=()=>{D.x+=(z.x-D.x)*.06,D.y+=(z.y-D.y)*.06,A.querySelectorAll("[data-depth]").forEach(E=>{const R=parseFloat(E.getAttribute("data-depth")||"0"),G=D.x*R*30,U=D.y*R*30;E.style.transform=`translate3d(${G}px, ${U}px, 0)`}),F=requestAnimationFrame(Q)};return A.addEventListener("mousemove",M),F=requestAnimationFrame(Q),()=>{cancelAnimationFrame(F),A.removeEventListener("mousemove",M)}},[]);const s=T.useMemo(()=>[{text:"Salut, je suis Zélia.",durationMs:1200},{text:"On va explorer tes intérêts et tes forces pour t'éclairer sur des métiers et des études.",durationMs:3800},{text:"Tu es prêt ? C'est simple et ça ne prend que quelques minutes.",durationMs:2600}],[]),[i,a]=T.useState(0),o=s[i]||{text:"",durationMs:1e3},{text:u,done:d,skip:f}=vj(o.text,o.durationMs),p=d&&i<s.length-1,y=d&&i===s.length-1,g=()=>a(b=>Math.min(b+1,s.length-1)),N=()=>e("/avatar"),[S,j]=T.useState(!1),x=!d;T.useEffect(()=>{if(!x)return;const b=setInterval(()=>j(A=>!A),280);return()=>clearInterval(b)},[x]);const w=T.useMemo(()=>{const b=yj("zelia");return x?O2(b,{mouth:S?"happy05":"happy08"}):O2(b,{mouth:"happy05"})},[x,S]);return T.useEffect(()=>{const b=Array.from(document.querySelectorAll(".reveal"));if(!b.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){b.forEach(z=>z.classList.add("show"));return}const F=new IntersectionObserver(z=>{z.forEach(D=>{D.isIntersecting&&D.target.classList.add("show")})},{threshold:.15});return b.forEach(z=>F.observe(z)),()=>F.disconnect()},[]),c.jsxs("div",{className:"aximo-all-section landing-lock",style:{background:"#fffbf7",color:"#000"},children:[c.jsxs("section",{className:"landing-hero parallax-hero fullscreen",ref:r,children:[c.jsxs("div",{className:"parallax-scene","aria-hidden":"true",children:[c.jsx("div",{className:"layer layer-sky","data-depth":"0.05"}),c.jsx("div",{className:"layer layer-hill-1","data-depth":"0.18"}),c.jsx("div",{className:"layer layer-hill-2","data-depth":"0.26"}),c.jsx("div",{className:"layer layer-dots","data-depth":"0.35"})]}),c.jsx("nav",{className:"hero-overlay-nav modern-nav",children:c.jsx("div",{className:"container",children:c.jsxs("div",{className:"nav-content",children:[c.jsx(rl,{to:"/",className:"brand-logo","aria-label":"Accueil",children:c.jsx("img",{src:"/assets/images/logo-dark.png",alt:"Zélia",className:"logo-image"})}),c.jsxs("div",{className:"nav-actions",children:[c.jsxs("button",{className:"nav-link-btn",onClick:()=>e("/avatar"),children:[c.jsx("span",{children:"Questionnaire"}),c.jsx("div",{className:"btn-highlight"})]}),c.jsx("button",{className:"nav-cta-btn",onClick:()=>e("/login"),children:c.jsx("span",{children:"Se connecter"})})]})]})})}),c.jsx("div",{className:"container position-relative hero-center",style:{zIndex:2},children:c.jsxs("div",{className:"row align-items-center justify-content-between g-5 hero-two-col",children:[c.jsx("div",{className:"col-lg-6",children:c.jsxs("div",{className:"chat-section reveal",children:[c.jsxs("div",{className:"chat-container",children:[c.jsx("div",{className:"chat-header",children:c.jsxs("div",{className:"chat-status",children:[c.jsx("span",{className:"status-dot active"}),c.jsx("span",{className:"status-text",children:"Zélia est en ligne"})]})}),c.jsx("div",{className:"chat-messages",children:c.jsxs("div",{className:`message-bubble ${d?"complete":"typing"}`,children:[c.jsx("div",{className:"message-content",children:c.jsxs("p",{className:"message-text",children:[u,c.jsx("span",{className:`typing-cursor ${d?"hide":""}`,children:"▍"})]})}),c.jsxs("div",{className:"message-actions",children:[p&&c.jsxs("button",{className:"action-btn secondary",onClick:g,children:[c.jsx("span",{children:"Suivant"}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:c.jsx("path",{d:"M9 18l6-6-6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),!p&&!y&&c.jsx("button",{className:"action-btn ghost",onClick:f,children:c.jsx("span",{children:"Passer"})}),y&&c.jsxs("button",{className:"action-btn primary",onClick:N,children:[c.jsx("span",{children:"Commencer maintenant"}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:c.jsx("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),c.jsx("div",{className:"conversation-progress",children:s.map((b,A)=>c.jsx("div",{className:`progress-dot ${A<=i?"active":""}`},A))})]})})]}),c.jsx("div",{className:"avatar-container",children:c.jsxs("div",{className:`avatar-frame modern ${d?"idle":"speaking"}`,children:[c.jsx("div",{className:"avatar-image",children:c.jsx("img",{src:w,alt:"Avatar Zélia",loading:"eager"})}),c.jsx("div",{className:"avatar-ring"})]})})]})}),c.jsx("div",{className:"col-lg-5",children:c.jsx("div",{className:"brand-section reveal",children:c.jsxs("div",{className:"brand-content",children:[c.jsxs("h1",{className:"brand-title",children:["zé",c.jsx("span",{className:"accent-text",children:"li"}),"a"]}),c.jsxs("div",{className:"brand-tagline",children:[c.jsx("div",{className:"tagline-icon",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:c.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",fill:"currentColor"})})}),c.jsx("span",{className:"tagline-text",children:"LA COPILOTE DE L'AVENIR PROFESSIONNEL"})]}),c.jsx("div",{className:"brand-stats",children:c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-number",children:"98%"}),c.jsx("div",{className:"stat-label",children:"des utilisateurs ont appris quelque chose sur eux-mêmes"})]})}),c.jsxs("div",{className:"brand-features",children:[c.jsx("div",{className:"feature-item",children:c.jsx("span",{children:"Jeu d'orientation intelligent"})}),c.jsx("div",{className:"feature-item",children:c.jsx("span",{children:"Orientation ultra personnalisée"})}),c.jsx("div",{className:"feature-item",children:c.jsx("span",{children:"Accompagnement continu"})})]})]})})})]})})]}),c.jsx("section",{className:"levels-section",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"levels-content",children:[c.jsx("div",{className:"levels-grid",children:[{levels:"1-5",title:"Exploration",emoji:"🌟",description:"Découvre tes premiers intérêts",current:!0},{levels:"6-10",title:"Intérêts & Forces",emoji:"💪",description:"Identifie tes points forts"},{levels:"11-15",title:"Recherche Métiers",emoji:"🔍",description:"Explore les métiers qui te correspondent"},{levels:"16-20",title:"Immersions",emoji:"🤝",description:"Rencontre des professionnels"},{levels:"21-25",title:"Compétences",emoji:"🎯",description:"Développe tes soft skills"},{levels:"26-30",title:"CV & LM",emoji:"📄",description:"Crée tes premiers documents"},{levels:"31-35",title:"Parcoursup",emoji:"🎓",description:"Prépare ton dossier d'excellence"},{levels:"36-40",title:"Oraux",emoji:"🎤",description:"Maîtrise tes entretiens"}].map((b,A)=>c.jsxs("div",{className:`level-card ${b.current?"current":""}`,children:[c.jsx("div",{className:"level-emoji",children:b.emoji}),c.jsxs("div",{className:"level-info",children:[c.jsxs("div",{className:"level-range",children:["Niveaux ",b.levels]}),c.jsx("div",{className:"level-title",children:b.title}),c.jsx("div",{className:"level-description",children:b.description})]}),b.current&&c.jsx("div",{className:"current-badge",children:c.jsx("span",{children:"En cours"})})]},A))}),c.jsxs("div",{className:"levels-cta",children:[c.jsx("p",{className:"levels-cta-text",children:"Prêt(e) à commencer ton parcours d'orientation personnalisé ?"}),c.jsx("button",{onClick:()=>e("/app/questionnaire"),className:"levels-cta-btn",children:"Débuter le Niveau 1"})]})]})})})]})}function xp(e){return(e||"").replace("#","")}function F2(e,t){const r="https://api.dicebear.com/9.x/lorelei/svg",n=new URLSearchParams;return n.set("seed",e.seed||"zelia"),n.set("size",String(t)),n.set("radius",String(e.radius??30)),e.bg&&(n.set("backgroundType","solid"),n.set("backgroundColor",xp(e.bg))),e.skin&&n.set("skinColor",xp(e.skin)),e.hair&&n.set("hairColor",xp(e.hair)),e.glasses===!0?(n.set("accessories","glasses"),n.set("accessoriesProbability","100")):n.set("accessoriesProbability","0"),`${r}?${n.toString()}`}const bj=["#F2F4F7","#E3F2FD","#FFF7E6","#FDE7E9","#EAF7F0","#F3E8FF","#FFFFFF"],wj=["#f9d7b8","#f1c89e","#d9a275","#c68642","#8d5524","#6d3b1f"],_j=["#2f2f2f","#3b2c2a","#6b4423","#a55728","#b58143","#e6c28b"];function Nj(){const e=nn(),[t,r]=T.useState({seed:"zelia",bg:"#F2F4F7",skin:"#f7c9a9",hair:"#3b2c2a",glasses:!1,radius:30}),[n,s]=T.useState(!1);localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");const i=T.useMemo(()=>F2(t,360),[t]);function a(f){r(p=>({...p,...f}))}function o(f){return f[Math.floor(Math.random()*f.length)]}function u(){r(f=>({...f,seed:Math.random().toString(36).slice(2,10),bg:o(bj),skin:o(wj),hair:o(_j),glasses:Math.random()>.6}))}async function d(){s(!0);const f=F2(t,256);localStorage.setItem("avatar_cfg",JSON.stringify(t)),localStorage.setItem("avatar_url",f);try{await Lt.post("/api/results/avatar/temp",{...t,url:f,provider:"dicebear/lorelei"})}catch(p){console.warn("Failed to store avatar temporarily:",p)}finally{e("/questionnaire"),s(!1)}}return c.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-5xl py-10",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Crée ton avatar"}),c.jsx("p",{className:"text-text-secondary",children:"Personnalise ton avatar, il te suivra tout au long de l'expérience."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[c.jsx("div",{className:"md:col-span-5",children:c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6 grid place-items-center",children:c.jsx("img",{src:i,alt:"avatar",className:"max-w-full"})})}),c.jsxs("div",{className:"md:col-span-7",children:[c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Nom (seed)"}),c.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",type:"text",value:t.seed,onChange:f=>a({seed:f.target.value})})]}),c.jsxs("div",{className:"md:col-span-6",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Rayon"}),c.jsx("input",{className:"w-full",type:"range",min:"0",max:"50",value:t.radius,onChange:f=>a({radius:Number(f.target.value)})})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Fond"}),c.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.bg,onChange:f=>a({bg:f.target.value})})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Peau"}),c.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.skin,onChange:f=>a({skin:f.target.value})})]}),c.jsxs("div",{className:"md:col-span-4",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cheveux"}),c.jsx("input",{className:"w-full h-10 p-1 border border-line rounded-lg",type:"color",value:t.hair,onChange:f=>a({hair:f.target.value})})]}),c.jsxs("div",{className:"md:col-span-6 flex items-center gap-2 mt-2",children:[c.jsx("input",{id:"glasses",type:"checkbox",className:"h-4 w-4",checked:t.glasses,onChange:f=>a({glasses:f.target.checked})}),c.jsx("label",{htmlFor:"glasses",className:"text-sm text-text-secondary",children:"Lunettes"})]})]})}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[c.jsx("button",{className:"h-10 px-4 rounded-lg border border-line",onClick:u,children:"Au hasard"}),c.jsx("button",{className:"h-10 px-4 rounded-lg bg-black text-white",onClick:d,disabled:n,children:"Enregistrer"})]})]})]})]})})}class lu extends Error{}lu.prototype.name="InvalidTokenError";function Sj(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function jj(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Sj(t)}catch{return atob(t)}}function kx(e,t){if(typeof e!="string")throw new lu("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new lu(`Invalid token specified: missing part #${r+1}`);let s;try{s=jj(n)}catch(i){throw new lu(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new lu(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}function kj(){const[e,t]=T.useState(null),[r,n]=T.useState(!0),[s,i]=T.useState(""),[a,o]=T.useState({type:"",analysis:"",skills:"",jobs:"",studies:""}),[u,d]=T.useState("orientation"),[f,p]=T.useState(null),y=()=>{const A=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!A)return null;try{const F=kx(A);return F.sub||F.user_id||F.id}catch(F){return console.error("Error decoding token:",F),null}};T.useEffect(()=>{S(),g()},[]);const g=async()=>{var A,F,z;try{const D=await og.get().catch(()=>null),M=((A=D==null?void 0:D.data)==null?void 0:A.level)||((z=(F=D==null?void 0:D.data)==null?void 0:F.progression)==null?void 0:z.level)||null;M&&p(M)}catch(D){console.warn("Progression load failed (non-blocking):",D)}},N=(A,F,{seed:z,eyes:D,mouth:M}={})=>{let Q=typeof A=="string"&&A.startsWith("http")?A:"https://api.dicebear.com/7.x/adventurer/svg";try{const H=new URL(Q);return z&&!H.searchParams.has("seed")&&H.searchParams.set("seed",String(z)),D&&H.searchParams.set("eyes",D),M&&H.searchParams.set("mouth",M),H.toString()}catch{return`https://api.dicebear.com/7.x/adventurer/svg?seed=${encodeURIComponent(z||"user")}`}};T.useEffect(()=>{if(!e)return;const A=y()||"user",F=e.avatarUrlBase||"",z=e.avatarConfig||null,D=Array.from({length:24},(E,R)=>`variant${String(R+1).padStart(2,"0")}`),M=["happy01","happy02","happy03"],Q=E=>E[Math.floor(Math.random()*E.length)],H=(E={})=>N(F,z,{seed:A,...E});o({type:H({eyes:Q(D)}),analysis:H({mouth:Q(M)}),skills:H({eyes:Q(D),mouth:Q(M)}),jobs:H({eyes:Q(D)}),studies:H({mouth:Q(M)})})},[e]);const S=async()=>{var A,F,z,D,M,Q,H;n(!0),i("");try{const E=await bt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});t(E.data.results)}catch(E){if(((A=E.response)==null?void 0:A.status)===404){const R=y();if(R)try{await bt.post("/analysis/generate-analysis",{userId:R});const G=await bt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});t(G.data.results);return}catch{try{await bt.post("/results/generate");const U=await bt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}});if((F=U==null?void 0:U.data)!=null&&F.results&&(U.data.results.personalityAnalysis||U.data.results.skillsAssessment||(U.data.results.jobRecommendations??[]).length>0||(U.data.results.studyRecommendations??[]).length>0)){t(U.data.results);return}const le=await bt.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),re=(D=(z=le==null?void 0:le.data)==null?void 0:z.results)==null?void 0:D.analysis;if(re){const fe=j(re);t(fe);return}}catch(U){console.error("Fallback analysis failed:",U)}}t(null)}else((M=E.response)==null?void 0:M.status)===401?i("Utilisateur non authentifié"):(console.error("Error loading results:",E),i(((H=(Q=E.response)==null?void 0:Q.data)==null?void 0:H.error)||"Erreur lors du chargement des résultats"))}finally{n(!1)}},j=A=>{var F,z,D;return{personalityType:A.personality_type||"Profil non déterminé",personalityAnalysis:[(F=A.strengths)!=null&&F.length?`Forces clés: ${A.strengths.join(", ")}`:null,(z=A.recommendations)!=null&&z.length?`Recommandations: ${A.recommendations.join(`
- `)}`:null].filter(Boolean).join(`

`),skillsAssessment:(D=A.strengths)!=null&&D.length?`Compétences mises en avant: ${A.strengths.join(", ")}`:"",jobRecommendations:(A.career_matches||[]).map(M=>({title:M.title,skills:[]})),studyRecommendations:[],avatarUrlBase:null,avatarConfig:null,createdAt:A.completion_date,updatedAt:A.completion_date}};if(r)return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),c.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de votre questionnaire"})]}),b(),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement..."})]})]});if(s)return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),c.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de votre questionnaire"})]}),b(),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Erreur"}),c.jsx("p",{className:"text-text-secondary",children:s})]})]});if(!e)return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),c.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de votre questionnaire"})]}),b(),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun résultat disponible"}),c.jsx("p",{className:"text-text-secondary",children:"Vous n'avez pas encore de résultats enregistrés. Une fois le questionnaire complété et l'analyse effectuée, vos résultats apparaîtront ici."})]})]});const x=()=>{const A=e.inscriptionResults||e;return A?c.jsxs("div",{className:"space-y-6",children:[A.personalityType&&c.jsxs("div",{className:"relative bg-gradient-to-r from-gray-50 to-gray-100 border border-gray-200 rounded-xl shadow-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Profil d'orientation"})]}),c.jsx("p",{className:"text-gray-800 font-semibold text-lg",children:A.personalityType})]}),A.personalityAnalysis&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Analyse d'orientation"})]}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:A.personalityAnalysis})})]}),A.skillsAssessment&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Compétences clés"})]}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:A.skillsAssessment})})]}),A.jobRecommendations&&A.jobRecommendations.length>0&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Idées de métiers"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.jobRecommendations.map((F,z)=>c.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:F.title}),(F.skills||[]).length>0&&c.jsx("ul",{className:"text-sm text-orange-700 list-disc list-inside",children:F.skills.map((D,M)=>c.jsx("li",{children:D},M))})]},z))})]}),A.studyRecommendations&&A.studyRecommendations.length>0&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Pistes d'études"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.studyRecommendations.map((F,z)=>c.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:F.degree}),c.jsx("p",{className:"text-sm text-teal-700",children:F.type})]},z))})]})]}):null},w=()=>(f||0)<4?c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center shadow-card",children:[c.jsx("h2",{className:"text-xl font-bold text-yellow-800 mb-2",children:"Analyse de personnalité"}),c.jsx("p",{className:"text-yellow-700",children:"Sera disponible au niveau 4."}),f!==null&&c.jsxs("p",{className:"mt-2 text-sm text-yellow-600",children:["Niveau actuel : ",f]})]}):c.jsxs("div",{className:"space-y-6",children:[e.personalityType&&c.jsxs("div",{className:"relative bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-card p-6",children:[a.type&&c.jsx("img",{src:a.type,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),c.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"Type de personnalité"})]}),c.jsx("p",{className:"text-blue-800 font-semibold text-lg",children:e.personalityType})]}),e.personalityAnalysis&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.analysis&&c.jsx("img",{src:a.analysis,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Analyse de personnalité"})]}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:e.personalityAnalysis})})]}),e.skillsAssessment&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.skills&&c.jsx("img",{src:a.skills,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Évaluation des compétences"})]}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap text-text-primary leading-relaxed",children:e.skillsAssessment})})]}),e.jobRecommendations&&e.jobRecommendations.length>0&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.jobs&&c.jsx("img",{src:a.jobs,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jobRecommendations.map((A,F)=>c.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:A.title}),c.jsxs("div",{className:"text-sm text-orange-700",children:[c.jsx("span",{className:"font-medium",children:"Compétences requises:"}),c.jsx("ul",{className:"mt-1 list-disc list-inside",children:(A.skills||[]).map((z,D)=>c.jsx("li",{children:z},D))})]})]},F))})]}),e.studyRecommendations&&e.studyRecommendations.length>0&&c.jsxs("div",{className:"relative bg-surface border border-line rounded-xl shadow-card p-6",children:[a.studies&&c.jsx("img",{src:a.studies,alt:"Avatar",className:"absolute right-4 top-4 w-14 h-14 rounded-full border border-white shadow-sm bg-white object-contain"}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),c.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'études"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.studyRecommendations.map((A,F)=>c.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:A.degree}),c.jsx("p",{className:"text-sm text-teal-700",children:A.type})]},F))})]})]});function b(){return c.jsxs("div",{className:"flex gap-3 mt-4",children:[c.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border transition ${u==="orientation"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,onClick:()=>d("orientation"),children:"Résultats d'orientation"}),c.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium border transition ${u==="personality"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,onClick:()=>d("personality"),children:"Analyse de personnalité"})]})}return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mes Résultats"}),c.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée basée sur vos réponses"}),b()]}),u==="orientation"?x():w()]})}function Ax(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")try{const n=new URL(e.avatar);return n.searchParams.has("seed")||n.searchParams.set("seed",String(t)),n.searchParams.has("size")||n.searchParams.set("size","300"),n.toString()}catch{}if(e!=null&&e.avatar_json){let n=e.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function Aj(e,t="zelia"){if(!e)return"";try{if(e.avatarUrlBase&&typeof e.avatarUrlBase=="string")try{const r=new URL(e.avatarUrlBase);return r.searchParams.has("seed")||r.searchParams.set("seed",String(t)),r.searchParams.has("size")||r.searchParams.set("size","300"),r.toString()}catch{}if(e.avatarConfig){let r=e.avatarConfig;if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}if(r&&typeof r=="object"){if(r.url&&typeof r.url=="string")try{const s=new URL(r.url);return s.searchParams.has("seed")||s.searchParams.set("seed",String(t)),s.searchParams.has("size")||s.searchParams.set("size","300"),s.toString()}catch{}const n=new URLSearchParams;return n.set("seed",String(t)),Object.entries(r).forEach(([s,i])=>{i!=null&&i!==""&&n.set(s,String(i))}),n.has("size")||n.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${n.toString()}`}}}catch{}return""}function Lj({profile:e,analysis:t,seed:r="zelia"}){const n=Aj(t,r);return n||Ax(e,r)}const sl=50,Lx=10,Pj=[{id:"complete_test",label:"Test d'orientation"},{id:"explore_interests",label:"Explorer mes centres d'intérêt"},{id:"watch_intro",label:"Vidéo d'introduction"},{id:"strengths_quiz",label:"Quiz sur mes forces"},{id:"personality_test",label:"Test de personnalité"},{id:"values_exploration",label:"Définir mes valeurs"},{id:"job_research",label:"Rechercher des métiers"},{id:"salary_analysis",label:"Analyser les salaires"},{id:"job_videos",label:"Vidéos métiers"},{id:"schedule_meeting",label:"Planifier un entretien"},{id:"prepare_questions",label:"Préparer des questions"},{id:"company_visit",label:"Visite d'entreprise virtuelle"},{id:"soft_skills_assessment",label:"Éval. des soft skills"},{id:"star_method",label:"Méthode STAR"},{id:"leadership_test",label:"Test de leadership"},{id:"cv_builder",label:"Générateur de CV"},{id:"cover_letter",label:"Lettre de motivation"},{id:"cv_review",label:"Révision du CV"},{id:"projet_motive",label:"Projet motivé"},{id:"voeux_strategy",label:"Stratégie de vœux"},{id:"calendar_planning",label:"Planifier le calendrier"},{id:"pitch_practice",label:"Pitch 60s"},{id:"interview_simulation",label:"Simulation d'entretien"},{id:"confidence_building",label:"Confiance en soi"},{id:"portfolio_review",label:"Révision du portfolio"},{id:"coherence_check",label:"Vérification de cohérence"},{id:"final_polish",label:"Finitions"},{id:"mentor_others",label:"Mentorat"},{id:"success_story",label:"Partager mon histoire"},{id:"expert_badge",label:"Badge expert"}],lg=Array.from({length:sl},(e,t)=>{const r=t+1,n=Pj[t];if(n)return{level:r,id:n.id,label:n.label};const s=String(r).padStart(2,"0");return{level:r,id:`level_${s}`,label:`Mission Niveau ${r}`}}),Ej=new Map(lg.map(e=>[e.level,e.id])),M2=new Map(lg.map(e=>[e.id,e.label])),V8=lg.map(e=>e.id),Px={level:1,xp:0,quests:[],perks:[]};function Cj(e){const t=Number(e);if(!Number.isFinite(t))return null;const r=Math.max(1,Math.min(Math.floor(t),sl));return Ej.get(r)||null}function W8(e){if(!e)return"";if(M2.has(e))return M2.get(e);const t=/^level_(\d{1,3})$/.exec(String(e));if(t){const r=Number(t[1]);if(Number.isFinite(r))return`Mission Niveau ${r}`}return e}function Td(){return{...Px}}async function ug(){try{const e=await og.get();return{...Px,...(e==null?void 0:e.data)||{}}}catch(e){return console.warn("fetchProgression failed, returning default progression",e),Td()}}async function rc({minLevel:e=null,xpReward:t=0}={}){const r=await ug(),n=Number(r.level)||1;let s=Math.min(n+1,sl);e&&s<e&&(s=Math.min(e,sl));const i=(Number(r.xp)||0)+(Number(t)||0),a=Array.isArray(r.quests)?r.quests.filter(Boolean):[],o=[];if(s>n)for(let d=n;d<s;d+=1){const f=Cj(d);f&&o.push(f)}const u=Array.from(new Set([...a,...o]));return await og.update({level:s,xp:i,quests:u,perks:r.perks||[]}),{previousLevel:n,newLevel:s,xp:i,questsCompleted:o}}function H8({targetLevel:e,progression:t,hasPaid:r,paidGateLevel:n=Lx}){const s=Math.max(1,Math.min(Number(e)||1,sl)),i=Math.max(1,Number(t==null?void 0:t.level)||1);return s<=i||s===i+1?!(s>n&&!r):!1}function G8({progression:e,hasPaid:t,paidGateLevel:r=Lx}){const n=Math.max(1,Number(e==null?void 0:e.level)||1),s=t?sl:r;return n>s?s:n}const Ij={bg:"#f7f9fc",accent1:"#c1ff72",accent2:"#f68fff",text:"#000000"},Tj="/assets/images/logo-dark.png",D2={ISTJ:["Comptable","Contrôleur qualité","Analyste financier","Gestionnaire logistique","Responsable conformité"],ISFJ:["Assistant social","Infirmier","Gestionnaire RH","Coordinateur pédagogique","Orthophoniste"],INFJ:["Psychologue","Coach","Rédacteur","UX Writer","Conseiller d’orientation"],INTJ:["Data Scientist","Architecte logiciel","Consultant stratégie","Chercheur","Chef de produit technique"],ISTP:["Technicien industriel","Développeur embarqué","Mécanicien de précision","Pilote de ligne","Secops Analyst"],ISFP:["Designer graphique","Photographe","Styliste","Illustrateur","Ergonome"],INFP:["Écrivain","Psychologue","UX Designer","Métiers de l’édition","Chargé de communication"],INTP:["Développeur","Chercheur IA","Analyste systèmes","Ingénieur R&D","Architecte données"],ESTP:["Commercial","Entrepreneur","Chef de chantier","Événementiel","Responsable opérations"],ESFP:["Animateur","Community Manager","Événementiel","Vente retail","Chargé de projets culturels"],ENFP:["Créatif publicitaire","Chef de projet innovation","Conseiller en insertion","Chargé de communication","Formateur"],ENTP:["Growth Hacker","Entrepreneur","Consultant innovation","Chef de produit","Stratège digital"],ESTJ:["Chef de projet","Manager logistique","Responsable qualité","Administrateur systèmes","Gestion de production"],ESFJ:["RH","Conseiller clientèle","Enseignant","Coordinateur événementiel","Chargé de mission associative"],ENFJ:["Coach","Formateur","Consultant RH","Responsable partenariats","Chef de projet communautaire"],ENTJ:["Directeur produit","Consultant stratégie","Sales Manager","Entrepreneur","Project Director"]};function Rj(e){if(!e)return null;const t=e.match(/\(([IE][NS][FT][JP])\)/i);return t?t[1].toUpperCase():null}function Oj(e,t=34){return!e||typeof e!="string"?"":e.length>t?`${e.slice(0,t-1)}…`:e}function Fj(e,t=3){if(!e||typeof e!="string")return[];const r=e.split(/\r?\n/).map(s=>s.trim()).filter(Boolean),n=[];for(const s of r){let i=s.replace(/^[-•–]\s+/,"").replace(/^\d+\.\s*/,"").trim();if(i.includes(":")&&(i=i.split(":")[0].trim()),i.length>60&&(i=`${i.slice(0,57)}…`),i&&n.push(i),n.length>=t)break}return n}function B2(e){return new Promise((t,r)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>t(n),n.onerror=r,n.src=e})}async function Mj(){if(!(typeof document>"u"||!("fonts"in document)))try{const e=new FontFace("ClashGroteskSemibold",'url(/static/fonts/ClashGroteskSemibold.woff2) format("woff2")');await e.load(),document.fonts.add(e);try{const t=new FontFace("Bricolage Grotesque",'url("https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&display=swap")');await t.load(),document.fonts.add(t)}catch(t){console.warn("Bricolage Grotesque not available, using ClashGroteskSemibold",t)}await document.fonts.load('800 88px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 64px "Bricolage Grotesque", "ClashGroteskSemibold"'),await document.fonts.load('800 48px "Bricolage Grotesque", "ClashGroteskSemibold"')}catch(e){console.warn("Canvas font load failed, falling back to system fonts",e)}}function Dj(e){if(!e)return[];const t=Array.isArray(e==null?void 0:e.jobRecommendations)?e.jobRecommendations.slice(0,3):[];if(t.length>0)return t;const r=Rj(e==null?void 0:e.personalityType);return r&&D2[r]?D2[r].slice(0,3).map(n=>({title:n})):[]}async function Ex({analysis:e,avatarUrl:t,logoPath:r=Tj,colors:n=Ij,width:s=1080,height:i=1920}){if(!e)return"";try{await Mj();const a=document.createElement("canvas");a.width=s,a.height=i;const o=a.getContext("2d"),u=o.createLinearGradient(0,0,0,i);u.addColorStop(0,n.bg),u.addColorStop(1,"#ffffff"),o.fillStyle=u,o.fillRect(0,0,s,i),o.fillStyle=n.accent1,o.fillRect(0,0,s,80),o.fillStyle="#c1ff72",o.fillRect(0,i-200,s,200);try{const A=await B2(r),z=280*.6,D=A.height/A.width*z,M=(s-z)/2,Q=i-180+(180-D)/2;o.drawImage(A,M,Q,z,D)}catch(A){console.warn("Logo not loaded for share image",A)}const d=(e==null?void 0:e.personalityType)||"Profil MBTI";o.fillStyle=n.text,o.font='800 120px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, -apple-system, sans-serif',o.textAlign="center",o.textBaseline="top";const f=d.split(" ");let p="",y=630;const g=s-80;for(let A=0;A<f.length;A+=1){const F=`${p}${f[A]} `;o.measureText(F).width>g&&A>0?(o.fillText(p.trim(),s/2,y),p=`${f[A]} `,y+=130):p=F}if(o.fillText(p.trim(),s/2,y),t)try{const A=await B2(t),F=420,z=(s-F)/2,D=180;o.save(),o.shadowColor="rgba(0,0,0,0.15)",o.shadowBlur=20,o.shadowOffsetY=10,o.beginPath(),o.arc(z+F/2,D+F/2,F/2,0,Math.PI*2),o.closePath(),o.clip(),o.drawImage(A,z,D,F,F),o.restore(),o.beginPath(),o.arc(z+F/2,D+F/2,F/2+8,0,Math.PI*2),o.strokeStyle=n.accent1,o.lineWidth=6,o.stroke()}catch(A){console.warn("Avatar not loaded for share image",A)}const N=Fj((e==null?void 0:e.skillsAssessment)||"",3);o.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',o.fillStyle=n.text,o.textAlign="center";const S=y+150;o.fillText("Qualités",s/2,S),o.font="600 40px system-ui, -apple-system, sans-serif";let j=S+80;N.forEach((A,F)=>{const M=o.measureText(A).width,Q=Math.min(M+30*2,s-80),H=70,E=(s-Q)/2,R=j,G=o.createLinearGradient(E,R,E+Q,R+H),U=F%2===0?n.accent1:n.accent2,le=F%2===0?"#a8f542":"#e859d9";G.addColorStop(0,U),G.addColorStop(1,le),o.fillStyle=G,o.beginPath();const re=35;o.moveTo(E+re,R),o.arcTo(E+Q,R,E+Q,R+H,re),o.arcTo(E+Q,R+H,E,R+H,re),o.arcTo(E,R+H,E,R,re),o.arcTo(E,R,E+Q,R,re),o.closePath(),o.fill(),o.fillStyle="#000",o.font="600 40px system-ui, -apple-system, sans-serif",o.textAlign="center",o.fillText(A,E+Q/2,R+20+10),j+=H+25});const x=Dj(e),w=j+20;o.fillStyle=n.text,o.font='800 80px "Bricolage Grotesque", "ClashGroteskSemibold", system-ui, sans-serif',o.fillText("Top métiers",s/2+20,w),o.font="600 50px system-ui, -apple-system, sans-serif",o.fillStyle=n.text;let b=w+80;return x.forEach((A,F)=>{const z=typeof A=="string"?A:(A==null?void 0:A.title)||"";if(!z)return;const D=Oj(z,35);o.save(),o.fillStyle=F%2===0?n.accent1:n.accent2;const M=s/2-250,Q=b+25;o.beginPath(),o.arc(M,Q,25,0,Math.PI*2),o.fill(),o.fillStyle="#000",o.font="700 28px system-ui, sans-serif",o.textAlign="center",o.fillText(String(F+1),M,Q-2),o.restore(),o.fillStyle=n.text,o.font="600 50px system-ui, -apple-system, sans-serif",o.textAlign="center",o.fillText(D,s/2+30,b+5),b+=70}),a.toDataURL("image/png")}catch(a){return console.error("Share image generation failed",a),""}}const Bj=4,Uj=[{key:"firstName",label:"Prénom",type:"text",placeholder:"Votre prénom"},{key:"lastName",label:"Nom",type:"text",placeholder:"Votre nom"},{key:"age",label:"Âge",type:"number",placeholder:"ex: 18"},{key:"gender",label:"Genre",type:"text",placeholder:"ex: Femme / Homme / Autre"},{key:"department",label:"Département",type:"text",placeholder:"ex: 75"},{key:"school",label:"École / Formation",type:"text",placeholder:"Votre établissement"},{key:"phoneNumber",label:"Téléphone",type:"tel",placeholder:"ex: 06 12 34 56 78"}];function bp(e){return{firstName:(e==null?void 0:e.first_name)||(e==null?void 0:e.prenom)||"",lastName:(e==null?void 0:e.last_name)||(e==null?void 0:e.nom)||"",age:(e==null?void 0:e.age)!=null?String(e.age):"",gender:(e==null?void 0:e.gender)||(e==null?void 0:e.genre)||"",department:(e==null?void 0:e.department)||(e==null?void 0:e.departement)||"",school:(e==null?void 0:e.school)||(e==null?void 0:e.ecole)||"",phoneNumber:(e==null?void 0:e.phone_number)||(e==null?void 0:e.numero_telephone)||(e==null?void 0:e.numeroTelephone)||""}}function U2(e){return e?Array.isArray(e)?e.map(t=>typeof t=="string"?t.trim():"").filter(Boolean).join(`
`):typeof e=="string"?e.trim():"":""}function zj(e){return Array.isArray(e)?e.map((t,r)=>{if(!t)return null;if(typeof t=="string")return{id:r,title:t.trim(),skills:[]};if(typeof t=="object"){const n=(t.title||t.role||t.name||"").trim(),s=t.skills||t.requiredSkills||t.competences||t.tags;let i=[];return Array.isArray(s)?i=s.map(a=>typeof a=="string"?a.trim():"").filter(Boolean):typeof s=="string"&&(i=s.split(/[,;•\n-]/).map(a=>a.trim()).filter(Boolean)),n?{id:r,title:n,skills:i}:null}return null}).filter(Boolean):[]}function qj(){const[e,t]=T.useState(null),[r,n]=T.useState(null),[s,i]=T.useState(null),[a,o]=T.useState(Td()),[u,d]=T.useState(!0),[f,p]=T.useState(""),[y,g]=T.useState(!1),[N,S]=T.useState(!1),[j,x]=T.useState(""),[w,b]=T.useState(""),[A,F]=T.useState(bp(null)),[z,D]=T.useState(""),[M,Q]=T.useState(!1),[H,E]=T.useState(""),[R,G]=T.useState(!1),U=T.useRef(!0);T.useEffect(()=>{let oe=!0;return d(!0),(async()=>{var me,je;try{const ke=Os.getProfile(),Fe=Os.getCurrentUser().catch(()=>null),ge=wu.getMyResults().then(De=>{var Je;return((Je=De==null?void 0:De.data)==null?void 0:Je.results)||null}).catch(De=>{var Je;if(((Je=De==null?void 0:De.response)==null?void 0:Je.status)===404)return null;throw De}),J=ug().catch(()=>Td()),[Ue,Be,Ne,Ie]=await Promise.all([ke,Fe,ge,J]);if(!oe)return;const Me=((me=Ue==null?void 0:Ue.data)==null?void 0:me.profile)||(Ue==null?void 0:Ue.data)||null;t(Me),n(((je=Be==null?void 0:Be.data)==null?void 0:je.user)||null),i(Ne),o(Ie||Td())}catch(ke){if(console.error("Profile load error",ke),!oe)return;p("Impossible de charger les informations du profil.")}finally{oe&&d(!1)}})(),()=>{oe=!1}},[]),T.useEffect(()=>{F(bp(e))},[e]),T.useEffect(()=>()=>{U.current=!1},[]);const le=r==null?void 0:r.id,re=Number((a==null?void 0:a.level)||0)>=Bj,fe=T.useMemo(()=>{if(!e&&!s)return"";const oe=le||(e==null?void 0:e.id)||"zelia";return Lj({profile:e,analysis:s,seed:oe})},[s,le,e]),Y=T.useMemo(()=>{var me,je;const oe=(e==null?void 0:e.profile_type)||((me=e==null?void 0:e.institution_data)==null?void 0:me.profile_type)||((je=r==null?void 0:r.user_metadata)==null?void 0:je.profile_type)||"";if(!oe)return"Étudiant";switch(oe){case"student":return"Étudiant";case"company":return"Entreprise";default:return oe}},[r,e]),te=T.useMemo(()=>{if(!s)return null;const oe=s.inscriptionResults||null,me=s.personalityType||(oe==null?void 0:oe.personalityType)||(oe==null?void 0:oe.personality_type)||"",je=U2(s.personalityAnalysis||(oe==null?void 0:oe.personalityAnalysis)||(oe==null?void 0:oe.personality_analysis)),ke=U2(s.skillsAssessment||(oe==null?void 0:oe.skillsAssessment)||(oe==null?void 0:oe.skills_assessment)),Fe=zj(s.jobRecommendations||(oe==null?void 0:oe.jobRecommendations)||(oe==null?void 0:oe.job_recommendations));return{...s,personalityType:me,personalityAnalysis:je,skillsAssessment:ke,jobRecommendations:Fe}},[s]),$=(r==null?void 0:r.email)||(e==null?void 0:e.email)||"",ce=T.useCallback(async()=>{var oe;try{const me=await wu.getMyResults(),je=((oe=me==null?void 0:me.data)==null?void 0:oe.results)||null;return je?(i(ke=>ke?{...ke,...je}:je),je):null}catch(me){return console.warn("Failed to refresh analysis snapshot",me),null}},[]),k=T.useCallback(async({silent:oe=!1,force:me=!1}={})=>{var je;if(!U.current)return"";if(!re||!te||!fe)return oe||E("Tu dois atteindre le niveau 4 et avoir un avatar pour partager ton analyse."),D(""),"";if(M&&!me)return z||te.shareImageUrl||"";if(!me&&te.shareImageUrl)return z!==te.shareImageUrl&&D(te.shareImageUrl),E(""),te.shareImageUrl;Q(!0),oe||E("");try{const ke=await ce(),Fe=ke?{...te,...ke}:te;if(!me&&(Fe!=null&&Fe.shareImageUrl))return U.current&&(D(Fe.shareImageUrl),i(Ue=>Ue&&{...Ue,shareImageUrl:Fe.shareImageUrl})),Fe.shareImageUrl;const ge=await Ex({analysis:Fe,avatarUrl:fe});if(!ge)throw new Error("Empty dataUrl from share image generator");U.current&&D(ge);let J="";try{const Ue=await wu.saveShareImage({dataUrl:ge,questionnaireType:"mbti",metadata:{source:"profile",userId:le||(e==null?void 0:e.id)||(Fe==null?void 0:Fe.userId)||(Fe==null?void 0:Fe.user_id)||null}});J=((je=Ue==null?void 0:Ue.data)==null?void 0:je.url)||""}catch(Ue){console.warn("Failed to upload share image to Cloudinary, keeping local copy",Ue)}return J?(U.current&&(i(Ue=>Ue&&{...Ue,shareImageUrl:J}),D(J)),J):ge}catch(ke){return console.error("Profile share image generation failed",ke),oe||E("Impossible de générer l'image à partager."),""}finally{U.current&&Q(!1)}},[le,fe,re,e==null?void 0:e.id,ce,te,z,M]),q=re&&!!te;T.useEffect(()=>{if(!q){D(""),E(""),Q(!1);return}if(te!=null&&te.shareImageUrl){z!==te.shareImageUrl&&D(te.shareImageUrl),E("");return}if(z)return;let oe=!1;return(async()=>{const me=await k({silent:!0});!oe&&me&&D(me)})(),()=>{oe=!0}},[k,te==null?void 0:te.shareImageUrl,q,z]);const W=T.useCallback(async()=>{const oe=z||await k();if(oe)try{const me=document.createElement("a");me.href=oe,me.download="zelia-mbti-story.png",me.rel="noopener",document.body.appendChild(me),me.click(),document.body.removeChild(me)}catch(me){console.error("Share image download failed",me)}},[k,z]),Z=T.useCallback(async()=>{const oe=z||await k();if(oe){G(!0),E("");try{const je=await(await fetch(oe)).blob(),ke=new File([je],"zelia-mbti-story.png",{type:"image/png"});typeof navigator<"u"&&navigator.canShare&&navigator.canShare({files:[ke]})?await navigator.share({title:(te==null?void 0:te.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zélia — ${(te==null?void 0:te.personalityType)||""}`.trim(),files:[ke]}):(await W(),U.current&&E("Le partage natif n'est pas disponible sur cet appareil. L'image a été téléchargée."))}catch(me){console.warn("Native share failed, falling back to download",me),await W(),U.current&&E("Une erreur est survenue lors du partage. L'image a été téléchargée pour un partage manuel.")}finally{U.current&&G(!1)}}},[k,W,te,z]),se=T.useCallback(async()=>{await k({force:!0})},[k]),X=oe=>me=>{const je=me.target.value;F(ke=>({...ke,[oe]:je})),w&&b(""),j&&x("")},ee=()=>{F(bp(e)),g(!1),x(""),b("")},ue=async oe=>{var me,je;oe.preventDefault(),S(!0),x(""),b("");try{const ke={first_name:A.firstName.trim()||null,last_name:A.lastName.trim()||null,age:A.age?Number(A.age):null,gender:A.gender||null,department:A.department||null,school:A.school||null,phone_number:A.phoneNumber||null},{data:Fe}=await Os.updateProfile(ke),ge=(Fe==null?void 0:Fe.profile)||Fe||{};t(J=>({...J||{},...ge})),b("Profil mis à jour avec succès."),g(!1)}catch(ke){console.error("Profile update error",ke);const Fe=((je=(me=ke==null?void 0:ke.response)==null?void 0:me.data)==null?void 0:je.error)||"Impossible de mettre à jour le profil.";x(Fe)}finally{S(!1)}};return u?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),c.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI à partager"})]}),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]})]}):f?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),c.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI à partager"})]}),c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[c.jsx("div",{className:"text-red-600 text-4xl",children:"!"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:f})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mon Profil"}),c.jsx("p",{className:"text-text-secondary",children:"Informations personnelles et image MBTI à partager"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card flex flex-col items-center text-center",children:[re?fe?c.jsx("img",{src:fe,alt:"Avatar utilisateur",className:"w-40 h-40 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white"}):c.jsx("div",{className:"w-40 h-40 rounded-2xl border border-dashed border-gray-300 flex items-center justify-center text-sm text-gray-500",children:"Avatar indisponible"}):c.jsx("div",{className:"w-40 h-40 rounded-2xl border border-dashed border-gray-300 flex items-center justify-center px-4 text-sm text-gray-500",children:"Une image apparaitra au niveau 4"}),c.jsxs("div",{className:"mt-5 space-y-2 text-sm text-gray-700 w-full",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-text-secondary",children:"Niveau actuel"}),c.jsx("span",{className:"font-semibold",children:(a==null?void 0:a.level)||1})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-text-secondary",children:"Expérience"}),c.jsxs("span",{className:"font-semibold",children:[(a==null?void 0:a.xp)||0," XP"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-text-secondary",children:"Profil"}),c.jsx("span",{className:"font-semibold",children:Y})]})]})]}),c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Informations personnelles"}),c.jsx("p",{className:"text-text-secondary text-sm",children:"Mettez à jour vos coordonnées et préférences"})]}),!y&&c.jsx("button",{type:"button",onClick:()=>{g(!0),b(""),x("")},className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition",children:"Modifier"})]}),w&&c.jsx("div",{className:"mb-4 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:w}),j&&c.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:j}),c.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Uj.map(oe=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:oe.label}),y?c.jsx("input",{type:oe.type,value:A[oe.key]||"",onChange:X(oe.key),placeholder:oe.placeholder,className:"w-full h-11 px-3 rounded-lg border border-line focus:border-black focus:outline-none"}):c.jsx("p",{className:"text-text-primary font-medium min-h-[2.75rem] flex items-center",children:A[oe.key]?A[oe.key]:"Non spécifié"})]},oe.key)),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Adresse email"}),c.jsx("p",{className:"text-text-primary font-medium min-h-[2.75rem] flex items-center",children:$||"Non spécifié"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Identifiant utilisateur"}),c.jsx("p",{className:"text-text-primary font-medium break-all min-h-[2.75rem] flex items-center",children:le||(e==null?void 0:e.id)||"Non disponible"})]})]}),y&&c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:ee,className:"px-4 py-2 rounded-lg border border-line bg-white text-gray-700 hover:bg-gray-50",disabled:N,children:"Annuler"}),c.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition disabled:opacity-60",disabled:N,children:N?"Enregistrement…":"Enregistrer"})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Mon image Niveau 4"}),c.jsx("p",{className:"text-text-secondary text-sm",children:"Téléchargez ou partagez votre visuel MBTI débloqué au niveau 4."})]}),((te==null?void 0:te.updatedAt)||(s==null?void 0:s.updatedAt))&&c.jsxs("span",{className:"text-xs text-text-secondary",children:["Mis à jour le ",new Date((te==null?void 0:te.updatedAt)||(s==null?void 0:s.updatedAt)).toLocaleDateString("fr-FR")]})]}),q?c.jsxs("div",{className:"space-y-5",children:[H&&c.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 px-4 py-3 text-sm text-yellow-800",children:H}),c.jsx("div",{className:"relative border border-line rounded-2xl bg-surface/70 p-4 flex items-center justify-center min-h-[320px]",children:M?c.jsxs("div",{className:"flex flex-col items-center gap-3 py-10",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-sm text-text-secondary",children:"Génération de votre visuel…"})]}):z?c.jsx("img",{src:z,alt:"Aperçu partage MBTI",className:"w-full max-w-[260px] sm:max-w-[320px] md:max-w-[360px] rounded-xl border border-gray-200 shadow-md"}):c.jsx("div",{className:"text-center text-sm text-text-secondary",children:"Cliquez sur « Régénérer » pour créer votre image MBTI."})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 rounded-lg border border-line bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-60",disabled:M,children:M?"Patientez…":"Régénérer"}),c.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 rounded-lg bg-black text-white border border-black hover:opacity-90 transition disabled:opacity-60",disabled:!z||M,children:"Télécharger"}),c.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200 hover:opacity-95 transition disabled:opacity-60",disabled:!z||M||R,children:R?"Partage…":"Partager"})]}),c.jsxs("p",{className:"text-xs text-text-secondary",children:["Astuce : publiez votre story et taguez ",c.jsx("span",{className:"font-semibold",children:"@zelia"})," pour que nous puissions la repartager."]})]}):c.jsxs("div",{className:"bg-surface border border-line rounded-xl shadow-card p-8 text-center",children:[c.jsx("div",{className:"text-text-secondary text-4xl mb-2",children:"✨"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terminez le niveau 4"}),c.jsx("p",{className:"text-text-secondary",children:"Débloquez le niveau 4 pour générer votre image MBTI prête à partager sur vos réseaux."})]})]})]})]})]})}function $j(){const e=nn(),t=li(),[r,n]=T.useState(!1),[s,i]=T.useState(!1),a=T.useRef(null),[o,u]=T.useState(1);T.useEffect(()=>{function N(S){a.current&&!a.current.contains(S.target)&&i(!1)}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),T.useEffect(()=>{let N=!0;return(async()=>{try{const S=await ug();N&&S&&Number.isFinite(Number(S.level))&&u(Number(S.level)||1)}catch{}})(),()=>{N=!1}},[]);const d=N=>N==="/app"?t.pathname==="/app"||t.pathname==="/app/":t.pathname.startsWith(N),f=T.useMemo(()=>{const S=[{match:"/app/profile",label:"Profil"},{match:"/app/formations",label:"Formations"},{match:"/app/emplois",label:"Emplois"},{match:"/app/activites",label:"Activités"},{match:"/app/lettre",label:"Lettre"},{match:"/app/chat",label:"Chat"},{match:"/app/results",label:"Résultats"}].find(j=>t.pathname.startsWith(j.match));return["​",(S==null?void 0:S.label)||"Activités"]},[t.pathname]);function p(){localStorage.removeItem("token"),localStorage.removeItem("supabase_auth_token"),e("/")}const y={formations:6,emplois:9,lettre:12,chat:15},g=N=>Number(o)>=Number(N);return c.jsxs("div",{className:"min-h-screen bg-white text-text-primary",children:[c.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-white border-r border-line z-40 transition-transform ${r?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[c.jsx("div",{className:"h-16 flex items-center justify-center px-6 border-b border-line",children:c.jsx(rl,{to:"/app",className:"flex items-center justify-center",children:c.jsx("img",{src:"/static/images/logo-dark.png",alt:"Logo",className:"h-8"})})}),c.jsxs("nav",{className:"py-4",children:[c.jsx(eu,{to:"/app",icon:"ph-activity",active:d("/app"),onClick:()=>n(!1),locked:!1,children:"Activités"}),c.jsx(eu,{to:"/app/formations",icon:"ph-graduation-cap",active:d("/app/formations"),onClick:()=>n(!1),locked:!g(y.formations),lockTitle:`Niveau ${y.formations}`,children:"Formations"}),c.jsx(eu,{to:"/app/emplois",icon:"ph-briefcase",active:d("/app/emplois"),onClick:()=>n(!1),locked:!g(y.emplois),lockTitle:`Niveau ${y.emplois}`,children:"Emplois"}),c.jsx(eu,{to:"/app/lettre",icon:"ph-file-text",active:d("/app/lettre"),onClick:()=>n(!1),locked:!g(y.lettre),lockTitle:`Niveau ${y.lettre}`,children:"Lettre de motivation"}),c.jsx(eu,{to:"/app/chat",icon:"ph-chats",active:d("/app/chat"),onClick:()=>n(!1),locked:!g(y.chat),lockTitle:`Niveau ${y.chat}`,children:"Chat"})]})]}),c.jsx("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-line md:pl-64",children:c.jsxs("div",{className:"h-16 flex items-center justify-between px-4 sm:px-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"md:hidden p-2 rounded-lg border border-line",onClick:()=>n(!r),"aria-label":"Toggle sidebar",children:c.jsx("i",{className:"ph ph-list text-xl"})}),c.jsx("nav",{className:"text-sm text-text-secondary",children:c.jsx("span",{className:"text-text-primary font-medium",children:f[1]})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 border border-line rounded-lg w-72",children:[c.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),c.jsx("input",{className:"w-full outline-none text-sm bg-transparent",placeholder:"Search shop"}),c.jsx("span",{className:"text-xs text-text-secondary",children:"⌘ K"})]}),c.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50","aria-label":"Notifications",children:c.jsx("i",{className:"ph ph-bell text-xl"})}),c.jsxs("div",{className:"relative",ref:a,children:[c.jsxs("button",{className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50",onClick:()=>i(!s),children:[c.jsx("img",{src:"/static/images/logo-dark.png",className:"w-8 h-8 rounded-full bg-white p-1",alt:"Avatar"}),c.jsx("span",{className:"hidden sm:block text-sm",children:"Utilisateur"}),c.jsx("i",{className:"ph ph-caret-down"})]}),s&&c.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-line rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs(rl,{to:"/app/profile",onClick:()=>i(!1),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[c.jsx("i",{className:"ph ph-user"}),"Profil"]}),c.jsxs("button",{onClick:p,className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",children:[c.jsx("i",{className:"ph ph-sign-out"}),"Déconnexion"]})]})})]})]})]})}),c.jsx("main",{className:"md:pl-64",children:c.jsx("div",{className:"px-4 sm:px-6 py-6",children:c.jsx(a_,{})})})]})}function eu({to:e,icon:t,active:r,children:n,onClick:s,locked:i=!1,lockTitle:a=""}){const o=u=>{i&&(u.preventDefault(),u.stopPropagation()),s&&s(u)};return c.jsxs(rl,{to:e,onClick:o,"aria-disabled":i,title:i?a:void 0,className:`group flex items-center gap-3 px-4 py-2.5 text-sm text-text-primary relative ${r?"bg-gray-50":"hover:bg-gray-50"} ${i?"pointer-events-auto select-none":""}`,children:[c.jsx("span",{className:`absolute left-0 top-0 h-full w-1 ${r?"bg-black":"bg-transparent"} rounded-r`}),c.jsxs("div",{className:`flex items-center gap-3 ${i?"blur-[1px] opacity-60":""}`,children:[c.jsx("i",{className:`ph ${t} text-lg ${r?"text-black":"text-text-secondary"} group-hover:text-black`}),c.jsx("span",{className:`${r?"font-medium":""}`,children:n})]}),i&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-3",children:c.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-text-secondary bg-gray-100 border border-line rounded-full px-2 py-0.5",children:[c.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-[#f68fff]"}),a]})})]})}function Vj(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[s,i]=T.useState(""),[a,o]=T.useState(1),[u,d]=T.useState([]),[f,p]=T.useState(0),[y,g]=T.useState([]),[N,S]=T.useState(null),[j,x]=T.useState(!1),[w,b]=T.useState(!1),[A,F]=T.useState(null),[z,D]=T.useState(!1),M=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),Q=$=>{if($==null)return;const ce=String($).trim();if(!ce)return;const k=ce.toLowerCase();if(!(k==="nan"||k==="null"||k==="undefined"))return ce};async function H($=a){x(!0);try{const ce=w?50:20,{data:k}=await Lt.get("/api/catalog/formations/search",{params:{q:e,region:r||void 0,departement:s||void 0,page:$,page_size:ce},headers:M?{Authorization:`Bearer ${M}`}:{}});d(k.items),p(k.total),o($),g([]),S(null)}finally{x(!1)}}T.useEffect(()=>{let $=!1;return(async()=>{w&&await U(),$||await H(1)})(),()=>{$=!0}},[w]);const E=u.length>0&&y.length===u.length,R=()=>g(E?[]:u.map($=>$.id)),G=$=>g(ce=>ce.includes($)?ce.filter(k=>k!==$):[...ce,$]);async function U(){var $;if(!(A||!M)){D(!0);try{const{data:ce}=await Lt.get("/api/analysis/my-results",{headers:{Authorization:`Bearer ${M}`}}),k=($=ce==null?void 0:ce.results)==null?void 0:$.studyRecommendations;Array.isArray(k)&&F(k)}catch{}finally{D(!1)}}}const le=$=>$?String($).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",re=($,ce)=>{const k=new Set(le($).split(" ").filter(Boolean)),q=new Set(le(ce).split(" ").filter(Boolean));if(k.size===0||q.size===0)return 0;let W=0;return k.forEach(Z=>{q.has(Z)&&W++}),W/(k.size+q.size-W)},fe=$=>{if(!Array.isArray(A)||A.length===0)return 0;const k=(Array.isArray($.nm)?$.nm:[]).find(W=>W)||"";let q=0;for(const W of A){const Z=re(k,W.type),se=re(k,W.degree),X=Math.max(Z,se);X>q&&(q=X)}return q},Y=s0.useMemo(()=>{let $=[...u];return w&&!z&&Array.isArray(A)&&A.length>0&&($=$.map(ce=>({it:ce,score:fe(ce)})).filter(ce=>ce.score>=.2).sort((ce,k)=>k.score-ce.score).map(ce=>ce.it)),$.sort((ce,k)=>{const q=Array.isArray(ce.nm)?ce.nm.find(X=>X):void 0,W=Array.isArray(k.nm)?k.nm.find(X=>X):void 0,Z=q?0:1,se=W?0:1;return Z!==se?Z-se:(k.id||0)-(ce.id||0)})},[u,w,A]),te=()=>{b($=>!$)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }

			/* Remove any input focus outlines/rings/transition animations */
			.no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
			.no-outline::-moz-focus-inner { border: 0 !important; }
			.no-outline::-webkit-search-decoration,
			.no-outline::-webkit-search-cancel-button,
			.no-outline::-webkit-search-results-button,
			.no-outline::-webkit-search-results-decoration { display: none !important; }
			`}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Formations"}),c.jsx("p",{className:"text-text-secondary",children:"Explorez les formations en France"})]}),c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),c.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3 transition-none focus-within:ring-0 focus-within:outline-none focus-within:shadow-none",children:[c.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),c.jsx("input",{className:"w-full text-sm bg-transparent outline-none border-0 ring-0 focus:outline-none focus:ring-0 focus:border-transparent appearance-none transition-none shadow-none focus:shadow-none no-outline",value:e,onChange:$=>t($.target.value),placeholder:"Nom, code, ville..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Région"}),c.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:r,onChange:$=>n($.target.value),placeholder:"ex: Île-de-France"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Département"}),c.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:s,onChange:$=>i($.target.value),placeholder:"ex: Paris"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${w?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:te,disabled:j||z,title:"Filtrer par recommandations",children:z?c.jsx("i",{className:"ph ph-circle-notch animate-spin"}):c.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),c.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:j,onClick:()=>H(1),children:j?c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-10 px-4 py-3",children:c.jsx("input",{type:"checkbox",checked:E,onChange:R})}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Image"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitulé (nm)"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Établissement"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Département"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lien"}),c.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),c.jsxs("tbody",{children:[j&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:c.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[c.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des résultats…"]})})}),Y.map($=>{const ce=Array.isArray($.nm)?$.nm.filter(q=>q&&q!=="BUT - Génie biologique parcours sciences de l'aliment et biotechnologie"):[],k=ce.length?ce[0]:"Intitulé non renseigné";return c.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 align-middle",children:c.jsx("input",{type:"checkbox",checked:y.includes($.id),onChange:()=>G($.id)})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("img",{src:$.image||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:q=>{q.currentTarget.onerror=null,q.currentTarget.src="/static/images/logo-dark.png"}})}),c.jsx("td",{className:"px-4 py-3 text-text-primary",children:k}),c.jsx("td",{className:"px-4 py-3",children:Q($.etab_nom)||"Établissement non renseigné"}),c.jsx("td",{className:"px-4 py-3",children:Q($.departement)||"Département non renseigné"}),c.jsx("td",{className:"px-4 py-3",children:$.etab_url?c.jsx("a",{href:$.etab_url,target:"_blank",className:"inline-flex items-center px-3 py-1.5 border border-line rounded-lg text-sm hover:bg-gray-50",children:"Voir"}):"Lien non disponible"}),c.jsxs("td",{className:"px-4 py-3 text-right relative",children:[c.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>S(N===$.id?null:$.id),children:c.jsx("i",{className:"ph ph-dots-three-vertical"})}),N===$.id&&c.jsx("div",{className:"absolute right-2 mt-2 w-56 bg-white border border-line rounded-lg shadow-lg z-10",children:c.jsxs("ul",{className:"py-1 text-sm",children:[$.facebook&&c.jsx("li",{children:c.jsxs("a",{href:$.facebook,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-facebook-logo"}),c.jsx("span",{children:"Facebook"})]})}),$.linkedin&&c.jsx("li",{children:c.jsxs("a",{href:$.linkedin,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-linkedin-logo"}),c.jsx("span",{children:"LinkedIn"})]})}),$.youtube&&c.jsx("li",{children:c.jsxs("a",{href:$.youtube,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-youtube-logo"}),c.jsx("span",{children:"YouTube"})]})}),$.email&&c.jsx("li",{children:c.jsxs("a",{href:`mailto:${$.email}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-envelope"}),c.jsx("span",{children:"Envoyer un mail"})]})}),$.telephone&&c.jsx("li",{children:c.jsxs("a",{href:`tel:${$.telephone}`,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-phone"}),c.jsx("span",{children:"Appeler"})]})})]})})]})]},$.id)}),u.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun résultat"})})]})]})})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-text-secondary text-sm",children:[Y.length," / ",f," résultats",w?" (recommandés)":""]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:a<=1,onClick:()=>H(a-1),children:"Précédent"}),c.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:a*(w?50:20)>=f,onClick:()=>H(a+1),children:"Suivant"})]})]})]})}function Wj(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[s,i]=T.useState(""),[a,o]=T.useState(1),[u,d]=T.useState([]),[f,p]=T.useState(0),[y,g]=T.useState(!0),[N,S]=T.useState([]),[j,x]=T.useState(null),[w,b]=T.useState(null),[A,F]=T.useState(!1),[z,D]=T.useState(!1),[M,Q]=T.useState(null),[H,E]=T.useState(!1),R=localStorage.getItem("token")||localStorage.getItem("supabase_auth_token"),G=()=>{const X=localStorage.getItem("supabase_auth_token")||localStorage.getItem("token");if(!X)return null;try{const ee=kx(X);return ee.sub||ee.user_id||ee.id||null}catch{return null}},U=X=>{if(X==null)return;const ee=String(X).trim();if(!ee)return;const ue=ee.toLowerCase();if(!(ue==="nan"||ue==="null"||ue==="undefined"))return ee},le=(X,ee)=>{const ue=U(X.origine_offre_url_origine??X.origineoffre_urlorigine),oe=U(X.contact_url_postulation??X.contact_urlpostulation),me=U(X.romecode);return[U(X.id)??`row-${ee}`,ue,oe,me].filter(Boolean).join("|")||`row-${ee}`};async function re(X=a){const ue={page:X,page_size:z?50:20};e&&String(e).trim()!==""&&(ue.q=e),r&&(ue.typecontrat=r),s&&(ue.alternance=s==="true"),F(!0);try{const{data:oe}=await Lt.get("/api/catalog/metiers/search",{params:ue,headers:R?{Authorization:`Bearer ${R}`}:{}});d(oe.items),g(!!oe.has_more),typeof oe.total=="number"&&p(oe.total),o(X),S([]),x(null)}finally{F(!1)}}async function fe(){var ee;if(M)return;const X=G();if(X){E(!0);try{const{data:ue}=await Lt.get(`/api/analysis/results/${X}`),oe=(ee=ue==null?void 0:ue.results)==null?void 0:ee.jobRecommendations;Array.isArray(oe)&&Q(oe)}catch{}finally{E(!1)}}}const Y=X=>X?String(X).toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}+","gu"),"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim():"",te=X=>{const ee=Y(X);return ee?ee.split(" ").filter(Boolean).map(ue=>ue.endsWith("s")?ue.slice(0,-1):ue):[]},$=(X,ee)=>{const ue=new Set(te(X)),oe=new Set(te(ee));if(ue.size===0||oe.size===0)return 0;let me=0;return ue.forEach(je=>{oe.has(je)&&me++}),me/(ue.size+oe.size-me)},ce=X=>{if(!Array.isArray(M)||M.length===0)return 0;const ee=U(X.intitule),ue=U(X.romecode),oe=[ee,ue].filter(Boolean).join(" ");let me=0;for(const je of M){const ke=$(oe,je.title);let Fe=0;if(Array.isArray(je.skills))for(const J of je.skills){const Ue=$(oe,J);Fe=Math.max(Fe,Ue)}const ge=ke*.8+Fe*.2;ge>me&&(me=ge)}return me};T.useEffect(()=>{let X=!1;return(async()=>{z&&await fe(),X||await re(1)})(),()=>{X=!0}},[z]);const k=u.length>0&&N.length===u.length,q=()=>{S(k?[]:u.map((X,ee)=>le(X,ee)))},W=X=>{S(ee=>ee.includes(X)?ee.filter(ue=>ue!==X):[...ee,X])},Z=s0.useMemo(()=>!z||H||!Array.isArray(M)||M.length===0?u:u.map(X=>({it:X,score:ce(X)})).filter(X=>X.score>=.1).sort((X,ee)=>ee.score-X.score).map(X=>X.it),[u,z,M,H]),se=()=>{D(X=>!X)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("style",{children:`
			@keyframes wandTwinkle { 0%, 100% { transform: rotate(0deg) scale(1); opacity: 1 } 50% { transform: rotate(-8deg) scale(1.05); opacity: .9 } }
			.wand-twinkle { animation: wandTwinkle 2.2s ease-in-out infinite; transform-origin: 50% 60%; }

			/* Remove any input focus outlines/rings/transition animations */
			.no-outline, .no-outline:focus, .no-outline:focus-visible { outline: none !important; box-shadow: none !important; transition: none !important; }
			.no-outline::-moz-focus-inner { border: 0 !important; }
			.no-outline::-webkit-search-decoration,
			.no-outline::-webkit-search-cancel-button,
			.no-outline::-webkit-search-results-button,
			.no-outline::-webkit-search-results-decoration { display: none !important; }
			`}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Métiers"}),c.jsx("p",{className:"text-text-secondary",children:"Offres et fiches métiers"})]}),c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-3",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Recherche"}),c.jsxs("div",{className:"flex items-center gap-2 border border-line rounded-lg h-11 px-3 transition-none focus-within:ring-0 focus-within:outline-none focus-within:shadow-none",children:[c.jsx("i",{className:"ph ph-magnifying-glass text-text-secondary"}),c.jsx("input",{className:"w-full text-sm bg-transparent outline-none border-0 ring-0 focus:outline-none focus:ring-0 focus:border-transparent appearance-none transition-none shadow-none focus:shadow-none no-outline",value:e,onChange:X=>t(X.target.value),placeholder:"Intitulé, secteur, code ROME..."})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Type de contrat"}),c.jsx("input",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:r,onChange:X=>n(X.target.value),placeholder:"ex: CDI"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Alternance"}),c.jsxs("select",{className:"w-full border border-line rounded-lg h-11 px-3 outline-none text-sm bg-white focus:outline-none focus:ring-0 focus:shadow-none transition-none no-outline",value:s,onChange:X=>i(X.target.value),children:[c.jsx("option",{value:"",children:"Tous"}),c.jsx("option",{value:"true",children:"Oui"}),c.jsx("option",{value:"false",children:"Non"})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{className:`inline-flex items-center justify-center h-11 px-3 rounded-lg text-sm border ${z?"bg-orange-600 text-white border-orange-700":"border-line text-text-primary hover:bg-gray-50"}`,onClick:se,disabled:A||H,title:"Filtrer par recommandations",children:H?c.jsx("i",{className:"ph ph-circle-notch animate-spin"}):c.jsx("i",{className:"ph ph-magic-wand wand-twinkle"})}),c.jsx("button",{className:"inline-flex items-center justify-center h-11 px-4 bg-black text-white rounded-lg text-sm disabled:opacity-60",disabled:A,onClick:()=>re(1),children:A?c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement..."]}):"Filtrer"})]})]})}),c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-line text-text-secondary",children:c.jsxs("tr",{children:[c.jsx("th",{className:"w-10 px-4 py-3",children:c.jsx("input",{type:"checkbox",checked:k,onChange:q})}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Logo"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Intitulé"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Contrat"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Lieu"}),c.jsx("th",{className:"text-left font-medium px-4 py-3",children:"Entreprise"}),c.jsx("th",{className:"text-right font-medium px-4 py-3",children:"Actions"})]})}),c.jsxs("tbody",{children:[A&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-text-secondary",children:c.jsxs("span",{className:"inline-flex items-center gap-2 text-sm",children:[c.jsx("i",{className:"ph ph-circle-notch animate-spin"}),"Chargement des résultats…"]})})}),Z.map((X,ee)=>{const ue=U(X.entreprise_logo),oe=X.type_contrat||X.typecontrat,me=X.lieu_travail_libelle||X.lieutravail_libelle||X.lieu,je=X.entreprise_nom||X.entreprise,ke=U(X.origine_offre_url_origine||X.origineoffre_urlorigine),Fe=U(X.contact_url_postulation||X.contact_urlpostulation),ge=U(X.lieu_travail_latitude??X.lieutravail_latitude),J=U(X.lieu_travail_longitude??X.lieutravail_longitude),Ue=ge!==void 0?parseFloat(ge):void 0,Be=J!==void 0?parseFloat(J):void 0,Ne=Number.isFinite(Ue)&&Number.isFinite(Be),Ie=le(X,ee);return c.jsxs("tr",{className:"border-b border-line hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 align-middle",children:c.jsx("input",{type:"checkbox",checked:N.includes(Ie),onChange:()=>W(Ie)})}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("img",{src:ue||"/static/images/logo-dark.png",alt:"logo",className:"w-10 h-10 object-contain rounded bg-white",onError:Me=>{Me.currentTarget.onerror=null,Me.currentTarget.src="/static/images/logo-dark.png"}})}),c.jsx("td",{className:"px-4 py-3 text-text-primary",children:U(X.intitule)||"Intitulé non renseigné"}),c.jsx("td",{className:"px-4 py-3",children:oe?c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700",children:[c.jsx("i",{className:"ph ph-file-text"}),oe]}):"-"}),c.jsx("td",{className:"px-4 py-3",children:U(me)||"Lieu non renseigné"}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx("i",{className:"ph ph-buildings text-text-secondary"}),c.jsx("span",{children:U(je)||"Pas de nom d'entreprise"})]})}),c.jsxs("td",{className:"px-4 py-3 text-right relative",children:[c.jsx("button",{className:"p-2 rounded hover:bg-gray-100","aria-label":"Actions",onClick:()=>x(j===Ie?null:Ie),children:c.jsx("i",{className:"ph ph-dots-three-vertical"})}),j===Ie&&c.jsx("div",{className:"absolute right-2 mt-2 w-64 bg-white border border-line rounded-lg shadow-lg z-10",children:c.jsxs("ul",{className:"py-1 text-sm",children:[ke&&c.jsx("li",{children:c.jsxs("a",{href:ke,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-arrow-up-right"}),c.jsx("span",{children:"Postuler (site d'origine)"})]})}),Fe&&c.jsx("li",{children:c.jsxs("a",{href:Fe,target:"_blank",className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50",children:[c.jsx("i",{className:"ph ph-paper-plane-tilt"}),c.jsx("span",{children:"Contacter"})]})}),Ne&&c.jsx("li",{children:c.jsxs("button",{className:"w-full text-left flex items-center gap-2 px-3 py-2 hover:bg-gray-50",onClick:()=>b({lat:Ue,lon:Be,title:X.intitule||je||"Localisation"}),children:[c.jsx("i",{className:"ph ph-map-pin"}),c.jsx("span",{children:"Voir sur la carte"})]})})]})})]})]},Ie)}),Z.length===0&&!A&&c.jsx("tr",{children:c.jsx("td",{className:"px-4 py-8 text-center text-text-secondary",colSpan:7,children:"Aucun résultat"})})]})]})})}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",onClick:()=>b(null),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-[90vw] max-w-2xl overflow-hidden",onClick:X=>X.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-line",children:[c.jsx("h3",{className:"font-semibold text-text-primary",children:w.title}),c.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",onClick:()=>b(null),"aria-label":"Fermer",children:c.jsx("i",{className:"ph ph-x"})})]}),c.jsxs("div",{className:"p-0",children:[c.jsx("iframe",{title:"map",className:"w-full h-[60vh]",src:`https://www.openstreetmap.org/export/embed.html?bbox=${Number(w.lon)-.05}%2C${Number(w.lat)-.05}%2C${Number(w.lon)+.05}%2C${Number(w.lat)+.05}&layer=mapnik&marker=${w.lat}%2C${w.lon}`,style:{border:0},allowFullScreen:!0}),c.jsx("div",{className:"p-3 text-right",children:c.jsxs("a",{className:"inline-flex items-center gap-2 px-3 py-2 border border-line rounded-lg text-sm hover:bg-gray-50",target:"_blank",href:`https://www.openstreetmap.org/?mlat=${w.lat}&mlon=${w.lon}#map=12/${w.lat}/${w.lon}`,children:[c.jsx("i",{className:"ph ph-arrow-up-right"}),c.jsx("span",{children:"Ouvrir dans OpenStreetMap"})]})})]})]})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-text-secondary text-sm",children:[Z.length," résultats",z?" (recommandés)":""]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"px-3 py-2 border border-line rounded-lg disabled:opacity-50",disabled:a<=1,onClick:()=>re(a-1),children:"Précédent"}),c.jsx("button",{className:"px-3 py-2 bg-black text-white rounded-lg disabled:opacity-50",disabled:!y,onClick:()=>re(a+1),children:"Suivant"})]})]})]})}function Hj(){const[e,t]=T.useState("metier"),[r,n]=T.useState(""),[s,i]=T.useState(null),[a,o]=T.useState([]),[u,d]=T.useState(!1),[f,p]=T.useState("sobre"),[y,g]=T.useState(""),[N,S]=T.useState(!1),j=T.useRef(null),x=T.useRef(null);T.useEffect(()=>{if(!r||r.length<2){o([]);return}return j.current&&clearTimeout(j.current),j.current=setTimeout(async()=>{try{const{data:z}=await R2.suggest({q:r,type:e});o(z.items||[]),d(!0)}catch{o([])}},250),()=>j.current&&clearTimeout(j.current)},[r,e]);function w(z){i(z),n(z.label),d(!1)}async function b(){S(!0),g("");try{const z=s?{selection:s,style:f}:{style:f};!s&&r&&(e==="metier"?z.emploi_selection=r:z.formation_selection=r);const{data:D}=await R2.generate(z);g(D.letter)}catch{g("Erreur de génération. Réessayez.")}finally{S(!1)}}function A(){var z;y&&((z=navigator.clipboard)==null||z.writeText(y))}function F(){if(!y)return;const z=window.open("","_blank");z.document.write(`<pre style="white-space: pre-wrap; font-family: serif;">${y.replace(/</g,"&lt;")}</pre>`),z.document.close(),z.focus(),z.print(),z.close()}return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Lettre de motivation"}),c.jsx("p",{className:"text-text-secondary",children:"Générée à partir de votre profil"})]}),c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[c.jsxs("div",{className:"md:col-span-2 relative",children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Cible"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("button",{className:`px-3 py-1 rounded border ${e==="metier"?"bg-black text-white":"border-line"}`,onClick:()=>{t("metier"),i(null)},children:"Métier"}),c.jsx("button",{className:`px-3 py-1 rounded border ${e==="formation"?"bg-black text-white":"border-line"}`,onClick:()=>{t("formation"),i(null)},children:"Formation"})]}),c.jsx("input",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:r,onChange:z=>{n(z.target.value),i(null)},placeholder:e==="metier"?"ex: Développeur web":"ex: BUT Informatique"}),u&&a.length>0&&c.jsx("div",{ref:x,className:"absolute z-10 mt-1 w-full max-h-60 overflow-auto border border-line rounded-lg bg-white shadow",children:a.map(z=>c.jsxs("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onClick:()=>w(z),children:[c.jsx("div",{className:"text-sm",children:z.label}),c.jsx("div",{className:"text-xs text-text-secondary",children:z.type==="metier"?"Métier":"Formation"})]},`${z.type}-${z.id}`))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"Style"}),c.jsxs("select",{className:"w-full border border-line rounded-lg px-3 py-2 outline-none",value:f,onChange:z=>p(z.target.value),children:[c.jsx("option",{value:"sobre",children:"Sobre"}),c.jsx("option",{value:"enthousiaste",children:"Enthousiaste"}),c.jsx("option",{value:"professionnel",children:"Professionnel"})]})]}),c.jsx("div",{children:c.jsx("button",{className:"w-full bg-black text-white rounded-lg h-10 disabled:opacity-50",onClick:b,disabled:N||!s&&!r,children:N?"Génération...":"Générer"})})]})}),c.jsx("div",{className:"bg-surface border border-line rounded-xl shadow-card p-4",children:N?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Génération en cours..."})]}):y?c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Votre lettre de motivation"}),c.jsx("div",{className:"bg-gray-50 border border-line p-3 rounded-lg whitespace-pre-wrap font-mono",children:y}),c.jsxs("div",{className:"mt-3 flex gap-2",children:[c.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:A,children:"Copier"}),c.jsx("button",{className:"px-3 py-2 border border-line rounded-lg",onClick:F,children:"Télécharger PDF"})]})]}):c.jsxs("div",{className:"text-center text-text-secondary",children:[c.jsx("div",{className:"text-4xl",children:"📝"}),c.jsx("p",{className:"mt-2",children:"Recherchez un métier ou une formation, choisissez le style, puis cliquez sur Générer pour créer votre lettre de motivation personnalisée."})]})})]})}function Gj(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let n=e.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function Cx(e,t){const[r,n]=T.useState(""),[s,i]=T.useState(!1),a=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{const d=e||"";n(""),i(!1);let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(e||""),i(!0)}}}function Jj(){var Re,Te,$e,we,Pt,ht,_r,ft,xt,Bt,mt,Nr,Et;const e=nn(),[t,r]=T.useState(null),[n,s]=T.useState(""),[i,a]=T.useState(null),[o,u]=T.useState(!0),[d,f]=T.useState(""),[p,y]=T.useState("intro"),[g,N]=T.useState(""),[S,j]=T.useState(""),[x,w]=T.useState(!1),[b,A]=T.useState(0),[F,z]=T.useState({}),[D,M]=T.useState(0),[Q,H]=T.useState({}),[E,R]=T.useState(!1),[G,U]=T.useState(0),[le,re]=T.useState(!1),[fe,Y]=T.useState(null),[te,$]=T.useState(!1),[ce,k]=T.useState(!1);function q(Ve,ot={}){try{const st=new URL(Ve);return/api\.dicebear\.com/.test(st.host)&&/\/lorelei\/svg/.test(st.pathname)?(Object.entries(ot).forEach(([ut,Sr])=>{Sr==null||Sr===""?st.searchParams.delete(ut):st.searchParams.set(ut,String(Sr))}),st.searchParams.has("size")||st.searchParams.set("size","300"),st.toString()):Ve}catch{return Ve}}T.useEffect(()=>{let Ve=!0;return(async()=>{var ot,st,Ke;try{const{data:{user:ut}}=await Rr.auth.getUser();if(!ut){e("/login");return}const[Sr,Ft]=await Promise.all([Os.getProfile().catch(()=>null),bt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}).catch(Tn=>Tn)]);if(!Ve)return;const bn=((ot=Sr==null?void 0:Sr.data)==null?void 0:ot.profile)||null;r(bn),s(Gj(bn,ut.id)),(st=Ft==null?void 0:Ft.data)!=null&&st.results?a(Ft.data.results):((Ke=Ft==null?void 0:Ft.response)==null?void 0:Ke.status)===404?a(null):Ft instanceof Error&&f("Erreur lors du chargement des résultats")}catch(ut){if(console.error(ut),!Ve)return;f("Erreur de chargement")}finally{Ve&&u(!1)}})(),()=>{Ve=!1}},[e]);const W=T.useMemo(()=>[{text:"Bienvenue sur Zélia",durationMs:1500},{text:"Nous allons t'expliquer comment nous allons t'aider à trouver le métier de tes rêves",durationMs:5e3},{text:"Nous allons faire en sorte d'y arriver ensemble, et allons te donner des tips tout au long de ton parcours",durationMs:6e3},{text:"Commençons",durationMs:1e3}],[]),[Z,se]=T.useState(0),X=W[Z]||{text:"",durationMs:1500},{text:ee,done:ue,skip:oe}=Cx(X.text,X.durationMs),me=p==="intro"&&!ue||ce;T.useEffect(()=>{if(!me)return;const Ve=setInterval(()=>$(ot=>!ot),200);return()=>clearInterval(Ve)},[me]),T.useEffect(()=>{function Ve(ot){const st=!!(ot&&ot.detail&&ot.detail.active);k(st)}return window.addEventListener("niv1-typing",Ve),()=>window.removeEventListener("niv1-typing",Ve)},[]);const je=((Te=(Re=i==null?void 0:i.jobRecommendations)==null?void 0:Re[0])==null?void 0:Te.title)||"",ke=((we=($e=i==null?void 0:i.jobRecommendations)==null?void 0:$e[1])==null?void 0:we.title)||"",Fe=p==="ask_fit",ge=p==="await_input",J=()=>{if(!ue){oe();return}Z+1<W.length?se(Z+1):y("ask_fit")},Ue=T.useMemo(()=>{let Ve=n;if(!Ve)return Ve;try{const ot=new URL(Ve);return/api\.dicebear\.com/.test(ot.host)&&/\/lorelei\/svg/.test(ot.pathname)&&(Ve=q(Ve,{mouth:me&&te?"happy08":null})),Ve}catch{return Ve}},[n,me,te]),Be=[{id:"salary_expectation",type:"buttons",text:"Est-ce que tu t'attendais à ce salaire là ?",options:["Oui","Non","Je ne sais pas"]},{id:"good_salary",type:"input",text:"Pour toi c'est quoi un bon salaire?",placeholder:"Ex: 2500€ net/mois"},{id:"motivation_salary",type:"buttons",text:"Est-ce que tu fais ce métier pour le salaire ?",options:["Oui","Non","Partiellement"]}],Ne=T.useMemo(()=>[{id:"learn_overview",type:"text",text:"Durant ton parcours, je vais t'apprendre à te repérer parmi les métiers et à poser un cap clair."},{id:"english_test",type:"text",text:"On fera un test d'anglais rapide pour évaluer ton niveau et te proposer des pistes pour progresser."},{id:"cv_build",type:"text",text:"On va créer ton CV étape par étape, avec des exemples et un modèle qui te ressemble."},{id:"sell_yourself",type:"text",text:"Tu apprendras à te vendre: valoriser tes expériences, tes forces et tes réussites."},{id:"pitch",type:"text",text:"On travaillera ton pitch 60 secondes pour faire forte impression."},{id:"schools",type:"text",text:"On repèrera des écoles et formations qui collent vraiment à ton projet."},{id:"calendar",type:"text",text:"On t'aidera à organiser ton calendrier Parcoursup et tes échéances."},{id:"tips",type:"text",text:"Tu auras des tips concrets à chaque étape pour gagner du temps."},{id:"interview",type:"text",text:"On préparera tes entretiens: questions fréquentes, pièges et réponses efficaces."},{id:"checklist",type:"text",text:"Tu auras une checklist personnalisée pour rester au top jusqu'au bout."},{id:"motivated",type:"buttons",text:"Est-ce que tu es motivé pour cela ?",options:["Oui","Mitigé","Non"]},{id:"explore_another",type:"buttons",text:"Veux-tu explorer une autre fiche métier ?",options:["Oui","Non"]},{id:"why_attraction",type:"buttons",text:"Qu'est-ce qui t'attire le plus dans ce métier ?",options:["Le sens","Le salaire","Les études","Le quotidien"]},{id:"study_length",type:"buttons",text:"Tu te vois plutôt études longues ou entrer vite dans le concret ?",options:["Études longues","Rapide et pro","Je ne sais pas"]},{id:"team_or_solo",type:"buttons",text:"Tu préfères travailler en équipe ou plutôt en solo ?",options:["Équipe","Solo","Peu importe"]},{id:"five_years",type:"input",text:"Tu te vois où dans 5 ans ?",placeholder:"Décris en une phrase"},{id:"favorite_subjects",type:"buttons",text:"Quelles matières te plaisent le plus ?",options:["Sciences","Langues","Littérature","Éco/Gestion","Art/Design"]},{id:"learn_style",type:"buttons",text:"Tu apprends mieux en faisant ou en lisant ?",options:["En faisant","En lisant","Mix des deux"]},{id:"english_level",type:"buttons",text:"Ton niveau d’anglais approximatif ?",options:["Débutant","Intermédiaire","Avancé"]},{id:"proud_project",type:"input",text:"Tu as un projet perso dont tu es fier ?",placeholder:"Dis-m’en un mot"},{id:"geo_constraints",type:"buttons",text:"Tu as des contraintes géographiques ?",options:["Oui","Non"]},{id:"action_plan",type:"buttons",text:"Tu veux qu’on bâtisse un plan d’action ensemble ?",options:["Oui","Plus tard"]}],[]),Ie=T.useMemo(()=>Ne.findIndex(Ve=>Ve.id==="explore_another"),[Ne]);async function Me(Ve){var ot;w(!0),j(""),y("generating");try{const st=`FICHE MÉTIER pour "${Ve}".
Contraintes de sortie OBLIGATOIRES:
- Réponds uniquement en français, en tutoyant (utilise "tu").
- AUCUNE salutation, introduction ou phrase d'ouverture (n'écris pas Bonjour, pas de phrase avant la section 1).
- AUCUN séparateur ou décoration (pas de '---', pas de tables, pas de code).
- AUCUN gras ni markdown (n'utilise jamais **, #, ##, etc.).

Structure EXACTE et dans cet ordre:
1) Description du métier (150-200 mots)
2) Salaire en France (débutant et médian)
3) Écoles/études pour y arriver (3 à 5 exemples précis)

Format: titres courts en clair (pas de markdown), listes à puces simples '-' quand pertinent.`,Ke=await dj.aiChat({mode:"advisor",message:st,history:[],jobTitles:[Ve],advisorType:"fiche-metier"});let ut=((ot=Ke==null?void 0:Ke.data)==null?void 0:ot.reply)||"";ut=ut.replace(/\*\*/g,""),j(ut),U(Sr=>Math.min(2,Sr+1)),y("fiche")}catch(st){console.error("AI fiche error",st),j("Une erreur est survenue lors de la génération de la fiche métier."),y("fiche")}finally{w(!1)}}const De=async Ve=>{Ve==="oui"?(await new Promise(ot=>setTimeout(ot,250)),await Me(je||"Métier")):y("await_input")},Je=async()=>{const Ve=(g||"").trim();if(Ve){w(!0);try{await Os.updateProfile({home_preference:Ve}),await Me(Ve)}catch(ot){console.error("Update profile error",ot),w(!1)}}};function tt(){D+1<Ne.length?M(D+1):at()}function it(Ve){const ot=Ne[D];if(H({...Q,[ot.id]:Ve}),ot.id==="explore_another"&&Ve==="Oui"&&ke&&G<2){re(!0),Ie>=0&&Y(Ie+1),Me(ke);return}tt()}function at(){y("success"),R(!0),setTimeout(()=>{},2e3);const Ve=100;(async()=>{try{await rc({minLevel:2,xpReward:Ve})}catch(ot){console.warn("Progression update failed (non-blocking):",ot)}})()}async function xe(){try{const Ve=Be.map(Ke=>({question_id:Ke.id,question_text:Ke.text,answer_text:F[Ke.id]??""})),ot=Ne.map(Ke=>({question_id:Ke.id,question_text:Ke.text,answer_text:Q[Ke.id]??""})),st=[...Ve,...ot].filter(Ke=>Ke.question_id&&Ke.question_text);st.length&&await Os.saveExtraInfo(st)}catch(Ve){console.error("Persist extra info failed",Ve)}}return o?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):d?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:d})}):c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[c.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[c.jsx("img",{src:Ue,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[c.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?c.jsx(c.Fragment,{children:ee}):Fe?"Est-ce que ces métiers recommandés te conviennent ?":ge?"Peux-tu nous dire le métier de tes rêves ?":p==="generating"?"Je suis en train de rechercher les infomations du métier qui te concerne...":p==="fiche"?c.jsx(c.Fragment,{children:le?c.jsxs(c.Fragment,{children:[c.jsx("div",{children:"Voici une seconde fiche pour t'offrir un autre angle."}),c.jsx("div",{children:"Lis-la si tu veux, puis on passe directement à la suite."})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{children:"Super, continuons."}),g?c.jsxs("div",{children:["Très bien je vois que tu es ambitieux ! « ",g," » est un beau métier."]}):null,c.jsx("div",{children:"Tu peux lire la fiche, puis on en discute 👇"})]})}):p==="post_fiche"?c.jsx(c.Fragment,{children:((Pt=Be[b])==null?void 0:Pt.text)||""}):p==="conversation"?c.jsx(c.Fragment,{children:((ht=Ne[D])==null?void 0:ht.type)==="text"?c.jsx(Kj,{text:Ne[D].text,onNext:()=>{tt(),D+1>=Ne.length&&xe()}}):((_r=Ne[D])==null?void 0:_r.text)||""}):""}),c.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&c.jsx("div",{className:"mt-3",children:c.jsx("button",{onClick:J,className:"inline-flex items-center px-4 py-2 rounded-md bg-[#c1ff72] text-black border border-gray-200",children:"Suivant"})}),Fe&&c.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[c.jsx("button",{onClick:()=>De("oui"),disabled:!je,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50 w-full sm:w-auto",children:"Oui"}),c.jsx("button",{onClick:()=>De("mitige"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Mitigé"}),c.jsx("button",{onClick:()=>De("non"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Non"})]}),ge&&c.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 w-full",children:[c.jsx("input",{type:"text",value:g,onChange:Ve=>N(Ve.target.value),placeholder:"Ton métier de rêve",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full"}),c.jsx("button",{onClick:Je,disabled:x||!g.trim(),className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-50 w-full sm:w-auto",children:"Valider"})]}),p==="fiche"&&!le&&c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:()=>y("post_fiche"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Discuter de la fiche"})}),p==="fiche"&&le&&c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:()=>{y("conversation"),fe!=null&&fe<Ne.length&&M(fe),re(!1)},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Continuer"})}),p==="post_fiche"&&c.jsxs("div",{className:"mt-4 space-y-3",children:[((ft=Be[b])==null?void 0:ft.type)==="buttons"&&c.jsx("div",{className:"flex flex-wrap gap-3",children:Be[b].options.map((Ve,ot)=>c.jsx("button",{onClick:()=>{z({...F,[Be[b].id]:Ve}),b+1<Be.length?A(b+1):(y("conversation"),M(0),xe())},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:Ve},ot))}),((xt=Be[b])==null?void 0:xt.type)==="input"&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[c.jsx("input",{type:"text",placeholder:Be[b].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:F[Be[b].id]||"",onChange:Ve=>z({...F,[Be[b].id]:Ve.target.value})}),c.jsx("button",{onClick:()=>{b+1<Be.length?A(b+1):(y("conversation"),M(0),xe())},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]})]}),p==="conversation"&&c.jsxs("div",{className:"mt-4 space-y-3",children:[((Bt=Ne[D])==null?void 0:Bt.type)==="buttons"&&c.jsx("div",{className:"flex flex-wrap gap-3",children:(Ne[D].options||[]).map((Ve,ot)=>c.jsx("button",{onClick:()=>{it(Ve),D+1>=Ne.length&&xe()},className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:Ve},ot))}),((mt=Ne[D])==null?void 0:mt.type)==="input"&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full",children:[c.jsx("input",{type:"text",placeholder:Ne[D].placeholder||"",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg w-full",value:Q[Ne[D].id]||"",onChange:Ve=>H({...Q,[Ne[D].id]:Ve.target.value})}),c.jsx("button",{onClick:()=>{tt(),D+1>=Ne.length&&xe()},className:"px-4 py-2 rounded-lg bg-black text-white w-full sm:w-auto",children:"Suivant"})]}),((Nr=Ne[D])==null?void 0:Nr.type)==="text"&&null]}),!1,!1]})]})}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[p==="ask_fit"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center text-white",children:"💼"}),c.jsx("h2",{className:"text-xl font-bold",children:"Recommandations d'emploi"})]}),(Et=i==null?void 0:i.jobRecommendations)!=null&&Et.length?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jobRecommendations.map((Ve,ot)=>{var st;return c.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:Ve.title}),(st=Ve.skills)!=null&&st.length?c.jsxs("div",{className:"text-sm text-orange-700",children:[c.jsx("div",{className:"font-medium",children:"Compétences requises:"}),c.jsx("ul",{className:"mt-1 list-disc list-inside",children:Ve.skills.map((Ke,ut)=>c.jsx("li",{children:Ke},ut))})]}):null]},ot)})}):c.jsx("div",{className:"text-text-secondary",children:"Aucune recommandation disponible pour le moment."})]}),(p==="fiche"||p==="post_fiche"||p==="conversation"||p==="generating")&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:"📘"}),c.jsx("h2",{className:"text-xl font-bold",children:"Fiche métier"})]}),x&&c.jsx("div",{className:"text-sm text-text-secondary",children:"Génération…"}),c.jsx("div",{className:"prose max-w-none whitespace-pre-wrap text-gray-800",children:S})]})]})]}),E&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),c.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 1 réussi !"}),c.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as terminé l\\'introduction et exploré tes premières pistes."}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:c.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function Kj({text:e,onNext:t}){const r=T.useMemo(()=>Math.min(8e3,Math.max(1500,(e||"").length*40)),[e]),{text:n,done:s,skip:i}=Cx(e||"",r);return T.useEffect(()=>{const a=new CustomEvent("niv1-typing",{detail:{active:!s}});window.dispatchEvent(a)},[s]),c.jsxs("div",{children:[c.jsx("div",{className:"mb-3 whitespace-pre-wrap",children:n}),c.jsx("button",{onClick:()=>{s?t():i()},className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})]})}function Yj(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let n=e.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function Xj(e,t){const[r,n]=T.useState(""),[s,i]=T.useState(!1),a=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{n(""),i(!1);const d=e||"";let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(e||""),i(!0)}}}function Qj(){const e=nn(),[t,r]=T.useState(null),[n,s]=T.useState(""),[i,a]=T.useState(!0),[o,u]=T.useState(""),[d,f]=T.useState(0),[p,y]=T.useState("intro"),g=T.useRef(null),N=T.useRef(!1),[S,j]=T.useState(!1),[x,w]=T.useState("");T.useEffect(()=>{let U=!0;return(async()=>{var le;try{const{data:{user:re}}=await Rr.auth.getUser();if(!re){e("/login");return}w(re.id);const fe=await Os.getProfile().catch(()=>null);if(!U)return;const Y=((le=fe==null?void 0:fe.data)==null?void 0:le.profile)||null;r(Y),s(Yj(Y,re.id))}catch(re){if(console.error(re),!U)return;u("Erreur de chargement")}finally{U&&a(!1)}})(),()=>{U=!1}},[e]);const b=T.useMemo(()=>[{text:"Bon t'es passé au niveau 2, c'était assez simple mais ça se corsera plus tard, pour l'instant on a besoin de comprendre à qui on a affaire et t'expliquer tous les futurs niveaux",durationMs:8e3},{text:"On va te faire rencontrer une personne qui était plus ou moins dans ton cas",durationMs:3e3},{text:"C'est nicolas, le fondateur de la plateforme Zélia qui a fait une vidéo pour toi",durationMs:3e3},{text:"Le but c'est de t'expliquer les bases de l'orientation, de pourquoi c'est important, même si tu le sais probablement déjà",durationMs:7500},{text:"Je te laisse voir cette vidéo, tu pourras avoir son retour d'expérience avec l'orientation et comment il s'en est sorti",durationMs:4e3},{text:"Bon faut vraiment que j'arrête de parler moi",durationMs:1500}],[]),A=b[d]||{text:"",durationMs:1500},{text:F,done:z,skip:D}=Xj(A.text,A.durationMs);T.useEffect(()=>{if(p!=="intro"||z)return;const U=setInterval(()=>j(le=>!le),200);return()=>clearInterval(U)},[p,z]);function M(U,le={}){try{const re=new URL(U);return/api\.dicebear\.com/.test(re.host)&&/\/lorelei\/svg/.test(re.pathname)?(Object.entries(le).forEach(([Y,te])=>{te==null||te===""?re.searchParams.delete(Y):re.searchParams.set(Y,String(te))}),re.searchParams.has("size")||re.searchParams.set("size","300"),re.toString()):U}catch{return U}}const Q=T.useMemo(()=>{let U=n;return!U||!(()=>{try{const re=new URL(U);return/api\.dicebear\.com/.test(re.host)&&/\/lorelei\/svg/.test(re.pathname)}catch{return!1}})()||(p==="intro"&&d===5?U=M(U,{eyes:"variant16"}):U=M(U,{}),p==="intro"&&!z?U=M(U,{mouth:S?"happy08":null}):U=M(U,{mouth:null})),U},[n,p,d,z,S]);T.useEffect(()=>{if(p!=="watch")return;function U(){if(!(g.current||N.current))try{const le=window.YT;if(!le||!le.Player)return;g.current=new le.Player("niv2Player",{height:"315",width:"560",videoId:"WgUmD_sZRrI",playerVars:{rel:0,modestbranding:1,playsinline:1},events:{onReady:()=>{N.current=!0},onStateChange:re=>{re.data===window.YT.PlayerState.ENDED&&G()}}})}catch(le){console.warn("YT init failed",le)}}if(!window.YT||!window.YT.Player){if(!document.getElementById("youtube-iframe-api")){const fe=document.createElement("script");fe.src="https://www.youtube.com/iframe_api",fe.id="youtube-iframe-api",document.body.appendChild(fe)}const re=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){if(typeof re=="function")try{re()}catch{}U()}}else U();return()=>{try{const le=g.current;le&&le.destroy&&le.destroy()}catch{}g.current=null,N.current=!1}},[p]);function H(){if(!z){D();return}d+1<b.length?f(U=>U+1):y("watch")}const[E,R]=T.useState(!1);function G(){R(!0),(async()=>{try{await rc({minLevel:2,xpReward:120})}catch(U){console.warn("Progression update failed (non-blocking):",U)}})()}return i?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):o?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[c.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[c.jsx("img",{src:Q,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[c.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?c.jsx(c.Fragment,{children:F}):p==="watch"?c.jsx(c.Fragment,{children:"Regarde la vidéo à droite, puis on continue."}):null}),c.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:H,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:d===b.length-1?"Oui laisse moi voir la vidéo":"Suivant"})})]})]})}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:"🎬"}),c.jsx("h2",{className:"text-xl font-bold",children:"Vidéo"})]}),p!=="watch"?c.jsx("div",{className:"text-text-secondary",children:"La vidéo apparaîtra ici."}):c.jsxs("div",{children:[c.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:c.jsx("div",{id:"niv2Player",className:"absolute inset-0"})}),c.jsx("noscript",{children:c.jsx("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/WgUmD_sZRrI?si=9_DuCyLC6Gw_mF2Z",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:G,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"J'ai terminé la vidéo"})})]})]})]}),E&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),c.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 2 réussi !"}),c.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as regardé la vidéo d'introduction à l'orientation."}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:c.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function Zj(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let n=e.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);return i.searchParams.has("seed")||i.searchParams.set("seed",String(t)),i.searchParams.has("size")||i.searchParams.set("size","300"),i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function ek(e,t){const[r,n]=T.useState(""),[s,i]=T.useState(!1),a=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{n(""),i(!1);const d=e||"";let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(e||""),i(!0)}}}function tk(){const e=nn(),[t,r]=T.useState(null),[n,s]=T.useState(""),[i,a]=T.useState(!0),[o,u]=T.useState(""),[d,f]=T.useState(0),[p,y]=T.useState("intro"),[g,N]=T.useState(!1),[S,j]=T.useState(""),[x,w]=T.useState(""),b=T.useRef(null),[A,F]=T.useState(!1),z=T.useRef([]),[D,M]=T.useState(""),[Q,H]=T.useState(7),[E,R]=T.useState(!1),[G,U]=T.useState(!1);T.useEffect(()=>{let ee=!0;return(async()=>{var ue,oe,me,je,ke,Fe,ge;try{const{data:{user:J}}=await Rr.auth.getUser();if(!J){e("/login");return}j(J.id);const Ue=await Os.getProfile().catch(()=>null);if(!ee)return;const Be=((ue=Ue==null?void 0:Ue.data)==null?void 0:ue.profile)||(Ue==null?void 0:Ue.data)||null;r(Be),s(Zj(Be,J.id));try{const Ne=await bt.get("/analysis/my-results",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Ie=((oe=Ne==null?void 0:Ne.data)==null?void 0:oe.results)||{},Me=Ie.jobRecommendations||Ie.job_recommandations||[];Array.isArray(Me)&&Me.length>0&&w(((me=Me[0])==null?void 0:me.title)||"")}catch{try{const Ne=await bt.get("/results/latest",{headers:{"Cache-Control":"no-cache"},params:{_:Date.now()}}),Ie=((ke=(je=Ne==null?void 0:Ne.data)==null?void 0:je.results)==null?void 0:ke.analysis)||((Fe=Ne==null?void 0:Ne.data)==null?void 0:Fe.results)||{},Me=Ie.jobRecommendations||Ie.job_recommandations||Ie.career_matches||[];Array.isArray(Me)&&Me.length>0&&w(((ge=Me[0])==null?void 0:ge.title)||"")}catch{}}}catch(J){if(console.error(J),!ee)return;u("Erreur de chargement")}finally{ee&&a(!1)}})(),()=>{ee=!1}},[e]);const le=T.useMemo(()=>[{text:"Re, on passe au niveau 3, on va rentrer dans le vif du sujet, sur ce module on va apprendre comment se vendre auprès des autres",durationMs:5e3},{text:"On va bosser ensemble sur un pitch de 60s, tant que tu es pas satisfait de toi même, on continue",durationMs:3e3},{text:"Alors je sais que ça peut paraître un peu complexe ou ça peut te mettre mal à l'aise, isole toi si c'est le cas",durationMs:4e3},{text:"Essaye de répéter ce texte, de manière détendue, personne ne te juge à part moi, mais je suis qu'un assistant",durationMs:4e3}],[]),re=le[d]||{text:"",durationMs:1500},{text:fe,done:Y,skip:te}=ek(re.text,re.durationMs);T.useEffect(()=>{if(p!=="intro"||Y)return;const ee=setInterval(()=>N(ue=>!ue),200);return()=>clearInterval(ee)},[p,Y]);function $(ee,ue={}){try{const oe=new URL(ee);return/api\.dicebear\.com/.test(oe.host)&&/\/lorelei\/svg/.test(oe.pathname)?(Object.entries(ue).forEach(([je,ke])=>{ke==null||ke===""?oe.searchParams.delete(je):oe.searchParams.set(je,String(ke))}),oe.searchParams.has("size")||oe.searchParams.set("size","300"),oe.toString()):ee}catch{return ee}}const ce=T.useMemo(()=>{let ee=n;return!ee||!(()=>{try{const oe=new URL(ee);return/api\.dicebear\.com/.test(oe.host)&&/\/lorelei\/svg/.test(oe.pathname)}catch{return!1}})()||(p==="intro"&&d===3?ee=$(ee,{eyes:"variant16"}):ee=$(ee,{}),p==="intro"&&!Y?ee=$(ee,{mouth:g?"happy08":null}):ee=$(ee,{mouth:null})),ee},[n,p,d,Y,g]);function k(){if(!Y){te();return}d+1<le.length?f(ee=>ee+1):y("practice")}const q=T.useMemo(()=>{const ee=(t==null?void 0:t.first_name)||"",ue=(t==null?void 0:t.last_name)||"",oe=(t==null?void 0:t.department)||"",me=(t==null?void 0:t.home_preference)||"",je=String(me).toLowerCase()==="questionnaire"?x||"un métier qui me correspond":me||x||"un métier qui me correspond";return`Bonjour, je m'appelle ${ee} ${ue}, j'habite actuellement dans le ${oe}. Ce qui me motive profondément dans le métier de ${je}, c’est de comprendre comment les choses fonctionnent et comment les améliorer. Je ne me contente jamais de la première réponse ; ma curiosité me pousse à explorer différentes perspectives avant d’agir.

J'aborde chaque nouveau défi avec la même méthode : j’écoute, j’apprends vite, et je connecte les idées et les gens pour construire quelque chose qui a du sens. Je crois fermement que les meilleures solutions naissent de la collaboration et d'une vision d'ensemble.

Mon objectif n'est pas simplement d'accomplir des tâches, mais d'apporter une énergie positive et une volonté de faire avancer les projets. Je cherche à m'investir dans un environnement où je pourrai continuer à apprendre et avoir un impact concret.`},[t,x]),W=async()=>{try{U(!1),M("");const ee=await navigator.mediaDevices.getUserMedia({audio:!0}),ue=new MediaRecorder(ee);z.current=[],ue.ondataavailable=oe=>{oe.data&&oe.data.size>0&&z.current.push(oe.data)},ue.onstop=()=>{const oe=new Blob(z.current,{type:"audio/webm"}),me=URL.createObjectURL(oe);M(me),y("rate"),F(!1),ee.getTracks().forEach(je=>je.stop())},b.current=ue,ue.start(),F(!0)}catch(ee){console.error("Recording start failed",ee),alert("Impossible d’accéder au micro. Autorisez le micro puis réessayez.")}},Z=()=>{var ee;try{(ee=b.current)==null||ee.stop()}catch{}},se=()=>{M(""),H(7),y("practice")},X=async()=>{Q>=8?(R(!0),(async()=>{try{await rc({minLevel:3,xpReward:150})}catch(ee){console.warn("Progression update failed (non-blocking):",ee)}})()):U(!0)};return i?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):o?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[c.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[c.jsx("img",{src:ce,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[c.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:p==="intro"?c.jsx(c.Fragment,{children:fe}):p==="practice"?c.jsx(c.Fragment,{children:"Tu peux lire le texte à droite et t'enregistrer quand tu veux."}):p==="rate"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-3",children:"Alors combien tu te noterais sur 10 ?"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"range",min:"0",max:"10",value:Q,onChange:ee=>H(Number(ee.target.value)),className:"w-full"}),c.jsx("div",{className:"w-10 text-center font-bold",children:Q})]}),c.jsx("button",{onClick:X,className:"mt-3 px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Valider"})]}):G?c.jsx(c.Fragment,{children:"C'est déjà pas trop mal, on va essayer de le refaire, recommençons ensemble."}):null}),c.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),p==="intro"&&c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:k,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:d===le.length-1?"Afficher le texte":"Suivant"})}),G&&p!=="intro"&&c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:se,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 w-full sm:w-auto",children:"Recommencer"})})]})]})}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white",children:"🎤"}),c.jsx("h2",{className:"text-xl font-bold",children:"Pitch 60s"})]}),c.jsx("div",{className:"text-text-primary whitespace-pre-wrap mb-4",children:q}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!A&&c.jsx("button",{onClick:W,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"S'enregistrer"}),A&&c.jsx("button",{onClick:Z,className:"px-4 py-2 rounded-lg bg-red-500 text-white border border-red-600",children:"Arrêter"}),D&&!A&&c.jsxs(c.Fragment,{children:[c.jsx("audio",{controls:!0,src:D,className:"w-full max-w-md"}),c.jsx("button",{onClick:se,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Réenregistrer"})]})]})]})]}),E&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),c.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 3 réussi !"}),c.jsx("p",{className:"text-text-secondary mb-4",children:"Félicitations, ton pitch est prêt. Tu sais te présenter efficacement."}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:c.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})})]})}function Tt(e){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(e)}var Gr=Uint8Array,Ln=Uint16Array,cg=Int32Array,$h=new Gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vh=new Gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$m=new Gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ix=function(e,t){for(var r=new Ln(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new cg(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},Tx=Ix($h,2),Rx=Tx.b,Vm=Tx.r;Rx[28]=258,Vm[258]=28;var Ox=Ix(Vh,0),rk=Ox.b,z2=Ox.r,Wm=new Ln(32768);for(var Wt=0;Wt<32768;++Wt){var ji=(Wt&43690)>>1|(Wt&21845)<<1;ji=(ji&52428)>>2|(ji&13107)<<2,ji=(ji&61680)>>4|(ji&3855)<<4,Wm[Wt]=((ji&65280)>>8|(ji&255)<<8)>>1}var Fs=function(e,t,r){for(var n=e.length,s=0,i=new Ln(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Ln(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(r){o=new Ln(1<<t);var u=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],f=t-e[s],p=a[e[s]-1]++<<f,y=p|(1<<f)-1;p<=y;++p)o[Wm[p]>>u]=d}else for(o=new Ln(n),s=0;s<n;++s)e[s]&&(o[s]=Wm[a[e[s]-1]++]>>15-e[s]);return o},Ji=new Gr(288);for(var Wt=0;Wt<144;++Wt)Ji[Wt]=8;for(var Wt=144;Wt<256;++Wt)Ji[Wt]=9;for(var Wt=256;Wt<280;++Wt)Ji[Wt]=7;for(var Wt=280;Wt<288;++Wt)Ji[Wt]=8;var Vu=new Gr(32);for(var Wt=0;Wt<32;++Wt)Vu[Wt]=5;var nk=Fs(Ji,9,0),sk=Fs(Ji,9,1),ik=Fs(Vu,5,0),ak=Fs(Vu,5,1),wp=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},is=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},_p=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},dg=function(e){return(e+7)/8|0},Fx=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Gr(e.subarray(t,r))},ok=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],us=function(e,t,r){var n=new Error(t||ok[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,us),!r)throw n;return n},lk=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new Gr(0);var a=!r,o=a||t.i!=2,u=t.i;a&&(r=new Gr(s*3));var d=function(me){var je=r.length;if(me>je){var ke=new Gr(Math.max(je*2,me));ke.set(r),r=ke}},f=t.f||0,p=t.p||0,y=t.b||0,g=t.l,N=t.d,S=t.m,j=t.n,x=s*8;do{if(!g){f=is(e,p,1);var w=is(e,p+1,3);if(p+=3,w)if(w==1)g=sk,N=ak,S=9,j=5;else if(w==2){var z=is(e,p,31)+257,D=is(e,p+10,15)+4,M=z+is(e,p+5,31)+1;p+=14;for(var Q=new Gr(M),H=new Gr(19),E=0;E<D;++E)H[$m[E]]=is(e,p+E*3,7);p+=D*3;for(var R=wp(H),G=(1<<R)-1,U=Fs(H,R,1),E=0;E<M;){var le=U[is(e,p,G)];p+=le&15;var b=le>>4;if(b<16)Q[E++]=b;else{var re=0,fe=0;for(b==16?(fe=3+is(e,p,3),p+=2,re=Q[E-1]):b==17?(fe=3+is(e,p,7),p+=3):b==18&&(fe=11+is(e,p,127),p+=7);fe--;)Q[E++]=re}}var Y=Q.subarray(0,z),te=Q.subarray(z);S=wp(Y),j=wp(te),g=Fs(Y,S,1),N=Fs(te,j,1)}else us(1);else{var b=dg(p)+4,A=e[b-4]|e[b-3]<<8,F=b+A;if(F>s){u&&us(0);break}o&&d(y+A),r.set(e.subarray(b,F),y),t.b=y+=A,t.p=p=F*8,t.f=f;continue}if(p>x){u&&us(0);break}}o&&d(y+131072);for(var $=(1<<S)-1,ce=(1<<j)-1,k=p;;k=p){var re=g[_p(e,p)&$],q=re>>4;if(p+=re&15,p>x){u&&us(0);break}if(re||us(2),q<256)r[y++]=q;else if(q==256){k=p,g=null;break}else{var W=q-254;if(q>264){var E=q-257,Z=$h[E];W=is(e,p,(1<<Z)-1)+Rx[E],p+=Z}var se=N[_p(e,p)&ce],X=se>>4;se||us(3),p+=se&15;var te=rk[X];if(X>3){var Z=Vh[X];te+=_p(e,p)&(1<<Z)-1,p+=Z}if(p>x){u&&us(0);break}o&&d(y+131072);var ee=y+W;if(y<te){var ue=i-te,oe=Math.min(te,ee);for(ue+y<0&&us(3);y<oe;++y)r[y]=n[ue+y]}for(;y<ee;++y)r[y]=r[y-te]}}t.l=g,t.p=k,t.b=y,t.f=f,g&&(f=1,t.m=S,t.d=N,t.n=j)}while(!f);return y!=r.length&&a?Fx(r,0,y):r.subarray(0,y)},Js=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},tu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Np=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:Dx,l:0};if(s==1){var a=new Gr(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(F,z){return F.f-z.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],d=0,f=1,p=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};f!=s-1;)o=r[r[d].f<r[p].f?d++:p++],u=r[d!=f&&r[d].f<r[p].f?d++:p++],r[f++]={s:-1,f:o.f+u.f,l:o,r:u};for(var y=i[0].s,n=1;n<s;++n)i[n].s>y&&(y=i[n].s);var g=new Ln(y+1),N=Hm(r[f-1],g,0);if(N>t){var n=0,S=0,j=N-t,x=1<<j;for(i.sort(function(z,D){return g[D.s]-g[z.s]||z.f-D.f});n<s;++n){var w=i[n].s;if(g[w]>t)S+=x-(1<<N-g[w]),g[w]=t;else break}for(S>>=j;S>0;){var b=i[n].s;g[b]<t?S-=1<<t-g[b]++-1:++n}for(;n>=0&&S;--n){var A=i[n].s;g[A]==t&&(--g[A],++S)}N=t}return{t:new Gr(g),l:N}},Hm=function(e,t,r){return e.s==-1?Math.max(Hm(e.l,t,r+1),Hm(e.r,t,r+1)):t[e.s]=r},q2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ln(++t),n=0,s=e[0],i=1,a=function(u){r[n++]=u},o=1;o<=t;++o)if(e[o]==s&&o!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[o]}return{c:r.subarray(0,n),n:t}},ru=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Mx=function(e,t,r){var n=r.length,s=dg(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},$2=function(e,t,r,n,s,i,a,o,u,d,f){Js(t,f++,r),++s[256];for(var p=Np(s,15),y=p.t,g=p.l,N=Np(i,15),S=N.t,j=N.l,x=q2(y),w=x.c,b=x.n,A=q2(S),F=A.c,z=A.n,D=new Ln(19),M=0;M<w.length;++M)++D[w[M]&31];for(var M=0;M<F.length;++M)++D[F[M]&31];for(var Q=Np(D,7),H=Q.t,E=Q.l,R=19;R>4&&!H[$m[R-1]];--R);var G=d+5<<3,U=ru(s,Ji)+ru(i,Vu)+a,le=ru(s,y)+ru(i,S)+a+14+3*R+ru(D,H)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&G<=U&&G<=le)return Mx(t,f,e.subarray(u,u+d));var re,fe,Y,te;if(Js(t,f,1+(le<U)),f+=2,le<U){re=Fs(y,g,0),fe=y,Y=Fs(S,j,0),te=S;var $=Fs(H,E,0);Js(t,f,b-257),Js(t,f+5,z-1),Js(t,f+10,R-4),f+=14;for(var M=0;M<R;++M)Js(t,f+3*M,H[$m[M]]);f+=3*R;for(var ce=[w,F],k=0;k<2;++k)for(var q=ce[k],M=0;M<q.length;++M){var W=q[M]&31;Js(t,f,$[W]),f+=H[W],W>15&&(Js(t,f,q[M]>>5&127),f+=q[M]>>12)}}else re=nk,fe=Ji,Y=ik,te=Vu;for(var M=0;M<o;++M){var Z=n[M];if(Z>255){var W=Z>>18&31;tu(t,f,re[W+257]),f+=fe[W+257],W>7&&(Js(t,f,Z>>23&31),f+=$h[W]);var se=Z&31;tu(t,f,Y[se]),f+=te[se],se>3&&(tu(t,f,Z>>5&8191),f+=Vh[se])}else tu(t,f,re[Z]),f+=fe[Z]}return tu(t,f,re[256]),f+fe[256]},uk=new cg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Dx=new Gr(0),ck=function(e,t,r,n,s,i){var a=i.z||e.length,o=new Gr(n+a+5*(1+Math.ceil(a/7e3))+s),u=o.subarray(n,o.length-s),d=i.l,f=(i.r||0)&7;if(t){f&&(u[0]=i.r>>3);for(var p=uk[t-1],y=p>>13,g=p&8191,N=(1<<r)-1,S=i.p||new Ln(32768),j=i.h||new Ln(N+1),x=Math.ceil(r/3),w=2*x,b=function(Fe){return(e[Fe]^e[Fe+1]<<x^e[Fe+2]<<w)&N},A=new cg(25e3),F=new Ln(288),z=new Ln(32),D=0,M=0,Q=i.i||0,H=0,E=i.w||0,R=0;Q+2<a;++Q){var G=b(Q),U=Q&32767,le=j[G];if(S[U]=le,j[G]=U,E<=Q){var re=a-Q;if((D>7e3||H>24576)&&(re>423||!d)){f=$2(e,u,0,A,F,z,M,H,R,Q-R,f),H=D=M=0,R=Q;for(var fe=0;fe<286;++fe)F[fe]=0;for(var fe=0;fe<30;++fe)z[fe]=0}var Y=2,te=0,$=g,ce=U-le&32767;if(re>2&&G==b(Q-ce))for(var k=Math.min(y,re)-1,q=Math.min(32767,Q),W=Math.min(258,re);ce<=q&&--$&&U!=le;){if(e[Q+Y]==e[Q+Y-ce]){for(var Z=0;Z<W&&e[Q+Z]==e[Q+Z-ce];++Z);if(Z>Y){if(Y=Z,te=ce,Z>k)break;for(var se=Math.min(ce,Z-2),X=0,fe=0;fe<se;++fe){var ee=Q-ce+fe&32767,ue=S[ee],oe=ee-ue&32767;oe>X&&(X=oe,le=ee)}}}U=le,le=S[U],ce+=U-le&32767}if(te){A[H++]=268435456|Vm[Y]<<18|z2[te];var me=Vm[Y]&31,je=z2[te]&31;M+=$h[me]+Vh[je],++F[257+me],++z[je],E=Q+Y,++D}else A[H++]=e[Q],++F[e[Q]]}}for(Q=Math.max(Q,E);Q<a;++Q)A[H++]=e[Q],++F[e[Q]];f=$2(e,u,d,A,F,z,M,H,R,Q-R,f),d||(i.r=f&7|u[f/8|0]<<3,f-=7,i.h=j,i.p=S,i.i=Q,i.w=E)}else{for(var Q=i.w||0;Q<a+d;Q+=65535){var ke=Q+65535;ke>=a&&(u[f/8|0]=d,ke=a),f=Mx(u,f+1,e.subarray(Q,ke))}i.i=a}return Fx(o,0,n+dg(f)+s)},Bx=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},dk=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Gr(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return ck(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},Ux=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},hk=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Bx();s.p(t.dictionary),Ux(e,2,s.d())}},fk=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&us(6,"invalid zlib data"),(e[1]>>5&1)==1&&us(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Gm(e,t){t||(t={});var r=Bx();r.p(e);var n=dk(e,t,t.dictionary?6:2,4);return hk(n,t),Ux(n,n.length-4,r.d()),n}function pk(e,t){return lk(e.subarray(fk(e),-4),{i:2},t,t)}var mk=typeof TextDecoder<"u"&&new TextDecoder,gk=0;try{mk.decode(Dx,{stream:!0}),gk=1}catch{}var nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sp(){nt.console&&typeof nt.console.log=="function"&&nt.console.log.apply(nt.console,arguments)}var Dt={log:Sp,warn:function(e){nt.console&&(typeof nt.console.warn=="function"?nt.console.warn.apply(nt.console,arguments):Sp.call(null,arguments))},error:function(e){nt.console&&(typeof nt.console.error=="function"?nt.console.error.apply(nt.console,arguments):Sp(e))}};function jp(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){va(n.response,t,r)},n.onerror=function(){Dt.error("could not download file")},n.send()}function V2(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function pd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _u,Jm,va=nt.saveAs||((typeof window>"u"?"undefined":Tt(window))!=="object"||window!==nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=nt.URL||nt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?V2(s.href)?jp(e,t,r):pd(s,s.target="_blank"):pd(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){pd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(V2(e))jp(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){pd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Tt(i)!=="object"&&(Dt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return jp(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(nt.HTMLElement)||nt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Tt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var u=nt.URL||nt.webkitURL,d=u.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zx(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+o+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kp(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=zr(r,n,s,i,t[0],7,-680876936),i=zr(i,r,n,s,t[1],12,-389564586),s=zr(s,i,r,n,t[2],17,606105819),n=zr(n,s,i,r,t[3],22,-1044525330),r=zr(r,n,s,i,t[4],7,-176418897),i=zr(i,r,n,s,t[5],12,1200080426),s=zr(s,i,r,n,t[6],17,-1473231341),n=zr(n,s,i,r,t[7],22,-45705983),r=zr(r,n,s,i,t[8],7,1770035416),i=zr(i,r,n,s,t[9],12,-1958414417),s=zr(s,i,r,n,t[10],17,-42063),n=zr(n,s,i,r,t[11],22,-1990404162),r=zr(r,n,s,i,t[12],7,1804603682),i=zr(i,r,n,s,t[13],12,-40341101),s=zr(s,i,r,n,t[14],17,-1502002290),r=qr(r,n=zr(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=qr(i,r,n,s,t[6],9,-1069501632),s=qr(s,i,r,n,t[11],14,643717713),n=qr(n,s,i,r,t[0],20,-373897302),r=qr(r,n,s,i,t[5],5,-701558691),i=qr(i,r,n,s,t[10],9,38016083),s=qr(s,i,r,n,t[15],14,-660478335),n=qr(n,s,i,r,t[4],20,-405537848),r=qr(r,n,s,i,t[9],5,568446438),i=qr(i,r,n,s,t[14],9,-1019803690),s=qr(s,i,r,n,t[3],14,-187363961),n=qr(n,s,i,r,t[8],20,1163531501),r=qr(r,n,s,i,t[13],5,-1444681467),i=qr(i,r,n,s,t[2],9,-51403784),s=qr(s,i,r,n,t[7],14,1735328473),r=$r(r,n=qr(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=$r(i,r,n,s,t[8],11,-2022574463),s=$r(s,i,r,n,t[11],16,1839030562),n=$r(n,s,i,r,t[14],23,-35309556),r=$r(r,n,s,i,t[1],4,-1530992060),i=$r(i,r,n,s,t[4],11,1272893353),s=$r(s,i,r,n,t[7],16,-155497632),n=$r(n,s,i,r,t[10],23,-1094730640),r=$r(r,n,s,i,t[13],4,681279174),i=$r(i,r,n,s,t[0],11,-358537222),s=$r(s,i,r,n,t[3],16,-722521979),n=$r(n,s,i,r,t[6],23,76029189),r=$r(r,n,s,i,t[9],4,-640364487),i=$r(i,r,n,s,t[12],11,-421815835),s=$r(s,i,r,n,t[15],16,530742520),r=Vr(r,n=$r(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Vr(i,r,n,s,t[7],10,1126891415),s=Vr(s,i,r,n,t[14],15,-1416354905),n=Vr(n,s,i,r,t[5],21,-57434055),r=Vr(r,n,s,i,t[12],6,1700485571),i=Vr(i,r,n,s,t[3],10,-1894986606),s=Vr(s,i,r,n,t[10],15,-1051523),n=Vr(n,s,i,r,t[1],21,-2054922799),r=Vr(r,n,s,i,t[8],6,1873313359),i=Vr(i,r,n,s,t[15],10,-30611744),s=Vr(s,i,r,n,t[6],15,-1560198380),n=Vr(n,s,i,r,t[13],21,1309151649),r=Vr(r,n,s,i,t[4],6,-145523070),i=Vr(i,r,n,s,t[11],10,-1120210379),s=Vr(s,i,r,n,t[2],15,718787259),n=Vr(n,s,i,r,t[9],21,-343485551),e[0]=Fi(r,e[0]),e[1]=Fi(n,e[1]),e[2]=Fi(s,e[2]),e[3]=Fi(i,e[3])}function Wh(e,t,r,n,s,i){return t=Fi(Fi(t,e),Fi(n,i)),Fi(t<<s|t>>>32-s,r)}function zr(e,t,r,n,s,i,a){return Wh(t&r|~t&n,e,t,s,i,a)}function qr(e,t,r,n,s,i,a){return Wh(t&n|r&~n,e,t,s,i,a)}function $r(e,t,r,n,s,i,a){return Wh(t^r^n,e,t,s,i,a)}function Vr(e,t,r,n,s,i,a){return Wh(r^(t|~n),e,t,s,i,a)}function qx(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)kp(n,vk(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(kp(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,kp(n,s),n}function vk(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}_u=nt.atob.bind(nt),Jm=nt.btoa.bind(nt);var W2="0123456789abcdef".split("");function yk(e){for(var t="",r=0;r<4;r++)t+=W2[e>>8*r+4&15]+W2[e>>8*r&15];return t}function xk(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Km(e){return qx(e).map(xk).join("")}var bk=function(e){for(var t=0;t<e.length;t++)e[t]=yk(e[t]);return e.join("")}(qx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Fi(e,t){if(bk){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ym(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),o=[],u=0;u<256;u++)o[u]=u;var d=0;for(u=0;u<256;u++){var f=o[u];d=(d+f+a.charCodeAt(u))%256,o[u]=o[d],o[d]=f}r=e,n=o}else o=n;var p=t.length,y=0,g=0,N="";for(u=0;u<p;u++)g=(g+(f=o[y=(y+1)%256]))%256,o[y]=o[g],o[g]=f,a=o[(o[y]+o[g])%256],N+=String.fromCharCode(t.charCodeAt(u)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var H2={print:4,modify:8,copy:16,"annot-forms":32};function So(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(H2.perm!==void 0)throw new Error("Invalid permission: "+o);s+=H2[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Km(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ym(this.encryptionKey,this.padding)}function jo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function G2(e){if(Tt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(o){nt.console&&Dt.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function fh(e){if(!(this instanceof fh))return new fh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $x(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xa(e,t,r,n,s){if(!(this instanceof xa))return new xa(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$x.call(this,n,s)}function Do(e,t,r,n,s){if(!(this instanceof Do))return new Do(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$x.call(this,n,s)}function et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,u=16,d="S",f=null;Tt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=G2;var N="1.3",S=g.__private__.getPdfVersion=function(){return N};g.__private__.setPdfVersion=function(m){N=m};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return j};var x=g.__private__.getPageFormat=function(m){return j[m]};s=s||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function A(){this.saveGraphicsState(),J(new rt(we,0,0,-we,0,di()*we).toString()+" cm"),this.setFontSize(this.getFontSize()/we),d="n",b=w.ADVANCED}function F(){this.restoreGraphicsState(),d="S",b=w.COMPAT}var z=g.__private__.combineFontStyleAndFontWeight=function(m,P){if(m=="bold"&&P=="normal"||m=="bold"&&P==400||m=="normal"&&P=="italic"||m=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(m=P==400||P==="normal"?m==="italic"?"italic":"normal":P!=700&&P!=="bold"||m!=="normal"?(P==700?"bold":P)+""+m:"bold"),m};g.advancedAPI=function(m){var P=b===w.COMPAT;return P&&A.call(this),typeof m!="function"||(m(this),P&&F.call(this)),this},g.compatAPI=function(m){var P=b===w.ADVANCED;return P&&F.call(this),typeof m!="function"||(m(this),P&&A.call(this)),this},g.isAdvancedAPI=function(){return b===w.ADVANCED};var D,M=function(m){if(b!==w.ADVANCED)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=g.roundToPrecision=g.__private__.roundToPrecision=function(m,P){var K=t||P;if(isNaN(m)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(K).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof u=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(m,u)}:u==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(m,16)};var H=g.f2=g.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return Q(m,2)},E=g.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return Q(m,3)},R=g.scale=g.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?m*we:b===w.ADVANCED?m:void 0},G=function(m){return b===w.COMPAT?di()-m:b===w.ADVANCED?m:void 0},U=function(m){return R(G(m))};g.__private__.setPrecision=g.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var le,re="00000000000000000000000000000000",fe=g.__private__.getFileId=function(){return re},Y=g.__private__.setFileId=function(m){return re=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Mr=new So(f.userPermissions,f.userPassword,f.ownerPassword,re)),re};g.setFileId=function(m){return Y(m),this},g.getFileId=function(){return fe()};var te=g.__private__.convertDateToPDFDate=function(m){var P=m.getTimezoneOffset(),K=P<0?"+":"-",ne=Math.floor(Math.abs(P/60)),pe=Math.abs(P%60),Se=[K,W(ne),"'",W(pe),"'"].join("");return["D:",m.getFullYear(),W(m.getMonth()+1),W(m.getDate()),W(m.getHours()),W(m.getMinutes()),W(m.getSeconds()),Se].join("")},$=g.__private__.convertPDFDateToDate=function(m){var P=parseInt(m.substr(2,4),10),K=parseInt(m.substr(6,2),10)-1,ne=parseInt(m.substr(8,2),10),pe=parseInt(m.substr(10,2),10),Se=parseInt(m.substr(12,2),10),Ce=parseInt(m.substr(14,2),10);return new Date(P,K,ne,pe,Se,Ce,0)},ce=g.__private__.setCreationDate=function(m){var P;if(m===void 0&&(m=new Date),m instanceof Date)P=te(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=m}return le=P},k=g.__private__.getCreationDate=function(m){var P=le;return m==="jsDate"&&(P=$(le)),P};g.setCreationDate=function(m){return ce(m),this},g.getCreationDate=function(m){return k(m)};var q,W=g.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Z=g.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},se=0,X=[],ee=[],ue=0,oe=[],me=[],je=!1,ke=ee,Fe=function(){se=0,ue=0,ee=[],X=[],oe=[],Ds=dr(),Yn=dr()};g.__private__.setCustomOutputDestination=function(m){je=!0,ke=m};var ge=function(m){je||(ke=m)};g.__private__.resetCustomOutputDestination=function(){je=!1,ke=ee};var J=g.__private__.out=function(m){return m=m.toString(),ue+=m.length+1,ke.push(m),ke},Ue=g.__private__.write=function(m){return J(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Be=g.__private__.getArrayBuffer=function(m){for(var P=m.length,K=new ArrayBuffer(P),ne=new Uint8Array(K);P--;)ne[P]=m.charCodeAt(P);return K},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ne};var Ie=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(m){return Ie=b===w.ADVANCED?m/we:m,this};var Me,De=g.__private__.getFontSize=g.getFontSize=function(){return b===w.COMPAT?Ie:Ie*we},Je=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(m){return Je=m,this},g.__private__.getR2L=g.getR2L=function(){return Je};var tt,it=g.__private__.setZoomMode=function(m){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Me=m;else if(isNaN(m)){if(P.indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Me=m}else Me=parseInt(m,10)};g.__private__.getZoomMode=function(){return Me};var at,xe=g.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');tt=m};g.__private__.getPageMode=function(){return tt};var Re=g.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');at=m};g.__private__.getLayoutMode=function(){return at},g.__private__.setDisplayMode=g.setDisplayMode=function(m,P,K){return it(m),Re(P),xe(K),this};var Te={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(m){if(Object.keys(Te).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Te[m]},g.__private__.getDocumentProperties=function(){return Te},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(m){for(var P in Te)Te.hasOwnProperty(P)&&m[P]&&(Te[P]=m[P]);return this},g.__private__.setDocumentProperty=function(m,P){if(Object.keys(Te).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Te[m]=P};var $e,we,Pt,ht,_r,ft={},xt={},Bt=[],mt={},Nr={},Et={},Ve={},ot=null,st=0,Ke=[],ut=new G2(g),Sr=e.hotfixes||[],Ft={},bn={},Tn=[],rt=function m(P,K,ne,pe,Se,Ce){if(!(this instanceof m))return new m(P,K,ne,pe,Se,Ce);isNaN(P)&&(P=1),isNaN(K)&&(K=0),isNaN(ne)&&(ne=0),isNaN(pe)&&(pe=1),isNaN(Se)&&(Se=0),isNaN(Ce)&&(Ce=0),this._matrix=[P,K,ne,pe,Se,Ce]};Object.defineProperty(rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rt.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(m)},rt.prototype.multiply=function(m){var P=m.sx*this.sx+m.shy*this.shx,K=m.sx*this.shy+m.shy*this.sy,ne=m.shx*this.sx+m.sy*this.shx,pe=m.shx*this.shy+m.sy*this.sy,Se=m.tx*this.sx+m.ty*this.shx+this.tx,Ce=m.tx*this.shy+m.ty*this.sy+this.ty;return new rt(P,K,ne,pe,Se,Ce)},rt.prototype.decompose=function(){var m=this.sx,P=this.shy,K=this.shx,ne=this.sy,pe=this.tx,Se=this.ty,Ce=Math.sqrt(m*m+P*P),We=(m/=Ce)*K+(P/=Ce)*ne;K-=m*We,ne-=P*We;var Xe=Math.sqrt(K*K+ne*ne);return We/=Xe,m*(ne/=Xe)<P*(K/=Xe)&&(m=-m,P=-P,We=-We,Ce=-Ce),{scale:new rt(Ce,0,0,Xe,0,0),translate:new rt(1,0,0,1,pe,Se),rotate:new rt(m,P,-P,m,0,0),skew:new rt(1,0,We,1,0,0)}},rt.prototype.toString=function(m){return this.join(" ")},rt.prototype.inversed=function(){var m=this.sx,P=this.shy,K=this.shx,ne=this.sy,pe=this.tx,Se=this.ty,Ce=1/(m*ne-P*K),We=ne*Ce,Xe=-P*Ce,pt=-K*Ce,ct=m*Ce;return new rt(We,Xe,pt,ct,-We*pe-pt*Se,-Xe*pe-ct*Se)},rt.prototype.applyToPoint=function(m){var P=m.x*this.sx+m.y*this.shx+this.tx,K=m.x*this.shy+m.y*this.sy+this.ty;return new Xa(P,K)},rt.prototype.applyToRectangle=function(m){var P=this.applyToPoint(m),K=this.applyToPoint(new Xa(m.x+m.w,m.y+m.h));return new Sl(P.x,P.y,K.x-P.x,K.y-P.y)},rt.prototype.clone=function(){var m=this.sx,P=this.shy,K=this.shx,ne=this.sy,pe=this.tx,Se=this.ty;return new rt(m,P,K,ne,pe,Se)},g.Matrix=rt;var Kn=g.matrixMult=function(m,P){return P.multiply(m)},xs=new rt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=xs;var sn=function(m,P){if(!Nr[m]){var K=(P instanceof xa?"Sh":"P")+(Object.keys(mt).length+1).toString(10);P.id=K,Nr[m]=K,mt[K]=P,ut.publish("addPattern",P)}};g.ShadingPattern=xa,g.TilingPattern=Do,g.addShadingPattern=function(m,P){return M("addShadingPattern()"),sn(m,P),this},g.beginTilingPattern=function(m){M("beginTilingPattern()"),wc(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},g.endTilingPattern=function(m,P){M("endTilingPattern()"),P.stream=me[q].join(`
`),sn(m,P),ut.publish("endTilingPattern",P),Tn.pop().restore()};var gr=g.__private__.newObject=function(){var m=dr();return wn(m,!0),m},dr=g.__private__.newObjectDeferred=function(){return se++,X[se]=function(){return ue},se},wn=function(m,P){return P=typeof P=="boolean"&&P,X[m]=ue,P&&J(m+" 0 obj"),m},Da=g.__private__.newAdditionalObject=function(){var m={objId:dr(),content:""};return oe.push(m),m},Ds=dr(),Yn=dr(),Xn=g.__private__.decodeColorString=function(m){var P=m.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var K=parseFloat(P[0]);P=[K,K,K,"r"]}for(var ne="#",pe=0;pe<3;pe++)ne+=("0"+Math.floor(255*parseFloat(P[pe])).toString(16)).slice(-2);return ne},Qn=g.__private__.encodeColorString=function(m){var P;typeof m=="string"&&(m={ch1:m});var K=m.ch1,ne=m.ch2,pe=m.ch3,Se=m.ch4,Ce=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var We=new zx(K);if(We.ok)K=We.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var Xe=parseInt(K.substr(1),16);K=Xe>>16&255,ne=Xe>>8&255,pe=255&Xe}if(ne===void 0||Se===void 0&&K===ne&&ne===pe)if(typeof K=="string")P=K+" "+Ce[0];else switch(m.precision){case 2:P=H(K/255)+" "+Ce[0];break;case 3:default:P=E(K/255)+" "+Ce[0]}else if(Se===void 0||Tt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return P=["1.","1.","1.",Ce[1]].join(" ");if(typeof K=="string")P=[K,ne,pe,Ce[1]].join(" ");else switch(m.precision){case 2:P=[H(K/255),H(ne/255),H(pe/255),Ce[1]].join(" ");break;default:case 3:P=[E(K/255),E(ne/255),E(pe/255),Ce[1]].join(" ")}}else if(typeof K=="string")P=[K,ne,pe,Se,Ce[2]].join(" ");else switch(m.precision){case 2:P=[H(K),H(ne),H(pe),H(Se),Ce[2]].join(" ");break;case 3:default:P=[E(K),E(ne),E(pe),E(Se),Ce[2]].join(" ")}return P},bs=g.__private__.getFilters=function(){return a},Rn=g.__private__.putStream=function(m){var P=(m=m||{}).data||"",K=m.filters||bs(),ne=m.alreadyAppliedFilters||[],pe=m.addLength1||!1,Se=P.length,Ce=m.objectId,We=function(Dr){return Dr};if(f!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(We=Mr.encryptor(Ce,0));var Xe={};K===!0&&(K=["FlateEncode"]);var pt=m.additionalKeyValues||[],ct=(Xe=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(P,K):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(Xe.data.length!==0&&(pt.push({key:"Length",value:Xe.data.length}),pe===!0&&pt.push({key:"Length1",value:Se})),ct.length!=0)if(ct.split("/").length-1==1)pt.push({key:"Filter",value:ct});else{pt.push({key:"Filter",value:"["+ct+"]"});for(var St=0;St<pt.length;St+=1)if(pt[St].key==="DecodeParms"){for(var Jt=[],Zt=0;Zt<Xe.reverseChain.split("/").length-1;Zt+=1)Jt.push("null");Jt.push(pt[St].value),pt[St].value="["+Jt.join(" ")+"]"}}J("<<");for(var hr=0;hr<pt.length;hr++)J("/"+pt[hr].key+" "+pt[hr].value);J(">>"),Xe.data.length!==0&&(J("stream"),J(We(Xe.data)),J("endstream"))},ws=g.__private__.putPage=function(m){var P=m.number,K=m.data,ne=m.objId,pe=m.contentsObjId;wn(ne,!0),J("<</Type /Page"),J("/Parent "+m.rootDictionaryObjId+" 0 R"),J("/Resources "+m.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(m.mediaBox.bottomLeftX))+" "+parseFloat(D(m.mediaBox.bottomLeftY))+" "+D(m.mediaBox.topRightX)+" "+D(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&J("/CropBox ["+D(m.cropBox.bottomLeftX)+" "+D(m.cropBox.bottomLeftY)+" "+D(m.cropBox.topRightX)+" "+D(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&J("/BleedBox ["+D(m.bleedBox.bottomLeftX)+" "+D(m.bleedBox.bottomLeftY)+" "+D(m.bleedBox.topRightX)+" "+D(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&J("/TrimBox ["+D(m.trimBox.bottomLeftX)+" "+D(m.trimBox.bottomLeftY)+" "+D(m.trimBox.topRightX)+" "+D(m.trimBox.topRightY)+"]"),m.artBox!==null&&J("/ArtBox ["+D(m.artBox.bottomLeftX)+" "+D(m.artBox.bottomLeftY)+" "+D(m.artBox.topRightX)+" "+D(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&J("/UserUnit "+m.userUnit),ut.publish("putPage",{objId:ne,pageContext:Ke[P],pageNumber:P,page:K}),J("/Contents "+pe+" 0 R"),J(">>"),J("endobj");var Se=K.join(`
`);return b===w.ADVANCED&&(Se+=`
Q`),wn(pe,!0),Rn({data:Se,filters:bs(),objectId:pe}),J("endobj"),ne},ta=g.__private__.putPages=function(){var m,P,K=[];for(m=1;m<=st;m++)Ke[m].objId=dr(),Ke[m].contentsObjId=dr();for(m=1;m<=st;m++)K.push(ws({number:m,data:me[m],objId:Ke[m].objId,contentsObjId:Ke[m].contentsObjId,mediaBox:Ke[m].mediaBox,cropBox:Ke[m].cropBox,bleedBox:Ke[m].bleedBox,trimBox:Ke[m].trimBox,artBox:Ke[m].artBox,userUnit:Ke[m].userUnit,rootDictionaryObjId:Ds,resourceDictionaryObjId:Yn}));wn(Ds,!0),J("<</Type /Pages");var ne="/Kids [";for(P=0;P<st;P++)ne+=K[P]+" 0 R ";J(ne+"]"),J("/Count "+st),J(">>"),J("endobj"),ut.publish("postPutPages")},Ba=function(m){ut.publish("putFont",{font:m,out:J,newObject:gr,putStream:Rn}),m.isAlreadyPutted!==!0&&(m.objectNumber=gr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+jo(m.postScriptName)),J("/Subtype /Type1"),typeof m.encoding=="string"&&J("/Encoding /"+m.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ua=function(){for(var m in ft)ft.hasOwnProperty(m)&&(p===!1||p===!0&&y.hasOwnProperty(m))&&Ba(ft[m])},za=function(m){m.objectNumber=gr();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[D(m.x),D(m.y),D(m.x+m.width),D(m.y+m.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var K=m.pages[1].join(`
`);Rn({data:K,additionalKeyValues:P,objectId:m.objectNumber}),J("endobj")},qa=function(){for(var m in Ft)Ft.hasOwnProperty(m)&&za(Ft[m])},nc=function(m,P){var K,ne=[],pe=1/(P-1);for(K=0;K<1;K+=pe)ne.push(K);if(ne.push(1),m[0].offset!=0){var Se={offset:0,color:m[0].color};m.unshift(Se)}if(m[m.length-1].offset!=1){var Ce={offset:1,color:m[m.length-1].color};m.push(Ce)}for(var We="",Xe=0,pt=0;pt<ne.length;pt++){for(K=ne[pt];K>m[Xe+1].offset;)Xe++;var ct=m[Xe].offset,St=(K-ct)/(m[Xe+1].offset-ct),Jt=m[Xe].color,Zt=m[Xe+1].color;We+=Z(Math.round((1-St)*Jt[0]+St*Zt[0]).toString(16))+Z(Math.round((1-St)*Jt[1]+St*Zt[1]).toString(16))+Z(Math.round((1-St)*Jt[2]+St*Zt[2]).toString(16))}return We.trim()},Hh=function(m,P){P||(P=21);var K=gr(),ne=nc(m.colors,P),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+P+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:ne,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),J("endobj"),m.objectNumber=gr(),J("<< /ShadingType "+m.type),J("/ColorSpace /DeviceRGB");var Se="/Coords ["+D(parseFloat(m.coords[0]))+" "+D(parseFloat(m.coords[1]))+" ";m.type===2?Se+=D(parseFloat(m.coords[2]))+" "+D(parseFloat(m.coords[3])):Se+=D(parseFloat(m.coords[2]))+" "+D(parseFloat(m.coords[3]))+" "+D(parseFloat(m.coords[4]))+" "+D(parseFloat(m.coords[5])),J(Se+="]"),m.matrix&&J("/Matrix ["+m.matrix.toString()+"]"),J("/Function "+K+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Gh=function(m,P){var K=dr(),ne=gr();P.push({resourcesOid:K,objectOid:ne}),m.objectNumber=ne;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+m.boundingBox.map(D).join(" ")+"]"}),pe.push({key:"XStep",value:D(m.xStep)}),pe.push({key:"YStep",value:D(m.yStep)}),pe.push({key:"Resources",value:K+" 0 R"}),m.matrix&&pe.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Rn({data:m.stream,additionalKeyValues:pe,objectId:m.objectNumber}),J("endobj")},$a=function(m){var P;for(P in mt)mt.hasOwnProperty(P)&&(mt[P]instanceof xa?Hh(mt[P]):mt[P]instanceof Do&&Gh(mt[P],m))},sc=function(m){for(var P in m.objectNumber=gr(),J("<<"),m)switch(P){case"opacity":J("/ca "+H(m[P]));break;case"stroke-opacity":J("/CA "+H(m[P]))}J(">>"),J("endobj")},Jh=function(){var m;for(m in Et)Et.hasOwnProperty(m)&&sc(Et[m])},pl=function(){for(var m in J("/XObject <<"),Ft)Ft.hasOwnProperty(m)&&Ft[m].objectNumber>=0&&J("/"+m+" "+Ft[m].objectNumber+" 0 R");ut.publish("putXobjectDict"),J(">>")},Kh=function(){Mr.oid=gr(),J("<<"),J("/Filter /Standard"),J("/V "+Mr.v),J("/R "+Mr.r),J("/U <"+Mr.toHexString(Mr.U)+">"),J("/O <"+Mr.toHexString(Mr.O)+">"),J("/P "+Mr.P),J(">>"),J("endobj")},ic=function(){for(var m in J("/Font <<"),ft)ft.hasOwnProperty(m)&&(p===!1||p===!0&&y.hasOwnProperty(m))&&J("/"+m+" "+ft[m].objectNumber+" 0 R");J(">>")},Yh=function(){if(Object.keys(mt).length>0){for(var m in J("/Shading <<"),mt)mt.hasOwnProperty(m)&&mt[m]instanceof xa&&mt[m].objectNumber>=0&&J("/"+m+" "+mt[m].objectNumber+" 0 R");ut.publish("putShadingPatternDict"),J(">>")}},Va=function(m){if(Object.keys(mt).length>0){for(var P in J("/Pattern <<"),mt)mt.hasOwnProperty(P)&&mt[P]instanceof g.TilingPattern&&mt[P].objectNumber>=0&&mt[P].objectNumber<m&&J("/"+P+" "+mt[P].objectNumber+" 0 R");ut.publish("putTilingPatternDict"),J(">>")}},Xh=function(){if(Object.keys(Et).length>0){var m;for(m in J("/ExtGState <<"),Et)Et.hasOwnProperty(m)&&Et[m].objectNumber>=0&&J("/"+m+" "+Et[m].objectNumber+" 0 R");ut.publish("putGStateDict"),J(">>")}},nr=function(m){wn(m.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ic(),Yh(),Va(m.objectOid),Xh(),pl(),J(">>"),J("endobj")},ac=function(){var m=[];Ua(),Jh(),qa(),$a(m),ut.publish("putResources"),m.forEach(nr),nr({resourcesOid:Yn,objectOid:Number.MAX_SAFE_INTEGER}),ut.publish("postPutResources")},oc=function(){ut.publish("putAdditionalObjects");for(var m=0;m<oe.length;m++){var P=oe[m];wn(P.objId,!0),J(P.content),J("endobj")}ut.publish("postPutAdditionalObjects")},lc=function(m){xt[m.fontName]=xt[m.fontName]||{},xt[m.fontName][m.fontStyle]=m.id},ml=function(m,P,K,ne,pe){var Se={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:m,fontName:P,fontStyle:K,encoding:ne,isStandardFont:pe||!1,metadata:{}};return ut.publish("addFont",{font:Se,instance:this}),ft[Se.id]=Se,lc(Se),Se.id},Qh=function(m){for(var P=0,K=Ne.length;P<K;P++){var ne=ml.call(this,m[P][0],m[P][1],m[P][2],Ne[P][3],!0);p===!1&&(y[ne]=!0);var pe=m[P][0].split("-");lc({id:ne,fontName:pe[0],fontStyle:pe[1]||""})}ut.publish("addFonts",{fonts:ft,dictionary:xt})},Zn=function(m){return m.foo=function(){try{return m.apply(this,arguments)}catch(ne){var P=ne.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var K="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ne.message;if(!nt.console)throw new Error(K);nt.console.error(K,ne),nt.alert&&alert(K)}},m.foo.bar=m,m.foo},Wa=function(m,P){var K,ne,pe,Se,Ce,We,Xe,pt,ct;if(pe=(P=P||{}).sourceEncoding||"Unicode",Ce=P.outputEncoding,(P.autoencode||Ce)&&ft[$e].metadata&&ft[$e].metadata[pe]&&ft[$e].metadata[pe].encoding&&(Se=ft[$e].metadata[pe].encoding,!Ce&&ft[$e].encoding&&(Ce=ft[$e].encoding),!Ce&&Se.codePages&&(Ce=Se.codePages[0]),typeof Ce=="string"&&(Ce=Se[Ce]),Ce)){for(Xe=!1,We=[],K=0,ne=m.length;K<ne;K++)(pt=Ce[m.charCodeAt(K)])?We.push(String.fromCharCode(pt)):We.push(m[K]),We[K].charCodeAt(0)>>8&&(Xe=!0);m=We.join("")}for(K=m.length;Xe===void 0&&K!==0;)m.charCodeAt(K-1)>>8&&(Xe=!0),K--;if(!Xe)return m;for(We=P.noBOM?[]:[254,255],K=0,ne=m.length;K<ne;K++){if((ct=(pt=m.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+m+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(ct),We.push(pt-(ct<<8))}return String.fromCharCode.apply(void 0,We)},an=g.__private__.pdfEscape=g.pdfEscape=function(m,P){return Wa(m,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gl=g.__private__.beginPage=function(m){me[++st]=[],Ke[st]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},cc(st),ge(me[q])},uc=function(m,P){var K,ne,pe;switch(r=P||r,typeof m=="string"&&(K=x(m.toLowerCase()),Array.isArray(K)&&(ne=K[0],pe=K[1])),Array.isArray(m)&&(ne=m[0]*we,pe=m[1]*we),isNaN(ne)&&(ne=s[0],pe=s[1]),(ne>14400||pe>14400)&&(Dt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),pe=Math.min(14400,pe)),s=[ne,pe],r.substr(0,1)){case"l":pe>ne&&(s=[pe,ne]);break;case"p":ne>pe&&(s=[pe,ne])}gl(s),gc(bl),J(es),_l!==0&&J(_l+" J"),Nl!==0&&J(Nl+" j"),ut.publish("addPage",{pageNumber:st})},Zh=function(m){m>0&&m<=st&&(me.splice(m,1),Ke.splice(m,1),st--,q>st&&(q=st),this.setPage(q))},cc=function(m){m>0&&m<=st&&(q=m)},ef=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return me.length-1},dc=function(m,P,K){var ne,pe=void 0;return K=K||{},m=m!==void 0?m:ft[$e].fontName,P=P!==void 0?P:ft[$e].fontStyle,ne=m.toLowerCase(),xt[ne]!==void 0&&xt[ne][P]!==void 0?pe=xt[ne][P]:xt[m]!==void 0&&xt[m][P]!==void 0?pe=xt[m][P]:K.disableWarning===!1&&Dt.warn("Unable to look up font label for font '"+m+"', '"+P+"'. Refer to getFontList() for available fonts."),pe||K.noFallback||(pe=xt.times[P])==null&&(pe=xt.times.normal),pe},tf=g.__private__.putInfo=function(){var m=gr(),P=function(ne){return ne};for(var K in f!==null&&(P=Mr.encryptor(m,0)),J("<<"),J("/Producer ("+an(P("jsPDF "+et.version))+")"),Te)Te.hasOwnProperty(K)&&Te[K]&&J("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+an(P(Te[K]))+")");J("/CreationDate ("+an(P(le))+")"),J(">>"),J("endobj")},vl=g.__private__.putCatalog=function(m){var P=(m=m||{}).rootDictionaryObjId||Ds;switch(gr(),J("<<"),J("/Type /Catalog"),J("/Pages "+P+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+Me;K.substr(K.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&J("/OpenAction [3 0 R /XYZ null null "+H(Me)+"]")}switch(at||(at="continuous"),at){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}tt&&J("/PageMode /"+tt),ut.publish("putCatalog"),J(">>"),J("endobj")},rf=g.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(se+1)),J("/Root "+se+" 0 R"),J("/Info "+(se-1)+" 0 R"),f!==null&&J("/Encrypt "+Mr.oid+" 0 R"),J("/ID [ <"+re+"> <"+re+"> ]"),J(">>")},nf=g.__private__.putHeader=function(){J("%PDF-"+N),J("%ºß¬à")},sf=g.__private__.putXRef=function(){var m="0000000000";J("xref"),J("0 "+(se+1)),J("0000000000 65535 f ");for(var P=1;P<=se;P++)typeof X[P]=="function"?J((m+X[P]()).slice(-10)+" 00000 n "):X[P]!==void 0?J((m+X[P]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Bs=g.__private__.buildDocument=function(){Fe(),ge(ee),ut.publish("buildDocument"),nf(),ta(),oc(),ac(),f!==null&&Kh(),tf(),vl();var m=ue;return sf(),rf(),J("startxref"),J(""+m),J("%%EOF"),ge(me[q]),ee.join(`
`)},Ha=g.__private__.getBlob=function(m){return new Blob([Be(m)],{type:"application/pdf"})},Ga=g.output=g.__private__.output=Zn(function(m,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",m){case void 0:return Bs();case"save":g.save(P.filename);break;case"arraybuffer":return Be(Bs());case"blob":return Ha(Bs());case"bloburi":case"bloburl":if(nt.URL!==void 0&&typeof nt.URL.createObjectURL=="function")return nt.URL&&nt.URL.createObjectURL(Ha(Bs()))||void 0;Dt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",ne=Bs();try{K=Jm(ne)}catch{K=Jm(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+P.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nt)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(pe=P.pdfObjectUrl,Se="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",We=nt.open();return We!==null&&We.document.write(Ce),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nt)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',pt=nt.open();if(pt!==null){pt.document.write(Xe);var ct=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=P.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ct.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Jt=nt.open();if(Jt!==null&&(Jt.document.write(St),Jt.document.title=P.filename),Jt||typeof safari>"u")return Jt;break;case"datauri":case"dataurl":return nt.document.location.href=this.output("datauristring",P);default:return null}}),hc=function(m){return Array.isArray(Sr)===!0&&Sr.indexOf(m)>-1};switch(n){case"pt":we=1;break;case"mm":we=72/25.4;break;case"cm":we=72/2.54;break;case"in":we=72;break;case"px":we=hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":we=12;break;case"ex":we=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);we=n}var Mr=null;ce(),Y();var af=function(m){return f!==null?Mr.encryptor(m,0):function(P){return P}},fc=g.__private__.getPageInfo=g.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[m].objId,pageNumber:m,pageContext:Ke[m]}},lt=g.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Ke)if(Ke[P].objId===m)break;return fc(P)},of=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ke[q].objId,pageNumber:q,pageContext:Ke[q]}};g.addPage=function(){return uc.apply(this,arguments),this},g.setPage=function(){return cc.apply(this,arguments),ge.call(this,me[q]),this},g.insertPage=function(m){return this.addPage(),this.movePage(q,m),this},g.movePage=function(m,P){var K,ne;if(m>P){K=me[m],ne=Ke[m];for(var pe=m;pe>P;pe--)me[pe]=me[pe-1],Ke[pe]=Ke[pe-1];me[P]=K,Ke[P]=ne,this.setPage(P)}else if(m<P){K=me[m],ne=Ke[m];for(var Se=m;Se<P;Se++)me[Se]=me[Se+1],Ke[Se]=Ke[Se+1];me[P]=K,Ke[P]=ne,this.setPage(P)}return this},g.deletePage=function(){return Zh.apply(this,arguments),this},g.__private__.text=g.text=function(m,P,K,ne,pe){var Se,Ce,We,Xe,pt,ct,St,Jt,Zt,hr=(ne=ne||{}).scope||this;if(typeof m=="number"&&typeof P=="number"&&(typeof K=="string"||Array.isArray(K))){var Dr=K;K=P,P=m,m=Dr}if(arguments[3]instanceof rt?(M("The transform parameter of text() with a Matrix value"),Zt=pe):(We=arguments[4],Xe=arguments[5],Tt(St=arguments[3])==="object"&&St!==null||(typeof We=="string"&&(Xe=We,We=null),typeof St=="string"&&(Xe=St,St=null),typeof St=="number"&&(We=St,St=null),ne={flags:St,angle:We,align:Xe})),isNaN(P)||isNaN(K)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return hr;var jr="",ts=!1,_n=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:na,Ss=hr.internal.scaleFactor;function _c(Ut){return Ut=Ut.split("	").join(Array(ne.TabLen||9).join(" ")),an(Ut,St)}function Ll(Ut){for(var zt,ir=Ut.concat(),vr=[],Vs=ir.length;Vs--;)typeof(zt=ir.shift())=="string"?vr.push(zt):Array.isArray(Ut)&&(zt.length===1||zt[1]===void 0&&zt[2]===void 0)?vr.push(zt[0]):vr.push([zt[0],zt[1],zt[2]]);return vr}function Pl(Ut,zt){var ir;if(typeof Ut=="string")ir=zt(Ut)[0];else if(Array.isArray(Ut)){for(var vr,Vs,Ml=Ut.concat(),lo=[],Ac=Ml.length;Ac--;)typeof(vr=Ml.shift())=="string"?lo.push(zt(vr)[0]):Array.isArray(vr)&&typeof vr[0]=="string"&&(Vs=zt(vr[0],vr[1],vr[2]),lo.push([Vs[0],Vs[1],Vs[2]]));ir=lo}return ir}var Za=!1,El=!0;if(typeof m=="string")Za=!0;else if(Array.isArray(m)){var Cl=m.concat();Ce=[];for(var eo,Cr=Cl.length;Cr--;)(typeof(eo=Cl.shift())!="string"||Array.isArray(eo)&&typeof eo[0]!="string")&&(El=!1);Za=El}if(Za===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var to=Ie/hr.internal.scaleFactor,ro=to*(_n-1);switch(ne.baseline){case"bottom":K-=ro;break;case"top":K+=to-ro;break;case"hanging":K+=to-2*ro;break;case"middle":K+=to/2-ro}if((ct=ne.maxWidth||0)>0&&(typeof m=="string"?m=hr.splitTextToSize(m,ct):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Ut,zt){return Ut.concat(hr.splitTextToSize(zt,ct))},[]))),Se={text:m,x:P,y:K,options:ne,mutex:{pdfEscape:an,activeFontKey:$e,fonts:ft,activeFontSize:Ie}},ut.publish("preProcessText",Se),m=Se.text,We=(ne=Se.options).angle,!(Zt instanceof rt)&&We&&typeof We=="number"){We*=Math.PI/180,ne.rotationDirection===0&&(We=-We),b===w.ADVANCED&&(We=-We);var no=Math.cos(We),Il=Math.sin(We);Zt=new rt(no,Il,-Il,no,0,0)}else We&&We instanceof rt&&(Zt=We);b!==w.ADVANCED||Zt||(Zt=xs),(pt=ne.charSpace||Ya)!==void 0&&(jr+=D(R(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jt=ne.horizontalScale)!==void 0&&(jr+=D(100*Jt)+` Tz
`),ne.lang;var on=-1,vf=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,Tl=hr.internal.getCurrentPageInfo().pageContext;switch(vf){case 0:case!1:case"fill":on=0;break;case 1:case!0:case"stroke":on=1;break;case 2:case"fillThenStroke":on=2;break;case 3:case"invisible":on=3;break;case 4:case"fillAndAddForClipping":on=4;break;case 5:case"strokeAndAddPathForClipping":on=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":on=6;break;case 7:case"addToPathForClipping":on=7}var Nc=Tl.usedRenderingMode!==void 0?Tl.usedRenderingMode:-1;on!==-1?jr+=on+` Tr
`:Nc!==-1&&(jr+=`0 Tr
`),on!==-1&&(Tl.usedRenderingMode=on),Xe=ne.align||"left";var On,so=Ie*_n,Sc=hr.internal.pageSize.getWidth(),jc=ft[$e];pt=ne.charSpace||Ya,ct=ne.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var hi=[],aa=function(Ut){return hr.getStringUnitWidth(Ut,{font:jc,charSpace:pt,fontSize:Ie,doKerning:!1})*Ie/Ss};if(Object.prototype.toString.call(m)==="[object Array]"){var ln;Ce=Ll(m),Xe!=="left"&&(On=Ce.map(aa));var Kr,fi=0;if(Xe==="right"){P-=On[0],m=[],Cr=Ce.length;for(var zs=0;zs<Cr;zs++)zs===0?(Kr=Ns(P),ln=Us(K)):(Kr=R(fi-On[zs]),ln=-so),m.push([Ce[zs],Kr,ln]),fi=On[zs]}else if(Xe==="center"){P-=On[0]/2,m=[],Cr=Ce.length;for(var qs=0;qs<Cr;qs++)qs===0?(Kr=Ns(P),ln=Us(K)):(Kr=R((fi-On[qs])/2),ln=-so),m.push([Ce[qs],Kr,ln]),fi=On[qs]}else if(Xe==="left"){m=[],Cr=Ce.length;for(var io=0;io<Cr;io++)m.push(Ce[io])}else if(Xe==="justify"&&jc.encoding==="Identity-H"){m=[],Cr=Ce.length,ct=ct!==0?ct:Sc;for(var $s=0,sr=0;sr<Cr;sr++)if(ln=sr===0?Us(K):-so,Kr=sr===0?Ns(P):$s,sr<Cr-1){var Rl=R((ct-On[sr])/(Ce[sr].split(" ").length-1)),Yr=Ce[sr].split(" ");m.push([Yr[0]+" ",Kr,ln]),$s=0;for(var Fn=1;Fn<Yr.length;Fn++){var ao=(aa(Yr[Fn-1]+" "+Yr[Fn])-aa(Yr[Fn]))*Ss+Rl;Fn==Yr.length-1?m.push([Yr[Fn],ao,0]):m.push([Yr[Fn]+" ",ao,0]),$s-=ao}}else m.push([Ce[sr],Kr,ln]);m.push(["",$s,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Cr=Ce.length,ct=ct!==0?ct:Sc,sr=0;sr<Cr;sr++)ln=sr===0?Us(K):-so,Kr=sr===0?Ns(P):0,sr<Cr-1?hi.push(D(R((ct-On[sr])/(Ce[sr].split(" ").length-1)))):hi.push(0),m.push([Ce[sr],Kr,ln])}}var kc=typeof ne.R2L=="boolean"?ne.R2L:Je;kc===!0&&(m=Pl(m,function(Ut,zt,ir){return[Ut.split("").reverse().join(""),zt,ir]})),Se={text:m,x:P,y:K,options:ne,mutex:{pdfEscape:an,activeFontKey:$e,fonts:ft,activeFontSize:Ie}},ut.publish("postProcessText",Se),m=Se.text,ts=Se.mutex.isHex||!1;var Ol=ft[$e].encoding;Ol!=="WinAnsiEncoding"&&Ol!=="StandardEncoding"||(m=Pl(m,function(Ut,zt,ir){return[_c(Ut),zt,ir]})),Ce=Ll(m),m=[];for(var oa,la,pi,ua=0,oo=1,ca=Array.isArray(Ce[0])?oo:ua,mi="",Fl=function(Ut,zt,ir){var vr="";return ir instanceof rt?(ir=typeof ne.angle=="number"?Kn(ir,new rt(1,0,0,1,Ut,zt)):Kn(new rt(1,0,0,1,Ut,zt),ir),b===w.ADVANCED&&(ir=Kn(new rt(1,0,0,-1,0,0),ir)),vr=ir.join(" ")+` Tm
`):vr=D(Ut)+" "+D(zt)+` Td
`,vr},Mn=0;Mn<Ce.length;Mn++){switch(mi="",ca){case oo:pi=(ts?"<":"(")+Ce[Mn][0]+(ts?">":")"),oa=parseFloat(Ce[Mn][1]),la=parseFloat(Ce[Mn][2]);break;case ua:pi=(ts?"<":"(")+Ce[Mn]+(ts?">":")"),oa=Ns(P),la=Us(K)}hi!==void 0&&hi[Mn]!==void 0&&(mi=hi[Mn]+` Tw
`),Mn===0?m.push(mi+Fl(oa,la,Zt)+pi):ca===ua?m.push(mi+pi):ca===oo&&m.push(mi+Fl(oa,la,Zt)+pi)}m=ca===ua?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Dn=`BT
/`;return Dn+=$e+" "+Ie+` Tf
`,Dn+=D(Ie*_n)+` TL
`,Dn+=sa+`
`,Dn+=jr,Dn+=m,J(Dn+="ET"),y[$e]=!0,hr};var lf=g.__private__.clip=g.clip=function(m){return J(m==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return lf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return J("n"),this};var _s=g.__private__.isValidStyle=function(m){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(P=!0),P};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(m){return _s(m)&&(d=m),this};var pc=g.__private__.getStyle=g.getStyle=function(m){var P=d;switch(m){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=m}return P},mc=g.close=function(){return J("h"),this};g.stroke=function(){return J("S"),this},g.fill=function(m){return Ja("f",m),this},g.fillEvenOdd=function(m){return Ja("f*",m),this},g.fillStroke=function(m){return Ja("B",m),this},g.fillStrokeEvenOdd=function(m){return Ja("B*",m),this};var Ja=function(m,P){Tt(P)==="object"?cf(P,m):J(m)},yl=function(m){m===null||b===w.ADVANCED&&m===void 0||(m=pc(m),J(m))};function uf(m,P,K,ne,pe){var Se=new Do(P||this.boundingBox,K||this.xStep,ne||this.yStep,this.gState,pe||this.matrix);Se.stream=this.stream;var Ce=m+"$$"+this.cloneIndex+++"$$";return sn(Ce,Se),Se}var cf=function(m,P){var K=Nr[m.key],ne=mt[K];if(ne instanceof xa)J("q"),J(df(P)),ne.gState&&g.setGState(ne.gState),J(m.matrix.toString()+" cm"),J("/"+K+" sh"),J("Q");else if(ne instanceof Do){var pe=new rt(1,0,0,-1,0,di());m.matrix&&(pe=pe.multiply(m.matrix||xs),K=uf.call(ne,m.key,m.boundingBox,m.xStep,m.yStep,pe).id),J("q"),J("/Pattern cs"),J("/"+K+" scn"),ne.gState&&g.setGState(ne.gState),J(P),J("Q")}},df=function(m){switch(m){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xl=g.moveTo=function(m,P){return J(D(R(m))+" "+D(U(P))+" m"),this},ra=g.lineTo=function(m,P){return J(D(R(m))+" "+D(U(P))+" l"),this},ui=g.curveTo=function(m,P,K,ne,pe,Se){return J([D(R(m)),D(U(P)),D(R(K)),D(U(ne)),D(R(pe)),D(U(Se)),"c"].join(" ")),this};g.__private__.line=g.line=function(m,P,K,ne,pe){if(isNaN(m)||isNaN(P)||isNaN(K)||isNaN(ne)||!_s(pe))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[K-m,ne-P]],m,P,[1,1],pe||"S"):this.lines([[K-m,ne-P]],m,P,[1,1]).stroke()},g.__private__.lines=g.lines=function(m,P,K,ne,pe,Se){var Ce,We,Xe,pt,ct,St,Jt,Zt,hr,Dr,jr,ts;if(typeof m=="number"&&(ts=K,K=P,P=m,m=ts),ne=ne||[1,1],Se=Se||!1,isNaN(P)||isNaN(K)||!Array.isArray(m)||!Array.isArray(ne)||!_s(pe)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(P,K),Ce=ne[0],We=ne[1],pt=m.length,Dr=P,jr=K,Xe=0;Xe<pt;Xe++)(ct=m[Xe]).length===2?(Dr=ct[0]*Ce+Dr,jr=ct[1]*We+jr,ra(Dr,jr)):(St=ct[0]*Ce+Dr,Jt=ct[1]*We+jr,Zt=ct[2]*Ce+Dr,hr=ct[3]*We+jr,Dr=ct[4]*Ce+Dr,jr=ct[5]*We+jr,ui(St,Jt,Zt,hr,Dr,jr));return Se&&mc(),yl(pe),this},g.path=function(m){for(var P=0;P<m.length;P++){var K=m[P],ne=K.c;switch(K.op){case"m":xl(ne[0],ne[1]);break;case"l":ra(ne[0],ne[1]);break;case"c":ui.apply(this,ne);break;case"h":mc()}}return this},g.__private__.rect=g.rect=function(m,P,K,ne,pe){if(isNaN(m)||isNaN(P)||isNaN(K)||isNaN(ne)||!_s(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(ne=-ne),J([D(R(m)),D(U(P)),D(R(K)),D(R(ne)),"re"].join(" ")),yl(pe),this},g.__private__.triangle=g.triangle=function(m,P,K,ne,pe,Se,Ce){if(isNaN(m)||isNaN(P)||isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(Se)||!_s(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-m,ne-P],[pe-K,Se-ne],[m-pe,P-Se]],m,P,[1,1],Ce,!0),this},g.__private__.roundedRect=g.roundedRect=function(m,P,K,ne,pe,Se,Ce){if(isNaN(m)||isNaN(P)||isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(Se)||!_s(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*K),Se=Math.min(Se,.5*ne),this.lines([[K-2*pe,0],[pe*We,0,pe,Se-Se*We,pe,Se],[0,ne-2*Se],[0,Se*We,-pe*We,Se,-pe,Se],[2*pe-K,0],[-pe*We,0,-pe,-Se*We,-pe,-Se],[0,2*Se-ne],[0,-Se*We,pe*We,-Se,pe,-Se]],m+pe,P,[1,1],Ce,!0),this},g.__private__.ellipse=g.ellipse=function(m,P,K,ne,pe){if(isNaN(m)||isNaN(P)||isNaN(K)||isNaN(ne)||!_s(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*K,Ce=4/3*(Math.SQRT2-1)*ne;return xl(m+K,P),ui(m+K,P-Ce,m+Se,P-ne,m,P-ne),ui(m-Se,P-ne,m-K,P-Ce,m-K,P),ui(m-K,P+Ce,m-Se,P+ne,m,P+ne),ui(m+Se,P+ne,m+K,P+Ce,m+K,P),yl(pe),this},g.__private__.circle=g.circle=function(m,P,K,ne){if(isNaN(m)||isNaN(P)||isNaN(K)||!_s(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,P,K,K,ne)},g.setFont=function(m,P,K){return K&&(P=z(P,K)),$e=dc(m,P,{disableWarning:!1}),this};var hf=g.__private__.getFont=g.getFont=function(){return ft[dc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var m,P,K={};for(m in xt)if(xt.hasOwnProperty(m))for(P in K[m]=[],xt[m])xt[m].hasOwnProperty(P)&&K[m].push(P);return K},g.addFont=function(m,P,K,ne,pe){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(K=z(K,ne)),pe=pe||"Identity-H",ml.call(this,m,P,K,pe)};var na,bl=e.lineWidth||.200025,Ka=g.__private__.getLineWidth=g.getLineWidth=function(){return bl},gc=g.__private__.setLineWidth=g.setLineWidth=function(m){return bl=m,J(D(R(m))+" w"),this};g.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(m,P){if(m=m||[],P=P||0,isNaN(P)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(K){return D(R(K))}).join(" "),P=D(R(P)),J("["+m+"] "+P+" d"),this};var vc=g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*na};g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*na};var yc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(na=m),this},xc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return na};yc(e.lineHeight);var Ns=g.__private__.getHorizontalCoordinate=function(m){return R(m)},Us=g.__private__.getVerticalCoordinate=function(m){return b===w.ADVANCED?m:Ke[q].mediaBox.topRightY-Ke[q].mediaBox.bottomLeftY-R(m)},ff=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(m){return D(Ns(m))},ci=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(m){return D(Us(m))},es=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Xn(es)},g.__private__.setStrokeColor=g.setDrawColor=function(m,P,K,ne){return es=Qn({ch1:m,ch2:P,ch3:K,ch4:ne,pdfColorType:"draw",precision:2}),J(es),this};var wl=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Xn(wl)},g.__private__.setFillColor=g.setFillColor=function(m,P,K,ne){return wl=Qn({ch1:m,ch2:P,ch3:K,ch4:ne,pdfColorType:"fill",precision:2}),J(wl),this};var sa=e.textColor||"0 g",pf=g.__private__.getTextColor=g.getTextColor=function(){return Xn(sa)};g.__private__.setTextColor=g.setTextColor=function(m,P,K,ne){return sa=Qn({ch1:m,ch2:P,ch3:K,ch4:ne,pdfColorType:"text",precision:3}),this};var Ya=e.charSpace,mf=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ya||0)};g.__private__.setCharSpace=g.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ya=m,this};var _l=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(m){var P=g.CapJoinStyles[m];if(P===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=P,J(P+" J"),this};var Nl=0;g.__private__.setLineJoin=g.setLineJoin=function(m){var P=g.CapJoinStyles[m];if(P===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=P,J(P+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D(R(m))+" M"),this},g.GState=fh,g.setGState=function(m){(m=typeof m=="string"?Et[Ve[m]]:bc(null,m)).equals(ot)||(J("/"+m.id+" gs"),ot=m)};var bc=function(m,P){if(!m||!Ve[m]){var K=!1;for(var ne in Et)if(Et.hasOwnProperty(ne)&&Et[ne].equals(P)){K=!0;break}if(K)P=Et[ne];else{var pe="GS"+(Object.keys(Et).length+1).toString(10);Et[pe]=P,P.id=pe}return m&&(Ve[m]=P.id),ut.publish("addGState",P),P}};g.addGState=function(m,P){return bc(m,P),this},g.saveGraphicsState=function(){return J("q"),Bt.push({key:$e,size:Ie,color:sa}),this},g.restoreGraphicsState=function(){J("Q");var m=Bt.pop();return $e=m.key,Ie=m.size,sa=m.color,ot=null,this},g.setCurrentTransformationMatrix=function(m){return J(m.toString()+" cm"),this},g.comment=function(m){return J("#"+m),this};var Xa=function(m,P){var K=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(Se){isNaN(Se)||(K=parseFloat(Se))}});var ne=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(Se){isNaN(Se)||(ne=parseFloat(Se))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Se){pe=Se.toString()}}),this},Sl=function(m,P,K,ne){Xa.call(this,m,P),this.type="rect";var pe=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Ce){isNaN(Ce)||(pe=parseFloat(Ce))}});var Se=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ce){isNaN(Ce)||(Se=parseFloat(Ce))}}),this},jl=function(){this.page=st,this.currentPage=q,this.pages=me.slice(0),this.pagesContext=Ke.slice(0),this.x=Pt,this.y=ht,this.matrix=_r,this.width=ia(q),this.height=di(q),this.outputDestination=ke,this.id="",this.objectNumber=-1};jl.prototype.restore=function(){st=this.page,q=this.currentPage,Ke=this.pagesContext,me=this.pages,Pt=this.x,ht=this.y,_r=this.matrix,kl(q,this.width),Al(q,this.height),ke=this.outputDestination};var wc=function(m,P,K,ne,pe){Tn.push(new jl),st=q=0,me=[],Pt=m,ht=P,_r=pe,gl([K,ne])},gf=function(m){if(bn[m])Tn.pop().restore();else{var P=new jl,K="Xo"+(Object.keys(Ft).length+1).toString(10);P.id=K,bn[m]=K,Ft[K]=P,ut.publish("addFormObject",P),Tn.pop().restore()}};for(var Qa in g.beginFormObject=function(m,P,K,ne,pe){return wc(m,P,K,ne,pe),this},g.endFormObject=function(m){return gf(m),this},g.doFormObject=function(m,P){var K=Ft[bn[m]];return J("q"),J(P.toString()+" cm"),J("/"+K.id+" Do"),J("Q"),this},g.getFormObject=function(m){var P=Ft[bn[m]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},g.save=function(m,P){return m=m||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(va(Ha(Bs()),m),typeof va.unload=="function"&&nt.setTimeout&&setTimeout(va.unload,911),this):new Promise(function(K,ne){try{var pe=va(Ha(Bs()),m);typeof va.unload=="function"&&nt.setTimeout&&setTimeout(va.unload,911),K(pe)}catch(Se){ne(Se.message)}})},et.API)et.API.hasOwnProperty(Qa)&&(Qa==="events"&&et.API.events.length?function(m,P){var K,ne,pe;for(pe=P.length-1;pe!==-1;pe--)K=P[pe][0],ne=P[pe][1],m.subscribe.apply(m,[K].concat(typeof ne=="function"?[ne]:ne))}(ut,et.API.events):g[Qa]=et.API[Qa]);var ia=g.getPageWidth=function(m){return(Ke[m=m||q].mediaBox.topRightX-Ke[m].mediaBox.bottomLeftX)/we},kl=g.setPageWidth=function(m,P){Ke[m].mediaBox.topRightX=P*we+Ke[m].mediaBox.bottomLeftX},di=g.getPageHeight=function(m){return(Ke[m=m||q].mediaBox.topRightY-Ke[m].mediaBox.bottomLeftY)/we},Al=g.setPageHeight=function(m,P){Ke[m].mediaBox.topRightY=P*we+Ke[m].mediaBox.bottomLeftY};return g.internal={pdfEscape:an,getStyle:pc,getFont:hf,getFontSize:De,getCharSpace:mf,getTextColor:pf,getLineHeight:vc,getLineHeightFactor:xc,getLineWidth:Ka,write:Ue,getHorizontalCoordinate:Ns,getVerticalCoordinate:Us,getCoordinateString:ff,getVerticalCoordinateString:ci,collections:{},newObject:gr,newAdditionalObject:Da,newObjectDeferred:dr,newObjectDeferredBegin:wn,getFilters:bs,putStream:Rn,events:ut,scaleFactor:we,pageSize:{getWidth:function(){return ia(q)},setWidth:function(m){kl(q,m)},getHeight:function(){return di(q)},setHeight:function(m){Al(q,m)}},encryptionOptions:f,encryption:Mr,getEncryptor:af,output:Ga,getNumberOfPages:ef,pages:me,out:J,f2:H,f3:E,getPageInfo:fc,getPageInfoByObjId:lt,getCurrentPageInfo:of,getPDFVersion:S,Point:Xa,Rectangle:Sl,Matrix:rt,hasHotfix:hc},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ia(q)},set:function(m){kl(q,m)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return di(q)},set:function(m){Al(q,m)},enumerable:!0,configurable:!0}),Qh.call(g,Ne),$e="F1",uc(s,r),ut.publish("initialized"),g}So.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},So.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},So.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},So.prototype.processOwnerPassword=function(e,t){return Ym(Km(t).substr(0,5),e)},So.prototype.encryptor=function(e,t){var r=Km(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Ym(r,n)}},fh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Tt(e)!==Tt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},et.API={events:[]},et.version="2.5.2";var tr=et.API,hg=1,Ma=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(e){return e.toFixed(2)},ki=function(e){return e.toFixed(5)};tr.__acroform__={};var xn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},J2=function(e){return e*hg},Ls=function(e){var t=new Wx,r=Ye.internal.getHeight(e)||0,n=Ye.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dt(n)),Number(dt(r))],t},wk=tr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},_k=tr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Nk=tr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},or=tr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nk(e,t-1)},lr=tr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wk(e,t-1)},ur=tr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _k(e,t-1)},Sk=tr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],o=e[3],u={};return u.lowerLeft_X=r(s)||0,u.lowerLeft_Y=n(i+o)||0,u.upperRight_X=r(s+a)||0,u.upperRight_Y=n(i)||0,[Number(dt(u.lowerLeft_X)),Number(dt(u.lowerLeft_Y)),Number(dt(u.upperRight_X)),Number(dt(u.upperRight_Y))]},jk=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Xm(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+dt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ls(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Xm=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=r,a=Ye.internal.getHeight(e)||0;a=a<0?-a:a;var o=Ye.internal.getWidth(e)||0;o=o<0?-o:o;var u=function(E,R,G){if(E+1<s.length){var U=R+" "+s[E+1][0];return md(U,e,G).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,f,p=md("3",e,i).height,y=e.multiline?a-i:(a-p)/2,g=y+=2,N=0,S=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+md(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var A=!1;if(s[b].length!==1&&j!==s[b].length-1){if((p+2)*(w+2)+2>a)continue e;x+=s[b][j],A=!0,S=b,b--}else{x=(x+=s[b][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var F=parseInt(b),z=u(F,x,i),D=b>=s.length-1;if(z&&!D){x+=" ",j=0;continue}if(z||D){if(D)S=F;else if(e.multiline&&(p+2)*(w+2)+2>a)continue e}else{if(!e.multiline||(p+2)*(w+2)+2>a)continue e;S=F}}for(var M="",Q=N;Q<=S;Q++){var H=s[Q];if(e.multiline){if(Q===S){M+=H[j]+" ",j=(j+1)%H.length;continue}if(Q===N){M+=H[H.length-1]+" ";continue}}M+=H[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=md(M,e,i).width,e.textAlign){case"right":d=o-f-2;break;case"center":d=(o-f)/2;break;case"left":default:d=2}t+=dt(d)+" "+dt(g)+` Td
`,t+="("+Ma(M)+`) Tj
`,t+=-dt(d)+` 0 Td
`,g=-(i+2),f=0,N=A?S:S+1,w++,x=""}break}return n.text=t,n.fontSize=i,n},md=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},kk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ak=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Lk=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Tt(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},Pk=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kk)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Hx,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Ak(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],u=[],d=o.Rect;if(o.Rect&&(o.Rect=Sk(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ye.createDefaultAppearanceStream(o),Tt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=jk(o);u.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var p="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var g=o.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var N=g[a];typeof N=="function"&&(N=N.call(s,o)),p+="/"+a+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=g)=="function"&&(N=N.call(s,o)),p+="/"+a+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:o.objId}),s.internal.out("endobj")}i&&Lk(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Vx=tr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Tt(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Ma(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ap=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ma(n(e))+")"},Is=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Is.prototype.toString=function(){return this.objId+" 0 R"},Is.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Is.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:Vx(s,this.objId,this.scope)}):s instanceof Is?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var Wx=function(){Is.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};xn(Wx,Is);var Hx=function(){Is.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ma(r(e))+")"}},set:function(r){e=r}})};xn(Hx,Is);var vs=function e(){Is.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!or(t,3)},set:function(x){x?this.F=lr(t,3):this.F=ur(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ph)return;i="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ma(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/hg:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof ph||this instanceof Aa))return Ap(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Pr?y:Ap(y,this.objId,this.scope)},set:function(x){x=x.toString(),y=this instanceof Pr?x:x.substr(0,1)==="("?bo(x.substr(1,x.length-2)):bo(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pr?bo(y.substr(1,y.length-1)):y},set:function(x){x=x.toString(),y=this instanceof Pr?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Pr?g:Ap(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Pr?x:x.substr(0,1)==="("?bo(x.substr(1,x.length-2)):bo(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pr?bo(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Pr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(x){x=!!x,S=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(x){N=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,1)},set:function(x){x?this.Ff=lr(this.Ff,1):this.Ff=ur(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,2)},set:function(x){x?this.Ff=lr(this.Ff,2):this.Ff=ur(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,3)},set:function(x){x?this.Ff=lr(this.Ff,3):this.Ff=ur(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};xn(vs,Is);var Wo=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Vx(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,o){o||(o=1);for(var u,d=[];u=a.exec(i);)d.push(u[o]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,18)},set:function(r){r?this.Ff=lr(this.Ff,18):this.Ff=ur(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=lr(this.Ff,19):this.Ff=ur(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,20)},set:function(r){r?(this.Ff=lr(this.Ff,20),t.sort()):this.Ff=ur(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,22)},set:function(r){r?this.Ff=lr(this.Ff,22):this.Ff=ur(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,23)},set:function(r){r?this.Ff=lr(this.Ff,23):this.Ff=ur(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,27)},set:function(r){r?this.Ff=lr(this.Ff,27):this.Ff=ur(this.Ff,27)}}),this.hasAppearanceStream=!1};xn(Wo,vs);var Ho=function(){Wo.call(this),this.fontName="helvetica",this.combo=!1};xn(Ho,Wo);var Go=function(){Ho.call(this),this.combo=!0};xn(Go,Ho);var Rd=function(){Go.call(this),this.edit=!0};xn(Rd,Go);var Pr=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,15)},set:function(r){r?this.Ff=lr(this.Ff,15):this.Ff=ur(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,16)},set:function(r){r?this.Ff=lr(this.Ff,16):this.Ff=ur(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,17)},set:function(r){r?this.Ff=lr(this.Ff,17):this.Ff=ur(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,26)},set:function(r){r?this.Ff=lr(this.Ff,26):this.Ff=ur(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Ma(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Tt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};xn(Pr,vs);var Od=function(){Pr.call(this),this.pushButton=!0};xn(Od,Pr);var Jo=function(){Pr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};xn(Jo,Pr);var ph=function(){var e,t;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+Ma(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Tt(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ye.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xn(ph,vs),Jo.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Jo.prototype.createOption=function(e){var t=new ph;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ek.call(this.scope,t),t};var Fd=function(){Pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ye.CheckBox.createAppearanceStream()};xn(Fd,Pr);var Aa=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,13)},set:function(t){t?this.Ff=lr(this.Ff,13):this.Ff=ur(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,21)},set:function(t){t?this.Ff=lr(this.Ff,21):this.Ff=ur(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,23)},set:function(t){t?this.Ff=lr(this.Ff,23):this.Ff=ur(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,24)},set:function(t){t?this.Ff=lr(this.Ff,24):this.Ff=ur(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,25)},set:function(t){t?this.Ff=lr(this.Ff,25):this.Ff=ur(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,26)},set:function(t){t?this.Ff=lr(this.Ff,26):this.Ff=ur(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xn(Aa,vs);var Md=function(){Aa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,14)},set:function(e){e?this.Ff=lr(this.Ff,14):this.Ff=ur(this.Ff,14)}}),this.password=!0};xn(Md,Aa);var Ye={CheckBox:{createAppearanceStream:function(){return{N:{On:Ye.CheckBox.YesNormal},D:{On:Ye.CheckBox.YesPushDown,Off:Ye.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Xm(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+dt(Ye.internal.getWidth(e))+" "+dt(Ye.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+dt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ls(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Ye.internal.getHeight(e),a=Ye.internal.getWidth(e),o=Xm(e,e.caption);return s.push("1 g"),s.push("0 0 "+dt(a)+" "+dt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+dt(a-1)+" "+dt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+dt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ye.internal.getWidth(e))+" "+dt(Ye.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ye.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ye.RadioButton.Circle.YesNormal,t.D[e]=Ye.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=Ye.internal.getWidth(e)<=Ye.internal.getHeight(e)?Ye.internal.getWidth(e)/4:Ye.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Ye.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ki(Ye.internal.getWidth(e)/2)+" "+ki(Ye.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=Ye.internal.getWidth(e)<=Ye.internal.getHeight(e)?Ye.internal.getWidth(e)/4:Ye.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ye.internal.Bezier_C).toFixed(5)),a=Number((n*Ye.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ki(Ye.internal.getWidth(e)/2)+" "+ki(Ye.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ki(Ye.internal.getWidth(e)/2)+" "+ki(Ye.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=Ye.internal.getWidth(e)<=Ye.internal.getHeight(e)?Ye.internal.getWidth(e)/4:Ye.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ye.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ki(Ye.internal.getWidth(e)/2)+" "+ki(Ye.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ye.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ye.RadioButton.Cross.YesNormal,t.D[e]=Ye.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ls(e);t.scope=e.scope;var r=[],n=Ye.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+dt(Ye.internal.getWidth(e)-2)+" "+dt(Ye.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=Ye.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ye.internal.getWidth(e))+" "+dt(Ye.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dt(Ye.internal.getWidth(e)-2)+" "+dt(Ye.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ls(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ye.internal.getWidth(e))+" "+dt(Ye.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ye.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ye.internal.getWidth(e),r=Ye.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ye.internal.getWidth=function(e){var t=0;return Tt(e)==="object"&&(t=J2(e.Rect[2])),t},Ye.internal.getHeight=function(e){var t=0;return Tt(e)==="object"&&(t=J2(e.Rect[3])),t};var Ek=tr.addField=function(e){if(Pk(this,e),!(e instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};tr.AcroFormChoiceField=Wo,tr.AcroFormListBox=Ho,tr.AcroFormComboBox=Go,tr.AcroFormEditBox=Rd,tr.AcroFormButton=Pr,tr.AcroFormPushButton=Od,tr.AcroFormRadioButton=Jo,tr.AcroFormCheckBox=Fd,tr.AcroFormTextField=Aa,tr.AcroFormPasswordField=Md,tr.AcroFormAppearance=Ye,tr.AcroForm={ChoiceField:Wo,ListBox:Ho,ComboBox:Go,EditBox:Rd,Button:Pr,PushButton:Od,RadioButton:Jo,CheckBox:Fd,TextField:Aa,PasswordField:Md,Appearance:Ye},et.AcroForm={ChoiceField:Wo,ListBox:Ho,ComboBox:Go,EditBox:Rd,Button:Pr,PushButton:Od,RadioButton:Jo,CheckBox:Fd,TextField:Aa,PasswordField:Md,Appearance:Ye};et.AcroForm;function Gx(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,R){var G,U,le,re,fe,Y=t;if((R=R||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(z(E))for(fe in r)for(le=r[fe],G=0;G<le.length;G+=1){for(re=!0,U=0;U<le[G].length;U+=1)if(le[G][U]!==void 0&&le[G][U]!==E[U]){re=!1;break}if(re===!0){Y=fe;break}}else for(fe in r)for(le=r[fe],G=0;G<le.length;G+=1){for(re=!0,U=0;U<le[G].length;U+=1)if(le[G][U]!==void 0&&le[G][U]!==E.charCodeAt(U)){re=!1;break}if(re===!0){Y=fe;break}}return Y===t&&R!==t&&(Y=R),Y},s=function E(R){for(var G=this.internal.write,U=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:R.width}),re.push({key:"Height",value:R.height}),R.colorSpace===j.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===j.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var fe="",Y=0,te=R.transparency.length;Y<te;Y++)fe+=R.transparency[Y]+" "+R.transparency[Y]+" ";re.push({key:"Mask",value:"["+fe+"]"})}R.sMask!==void 0&&re.push({key:"SMask",value:R.objectId+1+" 0 R"});var $=R.filter!==void 0?["/"+R.filter]:void 0;if(U({data:R.data,additionalKeyValues:re,alreadyAppliedFilters:$,objectId:R.objectId}),G("endobj"),"sMask"in R&&R.sMask!==void 0){var ce="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,k={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ce,data:R.sMask};"filter"in R&&(k.filter=R.filter),E.call(this,k)}if(R.colorSpace===j.INDEXED){var q=this.internal.newObject();U({data:M(new Uint8Array(R.palette)),objectId:q}),G("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var R in E)s.call(this,E[R])},a=function(){var E,R=this.internal.collections.addImage_images,G=this.internal.write;for(var U in R)G("/I"+(E=R[U]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},p=function(E){return Tt(E)==="object"&&E.nodeType===1},y=function(E,R){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var G=""+E.getAttribute("src");if(G.indexOf("data:image/")===0)return _u(unescape(G).split("base64,").pop());var U=e.loadFile(G,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var le;switch(R){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return _u(E.toDataURL(le,1).split("base64,").pop())}},g=function(E){var R=this.internal.collections.addImage_images;if(R){for(var G in R)if(E===R[G].alias)return R[G]}},N=function(E,R,G){return E||R||(E=-96,R=-96),E<0&&(E=-1*G.width*72/E/this.internal.scaleFactor),R<0&&(R=-1*G.height*72/R/this.internal.scaleFactor),E===0&&(E=R*G.width/G.height),R===0&&(R=E*G.height/G.width),[E,R]},S=function(E,R,G,U,le,re){var fe=N.call(this,G,U,le),Y=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,$=u.call(this);if(G=fe[0],U=fe[1],$[le.index]=le,re){re*=Math.PI/180;var ce=Math.cos(re),k=Math.sin(re),q=function(Z){return Z.toFixed(4)},W=[q(ce),q(k),q(-1*k),q(ce),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,Y(E),te(R+U),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([Y(G),"0","0",Y(U),"0","0","cm"].join(" "))):this.internal.write([Y(G),"0","0",Y(U),Y(E),te(R+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},j=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var R,G,U=0;if(typeof E=="string")for(G=E.length,R=0;R<G;R++)U=(U<<5)-U+E.charCodeAt(R),U|=0;else if(z(E))for(G=E.byteLength/2,R=0;R<G;R++)U=(U<<5)-U+E[R],U|=0;return U},b=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var R=!0;return E.length===0&&(R=!1),E.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(R=!1),R},A=e.__addimage__.extractImageFromDataUrl=function(E){var R=(E=E||"").split("base64,"),G=null;if(R.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(U)&&(G={mimeType:U[1],charset:U[2],data:R[1]})}return G},F=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return F()&&E instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(E){return F()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(E){for(var R=E.length,G=new Uint8Array(R),U=0;U<R;U++)G[U]=E.charCodeAt(U);return G},M=e.__addimage__.arrayBufferToBinaryString=function(E){for(var R="",G=z(E)?E:new Uint8Array(E),U=0;U<G.length;U+=8192)R+=String.fromCharCode.apply(null,G.subarray(U,U+8192));return R};e.addImage=function(){var E,R,G,U,le,re,fe,Y,te;if(typeof arguments[1]=="number"?(R=t,G=arguments[1],U=arguments[2],le=arguments[3],re=arguments[4],fe=arguments[5],Y=arguments[6],te=arguments[7]):(R=arguments[1],G=arguments[2],U=arguments[3],le=arguments[4],re=arguments[5],fe=arguments[6],Y=arguments[7],te=arguments[8]),Tt(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var $=E;E=$.imageData,R=$.format||R||t,G=$.x||G||0,U=$.y||U||0,le=$.w||$.width||le,re=$.h||$.height||re,fe=$.alias||fe,Y=$.compression||Y,te=$.rotation||$.angle||te}var ce=this.internal.getFilters();if(Y===void 0&&ce.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(G)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=Q.call(this,E,R,fe,Y);return S.call(this,G,U,le,re,k,te),this};var Q=function(E,R,G,U){var le,re,fe;if(typeof E=="string"&&n(E)===t){E=unescape(E);var Y=H(E,!1);(Y!==""||(Y=e.loadFile(E,!0))!==void 0)&&(E=Y)}if(p(E)&&(E=y(E,R)),R=n(E,R),!f(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((fe=G)==null||fe.length===0)&&(G=function(te){return typeof te=="string"||z(te)?w(te):z(te.data)?w(te.data):null}(E)),(le=g.call(this,G))||(F()&&(E instanceof Uint8Array||R==="RGBA"||(re=E,E=D(E))),le=this["process"+R.toUpperCase()](E,d.call(this),G,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:x.NONE}(U),re)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},H=e.__addimage__.convertBase64ToBinaryString=function(E,R){var G;R=typeof R!="boolean"||R;var U,le="";if(typeof E=="string"){U=(G=A(E))!==null?G.data:E;try{le=_u(U)}catch(re){if(R)throw b(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};e.getImageProperties=function(E){var R,G,U="";if(p(E)&&(E=y(E)),typeof E=="string"&&n(E)===t&&((U=H(E,!1))===""&&(U=e.loadFile(E)||""),E=U),G=n(E),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!F()||E instanceof Uint8Array||(E=D(E)),!(R=this["process"+G.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=G,R}})(et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,p=0;p<d.length&&!f;p++)switch((n=d[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var g=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(S.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(x(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+g(x(w))+") >>",S.content=i;var b=S.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(S.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(N(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var z=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(r),y:d(n),w:u(r+s),h:d(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,o,u=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var f=this.splitTextToSize(r,o).length;a=Math.ceil(d*f)}else o=u,a=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,s-d,o,a,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(S){return t[S.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=e.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&s.indexOf(S.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&i(S)&&t[S.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(S){var j=0,x=r,w="",b=0;for(j=0;j<S.length;j+=1)x[S.charCodeAt(j)]!==void 0?(b++,typeof(x=x[S.charCodeAt(j)])=="number"&&(w+=String.fromCharCode(x),x=r,b=0),j===S.length-1&&(x=r,w+=S.charAt(j-(b-1)),j-=b-1,b=0)):(x=r,w+=S.charAt(j-b),j-=b,b=0);return w};e.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(S,j,x){return a(S)?i(S)===!1?-1:!d(S)||!a(j)&&!a(x)||!a(x)&&o(j)||o(S)&&!a(j)||o(S)&&u(j)||o(S)&&o(j)?0:f(S)&&a(j)&&!o(j)&&a(x)&&d(x)?3:o(S)||!a(x)?1:2:-1},g=function(S){var j=0,x=0,w=0,b="",A="",F="",z=(S=S||"").split("\\s+"),D=[];for(j=0;j<z.length;j+=1){for(D.push(""),x=0;x<z[j].length;x+=1)b=z[j][x],A=z[j][x-1],F=z[j][x+1],a(b)?(w=y(b,A,F),D[j]+=w!==-1?String.fromCharCode(t[b.charCodeAt(0)][w]):b):D[j]+=b;D[j]=p(D[j])}return D.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var S,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var w=0;for(x=[],w=0;w<j.length;w+=1)Array.isArray(j[w])?x.push([g(j[w][0]),j[w][1],j[w][2]]):x.push([g(j[w])]);S=x}else S=g(j);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};e.events.push(["preProcessText",N])}(et.API),et.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(S){N=S}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,g=0,N=0,S=0,j=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var x=d.maxWidth;x>0?typeof u=="string"?u=this.splitTextToSize(u,x):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(b,A){return b.concat(j.splitTextToSize(A,x))},[])):u=Array.isArray(u)?u:[u];for(var w=0;w<u.length;w++)g<(S=this.getStringUnitWidth(u[w],{font:p})*f)&&(g=S);return g!==0&&(N=u.length),{w:g/=y,h:Math.max((N*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,g&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,f,p,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,N,S,j,x=[],w=[],b=[],A={},F={},z=[],D=[],M=(y=y||{}).autoSize||!1,Q=y.printHeaders!==!1,H=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,E=y.margins||Object.assign({width:this.getPageWidth()},t),R=typeof y.padding=="number"?y.padding:3,G=y.headerBackgroundColor||"#c8c8c8",U=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=U,this.setFontSize(H),p==null)w=x=Object.keys(f[0]),b=x.map(function(){return"left"});else if(Array.isArray(p)&&Tt(p[0])==="object")for(x=p.map(function($){return $.name}),w=p.map(function($){return $.prompt||$.name||""}),b=p.map(function($){return $.align||"left"}),g=0;g<p.length;g+=1)F[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(w=x=p,b=x.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<x.length;g+=1){for(A[j=x[g]]=f.map(function($){return $[j]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=A[j],this.setFont(void 0,"normal"),S=0;S<N.length;S+=1)z.push(this.getTextDimensions(N[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[j]=Math.max.apply(null,z)+R+R,z=[]}if(Q){var le={};for(g=0;g<x.length;g+=1)le[x[g]]={},le[x[g]].text=w[g],le[x[g]].align=b[g];var re=o.call(this,le,F);D=x.map(function($){return new i(u,d,F[$],re,le[$].text,void 0,le[$].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var fe=p.reduce(function($,ce){return $[ce.name]=ce.align,$},{});for(g=0;g<f.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:f[g]},this);var Y=o.call(this,f[g],F);for(S=0;S<x.length;S+=1){var te=f[g][x[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:S,data:te},this),a.call(this,new i(u,d,F[x[S]],Y,te,g+2,fe[x[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var o=function(u,d){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(g){var N=u[g];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/y+f+f},this).reduce(function(g,N){return Math.max(g,N)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=u;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(et.API);var Jx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Kx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qm=Gx(Kx),Yx=[100,200,300,400,500,600,700,800,900],Ck=Gx(Yx);function Zm(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Jx[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof Qm[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function K2(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Ik={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Tk(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},Ik,r.genericFontFamilies||{}),i=null,a=null,o=0;o<t.length;++o)if(s[(i=Zm(t[o])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+X2(i)+"' and default family '"+n+"'.");if(a=function(u,d){if(d[u])return d[u];var f=Qm[u],p=f<=Qm.normal?-1:1,y=K2(d,Kx,f,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+u);return y}(i.stretch,a),a=function(u,d){if(d[u])return d[u];for(var f=Jx[u],p=0;p<f.length;++p)if(d[f[p]])return d[f[p]];throw new Error("Could not find a matching font-style for "+u)}(i.style,a),!(a=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=Ck[u],p=K2(d,Yx,f,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+X2(i)+"'.");return a}function Q2(e){return e.trimLeft()}function Rk(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Ok(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var gd,Z2,ev,Lp=["times"];(function(e){var t,r,n,s,i,a,o,u,d,f=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new u,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new a,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new a,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var p=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=k;Object.defineProperty(this,"pdf",{get:function(){return q}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(ge){W=!!ge}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ge){Z=!!ge}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ge){isNaN(ge)||(se=ge)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(ge){isNaN(ge)||(X=ge)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ge){var J;typeof ge=="number"?J=[ge,ge,ge,ge]:((J=new Array(4))[0]=ge[0],J[1]=ge.length>=2?ge[1]:J[0],J[2]=ge.length>=3?ge[2]:J[0],J[3]=ge.length>=4?ge[3]:J[1]),d.margin=J}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(ge){ee=ge}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(ge){ue=ge}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(ge){oe=ge}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ge){ge instanceof f&&(d=ge)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ge){d.path=ge}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(ge){me=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var J;J=y(ge),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var J=y(ge);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var je=null;function ke(ge,J){if(je===null){var Ue=function(Be){var Ne=[];return Object.keys(Be).forEach(function(Ie){Be[Ie].forEach(function(Me){var De=null;switch(Me){case"bold":De={family:Ie,weight:"bold"};break;case"italic":De={family:Ie,style:"italic"};break;case"bolditalic":De={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":De={family:Ie}}De!==null&&(De.ref={name:Ie,style:Me},Ne.push(De))})}),Ne}(ge.getFontList());je=function(Be){for(var Ne={},Ie=0;Ie<Be.length;++Ie){var Me=Zm(Be[Ie]),De=Me.family,Je=Me.stretch,tt=Me.style,it=Me.weight;Ne[De]=Ne[De]||{},Ne[De][Je]=Ne[De][Je]||{},Ne[De][Je][tt]=Ne[De][Je][tt]||{},Ne[De][Je][tt][it]=Me}return Ne}(Ue.concat(J))}return je}var Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(ge){je=null,Fe=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var J;if(this.ctx.font=ge,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ue=J[1],Be=(J[2],J[3]),Ne=J[4],Ie=(J[5],J[6]),Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Me==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var De=function(Te){var $e,we,Pt=[],ht=Te.trim();if(ht==="")return Lp;if(ht in Y2)return[Y2[ht]];for(;ht!=="";){switch(we=null,$e=(ht=Q2(ht)).charAt(0)){case'"':case"'":we=Rk(ht.substring(1),$e);break;default:we=Ok(ht)}if(we===null||(Pt.push(we[0]),(ht=Q2(we[1]))!==""&&ht.charAt(0)!==","))return Lp;ht=ht.replace(/^,/,"")}return Pt}(Ie);if(this.fontFaces){var Je=Tk(ke(this.pdf,this.fontFaces),De.map(function(Te){return{family:Te,stretch:"normal",weight:Be,style:Ue}}));this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var tt="";(Be==="bold"||parseInt(Be,10)>=700||Ue==="bold")&&(tt="bold"),Ue==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var it="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xe=0;xe<De.length;xe++){if(this.pdf.internal.getFont(De[xe],tt,{noFallback:!0,disableWarning:!0})!==void 0){it=De[xe];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(De[xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=De[xe],tt="bold";else if(this.pdf.internal.getFont(De[xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=De[xe],tt="normal";break}}if(it===""){for(var Re=0;Re<De.length;Re++)if(at[De[Re]]){it=at[De[Re]];break}}it=it===""?"Times":it,this.pdf.setFont(it,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};p.prototype.setLineDash=function(k){this.lineDash=k},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){A.call(this,"fill",!1)},p.prototype.stroke=function(){A.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(k,q){if(isNaN(k)||isNaN(q))throw Dt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(k,q));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(k,q)},p.prototype.closePath=function(){var k=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Tt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){k=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(k.x,k.y)},p.prototype.lineTo=function(k,q){if(isNaN(k)||isNaN(q))throw Dt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(k,q));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},p.prototype.quadraticCurveTo=function(k,q,W,Z){if(isNaN(W)||isNaN(Z)||isNaN(k)||isNaN(q))throw Dt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(W,Z)),X=this.ctx.transform.applyToPoint(new a(k,q));this.path.push({type:"qct",x1:X.x,y1:X.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},p.prototype.bezierCurveTo=function(k,q,W,Z,se,X){if(isNaN(se)||isNaN(X)||isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z))throw Dt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new a(se,X)),ue=this.ctx.transform.applyToPoint(new a(k,q)),oe=this.ctx.transform.applyToPoint(new a(W,Z));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:oe.x,y2:oe.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},p.prototype.arc=function(k,q,W,Z,se,X){if(isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z)||isNaN(se))throw Dt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new a(k,q));k=ee.x,q=ee.y;var ue=this.ctx.transform.applyToPoint(new a(0,W)),oe=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(ue.x-oe.x,2)+Math.pow(ue.y-oe.y,2))}Math.abs(se-Z)>=2*Math.PI&&(Z=0,se=2*Math.PI),this.path.push({type:"arc",x:k,y:q,radius:W,startAngle:Z,endAngle:se,counterclockwise:X})},p.prototype.arcTo=function(k,q,W,Z,se){throw new Error("arcTo not implemented.")},p.prototype.rect=function(k,q,W,Z){if(isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z))throw Dt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,q),this.lineTo(k+W,q),this.lineTo(k+W,q+Z),this.lineTo(k,q+Z),this.lineTo(k,q),this.lineTo(k+W,q),this.lineTo(k,q)},p.prototype.fillRect=function(k,q,W,Z){if(isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z))throw Dt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,q,W,Z),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},p.prototype.strokeRect=function(k,q,W,Z){if(isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z))throw Dt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(k,q,W,Z),this.stroke())},p.prototype.clearRect=function(k,q,W,Z){if(isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z))throw Dt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,q,W,Z))},p.prototype.save=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},p.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(q),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(k){var q,W,Z,se;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))q=0,W=0,Z=0,se=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(X!==null)q=parseInt(X[1]),W=parseInt(X[2]),Z=parseInt(X[3]),se=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)q=parseInt(X[1]),W=parseInt(X[2]),Z=parseInt(X[3]),se=parseFloat(X[4]);else{if(se=1,typeof k=="string"&&k.charAt(0)!=="#"){var ee=new zx(k);k=ee.ok?ee.toHex():"#000000"}k.length===4?(q=k.substring(1,2),q+=q,W=k.substring(2,3),W+=W,Z=k.substring(3,4),Z+=Z):(q=k.substring(1,3),W=k.substring(3,5),Z=k.substring(5,7)),q=parseInt(q,16),W=parseInt(W,16),Z=parseInt(Z,16)}}return{r:q,g:W,b:Z,a:se,style:k}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(k,q,W,Z){if(isNaN(q)||isNaN(W)||typeof k!="string")throw Dt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!g.call(this)){var se=Y(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;R.call(this,{text:k,x:q,y:W,scale:X,angle:se,align:this.textAlign,maxWidth:Z})}},p.prototype.strokeText=function(k,q,W,Z){if(isNaN(q)||isNaN(W)||typeof k!="string")throw Dt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Z=isNaN(Z)?void 0:Z;var se=Y(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;R.call(this,{text:k,x:q,y:W,scale:X,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Z})}},p.prototype.measureText=function(k){if(typeof k!="string")throw Dt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,W=this.pdf.internal.scaleFactor,Z=q.internal.getFontSize(),se=q.getStringUnitWidth(k)*Z/q.internal.scaleFactor,X=function(ee){var ue=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new X({width:se*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(k,q){if(isNaN(k)||isNaN(q))throw Dt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new u(k,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(k){if(isNaN(k))throw Dt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new u(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(k,q){if(isNaN(k)||isNaN(q))throw Dt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new u(1,0,0,1,k,q);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(k,q,W,Z,se,X){if(isNaN(k)||isNaN(q)||isNaN(W)||isNaN(Z)||isNaN(se)||isNaN(X))throw Dt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new u(k,q,W,Z,se,X);this.ctx.transform=this.ctx.transform.multiply(ee)},p.prototype.setTransform=function(k,q,W,Z,se,X){k=isNaN(k)?1:k,q=isNaN(q)?0:q,W=isNaN(W)?0:W,Z=isNaN(Z)?1:Z,se=isNaN(se)?0:se,X=isNaN(X)?0:X,this.ctx.transform=new u(k,q,W,Z,se,X)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(k,q,W,Z,se,X,ee,ue,oe){var me=this.pdf.getImageProperties(k),je=1,ke=1,Fe=1,ge=1;Z!==void 0&&ue!==void 0&&(Fe=ue/Z,ge=oe/se,je=me.width/Z*ue/Z,ke=me.height/se*oe/se),X===void 0&&(X=q,ee=W,q=0,W=0),Z!==void 0&&ue===void 0&&(ue=Z,oe=se),Z===void 0&&ue===void 0&&(ue=me.width,oe=me.height);for(var J,Ue=this.ctx.transform.decompose(),Be=Y(Ue.rotate.shx),Ne=new u,Ie=(Ne=(Ne=(Ne=Ne.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new o(X-q*Fe,ee-W*ge,Z*je,se*ke)),Me=j.call(this,Ie),De=[],Je=0;Je<Me.length;Je+=1)De.indexOf(Me[Je])===-1&&De.push(Me[Je]);if(b(De),this.autoPaging)for(var tt=De[0],it=De[De.length-1],at=tt;at<it+1;at++){this.pdf.setPage(at);var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=at===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=at===1?0:Te+(at-2)*$e;if(this.ctx.clip_path.length!==0){var Pt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-we+Re+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Pt}var ht=JSON.parse(JSON.stringify(Ie));ht=w([ht],this.posX+this.margin[3],-we+Re+this.ctx.prevPageLastElemOffset)[0];var _r=(at>tt||at<it)&&S.call(this);_r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,$e,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,Be),_r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Be)};var j=function(k,q,W){var Z=[];q=q||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Z.push(Math.floor((k.y+se)/W)+1);break;case"arc":Z.push(Math.floor((k.y+se-k.radius)/W)+1),Z.push(Math.floor((k.y+se+k.radius)/W)+1);break;case"qct":var X=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Z.push(Math.floor((X.y+se)/W)+1),Z.push(Math.floor((X.y+X.h+se)/W)+1);break;case"bct":var ee=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Z.push(Math.floor((ee.y+se)/W)+1),Z.push(Math.floor((ee.y+ee.h+se)/W)+1);break;case"rect":Z.push(Math.floor((k.y+se)/W)+1),Z.push(Math.floor((k.y+k.h+se)/W)+1)}for(var ue=0;ue<Z.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ue];)x.call(this);return Z},x=function(){var k=this.fillStyle,q=this.strokeStyle,W=this.font,Z=this.lineCap,se=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=q,this.font=W,this.lineCap=Z,this.lineWidth=se,this.lineJoin=X},w=function(k,q,W){for(var Z=0;Z<k.length;Z++)switch(k[Z].type){case"bct":k[Z].x2+=q,k[Z].y2+=W;case"qct":k[Z].x1+=q,k[Z].y1+=W;case"mt":case"lt":case"arc":default:k[Z].x+=q,k[Z].y+=W}return k},b=function(k){return k.sort(function(q,W){return q-W})},A=function(k,q){for(var W,Z,se=this.fillStyle,X=this.strokeStyle,ee=this.lineCap,ue=this.lineWidth,oe=Math.abs(ue*this.ctx.transform.scaleX),me=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Fe=[],ge=0;ge<ke.length;ge++)if(ke[ge].x!==void 0)for(var J=j.call(this,ke[ge]),Ue=0;Ue<J.length;Ue+=1)Fe.indexOf(J[Ue])===-1&&Fe.push(J[Ue]);for(var Be=0;Be<Fe.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Fe[Be];)x.call(this);if(b(Fe),this.autoPaging)for(var Ne=Fe[0],Ie=Fe[Fe.length-1],Me=Ne;Me<Ie+1;Me++){this.pdf.setPage(Me),this.fillStyle=se,this.strokeStyle=X,this.lineCap=ee,this.lineWidth=oe,this.lineJoin=me;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Me===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Me===1?0:tt+(Me-2)*it;if(this.ctx.clip_path.length!==0){var xe=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(W,this.posX+this.margin[3],-at+Je+this.ctx.prevPageLastElemOffset),F.call(this,k,!0),this.path=xe}if(Z=JSON.parse(JSON.stringify(je)),this.path=w(Z,this.posX+this.margin[3],-at+Je+this.ctx.prevPageLastElemOffset),q===!1||Me===0){var Re=(Me>Ne||Me<Ie)&&S.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,it,null).clip().discardPath()),F.call(this,k,q),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=oe,F.call(this,k,q),this.lineWidth=ue;this.path=je},F=function(k,q){if((k!=="stroke"||q||!N.call(this))&&(k==="stroke"||q||!g.call(this))){for(var W,Z,se=[],X=this.path,ee=0;ee<X.length;ee++){var ue=X[ee];switch(ue.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ue,deltas:[],abs:[]});break;case"lt":var oe=se.length;if(X[ee-1]&&!isNaN(X[ee-1].x)&&(W=[ue.x-X[ee-1].x,ue.y-X[ee-1].y],oe>0)){for(;oe>=0;oe--)if(se[oe-1].close!==!0&&se[oe-1].begin!==!0){se[oe-1].deltas.push(W),se[oe-1].abs.push(ue);break}}break;case"bct":W=[ue.x1-X[ee-1].x,ue.y1-X[ee-1].y,ue.x2-X[ee-1].x,ue.y2-X[ee-1].y,ue.x-X[ee-1].x,ue.y-X[ee-1].y],se[se.length-1].deltas.push(W);break;case"qct":var me=X[ee-1].x+2/3*(ue.x1-X[ee-1].x),je=X[ee-1].y+2/3*(ue.y1-X[ee-1].y),ke=ue.x+2/3*(ue.x1-ue.x),Fe=ue.y+2/3*(ue.y1-ue.y),ge=ue.x,J=ue.y;W=[me-X[ee-1].x,je-X[ee-1].y,ke-X[ee-1].x,Fe-X[ee-1].y,ge-X[ee-1].x,J-X[ee-1].y],se[se.length-1].deltas.push(W);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ue)}}Z=q?null:k==="stroke"?"stroke":"fill";for(var Ue=!1,Be=0;Be<se.length;Be++)if(se[Be].arc)for(var Ne=se[Be].abs,Ie=0;Ie<Ne.length;Ie++){var Me=Ne[Ie];Me.type==="arc"?M.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,q,!Ue):G.call(this,Me.x,Me.y),Ue=!0}else if(se[Be].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(se[Be].begin!==!0){var De=se[Be].start.x,Je=se[Be].start.y;U.call(this,se[Be].deltas,De,Je),Ue=!0}Z&&Q.call(this,Z),q&&H.call(this)}},z=function(k){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-W;case"top":return k+q-W;case"hanging":return k+q-2*W;case"middle":return k+q/2-W;case"ideographic":return k;case"alphabetic":default:return k}},D=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(q,W){this.colorStops.push([q,W])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(k,q,W,Z,se,X,ee,ue,oe){for(var me=re.call(this,W,Z,se,X),je=0;je<me.length;je++){var ke=me[je];je===0&&(oe?E.call(this,ke.x1+k,ke.y1+q):G.call(this,ke.x1+k,ke.y1+q)),le.call(this,k,q,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ue?H.call(this):Q.call(this,ee)},Q=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,q){this.pdf.internal.out(r(k)+" "+n(q)+" m")},R=function(k){var q;switch(k.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var W=this.pdf.getTextDimensions(k.text),Z=z.call(this,k.y),se=D.call(this,Z)-W.h,X=this.ctx.transform.applyToPoint(new a(k.x,Z)),ee=this.ctx.transform.decompose(),ue=new u;ue=(ue=(ue=ue.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var oe,me,je,ke=this.ctx.transform.applyToRectangle(new o(k.x,Z,W.w,W.h)),Fe=ue.applyToRectangle(new o(k.x,se,W.w,W.h)),ge=j.call(this,Fe),J=[],Ue=0;Ue<ge.length;Ue+=1)J.indexOf(ge[Ue])===-1&&J.push(ge[Ue]);if(b(J),this.autoPaging)for(var Be=J[0],Ne=J[J.length-1],Ie=Be;Ie<Ne+1;Ie++){this.pdf.setPage(Ie);var Me=Ie===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],tt=Je-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],at=it-this.margin[3],xe=Ie===1?0:De+(Ie-2)*tt;if(this.ctx.clip_path.length!==0){var Re=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(oe,this.posX+this.margin[3],-1*xe+Me),F.call(this,"fill",!0),this.path=Re}var Te=w([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-xe+Me+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*k.scale),je=this.lineWidth,this.lineWidth=je*k.scale);var $e=this.autoPaging!=="text";if($e||Te.y+Te.h<=Je){if($e||Te.y>=Me&&Te.x<=it){var we=$e?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||it-Te.x)[0],Pt=w([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-xe+Me+this.ctx.prevPageLastElemOffset)[0],ht=$e&&(Ie>Be||Ie<Ne)&&S.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,tt,null).clip().discardPath()),this.pdf.text(we,Pt.x,Pt.y,{angle:k.angle,align:q,renderingMode:k.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else Te.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-Te.y);k.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=je)}else k.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*k.scale),je=this.lineWidth,this.lineWidth=je*k.scale),this.pdf.text(k.text,X.x+this.posX,X.y+this.posY,{angle:k.angle,align:q,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=je)},G=function(k,q,W,Z){W=W||0,Z=Z||0,this.pdf.internal.out(r(k+W)+" "+n(q+Z)+" l")},U=function(k,q,W){return this.pdf.lines(k,q,W,null,null)},le=function(k,q,W,Z,se,X,ee,ue){this.pdf.internal.out([t(s(W+k)),t(i(Z+q)),t(s(se+k)),t(i(X+q)),t(s(ee+k)),t(i(ue+q)),"c"].join(" "))},re=function(k,q,W,Z){for(var se=2*Math.PI,X=Math.PI/2;q>W;)q-=se;var ee=Math.abs(W-q);ee<se&&Z&&(ee=se-ee);for(var ue=[],oe=Z?-1:1,me=q;ee>1e-5;){var je=me+oe*Math.min(ee,X);ue.push(fe.call(this,k,me,je)),ee-=Math.abs(je-me),me=je}return ue},fe=function(k,q,W){var Z=(W-q)/2,se=k*Math.cos(Z),X=k*Math.sin(Z),ee=se,ue=-X,oe=ee*ee+ue*ue,me=oe+ee*se+ue*X,je=4/3*(Math.sqrt(2*oe*me)-me)/(ee*X-ue*se),ke=ee-je*ue,Fe=ue+je*ee,ge=ke,J=-Fe,Ue=Z+q,Be=Math.cos(Ue),Ne=Math.sin(Ue);return{x1:k*Math.cos(q),y1:k*Math.sin(q),x2:ke*Be-Fe*Ne,y2:ke*Ne+Fe*Be,x3:ge*Be-J*Ne,y3:ge*Ne+J*Be,x4:k*Math.cos(W),y4:k*Math.sin(W)}},Y=function(k){return 180*k/Math.PI},te=function(k,q,W,Z,se,X){var ee=k+.5*(W-k),ue=q+.5*(Z-q),oe=se+.5*(W-se),me=X+.5*(Z-X),je=Math.min(k,se,ee,oe),ke=Math.max(k,se,ee,oe),Fe=Math.min(q,X,ue,me),ge=Math.max(q,X,ue,me);return new o(je,Fe,ke-je,ge-Fe)},$=function(k,q,W,Z,se,X,ee,ue){var oe,me,je,ke,Fe,ge,J,Ue,Be,Ne,Ie,Me,De,Je,tt=W-k,it=Z-q,at=se-W,xe=X-Z,Re=ee-se,Te=ue-X;for(me=0;me<41;me++)Be=(J=(je=k+(oe=me/40)*tt)+oe*((Fe=W+oe*at)-je))+oe*(Fe+oe*(se+oe*Re-Fe)-J),Ne=(Ue=(ke=q+oe*it)+oe*((ge=Z+oe*xe)-ke))+oe*(ge+oe*(X+oe*Te-ge)-Ue),me==0?(Ie=Be,Me=Ne,De=Be,Je=Ne):(Ie=Math.min(Ie,Be),Me=Math.min(Me,Ne),De=Math.max(De,Be),Je=Math.max(Je,Ne));return new o(Math.round(Ie),Math.round(Me),Math.round(De-Ie),Math.round(Je-Me))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,q,W=(k=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:q}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(et.API),function(e){var t=function(i){var a,o,u,d,f,p,y,g,N,S;for(o=[],u=0,d=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;d>u;u+=4)(f=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(S=f%85))/85)-(N=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)%85,o.push(p+33,y+33,g+33,N+33,S+33)):o.push(122);return function(j,x){for(var w=x;w>0;w--)j.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var a,o,u,d,f,p=String,y="length",g=255,N="charCodeAt",S="slice",j="replace";for(i[S](-2),i=i[S](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),u=[],d=0,f=(i+=a="uuuuu"[S](i[y]%5||5))[y];f>d;d+=5)o=52200625*(i[N](d)-33)+614125*(i[N](d+1)-33)+7225*(i[N](d+2)-33)+85*(i[N](d+3)-33)+(i[N](d+4)-33),u.push(g&o>>24,g&o>>16,g&o>>8,g&o);return function(x,w){for(var b=w;b>0;b--)x.pop()}(u,a[y]),p.fromCharCode.apply(p,u)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",u=0;u<i.length;u+=2)o+=String.fromCharCode("0x"+(i[u]+i[u+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=Gm(a)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(i,a){var o=0,u=i||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=n(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(et.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(u,d,f){var p=new XMLHttpRequest,y=0,g=function(N){var S=N.length,j=[],x=String.fromCharCode;for(y=0;y<S;y+=1)j.push(x(255&N.charCodeAt(y)));return j.join("")};if(p.open("GET",u,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),d&&p.status===200)return g(p.responseText)}(s,i,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(et.API),function(e){function t(){return(nt.html2canvas?Promise.resolve(nt.html2canvas):Qe(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(nt.DOMPurify?Promise.resolve(nt.DOMPurify):Qe(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Tt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var u=document.createElement(a);for(var d in o.className&&(u.className=o.className),o.innerHTML&&o.dompurify&&(u.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)u.style[d]=o.style[d];return u},i=function a(o){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function u(d,f){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(u(y,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,o(this.prop.container,u)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(o){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var g=d[y],N=g.src.find(function(S){return S.format==="truetype"});N&&u.addFont(N.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var u=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(u):u})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(a=a||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,u,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,u,d){return this.setProgress(a?this.progress.val+a:null,o||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(a,o){var u=this;return this.thenCore(a,o,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},i.prototype.thenCore=function(a,o,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=u.call(d,a,o);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(u){o=o.thenCore(u)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,et.getPageSize=function(a,o,u){if(Tt(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,u=d.format||u}o=o||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var g,N=0,S=0;if(y.hasOwnProperty(p))N=y[p][1]/f,S=y[p][0]/f;else try{N=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",S>N&&(g=S,S=N,N=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>S&&(g=S,S=N,N=g)}return{width:S,height:N,unit:o,k:f,orientation:a}},e.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Zm):null;var u=new i(o);return o.worker?u:u.from(a).doCallback()}}(et.API),et.API.addJS=function(e){return ev=e,this.internal.events.subscribe("postPutResources",function(){gd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Z2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ev+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gd!==void 0&&Z2!==void 0&&this.internal.out("/Names <</JavaScript "+gd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var u=o[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var p=r.internal.newObject();f.push(p);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var u=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,o){var u,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(u=function(p){for(var y,g=256*p.charCodeAt(4)+p.charCodeAt(5),N=p.length,S={width:0,height:0,numcomponents:1},j=4;j<N;j+=2){if(j+=g,t.indexOf(p.charCodeAt(j+1))!==-1){y=256*p.charCodeAt(j+5)+p.charCodeAt(j+6),S={width:256*p.charCodeAt(j+7)+p.charCodeAt(j+8),height:y,numcomponents:p.charCodeAt(j+9)};break}g=256*p.charCodeAt(j+2)+p.charCodeAt(j+3)}return S}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(et.API);var wo,vd,tv,rv,nv,Fk=function(){var e,t,r;function n(i){var a,o,u,d,f,p,y,g,N,S,j,x,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),N=(function(){var A,F;for(F=[],A=0;A<4;++A)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,p.delay=1e3*f/d,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,a-=4),i=(p!=null?p.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((S=u-this.transparency.indexed.length)>0)for(w=0;0<=S?w<S:w>S;0<=S?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(j=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,j.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,j.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),u=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(p,y,g,N){var S,j,x,w,b,A,F,z,D,M,Q,H,E,R,G,U,le,re,fe,Y,te,$=Math.ceil((d.width-p)/g),ce=Math.ceil((d.height-y)/N),k=d.width==$&&d.height==ce;for(R=a*$,H=k?o:new Uint8Array(R*ce),A=i.length,E=0,j=0;E<ce&&u<A;){switch(i[u++]){case 0:for(w=le=0;le<R;w=le+=1)H[j++]=i[u++];break;case 1:for(w=re=0;re<R;w=re+=1)S=i[u++],b=w<a?0:H[j-a],H[j++]=(S+b)%256;break;case 2:for(w=fe=0;fe<R;w=fe+=1)S=i[u++],x=(w-w%a)/a,G=E&&H[(E-1)*R+x*a+w%a],H[j++]=(G+S)%256;break;case 3:for(w=Y=0;Y<R;w=Y+=1)S=i[u++],x=(w-w%a)/a,b=w<a?0:H[j-a],G=E&&H[(E-1)*R+x*a+w%a],H[j++]=(S+Math.floor((b+G)/2))%256;break;case 4:for(w=te=0;te<R;w=te+=1)S=i[u++],x=(w-w%a)/a,b=w<a?0:H[j-a],E===0?G=U=0:(G=H[(E-1)*R+x*a+w%a],U=x&&H[(E-1)*R+(x-1)*a+w%a]),F=b+G-U,z=Math.abs(F-b),M=Math.abs(F-G),Q=Math.abs(F-U),D=z<=M&&z<=Q?b:M<=Q?G:U,H[j++]=(S+D)%256;break;default:throw new Error("Invalid filter algorithm: "+i[u-1])}if(!k){var q=((y+E*N)*d.width+p)*a,W=E*R;for(w=0;w<$;w+=1){for(var Z=0;Z<a;Z+=1)o[q++]=H[W++];q+=(g-1)*a}}E++}}return i=pk(i),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var i,a,o,u,d,f,p,y,g;for(o=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+o.length),u=0,i=0,a=p=0,y=o.length;p<y;a=p+=3)d[u++]=o[a],d[u++]=o[a+1],d[u++]=o[a+2],d[u++]=(g=f[i++])!=null?g:255;return d},n.prototype.copyToImageData=function(i,a){var o,u,d,f,p,y,g,N,S,j,x;if(u=this.colors,S=null,o=this.hasAlphaChannel,this.palette.length&&(S=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),u=4,o=!0),N=(d=i.data||i).length,p=S||a,f=y=0,u===1)for(;f<N;)g=S?4*a[f/4]:y,j=p[g++],d[f++]=j,d[f++]=j,d[f++]=j,d[f++]=o?p[g++]:255,y=g;else for(;f<N;)g=S?4*a[f/4]:y,d[f++]=p[g++],d[f++]=p[g++],d[f++]=p[g++],d[f++]=o?p[g++]:255,y=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(nt)==="[object Window]"){try{t=nt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,o,u,d,f,p,y,g;if(this.animation){for(g=[],o=f=0,p=(y=this.animation.frames).length;f<p;o=++f)a=y[o],u=i.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,d),a.imageData=u,g.push(a.image=e(u));return g}},n.prototype.renderFrame=function(i,a){var o,u,d;return o=(u=this.animation.frames)[a],d=u[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var a,o,u,d,f,p,y=this;return o=0,p=this.animation,d=p.numFrames,u=p.frames,f=p.numPlays,(a=function(){var g,N;if(g=o++%d,N=u[g],y.renderFrame(i,g),d>1&&o/d<f)return y.animation._timeout=setTimeout(a,N.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Mk(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var o=null,u=null;i&&(o=t,u=a,t+=3*a);var d=!0,f=[],p=0,y=null,g=0,N=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var S=e[t++];p=e[t++]|e[t++]<<8,y=e[t++],!(1&S)&&(y=null),g=S>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,A=e[t++],F=A>>6&1,z=1<<(7&A)+1,D=o,M=u,Q=!1;A>>7&&(Q=!0,D=t,M=z,t+=3*z);var H=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}f.push({x:j,y:x,width:w,height:b,has_local_palette:Q,palette_offset:D,palette_size:M,data_offset:H,data_length:t-H,transparent_index:y,interlaced:!!F,delay:p,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return N},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,G){var U=this.frameInfo(R),le=U.width*U.height,re=new Uint8Array(le);sv(e,U.data_offset,re,le);var fe=U.palette_offset,Y=U.transparent_index;Y===null&&(Y=256);var te=U.width,$=r-te,ce=te,k=4*(U.y*r+U.x),q=4*((U.y+U.height)*r+U.x),W=k,Z=4*$;U.interlaced===!0&&(Z+=4*r*7);for(var se=8,X=0,ee=re.length;X<ee;++X){var ue=re[X];if(ce===0&&(ce=te,(W+=Z)>=q&&(Z=4*$+4*r*(se-1),W=k+(te+$)*(se<<1),se>>=1)),ue===Y)W+=4;else{var oe=e[fe+3*ue],me=e[fe+3*ue+1],je=e[fe+3*ue+2];G[W++]=je,G[W++]=me,G[W++]=oe,G[W++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(R,G){var U=this.frameInfo(R),le=U.width*U.height,re=new Uint8Array(le);sv(e,U.data_offset,re,le);var fe=U.palette_offset,Y=U.transparent_index;Y===null&&(Y=256);var te=U.width,$=r-te,ce=te,k=4*(U.y*r+U.x),q=4*((U.y+U.height)*r+U.x),W=k,Z=4*$;U.interlaced===!0&&(Z+=4*r*7);for(var se=8,X=0,ee=re.length;X<ee;++X){var ue=re[X];if(ce===0&&(ce=te,(W+=Z)>=q&&(Z=4*$+4*r*(se-1),W=k+(te+$)*(se<<1),se>>=1)),ue===Y)W+=4;else{var oe=e[fe+3*ue],me=e[fe+3*ue+1],je=e[fe+3*ue+2];G[W++]=oe,G[W++]=me,G[W++]=je,G[W++]=255}--ce}}}function sv(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,o=a+1,u=s+1,d=(1<<u)-1,f=0,p=0,y=0,g=e[t++],N=new Int32Array(4096),S=null;;){for(;f<16&&g!==0;)p|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<u)break;var j=p&d;if(p>>=u,f-=u,j!==i){if(j===a)break;for(var x=j<o?j:S,w=0,b=x;b>i;)b=N[b]>>8,++w;var A=b;if(y+w+(x!==j?1:0)>n)return void Dt.log("Warning, gif stream longer than expected.");r[y++]=A;var F=y+=w;for(x!==j&&(r[y++]=A),b=x;w--;)b=N[b],r[--F]=255&b,b>>=8;S!==null&&o<4096&&(N[o++]=S<<8|A,o>=d+1&&u<12&&(++u,d=d<<1|1)),S=j}else o=a+1,d=(1<<(u=s+1))-1,S=null}return y!==n&&Dt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pp(e){var t,r,n,s,i,a=Math.floor,o=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(65535),y=new Array(65535),g=new Array(64),N=new Array(64),S=[],j=0,x=7,w=new Array(64),b=new Array(64),A=new Array(64),F=new Array(256),z=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(k,q){for(var W=0,Z=0,se=new Array,X=1;X<=16;X++){for(var ee=1;ee<=k[X];ee++)se[q[Z]]=[],se[q[Z]][0]=W,se[q[Z]][1]=X,Z++,W++;W*=2}return se}function fe(k){for(var q=k[0],W=k[1]-1;W>=0;)q&1<<W&&(j|=1<<x),W--,--x<0&&(j==255?(Y(255),Y(0)):Y(j),x=7,j=0)}function Y(k){S.push(k)}function te(k){Y(k>>8&255),Y(255&k)}function $(k,q,W,Z,se){for(var X,ee=se[0],ue=se[240],oe=function(Ne,Ie){var Me,De,Je,tt,it,at,xe,Re,Te,$e,we=0;for(Te=0;Te<8;++Te){Me=Ne[we],De=Ne[we+1],Je=Ne[we+2],tt=Ne[we+3],it=Ne[we+4],at=Ne[we+5],xe=Ne[we+6];var Pt=Me+(Re=Ne[we+7]),ht=Me-Re,_r=De+xe,ft=De-xe,xt=Je+at,Bt=Je-at,mt=tt+it,Nr=tt-it,Et=Pt+mt,Ve=Pt-mt,ot=_r+xt,st=_r-xt;Ne[we]=Et+ot,Ne[we+4]=Et-ot;var Ke=.707106781*(st+Ve);Ne[we+2]=Ve+Ke,Ne[we+6]=Ve-Ke;var ut=.382683433*((Et=Nr+Bt)-(st=ft+ht)),Sr=.5411961*Et+ut,Ft=1.306562965*st+ut,bn=.707106781*(ot=Bt+ft),Tn=ht+bn,rt=ht-bn;Ne[we+5]=rt+Sr,Ne[we+3]=rt-Sr,Ne[we+1]=Tn+Ft,Ne[we+7]=Tn-Ft,we+=8}for(we=0,Te=0;Te<8;++Te){Me=Ne[we],De=Ne[we+8],Je=Ne[we+16],tt=Ne[we+24],it=Ne[we+32],at=Ne[we+40],xe=Ne[we+48];var Kn=Me+(Re=Ne[we+56]),xs=Me-Re,sn=De+xe,gr=De-xe,dr=Je+at,wn=Je-at,Da=tt+it,Ds=tt-it,Yn=Kn+Da,Xn=Kn-Da,Qn=sn+dr,bs=sn-dr;Ne[we]=Yn+Qn,Ne[we+32]=Yn-Qn;var Rn=.707106781*(bs+Xn);Ne[we+16]=Xn+Rn,Ne[we+48]=Xn-Rn;var ws=.382683433*((Yn=Ds+wn)-(bs=gr+xs)),ta=.5411961*Yn+ws,Ba=1.306562965*bs+ws,Ua=.707106781*(Qn=wn+gr),za=xs+Ua,qa=xs-Ua;Ne[we+40]=qa+ta,Ne[we+24]=qa-ta,Ne[we+8]=za+Ba,Ne[we+56]=za-Ba,we++}for(Te=0;Te<64;++Te)$e=Ne[Te]*Ie[Te],g[Te]=$e>0?$e+.5|0:$e-.5|0;return g}(k,q),me=0;me<64;++me)N[D[me]]=oe[me];var je=N[0]-W;W=N[0],je==0?fe(Z[0]):(fe(Z[y[X=32767+je]]),fe(p[X]));for(var ke=63;ke>0&&N[ke]==0;)ke--;if(ke==0)return fe(ee),W;for(var Fe,ge=1;ge<=ke;){for(var J=ge;N[ge]==0&&ge<=ke;)++ge;var Ue=ge-J;if(Ue>=16){Fe=Ue>>4;for(var Be=1;Be<=Fe;++Be)fe(ue);Ue&=15}X=32767+N[ge],fe(se[(Ue<<4)+y[X]]),fe(p[X]),ge++}return ke!=63&&fe(ee),W}function ce(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(q){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var se=a((W[Z]*q+50)/100);se=Math.min(Math.max(se,1),255),o[D[Z]]=se}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var ue=a((X[ee]*q+50)/100);ue=Math.min(Math.max(ue,1),255),u[D[ee]]=ue}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,je=0;je<8;je++)for(var ke=0;ke<8;ke++)d[me]=1/(o[D[me]]*oe[je]*oe[ke]*8),f[me]=1/(u[D[me]]*oe[je]*oe[ke]*8),me++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,q){q&&ce(q),S=new Array,j=0,x=7,te(65496),te(65504),te(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),te(1),te(1),Y(0),Y(0),function(){te(65499),te(132),Y(0);for(var De=0;De<64;De++)Y(o[De]);Y(1);for(var Je=0;Je<64;Je++)Y(u[Je])}(),function(De,Je){te(65472),te(17),Y(8),te(Je),te(De),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(k.width,k.height),function(){te(65476),te(418),Y(0);for(var De=0;De<16;De++)Y(M[De+1]);for(var Je=0;Je<=11;Je++)Y(Q[Je]);Y(16);for(var tt=0;tt<16;tt++)Y(H[tt+1]);for(var it=0;it<=161;it++)Y(E[it]);Y(1);for(var at=0;at<16;at++)Y(R[at+1]);for(var xe=0;xe<=11;xe++)Y(G[xe]);Y(17);for(var Re=0;Re<16;Re++)Y(U[Re+1]);for(var Te=0;Te<=161;Te++)Y(le[Te])}(),te(65498),te(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var W=0,Z=0,se=0;j=0,x=7,this.encode.displayName="_encode_";for(var X,ee,ue,oe,me,je,ke,Fe,ge,J=k.data,Ue=k.width,Be=k.height,Ne=4*Ue,Ie=0;Ie<Be;){for(X=0;X<Ne;){for(me=Ne*Ie+X,ke=-1,Fe=0,ge=0;ge<64;ge++)je=me+(Fe=ge>>3)*Ne+(ke=4*(7&ge)),Ie+Fe>=Be&&(je-=Ne*(Ie+1+Fe-Be)),X+ke>=Ne&&(je-=X+ke-Ne+4),ee=J[je++],ue=J[je++],oe=J[je++],w[ge]=(z[ee]+z[ue+256>>0]+z[oe+512>>0]>>16)-128,b[ge]=(z[ee+768>>0]+z[ue+1024>>0]+z[oe+1280>>0]>>16)-128,A[ge]=(z[ee+1280>>0]+z[ue+1536>>0]+z[oe+1792>>0]>>16)-128;W=$(w,d,W,t,n),Z=$(b,f,Z,r,s),se=$(A,f,se,r,s),X+=32}Ie+=8}if(x>=0){var Me=[];Me[1]=x+1,Me[0]=(1<<x+1)-1,fe(Me)}return te(65497),new Uint8Array(S)},e=e||50,function(){for(var k=String.fromCharCode,q=0;q<256;q++)F[q]=k(q)}(),t=re(M,Q),r=re(R,G),n=re(H,E),s=re(U,le),function(){for(var k=1,q=2,W=1;W<=15;W++){for(var Z=k;Z<q;Z++)y[32767+Z]=W,p[32767+Z]=[],p[32767+Z][1]=W,p[32767+Z][0]=Z;for(var se=-(q-1);se<=-k;se++)y[32767+se]=W,p[32767+se]=[],p[32767+se][1]=W,p[32767+se][0]=q-1+se;k<<=1,q<<=1}}(),function(){for(var k=0;k<256;k++)z[k]=19595*k,z[k+256>>0]=38470*k,z[k+512>>0]=7471*k+32768,z[k+768>>0]=-11059*k,z[k+1024>>0]=-21709*k,z[k+1280>>0]=32768*k+8421375,z[k+1536>>0]=-27439*k,z[k+1792>>0]=-5329*k}(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function as(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iv(e){function t(M){if(!M)throw Error("assert :P")}function r(M,Q,H){for(var E=0;4>E;E++)if(M[Q+E]!=H.charCodeAt(E))return!0;return!1}function n(M,Q,H,E,R){for(var G=0;G<R;G++)M[Q+G]=H[E+G]}function s(M,Q,H,E){for(var R=0;R<E;R++)M[Q+R]=H}function i(M){return new Int32Array(M)}function a(M,Q){for(var H=[],E=0;E<M;E++)H.push(new Q);return H}function o(M,Q){var H=[];return function E(R,G,U){for(var le=U[G],re=0;re<le&&(R.push(U.length>G+1?[]:new Q),!(U.length<G+1));re++)E(R[re],G+1,U)}(H,0,M),H}var u=function(){var M=this;function Q(l,h){for(var v=1<<h-1>>>0;l&v;)v>>>=1;return v?(l&v-1)+v:l}function H(l,h,v,_,L){t(!(_%v));do l[h+(_-=v)]=L;while(0<_)}function E(l,h,v,_,L){if(t(2328>=L),512>=L)var C=i(512);else if((C=i(L))==null)return 0;return function(I,O,B,V,ie,ve){var ye,he,Pe=O,_e=1<<B,ae=i(16),de=i(16);for(t(ie!=0),t(V!=null),t(I!=null),t(0<B),he=0;he<ie;++he){if(15<V[he])return 0;++ae[V[he]]}if(ae[0]==ie)return 0;for(de[1]=0,ye=1;15>ye;++ye){if(ae[ye]>1<<ye)return 0;de[ye+1]=de[ye]+ae[ye]}for(he=0;he<ie;++he)ye=V[he],0<V[he]&&(ve[de[ye]++]=he);if(de[15]==1)return(V=new R).g=0,V.value=ve[0],H(I,Pe,1,_e,V),_e;var Ae,Ee=-1,Le=_e-1,He=0,ze=1,Ze=1,qe=1<<B;for(he=0,ye=1,ie=2;ye<=B;++ye,ie<<=1){if(ze+=Ze<<=1,0>(Ze-=ae[ye]))return 0;for(;0<ae[ye];--ae[ye])(V=new R).g=ye,V.value=ve[he++],H(I,Pe+He,ie,qe,V),He=Q(He,ye)}for(ye=B+1,ie=2;15>=ye;++ye,ie<<=1){if(ze+=Ze<<=1,0>(Ze-=ae[ye]))return 0;for(;0<ae[ye];--ae[ye]){if(V=new R,(He&Le)!=Ee){for(Pe+=qe,Ae=1<<(Ee=ye)-B;15>Ee&&!(0>=(Ae-=ae[Ee]));)++Ee,Ae<<=1;_e+=qe=1<<(Ae=Ee-B),I[O+(Ee=He&Le)].g=Ae+B,I[O+Ee].value=Pe-O-Ee}V.g=ye-B,V.value=ve[he++],H(I,Pe+(He>>B),ie,qe,V),He=Q(He,ye)}}return ze!=2*de[15]-1?0:_e}(l,h,v,_,L,C)}function R(){this.value=this.g=0}function G(){this.value=this.g=0}function U(){this.G=a(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Cr,G)}function le(l,h,v,_){t(l!=null),t(h!=null),t(2147483648>_),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=h,l.pa=v,l.Jd=h,l.Yc=v+_,l.Zc=4<=_?v+_-4+1:v,X(l)}function re(l,h){for(var v=0;0<h--;)v|=ue(l,128)<<h;return v}function fe(l,h){var v=re(l,h);return ee(l)?-v:v}function Y(l,h,v,_){var L,C=0;for(t(l!=null),t(h!=null),t(4294967288>_),l.Sb=_,l.Ra=0,l.u=0,l.h=0,4<_&&(_=4),L=0;L<_;++L)C+=h[v+L]<<8*L;l.Ra=C,l.bb=_,l.oa=h,l.pa=v}function te(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<no-8>>>0,++l.bb,l.u-=8;W(l)&&(l.h=1,l.u=0)}function $(l,h){if(t(0<=h),!l.h&&h<=ro){var v=q(l)&to[h];return l.u+=h,te(l),v}return l.h=1,l.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(l){return l.Ra>>>(l.u&no-1)>>>0}function W(l){return t(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>no}function Z(l,h){l.u=h,l.h=W(l)}function se(l){l.u>=Il&&(t(l.u>=Il),te(l))}function X(l){t(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(t(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function ee(l){return re(l,1)}function ue(l,h){var v=l.Ca;0>l.b&&X(l);var _=l.b,L=v*h>>>8,C=(l.I>>>_>L)+0;for(C?(v-=L,l.I-=L+1<<_>>>0):v=L+1,_=v,L=0;256<=_;)L+=8,_>>=8;return _=7^L+on[_],l.b-=_,l.Ca=(v<<_)-1,C}function oe(l,h,v){l[h+0]=v>>24&255,l[h+1]=v>>16&255,l[h+2]=v>>8&255,l[h+3]=v>>0&255}function me(l,h){return l[h+0]<<0|l[h+1]<<8}function je(l,h){return me(l,h)|l[h+2]<<16}function ke(l,h){return me(l,h)|me(l,h+2)<<16}function Fe(l,h){var v=1<<h;return t(l!=null),t(0<h),l.X=i(v),l.X==null?0:(l.Mb=32-h,l.Xa=h,1)}function ge(l,h){t(l!=null),t(h!=null),t(l.Xa==h.Xa),n(h.X,0,l.X,0,1<<h.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Ue(l,h,v,_){t(v!=null),t(_!=null);var L=v[0],C=_[0];return L==0&&(L=(l*C+h/2)/h),C==0&&(C=(h*L+l/2)/l),0>=L||0>=C?0:(v[0]=L,_[0]=C,1)}function Be(l,h){return l+(1<<h)-1>>>h}function Ne(l,h){return((4278255360&l)+(4278255360&h)>>>0&4278255360)+((16711935&l)+(16711935&h)>>>0&16711935)>>>0}function Ie(l,h){M[h]=function(v,_,L,C,I,O,B){var V;for(V=0;V<I;++V){var ie=M[l](O[B+V-1],L,C+V);O[B+V]=Ne(v[_+V],ie)}}}function Me(){this.ud=this.hd=this.jd=0}function De(l,h){return((4278124286&(l^h))>>>1)+(l&h)>>>0}function Je(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function tt(l,h){return Je(l+(l-h+.5>>1))}function it(l,h,v){return Math.abs(h-v)-Math.abs(l-v)}function at(l,h,v,_,L,C,I){for(_=C[I-1],v=0;v<L;++v)C[I+v]=_=Ne(l[h+v],_)}function xe(l,h,v,_,L){var C;for(C=0;C<v;++C){var I=l[h+C],O=I>>8&255,B=16711935&(B=(B=16711935&I)+((O<<16)+O));_[L+C]=(4278255360&I)+B>>>0}}function Re(l,h){h.jd=l>>0&255,h.hd=l>>8&255,h.ud=l>>16&255}function Te(l,h,v,_,L,C){var I;for(I=0;I<_;++I){var O=h[v+I],B=O>>>8,V=O,ie=255&(ie=(ie=O>>>16)+((l.jd<<24>>24)*(B<<24>>24)>>>5));V=255&(V=(V=V+((l.hd<<24>>24)*(B<<24>>24)>>>5))+((l.ud<<24>>24)*(ie<<24>>24)>>>5)),L[C+I]=(4278255360&O)+(ie<<16)+V}}function $e(l,h,v,_,L){M[h]=function(C,I,O,B,V,ie,ve,ye,he){for(B=ve;B<ye;++B)for(ve=0;ve<he;++ve)V[ie++]=L(O[_(C[I++])])},M[l]=function(C,I,O,B,V,ie,ve){var ye=8>>C.b,he=C.Ea,Pe=C.K[0],_e=C.w;if(8>ye)for(C=(1<<C.b)-1,_e=(1<<ye)-1;I<O;++I){var ae,de=0;for(ae=0;ae<he;++ae)ae&C||(de=_(B[V++])),ie[ve++]=L(Pe[de&_e]),de>>=ye}else M["VP8LMapColor"+v](B,V,Pe,_e,ie,ve,I,O,he)}}function we(l,h,v,_,L){for(v=h+v;h<v;){var C=l[h++];_[L++]=C>>16&255,_[L++]=C>>8&255,_[L++]=C>>0&255}}function Pt(l,h,v,_,L){for(v=h+v;h<v;){var C=l[h++];_[L++]=C>>16&255,_[L++]=C>>8&255,_[L++]=C>>0&255,_[L++]=C>>24&255}}function ht(l,h,v,_,L){for(v=h+v;h<v;){var C=(I=l[h++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;_[L++]=C,_[L++]=I}}function _r(l,h,v,_,L){for(v=h+v;h<v;){var C=(I=l[h++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;_[L++]=C,_[L++]=I}}function ft(l,h,v,_,L){for(v=h+v;h<v;){var C=l[h++];_[L++]=C>>0&255,_[L++]=C>>8&255,_[L++]=C>>16&255}}function xt(l,h,v,_,L,C){if(C==0)for(v=h+v;h<v;)oe(_,((C=l[h++])[0]>>24|C[1]>>8&65280|C[2]<<8&16711680|C[3]<<24)>>>0),L+=32;else n(_,L,l,h,v)}function Bt(l,h){M[h][0]=M[l+"0"],M[h][1]=M[l+"1"],M[h][2]=M[l+"2"],M[h][3]=M[l+"3"],M[h][4]=M[l+"4"],M[h][5]=M[l+"5"],M[h][6]=M[l+"6"],M[h][7]=M[l+"7"],M[h][8]=M[l+"8"],M[h][9]=M[l+"9"],M[h][10]=M[l+"10"],M[h][11]=M[l+"11"],M[h][12]=M[l+"12"],M[h][13]=M[l+"13"],M[h][14]=M[l+"0"],M[h][15]=M[l+"0"]}function mt(l){return l==bf||l==wf||l==Tc||l==_f}function Nr(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ve(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nr,this.f.kb=new Et,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function st(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ke(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function ut(l,h){var v=l.T,_=h.ba.f.RGBA,L=_.eb,C=_.fb+l.ka*_.A,I=Un[h.ba.S],O=l.y,B=l.O,V=l.f,ie=l.N,ve=l.ea,ye=l.W,he=h.cc,Pe=h.dc,_e=h.Mc,ae=h.Nc,de=l.ka,Ae=l.ka+l.T,Ee=l.U,Le=Ee+1>>1;for(de==0?I(O,B,null,null,V,ie,ve,ye,V,ie,ve,ye,L,C,null,null,Ee):(I(h.ec,h.fc,O,B,he,Pe,_e,ae,V,ie,ve,ye,L,C-_.A,L,C,Ee),++v);de+2<Ae;de+=2)he=V,Pe=ie,_e=ve,ae=ye,ie+=l.Rc,ye+=l.Rc,C+=2*_.A,I(O,(B+=2*l.fa)-l.fa,O,B,he,Pe,_e,ae,V,ie,ve,ye,L,C-_.A,L,C,Ee);return B+=l.fa,l.j+Ae<l.o?(n(h.ec,h.fc,O,B,Ee),n(h.cc,h.dc,V,ie,Le),n(h.Mc,h.Nc,ve,ye,Le),v--):1&Ae||I(O,B,null,null,V,ie,ve,ye,V,ie,ve,ye,L,C+_.A,null,null,Ee),v}function Sr(l,h,v){var _=l.F,L=[l.J];if(_!=null){var C=l.U,I=h.ba.S,O=I==Ic||I==Tc;h=h.ba.f.RGBA;var B=[0],V=l.ka;B[0]=l.T,l.Kb&&(V==0?--B[0]:(--V,L[0]-=l.width),l.j+l.ka+l.T==l.o&&(B[0]=l.o-l.j-V));var ie=h.eb;V=h.fb+V*h.A,l=zt(_,L[0],l.width,C,B,ie,V+(O?0:3),h.A),t(v==B),l&&mt(I)&&Dn(ie,V,O,C,B,h.A)}return 0}function Ft(l){var h=l.ma,v=h.ba.S,_=11>v,L=v==Ec||v==Cc||v==Ic||v==xf||v==12||mt(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!El(h.Oa,l,L?11:12))return 0;if(L&&mt(v)&&Ce(),l.da)alert("todo:use_scaling");else{if(_){if(h.Ib=Ke,l.Kb){if(v=l.U+1>>1,h.memory=i(l.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+l.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=ut,Ce()}}else alert("todo:EmitYUV");L&&(h.Jb=Sr,_&&pe())}if(_&&!_g){for(l=0;256>l;++l)yb[l]=89858*(l-128)+Oc>>Rc,wb[l]=-22014*(l-128)+Oc,bb[l]=-45773*(l-128),xb[l]=113618*(l-128)+Oc>>Rc;for(l=Bl;l<jf;++l)h=76283*(l-16)+Oc>>Rc,_b[l-Bl]=_n(h,255),Nb[l-Bl]=_n(h+8>>4,15);_g=1}return 1}function bn(l){var h=l.ma,v=l.U,_=l.T;return t(!(1&l.ka)),0>=v||0>=_?0:(v=h.Ib(l,h),h.Jb!=null&&h.Jb(l,h,v),h.Dc+=v,1)}function Tn(l){l.ma.memory=null}function rt(l,h,v,_){return $(l,8)!=47?0:(h[0]=$(l,14)+1,v[0]=$(l,14)+1,_[0]=$(l,1),$(l,3)!=0?0:!l.h)}function Kn(l,h){if(4>l)return l+1;var v=l-2>>1;return(2+(1&l)<<v)+$(h,v)+1}function xs(l,h){return 120<h?h-120:1<=(v=((v=sb[h-1])>>4)*l+(8-(15&v)))?v:1;var v}function sn(l,h,v){var _=q(v),L=l[h+=255&_].g-8;return 0<L&&(Z(v,v.u+8),_=q(v),h+=l[h].value,h+=_&(1<<L)-1),Z(v,v.u+l[h].g),l[h].value}function gr(l,h,v){return v.g+=l.g,v.value+=l.value<<h>>>0,t(8>=v.g),l.g}function dr(l,h,v){var _=l.xc;return t((h=_==0?0:l.vc[l.md*(v>>_)+(h>>_)])<l.Wb),l.Ya[h]}function wn(l,h,v,_){var L=l.ab,C=l.c*h,I=l.C;h=I+h;var O=v,B=_;for(_=l.Ta,v=l.Ua;0<L--;){var V=l.gc[L],ie=I,ve=h,ye=O,he=B,Pe=(B=_,O=v,V.Ea);switch(t(ie<ve),t(ve<=V.nc),V.hc){case 2:Nc(ye,he,(ve-ie)*Pe,B,O);break;case 0:var _e=ie,ae=ve,de=B,Ae=O,Ee=(qe=V).Ea;_e==0&&(vf(ye,he,null,null,1,de,Ae),at(ye,he+1,0,0,Ee-1,de,Ae+1),he+=Ee,Ae+=Ee,++_e);for(var Le=1<<qe.b,He=Le-1,ze=Be(Ee,qe.b),Ze=qe.K,qe=qe.w+(_e>>qe.b)*ze;_e<ae;){var At=Ze,Ct=qe,jt=1;for(Tl(ye,he,de,Ae-Ee,1,de,Ae);jt<Ee;){var Nt=(jt&~He)+Le;Nt>Ee&&(Nt=Ee),(0,hi[At[Ct++]>>8&15])(ye,he+ +jt,de,Ae+jt-Ee,Nt-jt,de,Ae+jt),jt=Nt}he+=Ee,Ae+=Ee,++_e&He||(qe+=ze)}ve!=V.nc&&n(B,O-Pe,B,O+(ve-ie-1)*Pe,Pe);break;case 1:for(Pe=ye,ae=he,Ee=(ye=V.Ea)-(Ae=ye&~(de=(he=1<<V.b)-1)),_e=Be(ye,V.b),Le=V.K,V=V.w+(ie>>V.b)*_e;ie<ve;){for(He=Le,ze=V,Ze=new Me,qe=ae+Ae,At=ae+ye;ae<qe;)Re(He[ze++],Ze),aa(Ze,Pe,ae,he,B,O),ae+=he,O+=he;ae<At&&(Re(He[ze++],Ze),aa(Ze,Pe,ae,Ee,B,O),ae+=Ee,O+=Ee),++ie&de||(V+=_e)}break;case 3:if(ye==B&&he==O&&0<V.b){for(ae=B,ye=Pe=O+(ve-ie)*Pe-(Ae=(ve-ie)*Be(V.Ea,V.b)),he=B,de=O,_e=[],Ae=(Ee=Ae)-1;0<=Ae;--Ae)_e[Ae]=he[de+Ae];for(Ae=Ee-1;0<=Ae;--Ae)ae[ye+Ae]=_e[Ae];On(V,ie,ve,B,Pe,B,O)}else On(V,ie,ve,ye,he,B,O)}O=_,B=v}B!=v&&n(_,v,O,B,C)}function Da(l,h){var v=l.V,_=l.Ba+l.c*l.C,L=h-l.C;if(t(h<=l.l.o),t(16>=L),0<L){var C=l.l,I=l.Ta,O=l.Ua,B=C.width;if(wn(l,L,v,_),L=O=[O],t((v=l.C)<(_=h)),t(C.v<C.va),_>C.o&&(_=C.o),v<C.j){var V=C.j-v;v=C.j,L[0]+=V*B}if(v>=_?v=0:(L[0]+=4*C.v,C.ka=v-C.j,C.U=C.va-C.v,C.T=_-v,v=1),v){if(O=O[0],11>(v=l.ca).S){var ie=v.f.RGBA,ve=(_=v.S,L=C.U,C=C.T,V=ie.eb,ie.A),ye=C;for(ie=ie.fb+l.Ma*ie.A;0<ye--;){var he=I,Pe=O,_e=L,ae=V,de=ie;switch(_){case Pc:ln(he,Pe,_e,ae,de);break;case Ec:Kr(he,Pe,_e,ae,de);break;case bf:Kr(he,Pe,_e,ae,de),Dn(ae,de,0,_e,1,0);break;case fg:qs(he,Pe,_e,ae,de);break;case Cc:xt(he,Pe,_e,ae,de,1);break;case wf:xt(he,Pe,_e,ae,de,1),Dn(ae,de,0,_e,1,0);break;case Ic:xt(he,Pe,_e,ae,de,0);break;case Tc:xt(he,Pe,_e,ae,de,0),Dn(ae,de,1,_e,1,0);break;case xf:fi(he,Pe,_e,ae,de);break;case _f:fi(he,Pe,_e,ae,de),Ut(ae,de,_e,1,0);break;case pg:zs(he,Pe,_e,ae,de);break;default:t(0)}O+=B,ie+=ve}l.Ma+=C}else alert("todo:EmitRescaledRowsYUVA");t(l.Ma<=v.height)}}l.C=h,t(l.C<=l.i)}function Ds(l){var h;if(0<l.ua)return 0;for(h=0;h<l.Wb;++h){var v=l.Ya[h].G,_=l.Ya[h].H;if(0<v[1][_[1]+0].g||0<v[2][_[2]+0].g||0<v[3][_[3]+0].g)return 0}return 1}function Yn(l,h,v,_,L,C){if(l.Z!=0){var I=l.qd,O=l.rd;for(t(vi[l.Z]!=null);h<v;++h)vi[l.Z](I,O,_,L,_,L,C),I=_,O=L,L+=C;l.qd=I,l.rd=O}}function Xn(l,h){var v=l.l.ma,_=v.Z==0||v.Z==1?l.l.j:l.C;if(_=l.C<_?_:l.C,t(h<=l.l.o),h>_){var L=l.l.width,C=v.ca,I=v.tb+L*_,O=l.V,B=l.Ba+l.c*_,V=l.gc;t(l.ab==1),t(V[0].hc==3),Sc(V[0],_,h,O,B,C,I),Yn(v,_,h,C,I,L)}l.C=l.Ma=h}function Qn(l,h,v,_,L,C,I){var O=l.$/_,B=l.$%_,V=l.m,ie=l.s,ve=v+l.$,ye=ve;L=v+_*L;var he=v+_*C,Pe=280+ie.ua,_e=l.Pb?O:16777216,ae=0<ie.ua?ie.Wa:null,de=ie.wc,Ae=ve<he?dr(ie,B,O):null;t(l.C<C),t(he<=L);var Ee=!1;e:for(;;){for(;Ee||ve<he;){var Le=0;if(O>=_e){var He=ve-v;t((_e=l).Pb),_e.wd=_e.m,_e.xd=He,0<_e.s.ua&&ge(_e.s.Wa,_e.s.vb),_e=O+ab}if(B&de||(Ae=dr(ie,B,O)),t(Ae!=null),Ae.Qb&&(h[ve]=Ae.qb,Ee=!0),!Ee)if(se(V),Ae.jc){Le=V,He=h;var ze=ve,Ze=Ae.pd[q(Le)&Cr-1];t(Ae.jc),256>Ze.g?(Z(Le,Le.u+Ze.g),He[ze]=Ze.value,Le=0):(Z(Le,Le.u+Ze.g-256),t(256<=Ze.value),Le=Ze.value),Le==0&&(Ee=!0)}else Le=sn(Ae.G[0],Ae.H[0],V);if(V.h)break;if(Ee||256>Le){if(!Ee)if(Ae.nd)h[ve]=(Ae.qb|Le<<8)>>>0;else{if(se(V),Ee=sn(Ae.G[1],Ae.H[1],V),se(V),He=sn(Ae.G[2],Ae.H[2],V),ze=sn(Ae.G[3],Ae.H[3],V),V.h)break;h[ve]=(ze<<24|Ee<<16|Le<<8|He)>>>0}if(Ee=!1,++ve,++B>=_&&(B=0,++O,I!=null&&O<=C&&!(O%16)&&I(l,O),ae!=null))for(;ye<ve;)Le=h[ye++],ae.X[(506832829*Le&4294967295)>>>ae.Mb]=Le}else if(280>Le){if(Le=Kn(Le-256,V),He=sn(Ae.G[4],Ae.H[4],V),se(V),He=xs(_,He=Kn(He,V)),V.h)break;if(ve-v<He||L-ve<Le)break e;for(ze=0;ze<Le;++ze)h[ve+ze]=h[ve+ze-He];for(ve+=Le,B+=Le;B>=_;)B-=_,++O,I!=null&&O<=C&&!(O%16)&&I(l,O);if(t(ve<=L),B&de&&(Ae=dr(ie,B,O)),ae!=null)for(;ye<ve;)Le=h[ye++],ae.X[(506832829*Le&4294967295)>>>ae.Mb]=Le}else{if(!(Le<Pe))break e;for(Ee=Le-280,t(ae!=null);ye<ve;)Le=h[ye++],ae.X[(506832829*Le&4294967295)>>>ae.Mb]=Le;Le=ve,t(!(Ee>>>(He=ae).Xa)),h[Le]=He.X[Ee],Ee=!0}Ee||t(V.h==W(V))}if(l.Pb&&V.h&&ve<L)t(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&ge(l.s.vb,l.s.Wa);else{if(V.h)break e;I!=null&&I(l,O>C?C:O),l.a=0,l.$=ve-v}return 1}return l.a=3,0}function bs(l){t(l!=null),l.vc=null,l.yc=null,l.Ya=null;var h=l.Wa;h!=null&&(h.X=null),l.vb=null,t(l!=null)}function Rn(){var l=new gf;return l==null?null:(l.a=0,l.xb=vg,Bt("Predictor","VP8LPredictors"),Bt("Predictor","VP8LPredictors_C"),Bt("PredictorAdd","VP8LPredictorsAdd"),Bt("PredictorAdd","VP8LPredictorsAdd_C"),Nc=xe,aa=Te,ln=we,Kr=Pt,fi=ht,zs=_r,qs=ft,M.VP8LMapColor32b=so,M.VP8LMapColor8b=jc,l)}function ws(l,h,v,_,L){var C=1,I=[l],O=[h],B=_.m,V=_.s,ie=null,ve=0;e:for(;;){if(v)for(;C&&$(B,1);){var ye=I,he=O,Pe=_,_e=1,ae=Pe.m,de=Pe.gc[Pe.ab],Ae=$(ae,2);if(Pe.Oc&1<<Ae)C=0;else{switch(Pe.Oc|=1<<Ae,de.hc=Ae,de.Ea=ye[0],de.nc=he[0],de.K=[null],++Pe.ab,t(4>=Pe.ab),Ae){case 0:case 1:de.b=$(ae,3)+2,_e=ws(Be(de.Ea,de.b),Be(de.nc,de.b),0,Pe,de.K),de.K=de.K[0];break;case 3:var Ee,Le=$(ae,8)+1,He=16<Le?0:4<Le?1:2<Le?2:3;if(ye[0]=Be(de.Ea,He),de.b=He,Ee=_e=ws(Le,1,0,Pe,de.K)){var ze,Ze=Le,qe=de,At=1<<(8>>qe.b),Ct=i(At);if(Ct==null)Ee=0;else{var jt=qe.K[0],Nt=qe.w;for(Ct[0]=qe.K[0][0],ze=1;ze<1*Ze;++ze)Ct[ze]=Ne(jt[Nt+ze],Ct[ze-1]);for(;ze<4*At;++ze)Ct[ze]=0;qe.K[0]=null,qe.K[0]=Ct,Ee=1}}_e=Ee;break;case 2:break;default:t(0)}C=_e}}if(I=I[0],O=O[0],C&&$(B,1)&&!(C=1<=(ve=$(B,4))&&11>=ve)){_.a=3;break e}var Mt;if(Mt=C)t:{var Ot,gt,fr,un=_,pr=I,cn=O,It=ve,Sn=v,jn=un.m,kr=un.s,Ir=[null],Xr=1,zn=0,js=ib[It];r:for(;;){if(Sn&&$(jn,1)){var Ar=$(jn,3)+2,Hs=Be(pr,Ar),da=Be(cn,Ar),uo=Hs*da;if(!ws(Hs,da,0,un,Ir))break r;for(Ir=Ir[0],kr.xc=Ar,Ot=0;Ot<uo;++Ot){var yi=Ir[Ot]>>8&65535;Ir[Ot]=yi,yi>=Xr&&(Xr=yi+1)}}if(jn.h)break r;for(gt=0;5>gt;++gt){var er=mg[gt];!gt&&0<It&&(er+=1<<It),zn<er&&(zn=er)}var kf=a(Xr*js,R),jg=Xr,kg=a(jg,U);if(kg==null)var Mc=null;else t(65536>=jg),Mc=kg;var Ul=i(zn);if(Mc==null||Ul==null||kf==null){un.a=1;break r}var Dc=kf;for(Ot=fr=0;Ot<Xr;++Ot){var ns=Mc[Ot],co=ns.G,ho=ns.H,Ag=0,Bc=1,Lg=0;for(gt=0;5>gt;++gt){er=mg[gt],co[gt]=Dc,ho[gt]=fr,!gt&&0<It&&(er+=1<<It);s:{var Uc,Af=er,zc=un,zl=Ul,kb=Dc,Ab=fr,Lf=0,xi=zc.m,Lb=$(xi,1);if(s(zl,0,0,Af),Lb){var Pb=$(xi,1)+1,Eb=$(xi,1),Pg=$(xi,Eb==0?1:8);zl[Pg]=1,Pb==2&&(zl[Pg=$(xi,8)]=1);var qc=1}else{var Eg=i(19),Cg=$(xi,4)+4;if(19<Cg){zc.a=3;var $c=0;break s}for(Uc=0;Uc<Cg;++Uc)Eg[nb[Uc]]=$(xi,3);var Pf=void 0,ql=void 0,Ig=zc,Cb=Eg,Vc=Af,Tg=zl,Ef=0,bi=Ig.m,Rg=8,Og=a(128,R);n:for(;E(Og,0,7,Cb,19);){if($(bi,1)){var Ib=2+2*$(bi,3);if((Pf=2+$(bi,Ib))>Vc)break n}else Pf=Vc;for(ql=0;ql<Vc&&Pf--;){se(bi);var Fg=Og[0+(127&q(bi))];Z(bi,bi.u+Fg.g);var fo=Fg.value;if(16>fo)Tg[ql++]=fo,fo!=0&&(Rg=fo);else{var Tb=fo==16,Mg=fo-16,Rb=tb[Mg],Dg=$(bi,eb[Mg])+Rb;if(ql+Dg>Vc)break n;for(var Ob=Tb?Rg:0;0<Dg--;)Tg[ql++]=Ob}}Ef=1;break n}Ef||(Ig.a=3),qc=Ef}(qc=qc&&!xi.h)&&(Lf=E(kb,Ab,8,zl,Af)),qc&&Lf!=0?$c=Lf:(zc.a=3,$c=0)}if($c==0)break r;if(Bc&&rb[gt]==1&&(Bc=Dc[fr].g==0),Ag+=Dc[fr].g,fr+=$c,3>=gt){var $l,Cf=Ul[0];for($l=1;$l<er;++$l)Ul[$l]>Cf&&(Cf=Ul[$l]);Lg+=Cf}}if(ns.nd=Bc,ns.Qb=0,Bc&&(ns.qb=(co[3][ho[3]+0].value<<24|co[1][ho[1]+0].value<<16|co[2][ho[2]+0].value)>>>0,Ag==0&&256>co[0][ho[0]+0].value&&(ns.Qb=1,ns.qb+=co[0][ho[0]+0].value<<8)),ns.jc=!ns.Qb&&6>Lg,ns.jc){var Wc,Gs=ns;for(Wc=0;Wc<Cr;++Wc){var wi=Wc,_i=Gs.pd[wi],Hc=Gs.G[0][Gs.H[0]+wi];256<=Hc.value?(_i.g=Hc.g+256,_i.value=Hc.value):(_i.g=0,_i.value=0,wi>>=gr(Hc,8,_i),wi>>=gr(Gs.G[1][Gs.H[1]+wi],16,_i),wi>>=gr(Gs.G[2][Gs.H[2]+wi],0,_i),gr(Gs.G[3][Gs.H[3]+wi],24,_i))}}}kr.vc=Ir,kr.Wb=Xr,kr.Ya=Mc,kr.yc=kf,Mt=1;break t}Mt=0}if(!(C=Mt)){_.a=3;break e}if(0<ve){if(V.ua=1<<ve,!Fe(V.Wa,ve)){_.a=1,C=0;break e}}else V.ua=0;var If=_,Bg=I,Fb=O,Tf=If.s,Rf=Tf.xc;if(If.c=Bg,If.i=Fb,Tf.md=Be(Bg,Rf),Tf.wc=Rf==0?-1:(1<<Rf)-1,v){_.xb=fb;break e}if((ie=i(I*O))==null){_.a=1,C=0;break e}C=(C=Qn(_,ie,0,I,O,O,null))&&!B.h;break e}return C?(L!=null?L[0]=ie:(t(ie==null),t(v)),_.$=0,v||bs(V)):bs(V),C}function ta(l,h){var v=l.c*l.i,_=v+h+16*h;return t(l.c<=h),l.V=i(_),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+v+h,1)}function Ba(l,h){var v=l.C,_=h-v,L=l.V,C=l.Ba+l.c*v;for(t(h<=l.l.o);0<_;){var I=16<_?16:_,O=l.l.ma,B=l.l.width,V=B*I,ie=O.ca,ve=O.tb+B*v,ye=l.Ta,he=l.Ua;wn(l,I,L,C),ir(ye,he,ie,ve,V),Yn(O,v,v+I,ie,ve,B),_-=I,L+=I*l.c,v+=I}t(v==h),l.C=l.Ma=h}function Ua(){this.ub=this.yd=this.td=this.Rb=0}function za(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function qa(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function nc(){this.Yb=function(){var l=[];return function h(v,_,L){for(var C=L[_],I=0;I<C&&(v.push(L.length>_+1?[]:0),!(L.length<_+1));I++)h(v[I],_+1,L)}(l,0,[3,11]),l}()}function Hh(){this.jb=i(3),this.Wc=o([4,8],nc),this.Xc=o([4,17],nc)}function Gh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function $a(){this.ld=this.La=this.dd=this.tc=0}function sc(){this.Na=this.la=0}function Jh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kh(){this.uc=this.M=this.Nb=0,this.wa=Array(new $a),this.Y=0,this.ya=Array(new pl),this.aa=0,this.l=new Va}function ic(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Yh(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new Ua,this.Kc=new za,this.ed=new Gh,this.Qa=new qa,this.Ic=this.$c=this.Aa=0,this.D=new Kh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ce),this.ia=0,this.pb=a(4,Jh),this.Pa=new Hh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ic),this.Hd=0,this.rb=Array(new sc),this.sb=0,this.wa=Array(new $a),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pl),this.L=this.aa=0,this.gd=o([4,2],$a),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xh(){var l=new Yh;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,Dl||(Dl=lc)),l}function nr(l,h,v){return l.a==0&&(l.a=h,l.sc=v,l.cb=0),0}function ac(l,h,v){return 3<=v&&l[h+0]==157&&l[h+1]==1&&l[h+2]==42}function oc(l,h){if(l==null)return 0;if(l.a=0,l.sc="OK",h==null)return nr(l,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,_=h.w,L=h.ha;if(4>L)return nr(l,7,"Truncated header.");var C=v[_+0]|v[_+1]<<8|v[_+2]<<16,I=l.Od;if(I.Rb=!(1&C),I.td=C>>1&7,I.yd=C>>4&1,I.ub=C>>5,3<I.td)return nr(l,3,"Incorrect keyframe parameters.");if(!I.yd)return nr(l,4,"Frame not displayable.");_+=3,L-=3;var O=l.Kc;if(I.Rb){if(7>L)return nr(l,7,"cannot parse picture header");if(!ac(v,_,L))return nr(l,3,"Bad code word");O.c=16383&(v[_+4]<<8|v[_+3]),O.Td=v[_+4]>>6,O.i=16383&(v[_+6]<<8|v[_+5]),O.Ud=v[_+6]>>6,_+=7,L-=7,l.za=O.c+15>>4,l.Ub=O.i+15>>4,h.width=O.c,h.height=O.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((C=l.Pa).jb,0,255,C.jb.length),t((C=l.Qa)!=null),C.Cb=0,C.Bb=0,C.Fb=1,s(C.Zb,0,0,C.Zb.length),s(C.Lb,0,0,C.Lb)}if(I.ub>L)return nr(l,7,"bad partition length");le(C=l.m,v,_,I.ub),_+=I.ub,L-=I.ub,I.Rb&&(O.Ld=ee(C),O.Kd=ee(C)),O=l.Qa;var B,V=l.Pa;if(t(C!=null),t(O!=null),O.Cb=ee(C),O.Cb){if(O.Bb=ee(C),ee(C)){for(O.Fb=ee(C),B=0;4>B;++B)O.Zb[B]=ee(C)?fe(C,7):0;for(B=0;4>B;++B)O.Lb[B]=ee(C)?fe(C,6):0}if(O.Bb)for(B=0;3>B;++B)V.jb[B]=ee(C)?re(C,8):255}else O.Bb=0;if(C.Ka)return nr(l,3,"cannot parse segment header");if((O=l.ed).zd=ee(C),O.Tb=re(C,6),O.wb=re(C,3),O.Pc=ee(C),O.Pc&&ee(C)){for(V=0;4>V;++V)ee(C)&&(O.vd[V]=fe(C,6));for(V=0;4>V;++V)ee(C)&&(O.od[V]=fe(C,6))}if(l.L=O.Tb==0?0:O.zd?1:2,C.Ka)return nr(l,3,"cannot parse filter header");var ie=L;if(L=B=_,_=B+ie,O=ie,l.Xb=(1<<re(l.m,2))-1,ie<3*(V=l.Xb))v=7;else{for(B+=3*V,O-=3*V,ie=0;ie<V;++ie){var ve=v[L+0]|v[L+1]<<8|v[L+2]<<16;ve>O&&(ve=O),le(l.Jc[+ie],v,B,ve),B+=ve,O-=ve,L+=3}le(l.Jc[+V],v,B,O),v=B<_?0:5}if(v!=0)return nr(l,v,"cannot parse partitions");for(v=re(B=l.m,7),L=ee(B)?fe(B,4):0,_=ee(B)?fe(B,4):0,O=ee(B)?fe(B,4):0,V=ee(B)?fe(B,4):0,B=ee(B)?fe(B,4):0,ie=l.Qa,ve=0;4>ve;++ve){if(ie.Cb){var ye=ie.Zb[ve];ie.Fb||(ye+=v)}else{if(0<ve){l.pb[ve]=l.pb[0];continue}ye=v}var he=l.pb[ve];he.Sc[0]=Nf[_n(ye+L,127)],he.Sc[1]=Sf[_n(ye+0,127)],he.Eb[0]=2*Nf[_n(ye+_,127)],he.Eb[1]=101581*Sf[_n(ye+O,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Nf[_n(ye+V,117)],he.Qc[1]=Sf[_n(ye+B,127)],he.lc=ye+B}if(!I.Rb)return nr(l,4,"Not a key frame.");for(ee(C),I=l.Pa,v=0;4>v;++v){for(L=0;8>L;++L)for(_=0;3>_;++_)for(O=0;11>O;++O)V=ue(C,db[v][L][_][O])?re(C,8):ub[v][L][_][O],I.Wc[v][L].Yb[_][O]=V;for(L=0;17>L;++L)I.Xc[v][L]=I.Wc[v][hb[L]]}return l.kc=ee(C),l.kc&&(l.Bd=re(C,8)),l.cb=1}function lc(l,h,v,_,L,C,I){var O=h[L].Yb[v];for(v=0;16>L;++L){if(!ue(l,O[v+0]))return L;for(;!ue(l,O[v+1]);)if(O=h[++L].Yb[0],v=0,L==16)return 16;var B=h[L+1].Yb;if(ue(l,O[v+2])){var V=l,ie=0;if(ue(V,(ye=O)[(ve=v)+3]))if(ue(V,ye[ve+6])){for(O=0,ve=2*(ie=ue(V,ye[ve+8]))+(ye=ue(V,ye[ve+9+ie])),ie=0,ye=ob[ve];ye[O];++O)ie+=ie+ue(V,ye[O]);ie+=3+(8<<ve)}else ue(V,ye[ve+7])?(ie=7+2*ue(V,165),ie+=ue(V,145)):ie=5+ue(V,159);else ie=ue(V,ye[ve+4])?3+ue(V,ye[ve+5]):2;O=B[2]}else ie=1,O=B[1];B=I+lb[L],0>(V=l).b&&X(V);var ve,ye=V.b,he=(ve=V.Ca>>1)-(V.I>>ye)>>31;--V.b,V.Ca+=he,V.Ca|=1,V.I-=(ve+1&he)<<ye,C[B]=((ie^he)-he)*_[(0<L)+0]}return 16}function ml(l){var h=l.rb[l.sb-1];h.la=0,h.Na=0,s(l.zc,0,0,l.zc.length),l.ja=0}function Qh(l,h){if(l==null)return 0;if(h==null)return nr(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!oc(l,h))return 0;if(t(l.cb),h.ac==null||h.ac(h)){h.ob&&(l.L=0);var v=Fc[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=h.v-v>>4,l.zb=h.j-v>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=h.o+15+v>>4,l.Hb=h.va+15+v>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var _=l.ed;for(v=0;4>v;++v){var L;if(l.Qa.Cb){var C=l.Qa.Lb[v];l.Qa.Fb||(C+=_.Tb)}else C=_.Tb;for(L=0;1>=L;++L){var I=l.gd[v][L],O=C;if(_.Pc&&(O+=_.vd[0],L&&(O+=_.od[0])),0<(O=0>O?0:63<O?63:O)){var B=O;0<_.wb&&(B=4<_.wb?B>>2:B>>1)>9-_.wb&&(B=9-_.wb),1>B&&(B=1),I.dd=B,I.tc=2*O+B,I.ld=40<=O?2:15<=O?1:0}else I.tc=0;I.La=L}}}v=0}else nr(l,6,"Frame setup failed"),v=l.a;if(v=v==0){if(v){l.$c=0,0<l.Aa||(l.Ic=jb);e:{v=l.Ic,_=4*(B=l.za);var V=32*B,ie=B+1,ve=0<l.L?B*(0<l.Aa?2:1):0,ye=(l.Aa==2?2:1)*B;if((I=_+832+(L=3*(16*v+Fc[l.L])/2*V)+(C=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=I)v=0;else{if(I>l.Vb){if(l.Vb=0,l.Ec=i(I),l.Fc=0,l.Ec==null){v=nr(l,1,"no memory during frame initialization.");break e}l.Vb=I}I=l.Ec,O=l.Fc,l.Ac=I,l.Bc=O,O+=_,l.Gd=a(V,ic),l.Hd=0,l.rb=a(ie+1,sc),l.sb=1,l.wa=ve?a(ve,$a):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=B),t(!0),l.oc=I,l.pc=O,O+=832,l.ya=a(ye,pl),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=B),l.R=16*B,l.B=8*B,B=(V=Fc[l.L])*l.R,V=V/2*l.B,l.sa=I,l.ta=O+B,l.qa=l.sa,l.ra=l.ta+16*v*l.R+V,l.Ha=l.qa,l.Ia=l.ra+8*v*l.B+V,l.$c=0,O+=L,l.mb=C?I:null,l.nb=C?O:null,t(O+C<=l.Fc+l.Vb),ml(l),s(l.Ac,l.Bc,0,_),v=1}}if(v){if(h.ka=0,h.y=l.sa,h.O=l.ta,h.f=l.qa,h.N=l.ra,h.ea=l.Ha,h.Vd=l.Ia,h.fa=l.R,h.Rc=l.B,h.F=null,h.J=0,!Ac){for(v=-255;255>=v;++v)vr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Vs[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Ml[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)lo[255+v]=0>v?0:255<v?255:v;Ac=1}io=tf,$s=Zh,Rl=cc,Yr=ef,Fn=dc,sr=uc,ao=wl,kc=sa,Ol=mf,oa=_l,la=pf,pi=Ya,ua=Nl,oo=bc,ca=xc,mi=Ns,Fl=Us,Mn=ff,rs[0]=_s,rs[1]=rf,rs[2]=of,rs[3]=lf,rs[4]=pc,rs[5]=Ja,rs[6]=mc,rs[7]=yl,rs[8]=cf,rs[9]=uf,gi[0]=hc,gi[1]=sf,gi[2]=Bs,gi[3]=Ha,gi[4]=Mr,gi[5]=af,gi[6]=fc,Ws[0]=ui,Ws[1]=nf,Ws[2]=df,Ws[3]=xl,Ws[4]=na,Ws[5]=hf,Ws[6]=bl,v=1}else v=0}v&&(v=function(he,Pe){for(he.M=0;he.M<he.Va;++he.M){var _e,ae=he.Jc[he.M&he.Xb],de=he.m,Ae=he;for(_e=0;_e<Ae.za;++_e){var Ee=de,Le=Ae,He=Le.Ac,ze=Le.Bc+4*_e,Ze=Le.zc,qe=Le.ya[Le.aa+_e];if(Le.Qa.Bb?qe.$b=ue(Ee,Le.Pa.jb[0])?2+ue(Ee,Le.Pa.jb[2]):ue(Ee,Le.Pa.jb[1]):qe.$b=0,Le.kc&&(qe.Ad=ue(Ee,Le.Bd)),qe.Za=!ue(Ee,145)+0,qe.Za){var At=qe.Ob,Ct=0;for(Le=0;4>Le;++Le){var jt,Nt=Ze[0+Le];for(jt=0;4>jt;++jt){Nt=cb[He[ze+jt]][Nt];for(var Mt=gg[ue(Ee,Nt[0])];0<Mt;)Mt=gg[2*Mt+ue(Ee,Nt[Mt])];Nt=-Mt,He[ze+jt]=Nt}n(At,Ct,He,ze,4),Ct+=4,Ze[0+Le]=Nt}}else Nt=ue(Ee,156)?ue(Ee,128)?1:3:ue(Ee,163)?2:0,qe.Ob[0]=Nt,s(He,ze,Nt,4),s(Ze,0,Nt,4);qe.Dd=ue(Ee,142)?ue(Ee,114)?ue(Ee,183)?1:3:2:0}if(Ae.m.Ka)return nr(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(Ae=ae,Ee=(de=he).rb[de.sb-1],He=de.rb[de.sb+de.ja],_e=de.ya[de.aa+de.ja],ze=de.kc?_e.Ad:0)Ee.la=He.la=0,_e.Za||(Ee.Na=He.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Ot,gt;if(Ee=He,He=Ae,ze=de.Pa.Xc,Ze=de.ya[de.aa+de.ja],qe=de.pb[Ze.$b],Le=Ze.ad,At=0,Ct=de.rb[de.sb-1],Nt=jt=0,s(Le,At,0,384),Ze.Za)var fr=0,un=ze[3];else{Mt=i(16);var pr=Ee.Na+Ct.Na;if(pr=Dl(He,ze[1],pr,qe.Eb,0,Mt,0),Ee.Na=Ct.Na=(0<pr)+0,1<pr)io(Mt,0,Le,At);else{var cn=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)Le[At+Mt]=cn}fr=1,un=ze[0]}var It=15&Ee.la,Sn=15&Ct.la;for(Mt=0;4>Mt;++Mt){var jn=1&Sn;for(cn=gt=0;4>cn;++cn)It=It>>1|(jn=(pr=Dl(He,un,pr=jn+(1&It),qe.Sc,fr,Le,At))>fr)<<7,gt=gt<<2|(3<pr?3:1<pr?2:Le[At+0]!=0),At+=16;It>>=4,Sn=Sn>>1|jn<<7,jt=(jt<<8|gt)>>>0}for(un=It,fr=Sn>>4,Ot=0;4>Ot;Ot+=2){for(gt=0,It=Ee.la>>4+Ot,Sn=Ct.la>>4+Ot,Mt=0;2>Mt;++Mt){for(jn=1&Sn,cn=0;2>cn;++cn)pr=jn+(1&It),It=It>>1|(jn=0<(pr=Dl(He,ze[2],pr,qe.Qc,0,Le,At)))<<3,gt=gt<<2|(3<pr?3:1<pr?2:Le[At+0]!=0),At+=16;It>>=2,Sn=Sn>>1|jn<<5}Nt|=gt<<4*Ot,un|=It<<4<<Ot,fr|=(240&Sn)<<Ot}Ee.la=un,Ct.la=fr,Ze.Hc=jt,Ze.Gc=Nt,Ze.ia=43690&Nt?0:qe.ia,ze=!(jt|Nt)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[_e.$b][_e.Za],de.wa[de.Y+de.ja].La|=!ze),Ae.Ka)return nr(he,7,"Premature end-of-file encountered.")}if(ml(he),de=Pe,Ae=1,_e=(ae=he).D,Ee=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(_e.M=ae.M,_e.uc=Ee,Pl(ae,_e),Ae=1,_e=(gt=ae.D).Nb,Ee=(Nt=Fc[ae.L])*ae.R,He=Nt/2*ae.B,Mt=16*_e*ae.R,cn=8*_e*ae.B,ze=ae.sa,Ze=ae.ta-Ee+Mt,qe=ae.qa,Le=ae.ra-He+cn,At=ae.Ha,Ct=ae.Ia-He+cn,Sn=(It=gt.M)==0,jt=It>=ae.Va-1,ae.Aa==2&&Pl(ae,gt),gt.uc)for(jn=(pr=ae).D.M,t(pr.D.uc),gt=pr.yb;gt<pr.Hb;++gt){fr=gt,un=jn;var kr=(Ir=(er=pr).D).Nb;Ot=er.R;var Ir=Ir.wa[Ir.Y+fr],Xr=er.sa,zn=er.ta+16*kr*Ot+16*fr,js=Ir.dd,Ar=Ir.tc;if(Ar!=0)if(t(3<=Ar),er.L==1)0<fr&&mi(Xr,zn,Ot,Ar+4),Ir.La&&Mn(Xr,zn,Ot,Ar),0<un&&ca(Xr,zn,Ot,Ar+4),Ir.La&&Fl(Xr,zn,Ot,Ar);else{var Hs=er.B,da=er.qa,uo=er.ra+8*kr*Hs+8*fr,yi=er.Ha,er=er.Ia+8*kr*Hs+8*fr;kr=Ir.ld,0<fr&&(kc(Xr,zn,Ot,Ar+4,js,kr),oa(da,uo,yi,er,Hs,Ar+4,js,kr)),Ir.La&&(pi(Xr,zn,Ot,Ar,js,kr),oo(da,uo,yi,er,Hs,Ar,js,kr)),0<un&&(ao(Xr,zn,Ot,Ar+4,js,kr),Ol(da,uo,yi,er,Hs,Ar+4,js,kr)),Ir.La&&(la(Xr,zn,Ot,Ar,js,kr),ua(da,uo,yi,er,Hs,Ar,js,kr))}}if(ae.ia&&alert("todo:DitherRow"),de.put!=null){if(gt=16*It,It=16*(It+1),Sn?(de.y=ae.sa,de.O=ae.ta+Mt,de.f=ae.qa,de.N=ae.ra+cn,de.ea=ae.Ha,de.W=ae.Ia+cn):(gt-=Nt,de.y=ze,de.O=Ze,de.f=qe,de.N=Le,de.ea=At,de.W=Ct),jt||(It-=Nt),It>de.o&&(It=de.o),de.F=null,de.J=null,ae.Fa!=null&&0<ae.Fa.length&&gt<It&&(de.J=Al(ae,de,gt,It-gt),de.F=ae.mb,de.F==null&&de.F.length==0)){Ae=nr(ae,3,"Could not decode alpha data.");break e}gt<de.j&&(Nt=de.j-gt,gt=de.j,t(!(1&Nt)),de.O+=ae.R*Nt,de.N+=ae.B*(Nt>>1),de.W+=ae.B*(Nt>>1),de.F!=null&&(de.J+=de.width*Nt)),gt<It&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=gt-de.j,de.U=de.va-de.v,de.T=It-gt,Ae=de.put(de))}_e+1!=ae.Ic||jt||(n(ae.sa,ae.ta-Ee,ze,Ze+16*ae.R,Ee),n(ae.qa,ae.ra-He,qe,Le+8*ae.B,He),n(ae.Ha,ae.Ia-He,At,Ct+8*ae.B,He))}if(!Ae)return nr(he,6,"Output aborted.")}return 1}(l,h)),h.bc!=null&&h.bc(h),v&=1}return v?(l.cb=0,v):0}function Zn(l,h,v,_,L){L=l[h+v+32*_]+(L>>3),l[h+v+32*_]=-256&L?0>L?0:255:L}function Wa(l,h,v,_,L,C){Zn(l,h,0,v,_+L),Zn(l,h,1,v,_+C),Zn(l,h,2,v,_-C),Zn(l,h,3,v,_-L)}function an(l){return(20091*l>>16)+l}function gl(l,h,v,_){var L,C=0,I=i(16);for(L=0;4>L;++L){var O=l[h+0]+l[h+8],B=l[h+0]-l[h+8],V=(35468*l[h+4]>>16)-an(l[h+12]),ie=an(l[h+4])+(35468*l[h+12]>>16);I[C+0]=O+ie,I[C+1]=B+V,I[C+2]=B-V,I[C+3]=O-ie,C+=4,h++}for(L=C=0;4>L;++L)O=(l=I[C+0]+4)+I[C+8],B=l-I[C+8],V=(35468*I[C+4]>>16)-an(I[C+12]),Zn(v,_,0,0,O+(ie=an(I[C+4])+(35468*I[C+12]>>16))),Zn(v,_,1,0,B+V),Zn(v,_,2,0,B-V),Zn(v,_,3,0,O-ie),C++,_+=32}function uc(l,h,v,_){var L=l[h+0]+4,C=35468*l[h+4]>>16,I=an(l[h+4]),O=35468*l[h+1]>>16;Wa(v,_,0,L+I,l=an(l[h+1]),O),Wa(v,_,1,L+C,l,O),Wa(v,_,2,L-C,l,O),Wa(v,_,3,L-I,l,O)}function Zh(l,h,v,_,L){gl(l,h,v,_),L&&gl(l,h+16,v,_+4)}function cc(l,h,v,_){$s(l,h+0,v,_,1),$s(l,h+32,v,_+128,1)}function ef(l,h,v,_){var L;for(l=l[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)Zn(v,_,h,L,l)}function dc(l,h,v,_){l[h+0]&&Yr(l,h+0,v,_),l[h+16]&&Yr(l,h+16,v,_+4),l[h+32]&&Yr(l,h+32,v,_+128),l[h+48]&&Yr(l,h+48,v,_+128+4)}function tf(l,h,v,_){var L,C=i(16);for(L=0;4>L;++L){var I=l[h+0+L]+l[h+12+L],O=l[h+4+L]+l[h+8+L],B=l[h+4+L]-l[h+8+L],V=l[h+0+L]-l[h+12+L];C[0+L]=I+O,C[8+L]=I-O,C[4+L]=V+B,C[12+L]=V-B}for(L=0;4>L;++L)I=(l=C[0+4*L]+3)+C[3+4*L],O=C[1+4*L]+C[2+4*L],B=C[1+4*L]-C[2+4*L],V=l-C[3+4*L],v[_+0]=I+O>>3,v[_+16]=V+B>>3,v[_+32]=I-O>>3,v[_+48]=V-B>>3,_+=64}function vl(l,h,v){var _,L=h-32,C=Nn,I=255-l[L-1];for(_=0;_<v;++_){var O,B=C,V=I+l[h-1];for(O=0;O<v;++O)l[h+O]=B[V+l[L+O]];h+=32}}function rf(l,h){vl(l,h,4)}function nf(l,h){vl(l,h,8)}function sf(l,h){vl(l,h,16)}function Bs(l,h){var v;for(v=0;16>v;++v)n(l,h+32*v,l,h-32,16)}function Ha(l,h){var v;for(v=16;0<v;--v)s(l,h,l[h-1],16),h+=32}function Ga(l,h,v){var _;for(_=0;16>_;++_)s(h,v+32*_,l,16)}function hc(l,h){var v,_=16;for(v=0;16>v;++v)_+=l[h-1+32*v]+l[h+v-32];Ga(_>>5,l,h)}function Mr(l,h){var v,_=8;for(v=0;16>v;++v)_+=l[h-1+32*v];Ga(_>>4,l,h)}function af(l,h){var v,_=8;for(v=0;16>v;++v)_+=l[h+v-32];Ga(_>>4,l,h)}function fc(l,h){Ga(128,l,h)}function lt(l,h,v){return l+2*h+v+2>>2}function of(l,h){var v,_=h-32;for(_=new Uint8Array([lt(l[_-1],l[_+0],l[_+1]),lt(l[_+0],l[_+1],l[_+2]),lt(l[_+1],l[_+2],l[_+3]),lt(l[_+2],l[_+3],l[_+4])]),v=0;4>v;++v)n(l,h+32*v,_,0,_.length)}function lf(l,h){var v=l[h-1],_=l[h-1+32],L=l[h-1+64],C=l[h-1+96];oe(l,h+0,16843009*lt(l[h-1-32],v,_)),oe(l,h+32,16843009*lt(v,_,L)),oe(l,h+64,16843009*lt(_,L,C)),oe(l,h+96,16843009*lt(L,C,C))}function _s(l,h){var v,_=4;for(v=0;4>v;++v)_+=l[h+v-32]+l[h-1+32*v];for(_>>=3,v=0;4>v;++v)s(l,h+32*v,_,4)}function pc(l,h){var v=l[h-1+0],_=l[h-1+32],L=l[h-1+64],C=l[h-1-32],I=l[h+0-32],O=l[h+1-32],B=l[h+2-32],V=l[h+3-32];l[h+0+96]=lt(_,L,l[h-1+96]),l[h+1+96]=l[h+0+64]=lt(v,_,L),l[h+2+96]=l[h+1+64]=l[h+0+32]=lt(C,v,_),l[h+3+96]=l[h+2+64]=l[h+1+32]=l[h+0+0]=lt(I,C,v),l[h+3+64]=l[h+2+32]=l[h+1+0]=lt(O,I,C),l[h+3+32]=l[h+2+0]=lt(B,O,I),l[h+3+0]=lt(V,B,O)}function mc(l,h){var v=l[h+1-32],_=l[h+2-32],L=l[h+3-32],C=l[h+4-32],I=l[h+5-32],O=l[h+6-32],B=l[h+7-32];l[h+0+0]=lt(l[h+0-32],v,_),l[h+1+0]=l[h+0+32]=lt(v,_,L),l[h+2+0]=l[h+1+32]=l[h+0+64]=lt(_,L,C),l[h+3+0]=l[h+2+32]=l[h+1+64]=l[h+0+96]=lt(L,C,I),l[h+3+32]=l[h+2+64]=l[h+1+96]=lt(C,I,O),l[h+3+64]=l[h+2+96]=lt(I,O,B),l[h+3+96]=lt(O,B,B)}function Ja(l,h){var v=l[h-1+0],_=l[h-1+32],L=l[h-1+64],C=l[h-1-32],I=l[h+0-32],O=l[h+1-32],B=l[h+2-32],V=l[h+3-32];l[h+0+0]=l[h+1+64]=C+I+1>>1,l[h+1+0]=l[h+2+64]=I+O+1>>1,l[h+2+0]=l[h+3+64]=O+B+1>>1,l[h+3+0]=B+V+1>>1,l[h+0+96]=lt(L,_,v),l[h+0+64]=lt(_,v,C),l[h+0+32]=l[h+1+96]=lt(v,C,I),l[h+1+32]=l[h+2+96]=lt(C,I,O),l[h+2+32]=l[h+3+96]=lt(I,O,B),l[h+3+32]=lt(O,B,V)}function yl(l,h){var v=l[h+0-32],_=l[h+1-32],L=l[h+2-32],C=l[h+3-32],I=l[h+4-32],O=l[h+5-32],B=l[h+6-32],V=l[h+7-32];l[h+0+0]=v+_+1>>1,l[h+1+0]=l[h+0+64]=_+L+1>>1,l[h+2+0]=l[h+1+64]=L+C+1>>1,l[h+3+0]=l[h+2+64]=C+I+1>>1,l[h+0+32]=lt(v,_,L),l[h+1+32]=l[h+0+96]=lt(_,L,C),l[h+2+32]=l[h+1+96]=lt(L,C,I),l[h+3+32]=l[h+2+96]=lt(C,I,O),l[h+3+64]=lt(I,O,B),l[h+3+96]=lt(O,B,V)}function uf(l,h){var v=l[h-1+0],_=l[h-1+32],L=l[h-1+64],C=l[h-1+96];l[h+0+0]=v+_+1>>1,l[h+2+0]=l[h+0+32]=_+L+1>>1,l[h+2+32]=l[h+0+64]=L+C+1>>1,l[h+1+0]=lt(v,_,L),l[h+3+0]=l[h+1+32]=lt(_,L,C),l[h+3+32]=l[h+1+64]=lt(L,C,C),l[h+3+64]=l[h+2+64]=l[h+0+96]=l[h+1+96]=l[h+2+96]=l[h+3+96]=C}function cf(l,h){var v=l[h-1+0],_=l[h-1+32],L=l[h-1+64],C=l[h-1+96],I=l[h-1-32],O=l[h+0-32],B=l[h+1-32],V=l[h+2-32];l[h+0+0]=l[h+2+32]=v+I+1>>1,l[h+0+32]=l[h+2+64]=_+v+1>>1,l[h+0+64]=l[h+2+96]=L+_+1>>1,l[h+0+96]=C+L+1>>1,l[h+3+0]=lt(O,B,V),l[h+2+0]=lt(I,O,B),l[h+1+0]=l[h+3+32]=lt(v,I,O),l[h+1+32]=l[h+3+64]=lt(_,v,I),l[h+1+64]=l[h+3+96]=lt(L,_,v),l[h+1+96]=lt(C,L,_)}function df(l,h){var v;for(v=0;8>v;++v)n(l,h+32*v,l,h-32,8)}function xl(l,h){var v;for(v=0;8>v;++v)s(l,h,l[h-1],8),h+=32}function ra(l,h,v){var _;for(_=0;8>_;++_)s(h,v+32*_,l,8)}function ui(l,h){var v,_=8;for(v=0;8>v;++v)_+=l[h+v-32]+l[h-1+32*v];ra(_>>4,l,h)}function hf(l,h){var v,_=4;for(v=0;8>v;++v)_+=l[h+v-32];ra(_>>3,l,h)}function na(l,h){var v,_=4;for(v=0;8>v;++v)_+=l[h-1+32*v];ra(_>>3,l,h)}function bl(l,h){ra(128,l,h)}function Ka(l,h,v){var _=l[h-v],L=l[h+0],C=3*(L-_)+yf[1020+l[h-2*v]-l[h+v]],I=Lc[112+(C+4>>3)];l[h-v]=Nn[255+_+Lc[112+(C+3>>3)]],l[h+0]=Nn[255+L-I]}function gc(l,h,v,_){var L=l[h+0],C=l[h+v];return Bn[255+l[h-2*v]-l[h-v]]>_||Bn[255+C-L]>_}function vc(l,h,v,_){return 4*Bn[255+l[h-v]-l[h+0]]+Bn[255+l[h-2*v]-l[h+v]]<=_}function yc(l,h,v,_,L){var C=l[h-3*v],I=l[h-2*v],O=l[h-v],B=l[h+0],V=l[h+v],ie=l[h+2*v],ve=l[h+3*v];return 4*Bn[255+O-B]+Bn[255+I-V]>_?0:Bn[255+l[h-4*v]-C]<=L&&Bn[255+C-I]<=L&&Bn[255+I-O]<=L&&Bn[255+ve-ie]<=L&&Bn[255+ie-V]<=L&&Bn[255+V-B]<=L}function xc(l,h,v,_){var L=2*_+1;for(_=0;16>_;++_)vc(l,h+_,v,L)&&Ka(l,h+_,v)}function Ns(l,h,v,_){var L=2*_+1;for(_=0;16>_;++_)vc(l,h+_*v,1,L)&&Ka(l,h+_*v,1)}function Us(l,h,v,_){var L;for(L=3;0<L;--L)xc(l,h+=4*v,v,_)}function ff(l,h,v,_){var L;for(L=3;0<L;--L)Ns(l,h+=4,v,_)}function ci(l,h,v,_,L,C,I,O){for(C=2*C+1;0<L--;){if(yc(l,h,v,C,I))if(gc(l,h,v,O))Ka(l,h,v);else{var B=l,V=h,ie=v,ve=B[V-2*ie],ye=B[V-ie],he=B[V+0],Pe=B[V+ie],_e=B[V+2*ie],ae=27*(Ae=yf[1020+3*(he-ye)+yf[1020+ve-Pe]])+63>>7,de=18*Ae+63>>7,Ae=9*Ae+63>>7;B[V-3*ie]=Nn[255+B[V-3*ie]+Ae],B[V-2*ie]=Nn[255+ve+de],B[V-ie]=Nn[255+ye+ae],B[V+0]=Nn[255+he-ae],B[V+ie]=Nn[255+Pe-de],B[V+2*ie]=Nn[255+_e-Ae]}h+=_}}function es(l,h,v,_,L,C,I,O){for(C=2*C+1;0<L--;){if(yc(l,h,v,C,I))if(gc(l,h,v,O))Ka(l,h,v);else{var B=l,V=h,ie=v,ve=B[V-ie],ye=B[V+0],he=B[V+ie],Pe=Lc[112+((_e=3*(ye-ve))+4>>3)],_e=Lc[112+(_e+3>>3)],ae=Pe+1>>1;B[V-2*ie]=Nn[255+B[V-2*ie]+ae],B[V-ie]=Nn[255+ve+_e],B[V+0]=Nn[255+ye-Pe],B[V+ie]=Nn[255+he-ae]}h+=_}}function wl(l,h,v,_,L,C){ci(l,h,v,1,16,_,L,C)}function sa(l,h,v,_,L,C){ci(l,h,1,v,16,_,L,C)}function pf(l,h,v,_,L,C){var I;for(I=3;0<I;--I)es(l,h+=4*v,v,1,16,_,L,C)}function Ya(l,h,v,_,L,C){var I;for(I=3;0<I;--I)es(l,h+=4,1,v,16,_,L,C)}function mf(l,h,v,_,L,C,I,O){ci(l,h,L,1,8,C,I,O),ci(v,_,L,1,8,C,I,O)}function _l(l,h,v,_,L,C,I,O){ci(l,h,1,L,8,C,I,O),ci(v,_,1,L,8,C,I,O)}function Nl(l,h,v,_,L,C,I,O){es(l,h+4*L,L,1,8,C,I,O),es(v,_+4*L,L,1,8,C,I,O)}function bc(l,h,v,_,L,C,I,O){es(l,h+4,1,L,8,C,I,O),es(v,_+4,1,L,8,C,I,O)}function Xa(){this.ba=new Ve,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new st,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function jl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wc(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new R}function gf(){this.xb=this.a=0,this.l=new Va,this.ca=new Ve,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wc,this.ab=0,this.gc=a(4,jl),this.Oc=0}function Qa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ia(l,h,v,_,L,C,I){for(l=l==null?0:l[h+0],h=0;h<I;++h)L[C+h]=l+v[_+h]&255,l=L[C+h]}function kl(l,h,v,_,L,C,I){var O;if(l==null)ia(null,null,v,_,L,C,I);else for(O=0;O<I;++O)L[C+O]=l[h+O]+v[_+O]&255}function di(l,h,v,_,L,C,I){if(l==null)ia(null,null,v,_,L,C,I);else{var O,B=l[h+0],V=B,ie=B;for(O=0;O<I;++O)V=ie+(B=l[h+O])-V,ie=v[_+O]+(-256&V?0>V?0:255:V)&255,V=B,L[C+O]=ie}}function Al(l,h,v,_){var L=h.width,C=h.o;if(t(l!=null&&h!=null),0>v||0>=_||v+_>C)return null;if(!l.Cc){if(l.ga==null){var I;if(l.ga=new Qa,(I=l.ga==null)||(I=h.width*h.o,t(l.Gb.length==0),l.Gb=i(I),l.Uc=0,l.Gb==null?I=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,I=1),I=!I),!I){I=l.ga;var O=l.Fa,B=l.P,V=l.qc,ie=l.mb,ve=l.nb,ye=B+1,he=V-1,Pe=I.l;if(t(O!=null&&ie!=null&&h!=null),vi[0]=null,vi[1]=ia,vi[2]=kl,vi[3]=di,I.ca=ie,I.tb=ve,I.c=h.width,I.i=h.height,t(0<I.c&&0<I.i),1>=V)h=0;else if(I.$a=O[B+0]>>0&3,I.Z=O[B+0]>>2&3,I.Lc=O[B+0]>>4&3,B=O[B+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||B)h=0;else if(Pe.put=bn,Pe.ac=Ft,Pe.bc=Tn,Pe.ma=I,Pe.width=h.width,Pe.height=h.height,Pe.Da=h.Da,Pe.v=h.v,Pe.va=h.va,Pe.j=h.j,Pe.o=h.o,I.$a)e:{t(I.$a==1),h=Rn();t:for(;;){if(h==null){h=0;break e}if(t(I!=null),I.mc=h,h.c=I.c,h.i=I.i,h.l=I.l,h.l.ma=I,h.l.width=I.c,h.l.height=I.i,h.a=0,Y(h.m,O,ye,he),!ws(I.c,I.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ds(h.s)?(I.ic=1,O=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(O),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(I.ic=0,h=ta(h,I.c)),!h))break t;h=1;break e}I.mc=null,h=0}else h=he>=I.c*I.i;I=!h}if(I)return null;l.ga.Lc!=1?l.Ga=0:_=C-v}t(l.ga!=null),t(v+_<=C);e:{if(h=(O=l.ga).c,C=O.l.o,O.$a==0){if(ye=l.rc,he=l.Vc,Pe=l.Fa,B=l.P+1+v*h,V=l.mb,ie=l.nb+v*h,t(B<=l.P+l.qc),O.Z!=0)for(t(vi[O.Z]!=null),I=0;I<_;++I)vi[O.Z](ye,he,Pe,B,V,ie,h),ye=V,he=ie,ie+=h,B+=h;else for(I=0;I<_;++I)n(V,ie,Pe,B,h),ye=V,he=ie,ie+=h,B+=h;l.rc=ye,l.Vc=he}else{if(t(O.mc!=null),h=v+_,t((I=O.mc)!=null),t(h<=I.i),I.C>=h)h=1;else if(O.ic||pe(),O.ic){O=I.V,ye=I.Ba,he=I.c;var _e=I.i,ae=(Pe=1,B=I.$/he,V=I.$%he,ie=I.m,ve=I.s,I.$),de=he*_e,Ae=he*h,Ee=ve.wc,Le=ae<Ae?dr(ve,V,B):null;t(ae<=de),t(h<=_e),t(Ds(ve));t:for(;;){for(;!ie.h&&ae<Ae;){if(V&Ee||(Le=dr(ve,V,B)),t(Le!=null),se(ie),256>(_e=sn(Le.G[0],Le.H[0],ie)))O[ye+ae]=_e,++ae,++V>=he&&(V=0,++B<=h&&!(B%16)&&Xn(I,B));else{if(!(280>_e)){Pe=0;break t}_e=Kn(_e-256,ie);var He,ze=sn(Le.G[4],Le.H[4],ie);if(se(ie),!(ae>=(ze=xs(he,ze=Kn(ze,ie)))&&de-ae>=_e)){Pe=0;break t}for(He=0;He<_e;++He)O[ye+ae+He]=O[ye+ae+He-ze];for(ae+=_e,V+=_e;V>=he;)V-=he,++B<=h&&!(B%16)&&Xn(I,B);ae<Ae&&V&Ee&&(Le=dr(ve,V,B))}t(ie.h==W(ie))}Xn(I,B>h?h:B);break t}!Pe||ie.h&&ae<de?(Pe=0,I.a=ie.h?5:3):I.$=ae,h=Pe}else h=Qn(I,I.V,I.Ba,I.c,I.i,h,Ba);if(!h){_=0;break e}}v+_>=C&&(l.Cc=1),_=1}if(!_)return null;if(l.Cc&&((_=l.ga)!=null&&(_.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+v*L}function m(l,h,v,_,L,C){for(;0<L--;){var I,O=l,B=h+(v?1:0),V=l,ie=h+(v?0:3);for(I=0;I<_;++I){var ve=V[ie+4*I];ve!=255&&(ve*=32897,O[B+4*I+0]=O[B+4*I+0]*ve>>23,O[B+4*I+1]=O[B+4*I+1]*ve>>23,O[B+4*I+2]=O[B+4*I+2]*ve>>23)}h+=C}}function P(l,h,v,_,L){for(;0<_--;){var C;for(C=0;C<v;++C){var I=l[h+2*C+0],O=15&(V=l[h+2*C+1]),B=4369*O,V=(240&V|V>>4)*B>>16;l[h+2*C+0]=(240&I|I>>4)*B>>16&240|(15&I|I<<4)*B>>16>>4&15,l[h+2*C+1]=240&V|O}h+=L}}function K(l,h,v,_,L,C,I,O){var B,V,ie=255;for(V=0;V<L;++V){for(B=0;B<_;++B){var ve=l[h+B];C[I+4*B]=ve,ie&=ve}h+=v,I+=O}return ie!=255}function ne(l,h,v,_,L){var C;for(C=0;C<L;++C)v[_+C]=l[h+C]>>8}function pe(){Dn=m,Ut=P,zt=K,ir=ne}function Se(l,h,v){M[l]=function(_,L,C,I,O,B,V,ie,ve,ye,he,Pe,_e,ae,de,Ae,Ee){var Le,He=Ee-1>>1,ze=O[B+0]|V[ie+0]<<16,Ze=ve[ye+0]|he[Pe+0]<<16;t(_!=null);var qe=3*ze+Ze+131074>>2;for(h(_[L+0],255&qe,qe>>16,_e,ae),C!=null&&(qe=3*Ze+ze+131074>>2,h(C[I+0],255&qe,qe>>16,de,Ae)),Le=1;Le<=He;++Le){var At=O[B+Le]|V[ie+Le]<<16,Ct=ve[ye+Le]|he[Pe+Le]<<16,jt=ze+At+Ze+Ct+524296,Nt=jt+2*(At+Ze)>>3;qe=Nt+ze>>1,ze=(jt=jt+2*(ze+Ct)>>3)+At>>1,h(_[L+2*Le-1],255&qe,qe>>16,_e,ae+(2*Le-1)*v),h(_[L+2*Le-0],255&ze,ze>>16,_e,ae+(2*Le-0)*v),C!=null&&(qe=jt+Ze>>1,ze=Nt+Ct>>1,h(C[I+2*Le-1],255&qe,qe>>16,de,Ae+(2*Le-1)*v),h(C[I+2*Le+0],255&ze,ze>>16,de,Ae+(2*Le+0)*v)),ze=At,Ze=Ct}1&Ee||(qe=3*ze+Ze+131074>>2,h(_[L+Ee-1],255&qe,qe>>16,_e,ae+(Ee-1)*v),C!=null&&(qe=3*Ze+ze+131074>>2,h(C[I+Ee-1],255&qe,qe>>16,de,Ae+(Ee-1)*v)))}}function Ce(){Un[Pc]=pb,Un[Ec]=yg,Un[fg]=mb,Un[Cc]=xg,Un[Ic]=bg,Un[xf]=wg,Un[pg]=gb,Un[bf]=yg,Un[wf]=xg,Un[Tc]=bg,Un[_f]=wg}function We(l){return l&-16384?0>l?0:255:l>>vb}function Xe(l,h){return We((19077*l>>8)+(26149*h>>8)-14234)}function pt(l,h,v){return We((19077*l>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function ct(l,h){return We((19077*l>>8)+(33050*h>>8)-17685)}function St(l,h,v,_,L){_[L+0]=Xe(l,v),_[L+1]=pt(l,h,v),_[L+2]=ct(l,h)}function Jt(l,h,v,_,L){_[L+0]=ct(l,h),_[L+1]=pt(l,h,v),_[L+2]=Xe(l,v)}function Zt(l,h,v,_,L){var C=pt(l,h,v);h=C<<3&224|ct(l,h)>>3,_[L+0]=248&Xe(l,v)|C>>5,_[L+1]=h}function hr(l,h,v,_,L){var C=240&ct(l,h)|15;_[L+0]=240&Xe(l,v)|pt(l,h,v)>>4,_[L+1]=C}function Dr(l,h,v,_,L){_[L+0]=255,St(l,h,v,_,L+1)}function jr(l,h,v,_,L){Jt(l,h,v,_,L),_[L+3]=255}function ts(l,h,v,_,L){St(l,h,v,_,L),_[L+3]=255}function _n(l,h){return 0>l?0:l>h?h:l}function Ss(l,h,v){M[l]=function(_,L,C,I,O,B,V,ie,ve){for(var ye=ie+(-2&ve)*v;ie!=ye;)h(_[L+0],C[I+0],O[B+0],V,ie),h(_[L+1],C[I+0],O[B+0],V,ie+v),L+=2,++I,++B,ie+=2*v;1&ve&&h(_[L+0],C[I+0],O[B+0],V,ie)}}function _c(l,h,v){return v==0?l==0?h==0?6:5:h==0?4:0:v}function Ll(l,h,v,_,L){switch(l>>>30){case 3:$s(h,v,_,L,0);break;case 2:sr(h,v,_,L);break;case 1:Yr(h,v,_,L)}}function Pl(l,h){var v,_,L=h.M,C=h.Nb,I=l.oc,O=l.pc+40,B=l.oc,V=l.pc+584,ie=l.oc,ve=l.pc+600;for(v=0;16>v;++v)I[O+32*v-1]=129;for(v=0;8>v;++v)B[V+32*v-1]=129,ie[ve+32*v-1]=129;for(0<L?I[O-1-32]=B[V-1-32]=ie[ve-1-32]=129:(s(I,O-32-1,127,21),s(B,V-32-1,127,9),s(ie,ve-32-1,127,9)),_=0;_<l.za;++_){var ye=h.ya[h.aa+_];if(0<_){for(v=-1;16>v;++v)n(I,O+32*v-4,I,O+32*v+12,4);for(v=-1;8>v;++v)n(B,V+32*v-4,B,V+32*v+4,4),n(ie,ve+32*v-4,ie,ve+32*v+4,4)}var he=l.Gd,Pe=l.Hd+_,_e=ye.ad,ae=ye.Hc;if(0<L&&(n(I,O-32,he[Pe].y,0,16),n(B,V-32,he[Pe].f,0,8),n(ie,ve-32,he[Pe].ea,0,8)),ye.Za){var de=I,Ae=O-32+16;for(0<L&&(_>=l.za-1?s(de,Ae,he[Pe].y[15],4):n(de,Ae,he[Pe+1].y,0,4)),v=0;4>v;v++)de[Ae+128+v]=de[Ae+256+v]=de[Ae+384+v]=de[Ae+0+v];for(v=0;16>v;++v,ae<<=2)de=I,Ae=O+Ng[v],rs[ye.Ob[v]](de,Ae),Ll(ae,_e,16*+v,de,Ae)}else if(de=_c(_,L,ye.Ob[0]),gi[de](I,O),ae!=0)for(v=0;16>v;++v,ae<<=2)Ll(ae,_e,16*+v,I,O+Ng[v]);for(v=ye.Gc,de=_c(_,L,ye.Dd),Ws[de](B,V),Ws[de](ie,ve),ae=_e,de=B,Ae=V,255&(ye=v>>0)&&(170&ye?Rl(ae,256,de,Ae):Fn(ae,256,de,Ae)),ye=ie,ae=ve,255&(v>>=8)&&(170&v?Rl(_e,320,ye,ae):Fn(_e,320,ye,ae)),L<l.Ub-1&&(n(he[Pe].y,0,I,O+480,16),n(he[Pe].f,0,B,V+224,8),n(he[Pe].ea,0,ie,ve+224,8)),v=8*C*l.B,he=l.sa,Pe=l.ta+16*_+16*C*l.R,_e=l.qa,ye=l.ra+8*_+v,ae=l.Ha,de=l.Ia+8*_+v,v=0;16>v;++v)n(he,Pe+v*l.R,I,O+32*v,16);for(v=0;8>v;++v)n(_e,ye+v*l.B,B,V+32*v,8),n(ae,de+v*l.B,ie,ve+32*v,8)}}function Za(l,h,v,_,L,C,I,O,B){var V=[0],ie=[0],ve=0,ye=B!=null?B.kd:0,he=B??new Sl;if(l==null||12>v)return 7;he.data=l,he.w=h,he.ha=v,h=[h],v=[v],he.gb=[he.gb];e:{var Pe=h,_e=v,ae=he.gb;if(t(l!=null),t(_e!=null),t(ae!=null),ae[0]=0,12<=_e[0]&&!r(l,Pe[0],"RIFF")){if(r(l,Pe[0]+8,"WEBP")){ae=3;break e}var de=ke(l,Pe[0]+4);if(12>de||4294967286<de){ae=3;break e}if(ye&&de>_e[0]-8){ae=7;break e}ae[0]=de,Pe[0]+=12,_e[0]-=12}ae=0}if(ae!=0)return ae;for(de=0<he.gb[0],v=v[0];;){e:{var Ae=l;_e=h,ae=v;var Ee=V,Le=ie,He=Pe=[0];if((qe=ve=[ve])[0]=0,8>ae[0])ae=7;else{if(!r(Ae,_e[0],"VP8X")){if(ke(Ae,_e[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var ze=ke(Ae,_e[0]+8),Ze=1+je(Ae,_e[0]+12);if(2147483648<=Ze*(Ae=1+je(Ae,_e[0]+15))){ae=3;break e}He!=null&&(He[0]=ze),Ee!=null&&(Ee[0]=Ze),Le!=null&&(Le[0]=Ae),_e[0]+=18,ae[0]-=18,qe[0]=1}ae=0}}if(ve=ve[0],Pe=Pe[0],ae!=0)return ae;if(_e=!!(2&Pe),!de&&ve)return 3;if(C!=null&&(C[0]=!!(16&Pe)),I!=null&&(I[0]=_e),O!=null&&(O[0]=0),I=V[0],Pe=ie[0],ve&&_e&&B==null){ae=0;break}if(4>v){ae=7;break}if(de&&ve||!de&&!ve&&!r(l,h[0],"ALPH")){v=[v],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{ze=l,ae=h,de=v;var qe=he.gb;Ee=he.na,Le=he.P,He=he.Sa,Ze=22,t(ze!=null),t(de!=null),Ae=ae[0];var At=de[0];for(t(Ee!=null),t(He!=null),Ee[0]=null,Le[0]=null,He[0]=0;;){if(ae[0]=Ae,de[0]=At,8>At){ae=7;break e}var Ct=ke(ze,Ae+4);if(4294967286<Ct){ae=3;break e}var jt=8+Ct+1&-2;if(Ze+=jt,0<qe&&Ze>qe){ae=3;break e}if(!r(ze,Ae,"VP8 ")||!r(ze,Ae,"VP8L")){ae=0;break e}if(At[0]<jt){ae=7;break e}r(ze,Ae,"ALPH")||(Ee[0]=ze,Le[0]=Ae+8,He[0]=Ct),Ae+=jt,At-=jt}}if(v=v[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],ae!=0)break}v=[v],he.Ja=[he.Ja],he.xa=[he.xa];e:if(qe=l,ae=h,de=v,Ee=he.gb[0],Le=he.Ja,He=he.xa,ze=ae[0],Ae=!r(qe,ze,"VP8 "),Ze=!r(qe,ze,"VP8L"),t(qe!=null),t(de!=null),t(Le!=null),t(He!=null),8>de[0])ae=7;else{if(Ae||Ze){if(qe=ke(qe,ze+4),12<=Ee&&qe>Ee-12){ae=3;break e}if(ye&&qe>de[0]-8){ae=7;break e}Le[0]=qe,ae[0]+=8,de[0]-=8,He[0]=Ze}else He[0]=5<=de[0]&&qe[ze+0]==47&&!(qe[ze+4]>>5),Le[0]=de[0];ae=0}if(v=v[0],he.Ja=he.Ja[0],he.xa=he.xa[0],h=h[0],ae!=0)break;if(4294967286<he.Ja)return 3;if(O==null||_e||(O[0]=he.xa?2:1),I=[I],Pe=[Pe],he.xa){if(5>v){ae=7;break}O=I,ye=Pe,_e=C,l==null||5>v?l=0:5<=v&&l[h+0]==47&&!(l[h+4]>>5)?(de=[0],qe=[0],Ee=[0],Y(Le=new k,l,h,v),rt(Le,de,qe,Ee)?(O!=null&&(O[0]=de[0]),ye!=null&&(ye[0]=qe[0]),_e!=null&&(_e[0]=Ee[0]),l=1):l=0):l=0}else{if(10>v){ae=7;break}O=Pe,l==null||10>v||!ac(l,h+3,v-3)?l=0:(ye=l[h+0]|l[h+1]<<8|l[h+2]<<16,_e=16383&(l[h+7]<<8|l[h+6]),l=16383&(l[h+9]<<8|l[h+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=he.Ja||!_e||!l?l=0:(I&&(I[0]=_e),O&&(O[0]=l),l=1))}if(!l||(I=I[0],Pe=Pe[0],ve&&(V[0]!=I||ie[0]!=Pe)))return 3;B!=null&&(B[0]=he,B.offset=h-B.w,t(4294967286>h-B.w),t(B.offset==B.ha-v));break}return ae==0||ae==7&&ve&&B==null?(C!=null&&(C[0]|=he.na!=null&&0<he.na.length),_!=null&&(_[0]=I),L!=null&&(L[0]=Pe),0):ae}function El(l,h,v){var _=h.width,L=h.height,C=0,I=0,O=_,B=L;if(h.Da=l!=null&&0<l.Da,h.Da&&(O=l.cd,B=l.bd,C=l.v,I=l.j,11>v||(C&=-2,I&=-2),0>C||0>I||0>=O||0>=B||C+O>_||I+B>L))return 0;if(h.v=C,h.j=I,h.va=C+O,h.o=I+B,h.U=O,h.T=B,h.da=l!=null&&0<l.da,h.da){if(!Ue(O,B,v=[l.ib],C=[l.hb]))return 0;h.ib=v[0],h.hb=C[0]}return h.ob=l!=null&&l.ob,h.Kb=l==null||!l.Sd,h.da&&(h.ob=h.ib<3*_/4&&h.hb<3*L/4,h.Kb=0),1}function Cl(l){if(l==null)return 2;if(11>l.S){var h=l.f.RGBA;h.fb+=(l.height-1)*h.A,h.A=-h.A}else h=l.f.kb,l=l.height,h.O+=(l-1)*h.fa,h.fa=-h.fa,h.N+=(l-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(l-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(l-1)*h.lb,h.lb=-h.lb);return 0}function eo(l,h,v,_){if(_==null||0>=l||0>=h)return 2;if(v!=null){if(v.Da){var L=v.cd,C=v.bd,I=-2&v.v,O=-2&v.j;if(0>I||0>O||0>=L||0>=C||I+L>l||O+C>h)return 2;l=L,h=C}if(v.da){if(!Ue(l,h,L=[v.ib],C=[v.hb]))return 2;l=L[0],h=C[0]}}_.width=l,_.height=h;e:{var B=_.width,V=_.height;if(l=_.S,0>=B||0>=V||!(l>=Pc&&13>l))l=2;else{if(0>=_.Rd&&_.sd==null){I=C=L=h=0;var ie=(O=B*Sg[l])*V;if(11>l||(C=(V+1)/2*(h=(B+1)/2),l==12&&(I=(L=B)*V)),(V=i(ie+2*C+I))==null){l=1;break e}_.sd=V,11>l?((B=_.f.RGBA).eb=V,B.fb=0,B.A=O,B.size=ie):((B=_.f.kb).y=V,B.O=0,B.fa=O,B.Fd=ie,B.f=V,B.N=0+ie,B.Ab=h,B.Cd=C,B.ea=V,B.W=0+ie+C,B.Db=h,B.Ed=C,l==12&&(B.F=V,B.J=0+ie+2*C),B.Tc=I,B.lb=L)}if(h=1,L=_.S,C=_.width,I=_.height,L>=Pc&&13>L)if(11>L)l=_.f.RGBA,h&=(O=Math.abs(l.A))*(I-1)+C<=l.size,h&=O>=C*Sg[L],h&=l.eb!=null;else{l=_.f.kb,O=(C+1)/2,ie=(I+1)/2,B=Math.abs(l.fa),V=Math.abs(l.Ab);var ve=Math.abs(l.Db),ye=Math.abs(l.lb),he=ye*(I-1)+C;h&=B*(I-1)+C<=l.Fd,h&=V*(ie-1)+O<=l.Cd,h=(h&=ve*(ie-1)+O<=l.Ed)&B>=C&V>=O&ve>=O,h&=l.y!=null,h&=l.f!=null,h&=l.ea!=null,L==12&&(h&=ye>=C,h&=he<=l.Tc,h&=l.F!=null)}else h=0;l=h?0:2}}return l!=0||v!=null&&v.fd&&(l=Cl(_)),l}var Cr=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ro=24,no=32,Il=8,on=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(l){return l},M.Predictor2=function(l,h,v){return h[v+0]},M.Predictor3=function(l,h,v){return h[v+1]},M.Predictor4=function(l,h,v){return h[v-1]},M.Predictor5=function(l,h,v){return De(De(l,h[v+1]),h[v+0])},M.Predictor6=function(l,h,v){return De(l,h[v-1])},M.Predictor7=function(l,h,v){return De(l,h[v+0])},M.Predictor8=function(l,h,v){return De(h[v-1],h[v+0])},M.Predictor9=function(l,h,v){return De(h[v+0],h[v+1])},M.Predictor10=function(l,h,v){return De(De(l,h[v-1]),De(h[v+0],h[v+1]))},M.Predictor11=function(l,h,v){var _=h[v+0];return 0>=it(_>>24&255,l>>24&255,(h=h[v-1])>>24&255)+it(_>>16&255,l>>16&255,h>>16&255)+it(_>>8&255,l>>8&255,h>>8&255)+it(255&_,255&l,255&h)?_:l},M.Predictor12=function(l,h,v){var _=h[v+0];return(Je((l>>24&255)+(_>>24&255)-((h=h[v-1])>>24&255))<<24|Je((l>>16&255)+(_>>16&255)-(h>>16&255))<<16|Je((l>>8&255)+(_>>8&255)-(h>>8&255))<<8|Je((255&l)+(255&_)-(255&h)))>>>0},M.Predictor13=function(l,h,v){var _=h[v-1];return(tt((l=De(l,h[v+0]))>>24&255,_>>24&255)<<24|tt(l>>16&255,_>>16&255)<<16|tt(l>>8&255,_>>8&255)<<8|tt(l>>0&255,_>>0&255))>>>0};var vf=M.PredictorAdd0;M.PredictorAdd1=at,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var Tl=M.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var Nc,On=M.ColorIndexInverseTransform,so=M.MapARGB,Sc=M.VP8LColorIndexInverseTransformAlpha,jc=M.MapAlpha,hi=M.VP8LPredictorsAdd=[];hi.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var aa,ln,Kr,fi,zs,qs,io,$s,sr,Rl,Yr,Fn,ao,kc,Ol,oa,la,pi,ua,oo,ca,mi,Fl,Mn,Dn,Ut,zt,ir,vr=i(511),Vs=i(2041),Ml=i(225),lo=i(767),Ac=0,yf=Vs,Lc=Ml,Nn=lo,Bn=vr,Pc=0,Ec=1,fg=2,Cc=3,Ic=4,xf=5,pg=6,bf=7,wf=8,Tc=9,_f=10,eb=[2,3,7],tb=[3,3,11],mg=[280,256,256,256,40],rb=[0,1,1,1,0],nb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ib=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ab=8,Nf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dl=null,ob=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ub=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],db=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gi=[],rs=[],Ws=[],fb=1,vg=2,vi=[],Un=[];Se("UpsampleRgbLinePair",St,3),Se("UpsampleBgrLinePair",Jt,3),Se("UpsampleRgbaLinePair",ts,4),Se("UpsampleBgraLinePair",jr,4),Se("UpsampleArgbLinePair",Dr,4),Se("UpsampleRgba4444LinePair",hr,2),Se("UpsampleRgb565LinePair",Zt,2);var pb=M.UpsampleRgbLinePair,mb=M.UpsampleBgrLinePair,yg=M.UpsampleRgbaLinePair,xg=M.UpsampleBgraLinePair,bg=M.UpsampleArgbLinePair,wg=M.UpsampleRgba4444LinePair,gb=M.UpsampleRgb565LinePair,Rc=16,Oc=1<<Rc-1,Bl=-227,jf=482,vb=6,_g=0,yb=i(256),xb=i(256),bb=i(256),wb=i(256),_b=i(jf-Bl),Nb=i(jf-Bl);Ss("YuvToRgbRow",St,3),Ss("YuvToBgrRow",Jt,3),Ss("YuvToRgbaRow",ts,4),Ss("YuvToBgraRow",jr,4),Ss("YuvToArgbRow",Dr,4),Ss("YuvToRgba4444Row",hr,2),Ss("YuvToRgb565Row",Zt,2);var Ng=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fc=[0,2,8],Sb=[8,7,6,4,4,2,2,2,1,1,1,1],jb=1;this.WebPDecodeRGBA=function(l,h,v,_,L){var C=Ec,I=new Xa,O=new Ve;I.ba=O,O.S=C,O.width=[O.width],O.height=[O.height];var B=O.width,V=O.height,ie=new ot;if(ie==null||l==null)var ve=2;else t(ie!=null),ve=Za(l,h,v,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(ve!=0?B=0:(B!=null&&(B[0]=ie.width[0]),V!=null&&(V[0]=ie.height[0]),B=1),B){O.width=O.width[0],O.height=O.height[0],_!=null&&(_[0]=O.width),L!=null&&(L[0]=O.height);e:{if(_=new Va,(L=new Sl).data=l,L.w=h,L.ha=v,L.kd=1,h=[0],t(L!=null),((l=Za(L.data,L.w,L.ha,null,null,null,h,null,L))==0||l==7)&&h[0]&&(l=4),(h=l)==0){if(t(I!=null),_.data=L.data,_.w=L.w+L.offset,_.ha=L.ha-L.offset,_.put=bn,_.ac=Ft,_.bc=Tn,_.ma=I,L.xa){if((l=Rn())==null){I=1;break e}if(function(ye,he){var Pe=[0],_e=[0],ae=[0];t:for(;;){if(ye==null)return 0;if(he==null)return ye.a=2,0;if(ye.l=he,ye.a=0,Y(ye.m,he.data,he.w,he.ha),!rt(ye.m,Pe,_e,ae)){ye.a=3;break t}if(ye.xb=vg,he.width=Pe[0],he.height=_e[0],!ws(Pe[0],_e[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(l,_)){if(_=(h=eo(_.width,_.height,I.Oa,I.ba))==0){t:{_=l;r:for(;;){if(_==null){_=0;break t}if(t(_.s.yc!=null),t(_.s.Ya!=null),t(0<_.s.Wb),t((v=_.l)!=null),t((L=v.ma)!=null),_.xb!=0){if(_.ca=L.ba,_.tb=L.tb,t(_.ca!=null),!El(L.Oa,v,Cc)){_.a=2;break r}if(!ta(_,v.width)||v.da)break r;if((v.da||mt(_.ca.S))&&pe(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&pe()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!Fe(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Qn(_,_.V,_.Ba,_.c,_.i,v.o,Da))break r;L.Dc=_.Ma,_=1;break t}t(_.a!=0),_=0}_=!_}_&&(h=l.a)}else h=l.a}else{if((l=new Xh)==null){I=1;break e}if(l.Fa=L.na,l.P=L.P,l.qc=L.Sa,oc(l,_)){if((h=eo(_.width,_.height,I.Oa,I.ba))==0){if(l.Aa=0,v=I.Oa,t((L=l)!=null),v!=null){if(0<(B=0>(B=v.Md)?0:100<B?255:255*B/100)){for(V=ie=0;4>V;++V)12>(ve=L.pb[V]).lc&&(ve.ia=B*Sb[0>ve.lc?0:ve.lc]>>3),ie|=ve.ia;ie&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=v.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Qh(l,_)||(h=l.a)}}else h=l.a}h==0&&I.Oa!=null&&I.Oa.fd&&(h=Cl(I.ba))}I=h}C=I!=0?null:11>C?O.f.RGBA.eb:O.f.kb.y}else C=null;return C};var Sg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(M,Q){for(var H="",E=0;E<4;E++)H+=String.fromCharCode(M[Q++]);return H}function f(M,Q){return(M[Q+0]<<0|M[Q+1]<<8|M[Q+2]<<16)>>>0}function p(M,Q){return(M[Q+0]<<0|M[Q+1]<<8|M[Q+2]<<16|M[Q+3]<<24)>>>0}new u;var y=[0],g=[0],N=[],S=new u,j=e,x=function(M,Q){var H={},E=0,R=!1,G=0,U=0;if(H.frames=[],!function(q,W,Z,se){for(var X=0;X<se;X++)if(q[W+X]!=Z.charCodeAt(X))return!0;return!1}(M,Q,"RIFF",4)){var le,re;for(p(M,Q+=4),Q+=8;Q<M.length;){var fe=d(M,Q),Y=p(M,Q+=4);Q+=4;var te=Y+(1&Y);switch(fe){case"VP8 ":case"VP8L":H.frames[E]===void 0&&(H.frames[E]={}),(k=H.frames[E]).src_off=R?U:Q-8,k.src_size=G+Y+8,E++,R&&(R=!1,G=0,U=0);break;case"VP8X":(k=H.header={}).feature_flags=M[Q];var $=Q+4;k.canvas_width=1+f(M,$),$+=3,k.canvas_height=1+f(M,$),$+=3;break;case"ALPH":R=!0,G=te+8,U=Q-8;break;case"ANIM":(k=H.header).bgcolor=p(M,Q),$=Q+4,k.loop_count=(le=M)[(re=$)+0]<<0|le[re+1]<<8,$+=2;break;case"ANMF":var ce,k;(k=H.frames[E]={}).offset_x=2*f(M,Q),Q+=3,k.offset_y=2*f(M,Q),Q+=3,k.width=1+f(M,Q),Q+=3,k.height=1+f(M,Q),Q+=3,k.duration=f(M,Q),Q+=3,ce=M[Q++],k.dispose=1&ce,k.blend=ce>>1&1}fe!="ANMF"&&(Q+=te)}return H}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,b=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,y=[w.canvas_height],g=[w.canvas_width];for(var A=0;A<b.length&&b[A].blend!=0;A++);}var F=b[0],z=S.WebPDecodeRGBA(j,F.src_off,F.src_size,g,y);F.rgba=z,F.imgwidth=g[0],F.imgheight=y[0];for(var D=0;D<g[0]*y[0]*4;D++)N[D]=z[D];return this.width=g,this.height=y,this.data=N,this}(function(e){var t=function(){return typeof Gm=="function"},r=function(y,g,N,S){var j=4,x=a;switch(S){case e.image_compression.FAST:j=1,x=i;break;case e.image_compression.MEDIUM:j=6,x=o;break;case e.image_compression.SLOW:j=9,x=u}y=n(y,g,N,x);var w=Gm(y,{level:j});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(y,g,N,S){for(var j,x,w,b=y.length/g,A=new Uint8Array(y.length+b),F=f(),z=0;z<b;z+=1){if(w=z*g,j=y.subarray(w,w+g),S)A.set(S(j,N,x),w+z);else{for(var D,M=F.length,Q=[];D<M;D+=1)Q[D]=F[D](j,N,x);var H=p(Q.concat());A.set(Q[H],w+z)}x=j}return A},s=function(y){var g=Array.apply([],y);return g.unshift(0),g},i=function(y,g){var N,S=[],j=y.length;S[0]=1;for(var x=0;x<j;x+=1)N=y[x-g]||0,S[x+1]=y[x]-N+256&255;return S},a=function(y,g,N){var S,j=[],x=y.length;j[0]=2;for(var w=0;w<x;w+=1)S=N&&N[w]||0,j[w+1]=y[w]-S+256&255;return j},o=function(y,g,N){var S,j,x=[],w=y.length;x[0]=3;for(var b=0;b<w;b+=1)S=y[b-g]||0,j=N&&N[b]||0,x[b+1]=y[b]+256-(S+j>>>1)&255;return x},u=function(y,g,N){var S,j,x,w,b=[],A=y.length;b[0]=4;for(var F=0;F<A;F+=1)S=y[F-g]||0,j=N&&N[F]||0,x=N&&N[F-g]||0,w=d(S,j,x),b[F+1]=y[F]-w+256&255;return b},d=function(y,g,N){if(y===g&&g===N)return y;var S=Math.abs(g-N),j=Math.abs(y-N),x=Math.abs(y+g-N-N);return S<=j&&S<=x?y:j<=x?g:N},f=function(){return[s,i,a,o,u]},p=function(y){var g=y.map(function(N){return N.reduce(function(S,j){return S+Math.abs(j)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(y,g,N,S){var j,x,w,b,A,F,z,D,M,Q,H,E,R,G,U,le=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(w=new Fk(y)).imgData,x=w.bits,j=w.colorSpace,A=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){M=(D=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,H=new Uint8Array(M*w.colors),Q=new Uint8Array(M);var fe,Y=w.pixelBitlength-w.bits;for(G=0,U=0;G<M;G++){for(R=D[G],fe=0;fe<Y;)H[U++]=R>>>fe&255,fe+=w.bits;Q[G]=R>>>fe&255}}if(w.bits===16){M=(D=new Uint32Array(w.decodePixels().buffer)).length,H=new Uint8Array(M*(32/w.pixelBitlength)*w.colors),Q=new Uint8Array(M*(32/w.pixelBitlength)),E=w.colors>1,G=0,U=0;for(var te=0;G<M;)R=D[G++],H[U++]=R>>>0&255,E&&(H[U++]=R>>>16&255,R=D[G++],H[U++]=R>>>0&255),Q[te++]=R>>>16&255;x=8}S!==e.image_compression.NONE&&t()?(y=r(H,w.width*w.colors,w.colors,S),z=r(Q,w.width,1,S)):(y=H,z=Q,le=void 0)}if(w.colorType===3&&(j=this.color_spaces.INDEXED,F=w.palette,w.transparency.indexed)){var $=w.transparency.indexed,ce=0;for(G=0,M=$.length;G<M;++G)ce+=$[G];if((ce/=255)===M-1&&$.indexOf(0)!==-1)b=[$.indexOf(0)];else if(ce!==M){for(D=w.decodePixels(),Q=new Uint8Array(D.length),G=0,M=D.length;G<M;G++)Q[G]=$[D[G]];z=r(Q,w.width,1)}}var k=function(q){var W;switch(q){case e.image_compression.FAST:W=11;break;case e.image_compression.MEDIUM:W=13;break;case e.image_compression.SLOW:W=14;break;default:W=12}return W}(S);return le===this.decode.FLATE_DECODE&&(re="/Predictor "+k+" "),re+="/Colors "+A+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:N,data:y,index:g,filter:le,decodeParameters:re,transparency:b,palette:F,sMask:z,predictor:k,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:j}}}})(et.API),function(e){e.processGIF89A=function(t,r,n,s){var i=new Mk(t),a=i.width,o=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:o},f=new Pp(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)},e.processGIF87A=e.processGIF89A}(et.API),as.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},as.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dt.log("bit decode error:"+r)}},as.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var u=this.palette[i>>7-o&1];this.data[a+4*o]=u.blue,this.data[a+4*o+1]=u.green,this.data[a+4*o+2]=u.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},as.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,u=15&i,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},as.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},as.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,d=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=u,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=d}this.pos+=e}},as.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,u=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},as.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},as.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},as.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new as(t,!1),a=i.width,o=i.height,u={data:i.getData(),width:a,height:o},d=new Pp(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)}}(et.API),iv.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new iv(t),a=i.width,o=i.height,u={data:i.getData(),width:a,height:o},d=new Pp(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)}}(et.API),et.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,u=0,d=0;d<s;d+=4){var f=n[d],p=n[d+1],y=n[d+2],g=n[d+3];i[o++]=f,i[o++]=p,i[o++]=y,a[u++]=g}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wo=et.API,vd=wo.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,u=o.fof?o.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,p=t.doKerning!==!1,y=0,g=e.length,N=0,S=o[0]||u,j=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(y=p&&Tt(d[n])==="object"&&!isNaN(parseInt(d[n][N],10))?d[n][N]/f:0,j.push((o[n]||S)/u+y)),N=n;return j},tv=wo.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return wo.processArabic&&(e=wo.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:vd.apply(this,arguments).reduce(function(i,a){return i+a},0)},rv=function(e,t,r,n){for(var s=[],i=0,a=e.length,o=0;i!==a&&o+t[i]<r;)o+=t[i],i++;s.push(e.slice(0,i));var u=i;for(o=0;i!==a;)o+t[i]>n&&(s.push(e.slice(u,i)),o=0,u=i),o+=t[i],i++;return u!==i&&s.push(e.slice(u,i)),s},nv=function(e,t,r){r||(r={});var n,s,i,a,o,u,d,f=[],p=[f],y=r.textIndent||0,g=0,N=0,S=e.split(" "),j=vd.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var x=Array(u).join(" "),w=[];S.map(function(A){(A=A.split(/\s*\n/)).length>1?w=w.concat(A.map(function(F,z){return(z&&F.length?`
`:"")+F})):w.push(A[0])}),S=w,u=tv.apply(this,[x,r])}for(i=0,a=S.length;i<a;i++){var b=0;if(n=S[i],u&&n[0]==`
`&&(n=n.substr(1),b=1),y+g+(N=(s=vd.apply(this,[n,r])).reduce(function(A,F){return A+F},0))>t||b){if(N>t){for(o=rv.apply(this,[n,s,t-(y+g),t]),f.push(o.shift()),f=[o.pop()];o.length;)p.push([o.shift()]);N=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(A,F){return A+F},0)}else f=[n];p.push(f),y=N+u,g=j}else f.push(n),y+=g+N,g=j}return d=u?function(A,F){return(F?x:"")+A.join(" ")}:function(A){return A.join(" ")},p.map(d)},wo.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,u,d=[];for(o=0,u=n.length;o<u;o++)d=d.concat(nv.apply(this,[n[o],a,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(p){return"0x"+parseInt(p,10).toString(16)},a=e.__fontmetrics__.compress=function(p){var y,g,N,S,j=["{"];for(var x in p){if(y=p[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=i(x).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof y=="number")y<0?(N=i(y).slice(3),S="-"):(N=i(y).slice(2),S=""),N=S+N.slice(0,-1)+n[N.slice(-1)];else{if(Tt(y)!=="object")throw new Error("Don't know what to do with value type "+Tt(y)+".");N=a(y)}j.push(g+N)}return j.push("}"),j.join("")},o=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,N,S,j={},x=1,w=j,b=[],A="",F="",z=p.length-1,D=1;D<z;D+=1)(S=p[D])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(S):S=="{"?(b.push([w,N]),w={},N=void 0):S=="}"?((g=b.pop())[0][g[1]]=w,N=void 0,w=g[0]):S=="-"?x=-1:N===void 0?r.hasOwnProperty(S)?(A+=r[S],N=parseInt(A,16)*x,x=1,A=""):A+=S:r.hasOwnProperty(S)?(F+=r[S],w[N]=parseInt(F,16)*x,x=1,N=void 0,F=""):F+=S;return j},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var y=p.font,g=f.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var N=d.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])}(et.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(_u(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(et),function(e){function t(){return(nt.canvg?Promise.resolve(nt.canvg):Qe(()=>import("./index.es-QPf0HYGE.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}et.API.addSvgAsImage=function(r,n,s,i,a,o,u,d){if(isNaN(n)||isNaN(s))throw Dt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Dt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(N){return N.fromString(p,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(y)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),n,s,i,a,u,d)})}}(),et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),u=[],d=0,f=0,p=0;function y(N,S){var j,x=!1;for(j=0;j<N.length;j+=1)N[j]===S&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=o.length;for(p=0;p<g;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Tt(e)==="object"){for(s in e)if(i=e[s],y(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&y(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(n=!1);n===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+u.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,S=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?S.push("/"+N+" /"+r[N].value):S.push("/"+N+" "+r[N].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+a.length+o.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(et.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var o,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],p=0,y=i.length;p<y;++p){if(o=a.metadata.characterToGlyph(i.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(p),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(d[4-o.length],o)}return f.join("")},n=function(i){var a,o,u,d,f,p,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,y=(o=Object.keys(i).sort(function(g,N){return g-N})).length;p<y;p++)a=o[p],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var o=a.font,u=a.out,d=a.newObject,f=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",N=0;N<y.length;N++)g+=String.fromCharCode(y[N]);var S=d();f({data:g,addLength1:!0,objectId:S}),u("endobj");var j=d();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var x=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+jo(o.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var w=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+jo(o.fontName)),u("/FontDescriptor "+x+" 0 R"),u("/W "+e.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+j+" 0 R"),u("/BaseFont /"+jo(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+w+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var o=a.font,u=a.out,d=a.newObject,f=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,y="",g=0;g<p.length;g++)y+=String.fromCharCode(p[g]);var N=d();f({data:y,addLength1:!0,objectId:N}),u("endobj");var S=d();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var j=d();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+N+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+jo(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=d();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+jo(o.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",u=i.x,d=i.y,f=i.options||{},p=i.mutex||{},y=p.pdfEscape,g=p.activeFontKey,N=p.fonts,S=g,j="",x=0,w="",b=N[S].encoding;if(N[S].encoding!=="Identity-H")return{text:o,x:u,y:d,options:f,mutex:p};for(w=o,S=g,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)N[S].metadata.hasOwnProperty("cmap")&&(a=N[S].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&N[S].metadata.hasOwnProperty("Unicode")?j+=w[x]:j+="";var A="";return parseInt(S.slice(1))<14||b==="WinAnsiEncoding"?A=y(j,S).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(A=r(j,N[S])),p.isHex=!0,{text:A,x:u,y:d,options:f,mutex:p}};t.events.push(["postProcessText",function(i){var a=i.text||"",o=[],u={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([s(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(s(Object.assign({},u,{text:a[d]})).text);i.text=o}else i.text=s(Object.assign({},u,{text:a})).text}])}(et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,o,u,d,f,p=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var A=function(E){var R=E.charCodeAt(),G=R>>8,U=S[G];return U!==void 0?p[256*U+(255&R)]:G===252||G===253?"AL":x.test(G)?"L":G===8?"R":"N"},F=function(E){for(var R,G=0;G<E.length;G++){if((R=A(E.charAt(G)))==="L")return!1;if(R==="R")return!0}return!1},z=function(E,R,G,U){var le,re,fe,Y,te=R[U];switch(te){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(te="AN");break;case"AL":w=!0,te="R";break;case"WS":te="N";break;case"CS":U<1||U+1>=R.length||(le=G[U-1])!=="EN"&&le!=="AN"||(re=R[U+1])!=="EN"&&re!=="AN"?te="N":w&&(re="AN"),te=re===le?re:"N";break;case"ES":te=(le=U>0?G[U-1]:"B")==="EN"&&U+1<R.length&&R[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&G[U-1]==="EN"){te="EN";break}if(w){te="N";break}for(fe=U+1,Y=R.length;fe<Y&&R[fe]==="ET";)fe++;te=fe<Y&&R[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Y=R.length,fe=U+1;fe<Y&&R[fe]==="NSM";)fe++;if(fe<Y){var $=E[U],ce=$>=1425&&$<=2303||$===64286;if(le=R[fe],ce&&(le==="R"||le==="AL")){te="R";break}}}te=U<1||(le=R[U-1])==="B"?"N":G[U-1];break;case"B":w=!1,s=!0,te=b;break;case"S":i=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":te="N"}return te},D=function(E,R,G){var U=E.split("");return G&&M(U,G,{hiLevel:b}),U.reverse(),R&&R.reverse(),U.join("")},M=function(E,R,G){var U,le,re,fe,Y,te=-1,$=E.length,ce=0,k=[],q=b?g:y,W=[];for(w=!1,s=!1,i=!1,le=0;le<$;le++)W[le]=A(E[le]);for(re=0;re<$;re++){if(Y=ce,k[re]=z(E,W,k,re),U=240&(ce=q[Y][N[k[re]]]),ce&=15,R[re]=fe=q[ce][5],U>0)if(U===16){for(le=te;le<re;le++)R[le]=1;te=-1}else te=-1;if(q[ce][6])te===-1&&(te=re);else if(te>-1){for(le=te;le<re;le++)R[le]=fe;te=-1}W[re]==="B"&&(R[re]=0),G.hiLevel|=fe}i&&function(Z,se,X){for(var ee=0;ee<X;ee++)if(Z[ee]==="S"){se[ee]=b;for(var ue=ee-1;ue>=0&&Z[ue]==="WS";ue--)se[ue]=b}}(W,R,$)},Q=function(E,R,G,U,le){if(!(le.hiLevel<E)){if(E===1&&b===1&&!s)return R.reverse(),void(G&&G.reverse());for(var re,fe,Y,te,$=R.length,ce=0;ce<$;){if(U[ce]>=E){for(Y=ce+1;Y<$&&U[Y]>=E;)Y++;for(te=ce,fe=Y-1;te<fe;te++,fe--)re=R[te],R[te]=R[fe],R[fe]=re,G&&(re=G[te],G[te]=G[fe],G[fe]=re);ce=Y}ce++}}},H=function(E,R,G){var U=E.split(""),le={hiLevel:b};return G||(G=[]),M(U,G,le),function(re,fe,Y){if(Y.hiLevel!==0&&f)for(var te,$=0;$<re.length;$++)fe[$]===1&&(te=j.indexOf(re[$]))>=0&&(re[$]=j[te+1])}(U,G,le),Q(2,U,R,G,le),Q(1,U,R,G,le),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,R,G){if(function(le,re){if(re)for(var fe=0;fe<le.length;fe++)re[fe]=fe;o===void 0&&(o=F(le)),d===void 0&&(d=F(le))}(E,R),a||!u||d)if(a&&u&&o^d)b=o?1:0,E=D(E,R,G);else if(!a&&u&&d)b=o?1:0,E=H(E,R,G),E=D(E,R);else if(!a||o||u||d){if(a&&!u&&o^d)E=D(E,R),o?(b=0,E=H(E,R,G)):(b=1,E=H(E,R,G),E=D(E,R));else if(a&&o&&!u&&d)b=1,E=H(E,R,G),E=D(E,R);else if(!a&&!u&&o^d){var U=f;o?(b=1,E=H(E,R,G),b=0,f=!1,E=H(E,R,G),f=U):(b=0,E=H(E,R,G),E=D(E,R),b=1,f=!1,E=H(E,R,G),f=U,E=D(E,R))}}else b=0,E=H(E,R,G);else b=o?1:0,E=H(E,R,G);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,u=E.isOutputVisual,o=E.isInputRtl,d=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([r.doBidiReorder(s[o])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(et),et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ki(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Qk(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Dk(this.contents),this.head=new Uk(this),this.name=new Wk(this),this.cmap=new Xx(this),this.toUnicode={},this.hhea=new zk(this),this.maxp=new Hk(this),this.hmtx=new Gk(this),this.post=new $k(this),this.os2=new qk(this),this.loca=new Xk(this),this.glyf=new Jk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,u,d;for(d=[],a=0,o=(u=this.bbox).length;a<o;a++)t=u[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,o;for(a=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ys,Ki=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,o,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Dk=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,o,u,d,f,p,y,g,N,S;for(S in g=Object.keys(r).length,u=Math.log(2),p=16*Math.floor(Math.log(g)/u),a=Math.floor(p/u),f=16*g-p,(s=new Ki).writeInt(this.scalarType),s.writeShort(g),s.writeShort(p),s.writeShort(a),s.writeShort(f),i=16*g,d=s.pos+i,o=null,N=[],r)for(y=r[S],s.writeString(S),s.writeInt(e(y)),s.writeInt(d),s.writeInt(y.length),N=N.concat(y),S==="head"&&(o=d),d+=y.length;d%4;)N.push(0),d++;return s.write(N),n=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=Qx.call(r);r.length%4;)r.push(0);for(i=new Ki(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),Bk={}.hasOwnProperty,Ms=function(e,t){for(var r in t)Bk.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ys=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Uk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ki).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),av=function(){function e(t,r){var n,s,i,a,o,u,d,f,p,y,g,N,S,j,x,w,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,i=function(){var A,F;for(F=[],u=A=0;0<=y?A<y:A>y;u=0<=y?++A:--A)F.push(t.readUInt16());return F}(),t.pos+=2,S=function(){var A,F;for(F=[],u=A=0;0<=y?A<y:A>y;u=0<=y?++A:--A)F.push(t.readUInt16());return F}(),d=function(){var A,F;for(F=[],u=A=0;0<=y?A<y:A>y;u=0<=y?++A:--A)F.push(t.readUInt16());return F}(),f=function(){var A,F;for(F=[],u=A=0;0<=y?A<y:A>y;u=0<=y?++A:--A)F.push(t.readUInt16());return F}(),s=(this.length-t.pos+this.offset)/2,o=function(){var A,F;for(F=[],u=A=0;0<=s?A<s:A>s;u=0<=s?++A:--A)F.push(t.readUInt16());return F}(),u=x=0,b=i.length;x<b;u=++x)for(j=i[u],n=w=N=S[u];N<=j?w<=j:w>=j;n=N<=j?++w:--w)f[u]===0?a=n+d[u]:(a=o[f[u]/2+(n-N)-(y-u)]||0)!==0&&(a+=d[u]),this.codeMap[n]=65535&a}t.pos=p}return e.encode=function(t,r){var n,s,i,a,o,u,d,f,p,y,g,N,S,j,x,w,b,A,F,z,D,M,Q,H,E,R,G,U,le,re,fe,Y,te,$,ce,k,q,W,Z,se,X,ee,ue,oe,me,je;switch(U=new Ki,a=Object.keys(t).sort(function(ke,Fe){return ke-Fe}),r){case"macroman":for(S=0,j=function(){var ke=[];for(N=0;N<256;++N)ke.push(0);return ke}(),w={0:0},i={},le=0,te=a.length;le<te;le++)w[ue=t[s=a[le]]]==null&&(w[ue]=++S),i[s]={old:t[s],new:w[t[s]]},j[s]=w[t[s]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(j),{charMap:i,subtable:U.data,maxGlyphID:S+1};case"unicode":for(R=[],p=[],b=0,w={},n={},x=d=null,re=0,$=a.length;re<$;re++)w[F=t[s=a[re]]]==null&&(w[F]=++b),n[s]={old:F,new:w[F]},o=w[F]-s,x!=null&&o===d||(x&&p.push(x),R.push(s),d=o),x=s;for(x&&p.push(x),p.push(65535),R.push(65535),H=2*(Q=R.length),M=2*Math.pow(Math.log(Q)/Math.LN2,2),y=Math.log(M/2)/Math.LN2,D=2*Q-M,u=[],z=[],g=[],N=fe=0,ce=R.length;fe<ce;N=++fe){if(E=R[N],f=p[N],E===65535){u.push(0),z.push(0);break}if(E-(G=n[E].new)>=32768)for(u.push(0),z.push(2*(g.length+Q-N)),s=Y=E;E<=f?Y<=f:Y>=f;s=E<=f?++Y:--Y)g.push(n[s].new);else u.push(G-E),z.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*Q+2*g.length),U.writeUInt16(0),U.writeUInt16(H),U.writeUInt16(M),U.writeUInt16(y),U.writeUInt16(D),X=0,k=p.length;X<k;X++)s=p[X],U.writeUInt16(s);for(U.writeUInt16(0),ee=0,q=R.length;ee<q;ee++)s=R[ee],U.writeUInt16(s);for(oe=0,W=u.length;oe<W;oe++)o=u[oe],U.writeUInt16(o);for(me=0,Z=z.length;me<Z;me++)A=z[me],U.writeUInt16(A);for(je=0,se=g.length;je<se;je++)S=g[je],U.writeUInt16(S);return{charMap:n,subtable:U.data,maxGlyphID:b+1}}},e}(),Xx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new av(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=av.encode(r,n),(i=new Ki).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),zk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),qk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),$k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,u,d;for(d=[],a=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;a=0<=u?++o:--o)d.push(r.readUInt32());return d}).call(this)}},t}(),Vk=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Wk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,a,o,u,d,f,p,y,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),u=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+u+r.readShort()});for(d={},a=p=0,y=s.length;p<y;a=++p)i=s[a],r.pos=i.offset,f=r.readString(i.length),o=new Vk(f,i),d[g=i.nameID]==null&&(d[g]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),Hk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Gk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,a,o,u,d;for(r.pos=this.offset,this.metrics=[],n=0,u=this.file.hhea.numberOfMetrics;0<=u?n<u:n>u;n=0<=u?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(r.readInt16());return p}(),this.widths=(function(){var f,p,y,g;for(g=[],f=0,p=(y=this.metrics).length;f<p;f++)a=y[f],g.push(a.advance);return g}).call(this),s=this.widths[this.widths.length-1],d=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Qx=[].slice,Jk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,a,o,u,d,f,p,y;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(u=new Ki(n.read(i))).readShort(),f=u.readShort(),y=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[r]=o===-1?new Yk(u,f,y,d,p):new Kk(u,o,f,y,d,p),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,a,o,u,d;for(o=[],a=[],u=0,d=n.length;u<d;u++)i=r[n[u]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},t}(),Kk=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Yk=function(){function e(t,r,n,s,i){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ki(Qx.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Xk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ms(t,ys),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<n.length&&n[a]==o){++a,s[o]=i;var u=this.offsets[o],d=this.offsets[o+1]-u;d>0&&(i+=d)}for(var f=new Array(4*s.length),p=0;p<s.length;++p)f[4*p+3]=255&s[p],f[4*p+2]=(65280&s[p])>>8,f[4*p+1]=(16711680&s[p])>>16,f[4*p]=(4278190080&s[p])>>24;return f},t}(),Qk=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,o,u;for(s={},a=0,o=t.length;a<o;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,o,u,d,f,p,y,g,N,S,j,x;for(s in n=Xx.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),g={0:0},x=n.charMap)g[(u=x[s]).old]=u.new;for(N in y=n.maxGlyphID,a)N in g||(g[N]=y++);return f=function(w){var b,A;for(b in A={},w)A[w[b]]=b;return A}(g),p=Object.keys(f).sort(function(w,b){return w-b}),S=function(){var w,b,A;for(A=[],w=0,b=p.length;w<b;w++)o=p[w],A.push(f[o]);return A}(),i=this.font.glyf.encode(a,S,g),d=this.font.loca.encode(i.offsets,S),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var o,u,d;for(d=[],o=0,u=r.length;o<u;o++)n=r[o],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();function Zk(e,t){const[r,n]=T.useState(""),[s,i]=T.useState(!1),a=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{const d=e||"";n(""),i(!1);let f=0;const p=Math.max(15,Math.floor((t||1500)/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(t||1500,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(e||""),i(!0)}}}function e8(){const e=nn(),[t,r]=T.useState(null),[n,s]=T.useState(""),[i,a]=T.useState(!0),[o,u]=T.useState(""),[d,f]=T.useState("intro"),[p,y]=T.useState(0),[g,N]=T.useState(0),[S,j]=T.useState([]),[x,w]=T.useState({}),[b,A]=T.useState(null),[F,z]=T.useState(""),[D,M]=T.useState(!1),[Q,H]=T.useState(!1),[E,R]=T.useState(!1),[G,U]=T.useState(""),[le,re]=T.useState(!1),[fe,Y]=T.useState(!1),[te,$]=T.useState(!1),[ce,k]=T.useState(!1),[q,W]=T.useState(!1),[Z,se]=T.useState("actions"),X="@zelia";T.useEffect(()=>{let xe=!0;return(async()=>{var Re;try{const{data:{user:Te}}=await Rr.auth.getUser();if(!Te){e("/login");return}z(Te.id);const $e=await Os.getProfile().catch(()=>null);if(!xe)return;const we=((Re=$e==null?void 0:$e.data)==null?void 0:Re.profile)||null;r(we),s(Ax(we,Te.id));const Pt=await bt.get("/questionnaire/questions",{params:{type:"mbti",_:Date.now()}}),ht=Array.isArray(Pt==null?void 0:Pt.data)?Pt.data:[];j(ht)}catch(Te){if(console.error("Niv4 init error",Te),!xe)return;u("Erreur de chargement")}finally{xe&&a(!1)}})(),()=>{xe=!1}},[e]);const ee=T.useMemo(()=>[{text:"Yo, niveau 4 ! On passe au MBTI pour mieux cerner ton style.",durationMs:3500},{text:"Je te pose quelques questions, tu réponds à l'instinct.",durationMs:3500},{text:"Ensuite j'analyse tes réponses et je te sors une analyse MBTI bien complète (≈ 1000 mots).",durationMs:4500},{text:"Objectif: que tu comprennes comment tu fonctionnes et quels métiers te collent à la peau.",durationMs:4500},{text:"Prêt(e) ? On démarre tranquille.",durationMs:2500}],[]),ue=ee[p]||{text:"",durationMs:1500},{text:oe,done:me,skip:je}=Zk(ue.text,ue.durationMs);T.useEffect(()=>{if(d!=="intro"||me)return;const xe=setInterval(()=>H(Re=>!Re),200);return()=>clearInterval(xe)},[d,me]),T.useEffect(()=>{if(!(d!=="results"||!b)){if(b.shareImageUrl){U(b.shareImageUrl);return}at()}},[b,at,d]);function ke(){if(!me){je();return}p+1<ee.length?y(p+1):(f("quiz"),N(0))}const Fe=T.useMemo(()=>["Oui","Un peu","Je ne sais pas","Pas trop","Non"],[]),ge=S[g],J=T.useMemo(()=>{const xe=ge&&(ge.content??ge.contenu);if(typeof xe!="string")return xe;if(xe.startsWith("(")){const Re=xe.indexOf('"'),Te=xe.indexOf('"',Re+1);if(Re!==-1&&Te!==-1)return xe.slice(Re+1,Te)}return xe},[ge]),Ue=S.length?Math.round((g+1)/S.length*100):0,Be=ge?x[ge.id]!=null:!1;async function Ne(){var xe;M(!0);try{const Re={answers:Object.entries(x).map(([we,Pt])=>({question_id:Number(we),answer:Pt})),questionnaireType:"mbti"};await bt.post("/questionnaire/submit?type=mbti",Re);const Te=await bt.post("/analysis/generate-analysis-by-type",{userId:F,questionnaireType:"mbti"}),$e=(xe=Te==null?void 0:Te.data)==null?void 0:xe.analysis;$e&&(A($e),$e.shareImageUrl&&U($e.shareImageUrl)),f("results")}catch(Re){console.error("MBTI submit/analyze error",Re),u("Impossible de générer l'analyse MBTI")}finally{M(!1)}}function Ie(){f("success"),(async()=>{try{await rc({minLevel:4,xpReward:180})}catch(xe){console.warn("Progression update failed (non-blocking):",xe)}})()}async function Me(xe){try{$(!0);const Re=new et({orientation:"p",unit:"mm",format:"a4"}),Te=Re.internal.pageSize.getWidth(),$e=Re.internal.pageSize.getHeight(),we=new Image,Pt=await(await fetch(xe)).blob(),ht=URL.createObjectURL(Pt);await new Promise((ot,st)=>{we.onload=()=>ot(),we.onerror=st,we.src=ht});const _r=we.width,ft=we.height,xt=_r/ft,Bt=Te/$e;let mt,Nr;xt>Bt?(mt=Te,Nr=mt/xt):(Nr=$e,mt=Nr*xt);const Et=(Te-mt)/2,Ve=($e-Nr)/2;Re.addImage(xe,"PNG",Et,Ve,mt,Nr,void 0,"FAST"),Re.save("zelia-mbti-resultat.pdf"),URL.revokeObjectURL(ht)}catch(Re){console.error("PDF generation failed",Re)}finally{$(!1)}}async function De(){if(b){k(!0);try{const xe=await at();xe&&(U(xe),R(!0))}finally{k(!1)}}}async function Je(){if(b){re(!0);try{const xe=await at();if(!xe)throw new Error("no image");const Te=await(await fetch(xe)).blob(),$e=new File([Te],"zelia-mbti-story.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[$e]})){await navigator.share({title:(b==null?void 0:b.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zélia — ${(b==null?void 0:b.personalityType)||""}`.trim(),files:[$e]});return}U(xe),R(!0)}catch(xe){console.warn("Native share failed, falling back to modal",xe);const Re=await at();Re&&U(Re),R(!0)}finally{re(!1)}}}async function tt(){if(b)try{W(!0);const xe=new et({orientation:"p",unit:"mm",format:"a4"}),Re=15,Te=xe.internal.pageSize.getWidth(),$e=Te-Re*2;let we=Re;xe.setFont("helvetica","bold"),xe.setFontSize(18);const Pt=b!=null&&b.personalityType?`Résultats MBTI — ${b.personalityType}`:"Résultats MBTI";if(xe.text(Pt,Re,we),we+=8,xe.setDrawColor(0),xe.setLineWidth(.5),xe.line(Re,we,Te-Re,we),we+=6,b!=null&&b.personalityAnalysis){xe.setFont("helvetica","bold"),xe.setFontSize(14),xe.text("Analyse de personnalité",Re,we),we+=6,xe.setFont("helvetica","normal"),xe.setFontSize(11);const ft=xe.splitTextToSize(b.personalityAnalysis,$e);for(const xt of ft)we>280&&(xe.addPage(),we=Re),xe.text(xt,Re,we),we+=6;we+=2}if(b!=null&&b.skillsAssessment){we>270&&(xe.addPage(),we=Re),xe.setFont("helvetica","bold"),xe.setFontSize(14),xe.text("Points forts",Re,we),we+=6,xe.setFont("helvetica","normal"),xe.setFontSize(11);const ft=xe.splitTextToSize(b.skillsAssessment,$e);for(const xt of ft)we>280&&(xe.addPage(),we=Re),xe.text(xt,Re,we),we+=6;we+=2}if(Array.isArray(b==null?void 0:b.jobRecommendations)&&b.jobRecommendations.length){we>270&&(xe.addPage(),we=Re),xe.setFont("helvetica","bold"),xe.setFontSize(14),xe.text("Recommandations d'emploi",Re,we),we+=6,xe.setFont("helvetica","normal"),xe.setFontSize(11);const ft=b.jobRecommendations;for(let xt=0;xt<ft.length;xt++){const Bt=ft[xt],mt=typeof Bt=="string"?Bt:(Bt==null?void 0:Bt.title)||"";if(mt){if(we>275&&(xe.addPage(),we=Re),xe.setFont("helvetica","bold"),xe.text(`• ${mt}`,Re,we),we+=6,xe.setFont("helvetica","normal"),Array.isArray(Bt==null?void 0:Bt.skills)&&Bt.skills.length){const Nr=`Compétences clés: ${Bt.skills.join(", ")}`,Et=xe.splitTextToSize(Nr,$e);for(const Ve of Et)we>280&&(xe.addPage(),we=Re),xe.text(Ve,Re+4,we),we+=6}we+=2}}}xe.setFont("helvetica","italic"),xe.setFontSize(9);const ht="Généré par Zélia — Niveau 4 MBTI",_r=xe.getNumberOfPages();for(let ft=1;ft<=_r;ft++){xe.setPage(ft);const xt=xe.getTextWidth(ht);xe.text(ht,(Te-xt)/2,295)}xe.save("zelia-mbti-resultats.pdf")}catch(xe){console.error("PDF report generation failed",xe)}finally{W(!1)}}const it=T.useCallback(async()=>{var xe;if(!b)return null;try{const Re=await wu.getMyResults(),Te=((xe=Re==null?void 0:Re.data)==null?void 0:xe.results)||null;if(!Te)return b;const $e={...b,personalityType:(b==null?void 0:b.personalityType)||Te.personalityType||null,personalityAnalysis:(b==null?void 0:b.personalityAnalysis)||Te.personalityAnalysis||null,skillsAssessment:(b==null?void 0:b.skillsAssessment)||Te.skillsAssessment||null,jobRecommendations:Array.isArray(b==null?void 0:b.jobRecommendations)&&b.jobRecommendations.length?b.jobRecommendations:Te.jobRecommendations||[],shareImageUrl:Te.shareImageUrl||(b==null?void 0:b.shareImageUrl)||null};return A(we=>we?{...we,...$e}:$e),$e}catch(Re){return console.warn("Failed to refresh analysis snapshot",Re),b}},[b]),at=T.useCallback(async()=>{var Re;if(!b)return"";if(b.shareImageUrl)return U(b.shareImageUrl),b.shareImageUrl;if(fe)return G||"";const xe=await it()||b;if(!xe)return"";Y(!0);try{const Te=await Ex({analysis:xe,avatarUrl:n});if(!Te)return"";U(Te);let $e="";try{const we=await wu.saveShareImage({dataUrl:Te,questionnaireType:"mbti",metadata:{source:"niveau4",userId:F}});$e=((Re=we==null?void 0:we.data)==null?void 0:Re.url)||""}catch(we){console.warn("Failed to upload share image to Cloudinary, using local copy instead",we)}return $e?(A(we=>we&&{...we,shareImageUrl:$e}),U($e),$e):Te}catch(Te){return console.error("Share image generation failed",Te),""}finally{Y(!1)}},[b,n,it,G,fe,F]);return i?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):o?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[c.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[c.jsx("img",{src:n,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),c.jsxs("div",{className:"flex-1 w-full",children:[c.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[c.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:d==="intro"?c.jsx(c.Fragment,{children:oe}):d==="quiz"?c.jsx(c.Fragment,{children:"Réponds aux questions MBTI, puis termine pour lancer l'analyse."}):d==="generating"?c.jsx(c.Fragment,{children:"J'analyse tes réponses…"}):d==="results"?c.jsx(c.Fragment,{children:Z==="confirm"?"Hésite pas à nous taguer dans ta story pour qu'on te republie si t'as aimé les résultats":c.jsxs(c.Fragment,{children:["Voici ton analyse MBTI. Si tu veux, tu peux la partager en story et me taguer ",c.jsx("strong",{children:"@zelia"})," pour que je la reposte ✨"]})}):d==="success"?c.jsx(c.Fragment,{children:"Niveau 4 réussi !"}):null}),c.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),d==="intro"&&c.jsx("div",{className:"mt-4",children:c.jsx("button",{onClick:ke,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 w-full sm:w-auto",children:"Suivant"})}),d==="results"&&c.jsx("div",{className:"mt-4",children:Z==="actions"?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:[c.jsx("button",{onClick:De,disabled:ce,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:c.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[c.jsx("path",{d:"M2 12s4-8 10-8 10 8 10 8-4 8-10 8S2 12 2 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),c.jsx("span",{className:"font-medium",children:ce?"Préparation…":"Aperçu"})]})}),c.jsx("button",{onClick:tt,disabled:q,className:"w-full h-12 px-3 rounded-lg bg-white text-gray-900 border border-gray-300",children:c.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"}),c.jsx("path",{d:"M14 2v6h6"}),c.jsx("path",{d:"M8 14h8M8 18h5"})]}),c.jsx("span",{className:"font-medium",children:q?"Création du PDF…":"PDF"})]})}),c.jsx("button",{onClick:Je,disabled:le,className:"w-full h-12 px-3 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:c.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[c.jsx("path",{d:"M4 12v7a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7"}),c.jsx("path",{d:"M12 16V4"}),c.jsx("path",{d:"m8 8 4-4 4 4"})]}),c.jsx("span",{className:"font-medium",children:le?"Préparation…":"Partager"})]})}),c.jsx("button",{onClick:()=>se("confirm"),className:"w-full h-12 px-3 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:c.jsxs("span",{className:"w-full h-full flex items-center justify-center gap-2",children:[c.jsx("span",{className:"font-medium",children:"Continuer"}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:c.jsx("path",{d:"m9 18 6-6-6-6",strokeLinecap:"round",strokeLinejoin:"round"})})]})})]}):c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:Ie,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Valider et terminer"})})})]})]})}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:[d==="quiz"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Test de personnalité MBTI"}),(()=>{const Re=S.length||0,Te=Re>=38&&Re<=40?40:Math.max(2+Re,3),$e=3+g;return c.jsxs("div",{className:"text-sm text-text-secondary",children:[$e," / ",Te," • ",Ue,"%"]})})()]}),c.jsx("div",{className:"mb-4 text-text-primary whitespace-pre-wrap",children:J}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Fe.map((xe,Re)=>c.jsx("button",{type:"button",onClick:()=>w({...x,[ge==null?void 0:ge.id]:xe}),className:`px-3 py-2 rounded-lg border ${x[ge==null?void 0:ge.id]===xe?"border-black bg-black text-white":"border-line"}`,children:xe},Re))}),c.jsxs("div",{className:"flex items-center justify-between mt-6",children:[c.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg border border-line disabled:opacity-50",onClick:()=>N(xe=>Math.max(0,xe-1)),disabled:g===0,children:"Précédent"}),g<S.length-1?c.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>N(xe=>Math.min(S.length-1,xe+1)),disabled:!Be,children:"Suivant"}):c.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-black text-white disabled:opacity-50",onClick:()=>{f("generating"),Ne()},disabled:!Be||D,children:D?"Analyse…":"Terminer"})]})]}),d==="results"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:"Mes Résultats (MBTI)"}),c.jsx("p",{className:"text-text-secondary",children:"Analyse personnalisée de ton test MBTI"})]}),c.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analyse de personnalité"}),c.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:(b==null?void 0:b.personalityAnalysis)||"—"})]}),Array.isArray(b==null?void 0:b.jobRecommendations)&&b.jobRecommendations.length>0&&c.jsxs("section",{className:"bg-surface border border-line rounded-xl shadow-card p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommandations d'emploi"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.jobRecommendations.map((xe,Re)=>{var Te;return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold mb-2",children:xe.title}),!!((Te=xe.skills)!=null&&Te.length)&&c.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700",children:xe.skills.map(($e,we)=>c.jsx("li",{children:$e},we))})]},Re)})})]})]})]})]}),d==="success"&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🏆"}),c.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 4 réussi !"}),c.jsx("p",{className:"text-text-secondary mb-4",children:"Bravo, tu as complété le test MBTI et découvert ton profil."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"}),c.jsx("button",{onClick:()=>e("/app/results"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Voir mes résultats"})]}),c.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-2 h-2 bg-pink-400 rounded-full left-6 top-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full right-8 top-10 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-blue-400 rounded-full left-10 bottom-8 animate-ping"}),c.jsx("div",{className:"absolute w-2 h-2 bg-green-400 rounded-full right-6 bottom-10 animate-ping"})]})]})}),E&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 overscroll-contain",onClick:()=>R(!1),children:c.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-[92%] max-w-[360px] sm:max-w-[420px] md:max-w-[560px] lg:max-w-[720px] p-4 md:p-5 border border-gray-200 max-h-[88vh] sm:max-h-[90vh] overflow-y-auto",onClick:xe=>xe.stopPropagation(),children:[c.jsx("button",{onClick:()=>R(!1),"aria-label":"Fermer",className:"absolute top-3 right-3 h-8 w-8 rounded-full bg-black text-white flex items-center justify-center shadow-sm hover:opacity-90",children:"✕"}),c.jsx("h3",{className:"text-lg font-bold pr-8",children:"Prévisualisation à partager"}),G?c.jsx("img",{src:G,alt:"Zélia MBTI Story",className:"mt-3 w-full h-auto rounded-lg border border-gray-200"}):c.jsx("div",{className:"text-center py-10",children:"Génération de l'image…"}),c.jsxs("div",{className:"flex items-center justify-center gap-6 mt-3 opacity-80",children:[c.jsx("img",{src:"/assets/images/social/instagram.svg",alt:"Instagram",className:"w-7 h-7"}),c.jsx("img",{src:"/assets/images/social/twitter.svg",alt:"Twitter",className:"w-7 h-7"}),c.jsx("img",{src:"/assets/images/social/snapchat.svg",alt:"Snapchat",className:"w-7 h-7"})]}),c.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:["Astuce: Partage la story sur Instagram et tag ",X," pour qu'on puisse la republier."]}),c.jsx("div",{className:"sticky bottom-0 pt-3 mt-3 bg-white/95 supports-[backdrop-filter]:bg-white/80 backdrop-blur border-t border-gray-200",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[c.jsx("div",{className:"flex-1 text-left",children:G&&c.jsx("button",{onClick:()=>Me(G),disabled:te,className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300 mr-2",children:te?"Création du PDF…":"Télécharger PDF"})}),G&&c.jsx("a",{href:G,download:"zelia-mbti-story.png",className:"px-4 py-2 rounded-lg bg-black text-white border border-gray-200",children:"Enregistrer l'image"}),G&&c.jsx("button",{onClick:async()=>{try{const Re=await(await fetch(G)).blob(),Te=new File([Re],"zelia-mbti-story.png",{type:"image/png"});navigator.canShare&&navigator.canShare({files:[Te]})?(await navigator.share({title:(b==null?void 0:b.personalityType)||"Profil MBTI",text:`Mon profil MBTI sur Zélia — ${(b==null?void 0:b.personalityType)||""}`.trim(),files:[Te]}),R(!1)):alert("Le partage natif n'est pas supporté sur cet appareil. Vous pouvez enregistrer l'image puis la partager manuellement.")}catch(xe){console.warn("Share from modal failed",xe)}},className:"px-4 py-2 rounded-lg bg-[#f68fff] text-black border border-gray-200",children:"Partager"}),c.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Fermer"})]})})]})})]})}function t8(e,t="zelia"){try{if(e!=null&&e.avatar_url&&typeof e.avatar_url=="string")return e.avatar_url;if(e!=null&&e.avatar&&typeof e.avatar=="string")return e.avatar;if(e!=null&&e.avatar_json){let n=e.avatar_json;if(typeof n=="string")try{n=JSON.parse(n)}catch{}if(n&&typeof n=="object"){if(n.url&&typeof n.url=="string")try{const i=new URL(n.url);if(i.protocol.startsWith("http"))return i.toString()}catch{}const s=new URLSearchParams;return s.set("seed",String(t)),Object.entries(n).forEach(([i,a])=>{a!=null&&a!==""&&s.set(i,String(a))}),s.has("size")||s.set("size","300"),`https://api.dicebear.com/9.x/lorelei/svg?${s.toString()}`}}}catch{}return`https://api.dicebear.com/9.x/lorelei/svg?${new URLSearchParams({seed:String(t),size:"300",radius:"15"}).toString()}`}function r8(e,t){const[r,n]=T.useState(""),[s,i]=T.useState(!1),a=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{n(""),i(!1);const d=e||"";let f=0;const p=Math.max(15,Math.floor(t/Math.max(1,d.length)));return a.current=setInterval(()=>{f++,n(d.slice(0,f)),f>=d.length&&clearInterval(a.current)},p),o.current=setTimeout(()=>{clearInterval(a.current),n(d),i(!0)},Math.max(t,(d.length+1)*p)),()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current)}},[e,t]),{text:r,done:s,skip:()=>{a.current&&clearInterval(a.current),o.current&&clearTimeout(o.current),n(e||""),i(!0)}}}function n8(){const e=nn(),[t,r]=T.useState(null),[n,s]=T.useState(""),[i,a]=T.useState(!0),[o,u]=T.useState(""),[d,f]=T.useState(""),[p,y]=T.useState(0),[g,N]=T.useState({}),[S,j]=T.useState(!1),[x,w]=T.useState(!1),[b,A]=T.useState(!1),[F,z]=T.useState(""),D=$=>{if("speechSynthesis"in window){const ce=new SpeechSynthesisUtterance($);ce.lang="en-US",ce.rate=.8,window.speechSynthesis.speak(ce)}};T.useEffect(()=>{let $=!0;return(async()=>{var ce;try{const{data:{user:k}}=await Rr.auth.getUser();if(!k){e("/login");return}f(k.id);const q=await Os.getProfile().catch(()=>null);if(!$)return;const W=((ce=q==null?void 0:q.data)==null?void 0:ce.profile)||(q==null?void 0:q.data)||null;r(W),s(t8(W,k.id))}catch(k){if(console.error(k),!$)return;u("Erreur de chargement")}finally{$&&a(!1)}})(),()=>{$=!1}},[e]);const M=T.useMemo(()=>[{type:"text",text:"Hey! Welcome to Level 5. We're going to test your English skills in a fun conversation. I'll ask you questions, play some audio, and at the end, I'll tell you your CEFR level from A1 to C2. Ready?",durationMs:6e3},{type:"text",text:"First, let's test your listening. I'll play a short audio. Listen carefully and answer the question after.",durationMs:4e3},{type:"audio",text:"Listen: 'Hello, my name is John. I live in London and I work as a teacher. I like reading books and playing football.' What is John's job?",audioText:"Hello, my name is John. I live in London and I work as a teacher. I like reading books and playing football."},{type:"input",id:"listening1",placeholder:"Your answer..."},{type:"text",text:"Good! Now, another listening test. Listen: 'The weather is sunny today. I am going to the park with my friends. We will have a picnic and play games.' Where are they going?",durationMs:4e3},{type:"audio",text:"Listen carefully.",audioText:"The weather is sunny today. I am going to the park with my friends. We will have a picnic and play games."},{type:"input",id:"listening2",placeholder:"Your answer..."},{type:"text",text:"Great listening! Now, speaking. Describe your favorite hobby in English. Be as detailed as you can.",durationMs:3e3},{type:"input",id:"speaking1",placeholder:"Describe your hobby..."},{type:"text",text:"Nice! Reading test. Read this: 'Cats are popular pets. They are independent and playful. Many people love cats because they are cute and fun.' What are cats described as?",durationMs:5e3},{type:"input",id:"reading1",placeholder:"Your answer..."},{type:"text",text:"Good. Writing test. Write a short paragraph about your daily routine. Use at least 5 sentences.",durationMs:3e3},{type:"input",id:"writing1",placeholder:"Write your paragraph..."},{type:"text",text:"Vocabulary: What does 'happy' mean? Choose: a) sad, b) joyful, c) angry",durationMs:3e3},{type:"input",id:"vocab1",placeholder:"a, b, or c..."},{type:"text",text:"Grammar: Fill in the blank: 'I ___ to school every day.' (go, goes, going)",durationMs:3e3},{type:"input",id:"grammar1",placeholder:"Your answer..."},{type:"text",text:"Conversation: What do you think about learning English? Why is it important?",durationMs:3e3},{type:"input",id:"conversation1",placeholder:"Your opinion..."},{type:"text",text:"Thanks for participating! Now, let's calculate your English level based on your answers.",durationMs:3e3},{type:"result"}],[]),Q=M[p]||{type:"text",text:"",durationMs:1e3},{text:H,done:E,skip:R}=r8(Q.type==="text"||Q.type==="audio"?Q.text:"",Q.durationMs||1500);T.useEffect(()=>{if(Q.type!=="text"&&Q.type!=="audio"||E)return;const $=setInterval(()=>w(ce=>!ce),200);return()=>clearInterval($)},[Q,E]);function G($,ce={}){try{const k=new URL($);return/api\.dicebear\.com/.test(k.host)&&/\/lorelei\/svg/.test(k.pathname)?(Object.entries(ce).forEach(([W,Z])=>{Z==null||Z===""?k.searchParams.delete(W):k.searchParams.set(W,String(Z))}),k.searchParams.has("size")||k.searchParams.set("size","300"),k.toString()):$}catch{return $}}const U=T.useMemo(()=>{let $=n;return!$||!(()=>{try{const k=new URL($);return/api\.dicebear\.com/.test(k.host)&&/\/lorelei\/svg/.test(k.pathname)}catch{return!1}})()||(Q.type==="text"&&!E?$=G($,{mouth:x?"happy08":null}):$=G($,{mouth:null})),$},[n,Q,E,x]),le=()=>Q.type==="text"||Q.type==="audio"?E:Q.type==="input"?g[Q.id]&&g[Q.id].trim().length>0:(Q.type==="result",!0),re=()=>{if(Q.type==="text"&&!E){R();return}if(le())if(p+1<M.length){const $=p+1;y($);const ce=M[$];ce&&ce.type==="audio"&&D(ce.audioText),ce&&ce.type==="result"&&z(Y(g))}else te()};function fe($){return{A1:`Your English level is: A1 (Beginner)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires. À ce niveau débutant, concentrez-vous sur les bases : vocabulaire quotidien, phrases simples. Avec de la pratique régulière, vous progresserez rapidement vers des niveaux plus avancés qui ouvriront des opportunités internationales.`,A2:`Your English level is: A2 (Elementary)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires et de la technologie. À ce niveau élémentaire, vous pouvez déjà communiquer sur des sujets familiers. Continuez à pratiquer pour atteindre B1 et améliorer votre employabilité sur le marché international.`,B1:`Your English level is: B1 (Intermediate)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau intermédiaire, vous pouvez discuter de sujets variés et comprendre des textes complexes. Cela vous donne déjà un avantage compétitif ; visez B2 pour des opportunités plus élevées.`,B2:`Your English level is: B2 (Upper Intermediate)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau avancé, vous maîtrisez la langue couramment. Cela ouvre des portes vers des postes internationaux et des carrières dans des entreprises multinationales. Continuez à perfectionner pour atteindre C1.`,C1:`Your English level is: C1 (Advanced)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau avancé, vous utilisez l'anglais avec aisance et précision. Cela vous positionne pour des rôles de leadership international et des opportunités dans des secteurs de pointe. Visez C2 pour une maîtrise totale.`,C2:`Your English level is: C2 (Proficient)

L'anglais est essentiel pour votre avenir professionnel car c'est la langue internationale des affaires, de la technologie et de la communication. À ce niveau expert, vous maîtrisez parfaitement l'anglais. Cela vous donne accès aux meilleures opportunités professionnelles mondiales, y compris dans des domaines spécialisés et innovants. Félicitations pour ce niveau exceptionnel !`}[$]||"Your English level is: "+$+`

L'anglais est essentiel pour votre avenir professionnel. Continuez à pratiquer !`}function Y($){var oe,me,je,ke,Fe,ge,J;let ce=0;((oe=$.listening1)!=null&&oe.toLowerCase().includes("teacher")||(me=$.listening1)!=null&&me.toLowerCase().includes("professor"))&&(ce+=25),((je=$.listening2)!=null&&je.toLowerCase().includes("park")||(ke=$.listening2)!=null&&ke.toLowerCase().includes("garden"))&&(ce+=25);const k=$.speaking1||"";k.split(/\s+/).length>20&&(ce+=15),k.includes("I")&&k.includes("like")&&(ce+=10),(k.includes("because")||k.includes("so"))&&(ce+=5);const W=((Fe=$.reading1)==null?void 0:Fe.toLowerCase())||"";(W.includes("independent")||W.includes("playful")||W.includes("cute")||W.includes("fun"))&&(ce+=20);const Z=$.writing1||"",se=Z.split(/\s+/).length;Z.split(/[.!?]+/).filter(Ue=>Ue.trim().length>0).length>=5&&(ce+=15),se>50&&(ce+=10),Z.includes("I ")&&Z.includes("my ")&&(ce+=5),((ge=$.vocab1)==null?void 0:ge.toLowerCase().trim())==="b"&&(ce+=15),((J=$.grammar1)==null?void 0:J.toLowerCase().trim())==="go"&&(ce+=15);const ee=$.conversation1||"";return ee.split(/\s+/).length>30&&(ce+=10),(ee.includes("important")||ee.includes("because")||ee.includes("future"))&&(ce+=10),ce<=30?"A1":ce<=60?"A2":ce<=90?"B1":ce<=120?"B2":ce<=150?"C1":"C2"}function te(){const $=Y(g);z($),j(!0),(async()=>{try{try{await bt.post("/questionnaire/niveau5",{answers:g,englishLevel:$})}catch{}try{await rc({minLevel:5,xpReward:180})}catch(ce){console.warn("Progression update failed",ce)}A(!0)}finally{j(!1)}})()}return i?c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"inline-block w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"mt-2 text-text-secondary",children:"Chargement…"})]}):o?c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg",children:o})}):c.jsxs("div",{className:"p-4 md:p-6",children:[c.jsx("div",{className:"max-w-4xl mx-auto",children:c.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-card",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[c.jsx("img",{src:U,alt:"Avatar",className:"w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64 rounded-2xl border border-gray-100 shadow-sm object-contain bg-white mx-auto md:mx-0"}),c.jsxs("div",{className:"flex-1 w-full",children:[(Q.type==="text"||Q.type==="audio")&&c.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[c.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:H}),c.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),Q.type==="result"&&c.jsxs("div",{className:"relative bg-black text-white rounded-2xl p-4 md:p-5 w-full",children:[c.jsx("div",{className:"text-base md:text-lg leading-relaxed whitespace-pre-wrap min-h-[3.5rem]",children:fe(F)}),c.jsx("div",{className:"absolute -left-2 top-6 w-0 h-0 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-black"})]}),Q.type==="input"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"font-medium text-text-primary block",children:"Réponse"}),c.jsx("textarea",{className:"w-full rounded-xl border border-gray-300 p-3 focus:outline-none focus:ring-2 focus:ring-black min-h-[140px]",placeholder:Q.placeholder||"Ta réponse...",value:g[Q.id],onChange:$=>N(ce=>({...ce,[Q.id]:$.target.value}))})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[c.jsx("button",{onClick:re,disabled:!le()||S,className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200 disabled:opacity-50",children:p+1<M.length?(Q.type==="text"||Q.type==="audio")&&!E?"Passer":"Suivant":"Terminer"}),c.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-white text-gray-900 border border-gray-300",children:"Quitter"})]})]})]})})}),b&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"relative bg-white border border-gray-200 rounded-2xl p-8 shadow-2xl text-center max-w-md w-11/12",children:[c.jsx("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 w-10 h-10 bg-[#c1ff72] rounded-full flex items-center justify-center shadow-md animate-bounce",children:"🎯"}),c.jsx("h3",{className:"text-2xl font-extrabold mb-2",children:"Niveau 5 terminé !"}),c.jsxs("p",{className:"text-text-secondary mb-4",children:["Ton niveau d'anglais est : ",c.jsx("strong",{children:F}),". Continue à pratiquer pour progresser !"]}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:c.jsx("button",{onClick:()=>e("/app/activites"),className:"px-4 py-2 rounded-lg bg-[#c1ff72] text-black border border-gray-200",children:"Retour aux activités"})})]})})]})}function s8(){const[e,t]=T.useState("loading"),[r,n]=T.useState(""),s=nn(),i=li();return T.useEffect(()=>{(async()=>{try{const o=new URLSearchParams(i.hash.substring(1)),u=o.get("access_token"),d=o.get("refresh_token");if(o.get("type")==="signup"&&u){const{data:p,error:y}=await Rr.auth.setSession({access_token:u,refresh_token:d});if(y){console.error("Error setting session:",y),t("error"),n("Erreur lors de la validation de l'email");return}localStorage.setItem("supabase_auth_token",u),t("success"),n("Email validé"),setTimeout(()=>{alert("Email validé");const g=localStorage.getItem("answers_cache");s(g?"/app/results":"/app")},1e3)}else t("error"),n("Lien de confirmation invalide")}catch(o){console.error("Email confirmation error:",o),t("error"),n("Erreur lors de la validation de l'email")}})()},[i,s]),c.jsx("div",{className:"min-h-screen bg-white text-text-primary flex items-center justify-center px-4",children:c.jsxs("div",{className:"w-full max-w-md text-center",children:[e==="loading"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsxs("svg",{className:"w-8 h-8 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Validation en cours..."}),c.jsx("p",{className:"text-text-secondary",children:"Nous validons votre email, veuillez patienter."})]}),e==="success"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:r}),c.jsx("p",{className:"text-text-secondary",children:"Redirection vers votre tableau de bord..."})]}),e==="error"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Erreur"}),c.jsx("p",{className:"text-text-secondary mb-4",children:r}),c.jsx("button",{onClick:()=>s("/login"),className:"bg-black text-white px-6 py-2 rounded-lg",children:"Retour à la connexion"})]})]})})}const i8=new Set(["joris.geerdes@zelia.io","nicolas.wiegele@zelia.io"]);function a8(){const[e,t]=T.useState("student"),[r,n]=T.useState(null),[s,i]=T.useState(!0),[a,o]=T.useState(""),[u,d]=T.useState([]),[f,p]=T.useState(""),y=T.useRef(null),[g,N]=T.useState([]),[S,j]=T.useState(""),[x,w]=T.useState(!1),[b,A]=T.useState([]),[F,z]=T.useState(null);T.useEffect(()=>{let H=!0;return(async()=>{var E,R,G,U;try{i(!0);let le=null;const{data:{user:re},error:fe}=await Rr.auth.getUser();if(re&&!fe)le={id:re.id,email:re.email};else try{const ce=await bt.get("/users/me");le={id:ce.data.user.id,email:ce.data.user.email}}catch{throw new Error("Non authentifié")}if(!H)return;n(le);const{data:Y,error:te}=await Rr.from("global_chat").select("*").order("created_at",{ascending:!0}).limit(200);if(te)throw te;if(!H)return;d(Y||[]);try{let ce=[];try{const k=await bt.get(`/analysis/results/${le.id}`);ce=((R=(E=k==null?void 0:k.data)==null?void 0:E.results)==null?void 0:R.jobRecommendations)||[]}catch{try{const q=await bt.get("/analysis/my-results");ce=((U=(G=q==null?void 0:q.data)==null?void 0:G.results)==null?void 0:U.jobRecommendations)||[]}catch{}}A(ce),ce.length>0&&z(ce[0])}catch{}const $=Rr.channel("global_chat_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"global_chat"},ce=>{d(k=>[...k,ce.new])}).subscribe();return()=>{Rr.removeChannel($)}}catch(le){H&&o(le.message||"Erreur de chargement")}finally{H&&i(!1)}})(),()=>{H=!1}},[]),T.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[u,g]);const D=async()=>{const H=f.trim();if(!H||!r)return;p("");const E={id:Date.now(),user_id:r.id,user_email:r.email,content:H,created_at:new Date().toISOString()};d(G=>[...G,E]);const{error:R}=await Rr.from("global_chat").insert({user_id:r.id,user_email:r.email,content:H});R&&(o(R.message),d(G=>G.filter(U=>U!==E)),p(H))},M=H=>H&&i8.has(H.toLowerCase()),Q=async()=>{var R;const H=S.trim();if(!H)return;const E=[...g,{role:"user",content:H}];N(E),j(""),w(!0);try{const{data:{session:G}}=await Rr.auth.getSession(),U=(G==null?void 0:G.access_token)||localStorage.getItem("supabase_auth_token")||localStorage.getItem("token"),le=U?{Authorization:`Bearer ${U}`}:{},re=await bt.post("/chat/ai",{mode:F?"persona":"advisor",persona:F||void 0,message:H,history:E.slice(-10),jobTitles:(b||[]).map(Y=>Y==null?void 0:Y.title).filter(Boolean),advisorType:(F==null?void 0:F.title)||"conseiller-ia"},{headers:le}),fe=((R=re==null?void 0:re.data)==null?void 0:R.reply)||"Je n'ai pas pu générer de réponse.";N(Y=>[...Y,{role:"assistant",content:fe}])}catch(G){N(U=>{var le,re;return[...U,{role:"assistant",content:"Erreur IA: "+(((re=(le=G==null?void 0:G.response)==null?void 0:le.data)==null?void 0:re.error)||G.message)}]})}finally{w(!1)}};return s?c.jsx("div",{className:"flex items-center justify-center h-screen bg-white",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full border-4 border-gray-200 relative",children:[c.jsx("div",{className:"absolute inset-1 rounded-full border-4",style:{borderColor:"#c1ff72"}}),c.jsx("div",{className:"absolute right-0 bottom-0 h-3 w-3 rounded-full",style:{background:"#f68fff"}})]}),c.jsx("div",{className:"text-lg font-semibold text-gray-800",children:"Chargement du chat…"})]})}):a?c.jsx("div",{className:"p-6 text-red-600",children:a}):c.jsx("div",{className:"min-h-screen bg-white p-4 flex flex-col",children:c.jsxs("div",{className:"w-full space-y-6 flex flex-col",children:[c.jsx("div",{className:"bg-white rounded-3xl p-6 border border-gray-200 shadow-card",children:c.jsx("div",{className:"flex flex-col items-center gap-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${e==="student"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>t("student"),children:"Étudiant"}),c.jsx("span",{className:"text-gray-400",children:"/"}),c.jsx("button",{className:`px-4 py-2 rounded-full border text-sm ${e==="ai"?"bg-black text-white border-black":"bg-white border-gray-200"}`,onClick:()=>t("ai"),children:"IA"})]})})}),e==="student"?c.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[c.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Chat global"}),c.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-[#c1ff72] text-black border border-gray-200",children:"Tous les utilisateurs"})]}),c.jsx("div",{ref:y,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:u.map(H=>c.jsx("div",{className:`flex ${H.user_id===r.id?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${H.user_id===r.id?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[c.jsxs("div",{className:"text-xs mb-1 flex items-center gap-2",children:[M(H.user_email)?c.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-[#f68fff] text-white",children:"Admin"}):c.jsx("span",{className:"text-gray-600",children:H.user_email||"Utilisateur"}),c.jsxs("span",{className:"text-gray-400",children:["· ",new Date(H.created_at).toLocaleTimeString()]})]}),c.jsx("div",{className:"whitespace-pre-wrap break-words",children:H.content})]})},H.id))}),c.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:"Écrire un message…",value:f,onChange:H=>p(H.target.value),onKeyDown:H=>{H.key==="Enter"&&D()}}),c.jsx("button",{className:"px-4 py-2 rounded-lg bg-black text-white",onClick:D,children:"Envoyer"})]})})]}):c.jsxs("section",{className:"bg-white rounded-3xl border border-gray-200 shadow-card overflow-hidden flex flex-col",children:[c.jsxs("header",{className:"px-6 py-4 border-b border-gray-200 flex items-center gap-2 flex-wrap",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center",children:"Conseiller IA"}),b.length>0?c.jsxs("div",{className:"mt-3 w-full flex flex-wrap items-center justify-center gap-2",children:[c.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${F?"bg-white border-line":"bg-black text-white border-black"}`,onClick:()=>z(null),title:"Conseiller général",children:"Général"},"general"),b.map((H,E)=>{var R;return c.jsx("button",{className:`text-sm px-3 py-1.5 rounded-full border ${(F==null?void 0:F.title)===H.title?"bg-black text-white border-black":"bg-white border-line"}`,onClick:()=>z(H),title:(R=H.skills)==null?void 0:R.join(", "),children:H.title},E)})]}):c.jsx("p",{className:"text-sm text-text-secondary text-center mt-1",children:"Conseiller d'orientation"})]}),c.jsxs("div",{ref:y,className:"h-[50vh] overflow-y-auto p-4 space-y-3 bg-white",children:[g.map((H,E)=>c.jsx("div",{className:`flex ${H.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[75%] px-3 py-2 rounded-lg border ${H.role==="user"?"bg-black text-white border-black":"bg-white border-gray-200"}`,children:[c.jsx("div",{className:"text-xs mb-1 text-gray-600",children:H.role==="user"?"Vous":F?F.title:"Conseiller IA"}),c.jsx("div",{className:"whitespace-pre-wrap break-words",children:H.content})]})},E)),x&&c.jsx("div",{className:"text-sm text-gray-500",children:"L'IA rédige une réponse…"})]}),c.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{className:"flex-1 border border-gray-200 rounded-lg px-3 py-2 outline-none",placeholder:F?`Parler avec ${F.title}…`:"Poser une question d'orientation…",value:S,onChange:H=>j(H.target.value),onKeyDown:H=>{H.key==="Enter"&&Q()}}),c.jsx("button",{disabled:x,className:"px-4 py-2 rounded-lg bg-black text-white disabled:opacity-60",onClick:Q,children:"Envoyer"})]})})]})]})})}const ov=T.lazy(()=>Qe(()=>import("./Activites-CGVThdZb.js"),[])),o8=Object.assign({"./pages/niveau/Niveau10.jsx":()=>Qe(()=>import("./Niveau10-D8WZ7xoX.js"),[]),"./pages/niveau/Niveau11.jsx":()=>Qe(()=>import("./Niveau11-BzRIyQPf.js"),__vite__mapDeps([0,1])),"./pages/niveau/Niveau12.jsx":()=>Qe(()=>import("./Niveau12-BCj6LWAI.js"),__vite__mapDeps([2,1])),"./pages/niveau/Niveau13.jsx":()=>Qe(()=>import("./Niveau13-Cqg1nX-L.js"),__vite__mapDeps([3,1])),"./pages/niveau/Niveau14.jsx":()=>Qe(()=>import("./Niveau14-BxxcpknF.js"),__vite__mapDeps([4,1])),"./pages/niveau/Niveau15.jsx":()=>Qe(()=>import("./Niveau15-DV6bbBCV.js"),__vite__mapDeps([5,1])),"./pages/niveau/Niveau16.jsx":()=>Qe(()=>import("./Niveau16-BvlXFJBz.js"),__vite__mapDeps([6,1])),"./pages/niveau/Niveau17.jsx":()=>Qe(()=>import("./Niveau17-CD3paj1Z.js"),__vite__mapDeps([7,1])),"./pages/niveau/Niveau18.jsx":()=>Qe(()=>import("./Niveau18-B-l12oqR.js"),__vite__mapDeps([8,1])),"./pages/niveau/Niveau19.jsx":()=>Qe(()=>import("./Niveau19-Bv0WozNw.js"),__vite__mapDeps([9,1])),"./pages/niveau/Niveau20.jsx":()=>Qe(()=>import("./Niveau20-CExvccbD.js"),__vite__mapDeps([10,1])),"./pages/niveau/Niveau21.jsx":()=>Qe(()=>import("./Niveau21-tGgR3PKC.js"),__vite__mapDeps([11,1])),"./pages/niveau/Niveau22.jsx":()=>Qe(()=>import("./Niveau22-BLCAQowa.js"),__vite__mapDeps([12,1])),"./pages/niveau/Niveau23.jsx":()=>Qe(()=>import("./Niveau23-C7VJQd2q.js"),__vite__mapDeps([13,1])),"./pages/niveau/Niveau24.jsx":()=>Qe(()=>import("./Niveau24-dZeoa4Ro.js"),__vite__mapDeps([14,1])),"./pages/niveau/Niveau25.jsx":()=>Qe(()=>import("./Niveau25-CBKVInbY.js"),__vite__mapDeps([15,1])),"./pages/niveau/Niveau26.jsx":()=>Qe(()=>import("./Niveau26-C5WRTbU5.js"),__vite__mapDeps([16,1])),"./pages/niveau/Niveau27.jsx":()=>Qe(()=>import("./Niveau27-CKkHtQmj.js"),__vite__mapDeps([17,1])),"./pages/niveau/Niveau28.jsx":()=>Qe(()=>import("./Niveau28-DsESfJ8a.js"),__vite__mapDeps([18,1])),"./pages/niveau/Niveau29.jsx":()=>Qe(()=>import("./Niveau29-CiwQu7m7.js"),__vite__mapDeps([19,1])),"./pages/niveau/Niveau30.jsx":()=>Qe(()=>import("./Niveau30-BtvIIHbr.js"),__vite__mapDeps([20,1])),"./pages/niveau/Niveau31.jsx":()=>Qe(()=>import("./Niveau31-N5TODgs4.js"),__vite__mapDeps([21,1])),"./pages/niveau/Niveau32.jsx":()=>Qe(()=>import("./Niveau32-C_lMJkqq.js"),__vite__mapDeps([22,1])),"./pages/niveau/Niveau33.jsx":()=>Qe(()=>import("./Niveau33-Dasl11H3.js"),__vite__mapDeps([23,1])),"./pages/niveau/Niveau34.jsx":()=>Qe(()=>import("./Niveau34-D5J07NjC.js"),__vite__mapDeps([24,1])),"./pages/niveau/Niveau35.jsx":()=>Qe(()=>import("./Niveau35-UtTpJu4A.js"),__vite__mapDeps([25,1])),"./pages/niveau/Niveau36.jsx":()=>Qe(()=>import("./Niveau36-CjPNE9mA.js"),__vite__mapDeps([26,1])),"./pages/niveau/Niveau37.jsx":()=>Qe(()=>import("./Niveau37-Bug4cH5q.js"),__vite__mapDeps([27,1])),"./pages/niveau/Niveau38.jsx":()=>Qe(()=>import("./Niveau38-DEkUssR8.js"),__vite__mapDeps([28,1])),"./pages/niveau/Niveau39.jsx":()=>Qe(()=>import("./Niveau39-DsBP0SJa.js"),__vite__mapDeps([29,1])),"./pages/niveau/Niveau40.jsx":()=>Qe(()=>import("./Niveau40-Cb5ZO4_I.js"),__vite__mapDeps([30,1])),"./pages/niveau/Niveau41.jsx":()=>Qe(()=>import("./Niveau41-BAiUWimL.js"),__vite__mapDeps([31,1])),"./pages/niveau/Niveau42.jsx":()=>Qe(()=>import("./Niveau42-CNaxb1pK.js"),__vite__mapDeps([32,1])),"./pages/niveau/Niveau43.jsx":()=>Qe(()=>import("./Niveau43-COMEMZ9F.js"),__vite__mapDeps([33,1])),"./pages/niveau/Niveau44.jsx":()=>Qe(()=>import("./Niveau44-B9HLnFwX.js"),__vite__mapDeps([34,1])),"./pages/niveau/Niveau45.jsx":()=>Qe(()=>import("./Niveau45-n2hRe9aM.js"),__vite__mapDeps([35,1])),"./pages/niveau/Niveau46.jsx":()=>Qe(()=>import("./Niveau46-CRg3FEV8.js"),__vite__mapDeps([36,1])),"./pages/niveau/Niveau47.jsx":()=>Qe(()=>import("./Niveau47-sIFHtJzG.js"),__vite__mapDeps([37,1])),"./pages/niveau/Niveau48.jsx":()=>Qe(()=>import("./Niveau48-DzZwBUJG.js"),__vite__mapDeps([38,1])),"./pages/niveau/Niveau49.jsx":()=>Qe(()=>import("./Niveau49-C9iyqmhX.js"),__vite__mapDeps([39,1])),"./pages/niveau/Niveau50.jsx":()=>Qe(()=>import("./Niveau50-Do8pSW-A.js"),__vite__mapDeps([40,1])),"./pages/niveau/Niveau6.jsx":()=>Qe(()=>import("./Niveau6-87A6iJVU.js"),[]),"./pages/niveau/Niveau7.jsx":()=>Qe(()=>import("./Niveau7-DX2y8HCY.js"),[]),"./pages/niveau/Niveau8.jsx":()=>Qe(()=>import("./Niveau8-gQNT0Ufc.js"),[]),"./pages/niveau/Niveau9.jsx":()=>Qe(()=>import("./Niveau9-DXFVyQoJ.js"),[])}),Zx=Object.entries(o8).reduce((e,[t,r])=>{const n=t.match(/Niveau(\d+)\.jsx$/);if(!n)return e;const s=Number(n[1]);return Number.isNaN(s)||s<=5||(e[s]=T.lazy(()=>r())),e},{}),l8=Object.keys(Zx).map(e=>Number(e)).sort((e,t)=>e-t);function u8(){return c.jsx(g_,{children:c.jsxs(l_,{children:[c.jsx(Kt,{path:"/",element:c.jsx(xj,{})}),c.jsx(Kt,{path:"/login",element:c.jsx(hj,{})}),c.jsx(Kt,{path:"/register",element:c.jsx(fj,{})}),c.jsx(Kt,{path:"/email-confirmation",element:c.jsx(s8,{})}),c.jsx(Kt,{path:"/avatar",element:c.jsx(Nj,{})}),c.jsx(Kt,{path:"/questionnaire",element:c.jsx(gj,{})}),c.jsxs(Kt,{path:"/app",element:c.jsx(d8,{children:c.jsx($j,{})}),children:[c.jsx(Kt,{index:!0,element:c.jsx(T.Suspense,{fallback:c.jsx("div",{className:"p-6 text-center",children:"Chargement des activités…"}),children:c.jsx(ov,{})})}),c.jsx(Kt,{path:"profile",element:c.jsx(qj,{})}),c.jsx(Kt,{path:"results",element:c.jsx(kj,{})}),c.jsx(Kt,{path:"formations",element:c.jsx(Vj,{})}),c.jsx(Kt,{path:"emplois",element:c.jsx(Wj,{})}),c.jsx(Kt,{path:"activites",element:c.jsx(T.Suspense,{fallback:c.jsx("div",{className:"p-6 text-center",children:"Chargement des activités…"}),children:c.jsx(ov,{})})}),c.jsx(Kt,{path:"lettre",element:c.jsx(Hj,{})}),c.jsx(Kt,{path:"chat",element:c.jsx(a8,{})}),c.jsx(Kt,{path:"niveau/1",element:c.jsx(Jj,{})}),c.jsx(Kt,{path:"niveau/2",element:c.jsx(Qj,{})}),c.jsx(Kt,{path:"niveau/3",element:c.jsx(tk,{})}),c.jsx(Kt,{path:"niveau/4",element:c.jsx(e8,{})}),c.jsx(Kt,{path:"niveau/5",element:c.jsx(n8,{})}),l8.map(e=>{const t=Zx[e];return c.jsx(Kt,{path:`niveau/${e}`,element:c.jsx(T.Suspense,{fallback:c.jsx("div",{className:"p-6 text-center",children:"Chargement du niveau…"}),children:c.jsx(t,{})})},e)})]}),c.jsx(Kt,{path:"*",element:c.jsx(Cy,{to:"/"})})]})})}const c8=by(document.getElementById("root"));c8.render(c.jsx(u8,{}));function d8({children:e}){return localStorage.getItem("token")||localStorage.getItem("supabase_auth_token")?e:c.jsx(Cy,{to:"/login"})}export{V8 as A,et as E,Lx as P,Os as a,bt as b,h8 as c,$8 as d,G8 as e,ug as f,z8 as g,wu as h,H8 as i,c as j,Hn as k,rc as l,Ub as m,q8 as p,W8 as q,T as r,Rr as s,nn as u};
